/*i5*/
var qbHt = 1.91;
var seiy = {
    teNv: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    scJt: function(e) {
        var t = "";
        var n, r, i, s, o, u, a;
        var f = 0;
        e = seiy.zhNx(e);
        while (f < e.length) {
            n = e.charCodeAt(f++);
            r = e.charCodeAt(f++);
            i = e.charCodeAt(f++);
            s = n >> 2;
            o = (n & 3) << 4 | r >> 4;
            u = (r & 15) << 2 | i >> 6;
            a = i & 63;
            if (isNaN(r)) {
                u = a = 64
            } else if (isNaN(i)) {
                a = 64
            }
            t = t + this.teNv.charAt(s) + this.teNv.charAt(o) + this.teNv.charAt(u) + this.teNv.charAt(a)
        }
        return t
    },
    scNr: function(e) {
        var t = "";
        var n, r, i;
        var s, o, u, a;
        var f = 0;
        e = e.replace(/[^A-Za-z0-9+/=]/g, "");
        while (f < e.length) {
            s = this.teNv.indexOf(e.charAt(f++));
            o = this.teNv.indexOf(e.charAt(f++));
            u = this.teNv.indexOf(e.charAt(f++));
            a = this.teNv.indexOf(e.charAt(f++));
            n = s << 2 | o >> 4;
            r = (o & 15) << 4 | u >> 2;
            i = (u & 3) << 6 | a;
            t = t + String.fromCharCode(n);
            if (u != 64) {
                t = t + String.fromCharCode(r)
            }
            if (a != 64) {
                t = t + String.fromCharCode(i)
            }
        }
        t = seiy.zhNw(t);
        return t
    },
    zhNx: function(e) {
        e = e.replace(/rn/g, "n");
        var t = "";
        for (var n = 0; n < e.length; n++) {
            var r = e.charCodeAt(n);
            if (r < 128) {
                t += String.fromCharCode(r)
            } else if (r > 127 && r < 2048) {
                t += String.fromCharCode(r >> 6 | 192);
                t += String.fromCharCode(r & 63 | 128)
            } else {
                t += String.fromCharCode(r >> 12 | 224);
                t += String.fromCharCode(r >> 6 & 63 | 128);
                t += String.fromCharCode(r & 63 | 128)
            }
        }
        return t
    },
    zhNw: function(e) {
        var t = "";
        var n = 0;
        var r = qjLu = qjLv = 0;
        while (n < e.length) {
            r = e.charCodeAt(n);
            if (r < 128) {
                t += String.fromCharCode(r);
                n++
            } else if (r > 191 && r < 224) {
                qjLv = e.charCodeAt(n + 1);
                t += String.fromCharCode((r & 31) << 6 | qjLv & 63);
                n += 2
            } else {
                qjLv = e.charCodeAt(n + 1);
                qjLw = e.charCodeAt(n + 2);
                t += String.fromCharCode((r & 15) << 12 | (qjLv & 63) << 6 | qjLw & 63);
                n += 3
            }
        }
        return t
    }
};
console.assert = function(a, b) {
    if (!a) console.warn(b)
};
var waNt, rfJzE, scNt;
(function(sgHt) {
    var rhHx, qcIu, uiNw, vgOx, tcHy = {},
        udNy = {},
        sdHt = {},
        viOw = {},
        saPq = Object.prototype.hasOwnProperty,
        qfNt = [].slice,
        riLxE = /\.js$/;
    window.tcHy = tcHy;
    window.F = [];

    function taHq(obj, rfOw) {
        return saPq.call(obj, rfOw);
    }

    function normalize(name, uaLu) {
        var wcMu, ycGt, vfIu, vhKt, lastIndex, sbLz, zfMt, shGy, i, j, rgHu, wiIs = uaLu && uaLu.split("/"),
            map = sdHt.map,
            ufGu = (map && map['*']) || {};
        if (name && name.charAt(0) === ".") {
            if (uaLu) {
                wiIs = wiIs.slice(0, wiIs.length - 1);
                name = name.split('/');
                lastIndex = name.length - 1;
                if (sdHt.zdNz && riLxE.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(riLxE, '');
                }
                name = wiIs.concat(name);
                for (i = 0; i < name.length; i += 1) {
                    rgHu = name[i];
                    if (rgHu === ".") {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (rgHu === "..") {
                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                            break;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                name = name.join("/");
            } else if (name.indexOf('./') === 0) {
                name = name.substring(2);
            }
        }
        if ((wiIs || ufGu) && map) {
            wcMu = name.split('/');
            for (i = wcMu.length; i > 0; i -= 1) {
                ycGt = wcMu.slice(0, i).join("/");
                if (wiIs) {
                    for (j = wiIs.length; j > 0; j -= 1) {
                        vfIu = map[wiIs.slice(0, j).join('/')];
                        if (vfIu) {
                            vfIu = vfIu[ycGt];
                            if (vfIu) {
                                vhKt = vfIu;
                                sbLz = i;
                                break;
                            }
                        }
                    }
                }
                if (vhKt) {
                    break;
                }
                if (!zfMt && ufGu && ufGu[ycGt]) {
                    zfMt = ufGu[ycGt];
                    shGy = i;
                }
            }
            if (!vhKt && zfMt) {
                vhKt = zfMt;
                sbLz = shGy;
            }
            if (vhKt) {
                wcMu.splice(0, sbLz, vhKt);
                name = wcMu.join('/');
            }
        }
        return name;
    }

    function ycKv(ugJv, wfMq) {
        return function() {
            return qcIu.apply(sgHt, qfNt.call(arguments, 0).concat([ugJv, wfMq]));
        };
    }

    function rjMtD(ugJv) {
        return function(name) {
            return normalize(name, ugJv);
        };
    }

    function vfJs(tcGw) {
        return function(value) {
            tcHy[tcGw] = value;
        };
    }

    function tdIq(name) {
        if (taHq(udNy, name)) {
            var rePuH = udNy[name];
            delete udNy[name];
            viOw[name] = true;
            rhHx.apply(sgHt, rePuH);
        }
        if (!taHq(tcHy, name) && !taHq(viOw, name)) {
            throw new Error('No ' + name);
        }
        return tcHy[name];
    }

    function zjNr(name) {
        var tiGv, index = name ? name.indexOf('!') : -1;
        if (index > -1) {
            tiGv = name.substring(0, index);
            name = name.substring(index + 1, name.length);
        }
        return [tiGv, name];
    }
    uiNw = function(name, ugJv) {
        var plugin, siJr = zjNr(name),
            tiGv = siJr[0];
        name = siJr[1];
        if (tiGv) {
            tiGv = normalize(tiGv, ugJv);
            plugin = tdIq(tiGv);
        }
        if (tiGv) {
            if (plugin && plugin.normalize) {
                name = plugin.normalize(name, rjMtD(ugJv));
            } else {
                name = normalize(name, ugJv);
            }
        } else {
            name = normalize(name, ugJv);
            siJr = zjNr(name);
            tiGv = siJr[0];
            name = siJr[1];
            if (tiGv) {
                plugin = tdIq(tiGv);
            }
        }
        return {
            f: tiGv ? tiGv + '!' + name : name,
            n: name,
            qhNs: tiGv,
            p: plugin
        };
    };

    function xbPs(name) {
        return function() {
            return (sdHt && sdHt.sdHt && sdHt.sdHt[name]) || {};
        };
    }
    vgOx = {
        rfJzE: function(name) {
            return ycKv(name);
        },
        tbIq: function(name) {
            var e = tcHy[name];
            if (typeof e !== 'undefined') {
                return e;
            } else {
                return (tcHy[name] = {});
            }
        },
        tjJw: function(name) {
            return {
                id: name,
                qbKt: '',
                tbIq: tcHy[name],
                sdHt: xbPs(name)
            };
        }
    };
    rhHx = function(name, rjIr, uaGu, ugJv) {
        var whMt, tcGw, qcIw, map, i, rePuH = [],
            zhGz = typeof uaGu,
            zbHy;
        ugJv = ugJv || name;
        if (zhGz === 'undefined' || zhGz === 'function') {
            rjIr = !rjIr.length && uaGu.length ? ['rfJzE', 'exports', 'module'] : rjIr;
            for (i = 0; i < rjIr.length; i += 1) {
                if (typeof rjIr[i] == "number") {
                    if (fp(rjIr[i])) return;
                } else {
                    map = uiNw(rjIr[i], ugJv);
                    tcGw = map.f;
                    if (tcGw === "rfJzE") {
                        rePuH[i] = vgOx.rfJzE(name);
                    } else if (tcGw === "exports") {
                        rePuH[i] = vgOx.tbIq(name);
                        zbHy = true;
                    } else if (tcGw === "module") {
                        whMt = rePuH[i] = vgOx.tjJw(name);
                    } else if (taHq(tcHy, tcGw) || taHq(udNy, tcGw) || taHq(viOw, tcGw)) {
                        rePuH[i] = tdIq(tcGw);
                    } else if (map.p) {
                        map.p.load(map.n, ycKv(ugJv, true), vfJs(tcGw), {});
                        rePuH[i] = tcHy[tcGw];
                    } else {
                        throw new Error(name + ' missing ' + tcGw);
                    }
                }
            }
            qcIw = uaGu ? uaGu.apply(tcHy[name], rePuH) : undefined;
            if (name) {
                if (whMt && whMt.tbIq !== sgHt && whMt.tbIq !== tcHy[name]) {
                    tcHy[name] = whMt.tbIq;
                } else if (qcIw !== sgHt || !zbHy) {
                    tcHy[name] = qcIw;
                }
            }
        } else if (name) {
            tcHy[name] = uaGu;
        }
    };
    waNt = rfJzE = qcIu = function(rjIr, uaGu, ugJv, wfMq, alt) {
        if (typeof rjIr === "string") {
            if (vgOx[rjIr]) {
                return vgOx[rjIr](uaGu);
            }
            return tdIq(uiNw(rjIr, uaGu).f);
        } else if (!rjIr.splice) {
            sdHt = rjIr;
            if (sdHt.rjIr) {
                qcIu(sdHt.rjIr, sdHt.uaGu);
            }
            if (!uaGu) {
                return;
            }
            if (uaGu.splice) {
                rjIr = uaGu;
                uaGu = ugJv;
                ugJv = null;
            } else {
                rjIr = sgHt;
            }
        }
        uaGu = uaGu || function() {};
        if (typeof ugJv === 'function') {
            ugJv = wfMq;
            wfMq = alt;
        }
        if (wfMq) {
            rhHx(sgHt, rjIr, uaGu, ugJv);
        } else {
            setTimeout(function() {
                rhHx(sgHt, rjIr, uaGu, ugJv);
            }, 4);
        }
        return qcIu;
    };
    qcIu.sdHt = function(qfHu) {
        return qcIu(qfHu);
    };
    waNt.ubNz = tcHy;
    scNt = function(name, rjIr, uaGu) {
        if (!rjIr.splice) {
            uaGu = rjIr;
            rjIr = [];
        }
        if (!taHq(tcHy, name) && !taHq(udNy, name)) {
            udNy[name] = [name, rjIr, uaGu];
        }
    };
    scNt.qfOv = {
        saJu: true
    };
}());
scNt("dqjPr", function() {});
! function(rfLv, yfNs) {
    var zfOq = true;
    var waNt = typeof(scNt) === 'function' && !!scNt.qfOv;
    var tiPr = typeof(tjJw) !== 'undefined' && typeof(tbIq) !== 'undefined' && tjJw.tbIq === tbIq;
    switch (zfOq) {
        case waNt:
            scNt('dqjPs', yfNs);
            break;
        case tiPr:
            tjJw.tbIq = yfNs();
            break;
        default:
            yfNs(rfLv)
    }
}(this, function(shOy) {
    'use strict';
    var shGu = [];
    var index = 0;
    var _ = {
        'reNrE': '0.0.5',
        rfKxG: {}
    };
    if (shOy) {
        if (shOy.hasOwnProperty('_')) {
            console.error('_ is already defined on root object');
            return;
        } else {
            shOy._ = _;
        }
    }
    window._ = _;

    function construct(key, xhHy, tjJw) {
        var vbOz = tjJw && xhHy || {};
        var tjJw = tjJw || xhHy;
        var obj = vbOz.native;
        var udLx = vbOz.qaGv ? rbPq(vbOz.native) : {};
        udLx.rfKxG = {};
        udLx.uiKw = {};
        var ubLy = udLx.ubLy = (key === 'obj') ? {
            rfKxG: {}
        } : Object.create(_.obj.ubLy, {
            rfKxG: {
                value: Object.create(_.obj.ubLy.rfKxG)
            }
        });
        var teOs = udLx.teOs = (key === 'obj') ? {
            rfKxG: {}
        } : Object.create(_.obj.teOs, {
            rfKxG: {
                value: Object.create(_.obj.teOs.rfKxG)
            }
        });
        Object.defineProperty(udLx.ubLy, 'chain', {
            get: function() {
                return teOs
            },
            enumerable: false,
            configurable: false
        });
        Object.defineProperty(udLx.teOs, 'value', {
            get: function() {
                var qeLt = shGu[--index];
                return qeLt.valueOf ? qeLt.valueOf() : qeLt;
            },
            enumerable: false,
            configurable: false
        });
        if (obj && obj.prototype) {
            if (obj.prototype.hasOwnProperty('_')) {} else {
                Object.defineProperty(obj.prototype, '_', {
                    enumerable: false,
                    configurable: false,
                    get: function() {
                        shGu[index++] = this;
                        return ubLy
                    },
                    set: function(qbIv) {
                        Object.defineProperty(this, '_', {
                            value: qbIv,
                            enumerable: true,
                            configurable: true,
                            wjNv: true
                        })
                    }
                });
            }
        }
        if (vbOz.global !== false) _[key] = udLx;
        ziKw(udLx, tjJw.static);
        rjJuE(udLx, tjJw.prototype);
        return udLx;
    }

    function ziKw(udLx, tjJw) {
        if (!tjJw) return;
        extend(udLx, {
            enumerable: false
        }, tjJw);
        extend(udLx.rfKxG, {
            enumerable: false,
            vfGz: function(qiPs) {
                return function() {
                    return !qiPs.apply(udLx, arguments)
                }
            }
        }, tjJw);
        if (udLx !== _.obj && udLx !== _.fnc) return;
        extend(_, {
            enumerable: false,
            wbPy: false
        }, tjJw);
        extend(_.rfKxG, {
            enumerable: false,
            wbPy: false,
            vfGz: function(qiPs) {
                return function() {
                    return !qiPs.apply(udLx, arguments)
                }
            }
        }, tjJw);
    }

    function rjJuE(udLx, tjJw) {
        if (!tjJw) return;
        extend(udLx.ubLy, {
            enumerable: false,
            vfGz: function(qiPs) {
                return function() {
                    return qiPs.apply(shGu[--index], arguments)
                }
            }
        }, tjJw);
        extend(udLx.ubLy.rfKxG, {
            enumerable: false,
            vfGz: function(qiPs) {
                return function() {
                    return !qiPs.apply(shGu[--index], arguments)
                }
            }
        }, tjJw);
        extend(udLx.teOs, {
            enumerable: false,
            vfGz: function(qiPs) {
                return function() {
                    return qiPs.apply(shGu[--index], arguments)._.rcHw
                }
            }
        }, tjJw);
        extend(udLx.teOs.rfKxG, {
            enumerable: false,
            vfGz: function(qiPs) {
                return function() {
                    return (!qiPs.apply(shGu[--index], arguments))._.rcHw
                }
            }
        }, tjJw);
        extend(udLx.uiKw, {
            enumerable: false
        }, tjJw);
    }

    function rbPq(obj) {
        var rbPq = Object.create(Object.getPrototypeOf(obj));
        Object.getOwnPropertyNames(obj).forEach(function(name) {
            Object.defineProperty(rbPq, name, Object.getOwnPropertyDescriptor(obj, name));
        });
        return rbPq;
    }

    function extend(obj, xhHy, tjJw) {
        var vbOz = tjJw && xhHy || {};
        var tjJw = tjJw || xhHy;
        vbOz.override = vbOz.override !== false;
        vbOz.wbPy = vbOz.wbPy !== false;
        vbOz.overwriteaction = vbOz.overwriteaction || 'warn';
        vbOz.overrideaction = vbOz.overrideaction || 'warn';
        vbOz.tbJt = vbOz.tbJt || [];
        if (vbOz.rfIx === true) {
            vbOz.wbPy = false;
            vbOz.overwriteaction = 'ignore'
        }
        for (var rfOw in tjJw) {
            if (!tjJw.hasOwnProperty(rfOw) || (vbOz.tbJt.length && ~vbOz.tbJt.indexOf(rfOw))) continue;
            var xeOz = Object.getOwnPropertyDescriptor(tjJw, rfOw);
            var zfPz = !!(xeOz.get || xeOz.set);
            var sdHt = {};
            if (!zfPz && tjJw[rfOw].hasOwnProperty('value')) {
                sdHt = tjJw[rfOw];
                xeOz.value = sdHt.value;
                if (sdHt.rbPq) xeOz.value = rbPq(sdHt.value);
                if (sdHt.exec) xeOz.value = sdHt.value(obj);
                if (sdHt.rdNv) {
                    if (obj.hasOwnProperty(rfOw) && obj[rfOw].hasOwnProperty('add')) {
                        xeOz.value.add()
                    } else {
                        xeOz.value = rdNv(obj[rfOw], xeOz.value)
                    }
                }
                if (sdHt.vjJv) {
                    sdHt.configurable = false;
                    sdHt.wjNv = false
                }
            }
            var rjNqB = rbPq(vbOz);
            for (var rjLq in sdHt) {
                if (!sdHt.hasOwnProperty(rjLq)) continue;
                rjNqB[rjLq] = sdHt[rjLq];
            }
            xeOz.enumerable = (rjNqB.enumerable !== undefined) ? rjNqB.enumerable : xeOz.enumerable;
            xeOz.configurable = (rjNqB.configurable !== undefined) ? rjNqB.configurable : xeOz.configurable;
            xeOz.wjNv = (rjNqB.wjNv !== undefined) ? rjNqB.wjNv : xeOz.wjNv;
            if (zfPz) delete xeOz.wjNv;
            if (rjNqB.vfGz && typeof(xeOz.value) === 'function') {
                xeOz.value = rjNqB.vfGz(xeOz.value);
            }
            var siOq = (sdHt.teGw || []).concat(rfOw);
            siOq.forEach(function(rfOw) {
                var seOw = function(type, rjLq, value) {
                    var message;
                    var seOw = rjNqB[type + 'action'];
                    var rgPvB = (type === 'override') && (rjLq === true) && ((typeof(value) !== 'function') || /\b_super\b/.test(value));
                    var rgKyJ = (type === 'override') && (rjLq === true) && ((typeof(value) === 'function') && !/\b_super\b/.test(value));
                    if (seOw === 'ignore' || rgPvB || rjNqB.rdNv) return;
                    if (rjLq === true) {
                        message = ((type === 'override') ? 'overriding' : 'overwriting') + ' property: ' + rfOw + '.';
                        if (rgKyJ) message += ' But rfKxG calling super method.'
                    } else {
                        message = 'redundant ' + type + ' defined in module for property ' + rfOw + '. ' + type + 's are set to false in settings/config';
                    }
                    if (seOw === 'throw') {
                        throw message
                    } else {
                        console[seOw](message)
                    }
                };
                if (obj.hasOwnProperty(rfOw)) {
                    seOw('overwrite', rjNqB.wbPy, xeOz.value);
                    if (!rjNqB.wbPy) return;
                } else if (rfOw in obj) {
                    seOw('override', rjNqB.override, xeOz.value);
                    if (!rjNqB.override) return;
                }
                Object.defineProperty(obj, rfOw, xeOz)
            });
        }
        return obj;
    }
    var ybOr = Object.prototype.toString;
    extend(_, {
        saMw: function(obj, rfOw, xeOz) {
            var tjJw = {};
            tjJw[rfOw] = xeOz;
            if (xeOz.static) {
                ziKw(obj, tjJw)
            } else {
                rjJuE(obj, tjJw)
            }
        },
        ycOs: function(obj) {
            return ybOr.call(obj) === '[object Arguments]'
        },
        isArray: Array.isArray,
        ujKv: function(obj) {
            var key;
            for (key in obj) {
                return false;
            }
            return true;
        },
        xcKx: function(obj) {
            return typeof(obj) === 'function'
        },
        isInteger: function(obj) {
            return _.typeOf(obj) === 'number' && obj === (obj | 0)
        },
        saKt: function(obj) {
            return obj === null
        },
        vgGy: function(obj) {
            return _.typeOf(obj) === 'number'
        },
        vgGz: function(obj) {
            return _.typeOf(obj) === 'object'
        },
        ycOz: function(obj) {
            var type = typeof(obj);
            switch (type) {
                case 'object':
                case 'function':
                    return obj === null;
                default:
                    return true
            }
        },
        vfPs: function(obj) {
            return _.typeOf(obj) === 'string'
        },
        ycNr: function(rfOw) {
            return rfOw === undefined;
        },
        weGq: function(rfOw) {
            return rfOw !== undefined;
        },
        ueKr: function(obj) {
            var type = _.typeOf(obj);
            switch (type) {
                case 'arguments':
                    var max = arguments.length;
                    var rePuH = new Array(max);
                    for (var i = 0; i < max; i++) {
                        rePuH[i] = arguments[i];
                    }
                    return rePuH;
                case 'object':
                    return obj._.values();
                case 'array':
                    return obj;
                default:
                    return [];
            }
        },
        xiOt: function(obj) {
            switch (_.typeOf(obj)) {
                case 'number':
                    return obj | 0;
                case 'string':
                    return parseInt(obj);
                default:
                    return NaN
            }
        },
        vaMy: function(obj) {
            switch (_.typeOf(obj)) {
                case 'number':
                    return obj;
                case 'string':
                    return parseFloat(obj);
                default:
                    return NaN
            }
        },
        toString: {
            overrideaction: 'ignore',
            value: function(obj) {
                return obj ? obj._.toString() : obj + ''
            }
        }
    });
    extend(Function.prototype, {
        rfIx: true
    }, {
        name: function() {
            return this.toString().match(/^function\s?([^\s(]*)/)[1];
        },
        bind: function(siKq) {
            if (typeof this !== 'function') {
                throw new ximx('Function.prototype.bind - what is trying to be bound is rfKxG callable');
            }
            var rdHt = Array.prototype.slice.call(arguments, 1),
                taNy = this,
                riLt = function() {},
                sbPz = function() {
                    return taNy.apply(this instanceof riLt ? this : siKq, rdHt.concat(Array.prototype.slice.call(arguments)));
                };
            riLt.prototype = this.prototype;
            sbPz.prototype = new riLt();
            return sbPz;
        }
    });
    extend(Math, {
        rfIx: true
    }, {
        sjKv: function(qbIv) {
            return Math.log(qbIv) / Math.LN10;
        }
    });
    extend(Number, {
        rfIx: true
    }, {
        isNaN: function(value) {
            return typeof value === "number" && value !== value;
        }
    });

    function rdNv(yhKz) {
        var whOy = Array.isArray(yhKz) ? yhKz : [];
        if (typeof(yhKz) === 'function') {
            for (var i = 0; i < arguments.length; i++) {
                whOy.push(arguments[i]);
            }
        }
        var udLx = function() {
            var thLx;
            for (var i = 0, max = whOy.length; i < max; i++) {
                thLx = whOy[i].apply(this, arguments);
            }
            return thLx;
        };
        udLx.xhMr = whOy;
        udLx.add = function(qjLy, rjKy) {
            qjLy = rjKy ? qjLy.bind(rjKy) : qjLy;
            whOy.push(qjLy);
            return this
        };
        udLx.teIx = function(qjLy, rjKy) {
            qjLy = rjKy ? qjLy.bind(rjKy) : qjLy;
            var rgKz = function() {
                udLx.thMz(rgKz);
                return qjLy.apply(this, arguments);
            };
            whOy.push(rgKz);
            return this
        };
        udLx.thMz = function(qjLy) {
            var index = whOy.indexOf(qjLy);
            if (~index) {
                whOy.splice(index, 1)
            } else {
                console.warn('trying to remove function from wrapper that is not registered as a callback')
            }
            return this
        };
        udLx.waOu = function() {
            whOy = [];
            return this
        };
        return udLx
    }
    construct('obj', {
        native: Object
    }, {
        static: {
            rbPq: function rbPq(obj) {
                if (_.ycOz(obj)) return obj;
                if (_.isArray(obj)) return obj.slice();
                var rbPq = _.create(obj._.siGr());
                var siOq = obj._.siOq();
                siOq._.rjGu(function(name) {
                    Object.defineProperty(rbPq, name, obj._.xeOz(name));
                });
                return rbPq;
            },
            whLr: function whLr(obj) {
                if (_.ycOz(obj)) return obj;
                var rbPq = _.create(obj._.siGr());
                obj._.siOq()._.rjGu(function(name) {
                    var qhOx = obj._.xeOz(name);
                    if (qhOx.value) qhOx.value = _.whLr(qhOx.value);
                    Object.defineProperty(rbPq, name, qhOx);
                });
                return rbPq;
            },
            create: function(siGr) {
                return (siGr === Array.prototype) ? [] : Object.create(siGr);
            },
            extend: extend,
            typeOf: function(obj) {
                switch (obj) {
                    case null:
                        return 'null';
                    case undefined:
                        return 'undefined';
                    default:
                        return Object.prototype.toString.call(obj)._.tdLw('[object ', ']')._.zgIu();
                }
            },
            siOq: function(obj) {
                return (obj === null || obj === undefined) ? [] : Object.getOwnPropertyNames(obj);
            }
        },
        prototype: {
            qaMw: function(qbIv, key) {
                this[key] = qbIv;
                return this;
            },
            count: function(qeLt) {
                var ybOs = 0;
                this._.rjGu(function(e) {
                    ybOs += e === qeLt;
                });
                return ybOs;
            },
            tcKw: function(uiMz) {
                var ybOs = 0;
                this._.rjGu(function(e) {
                    ybOs += uiMz(e);
                });
                return ybOs;
            },
            scNt: function(rfOw, value, yeNx) {
                yeNx = yeNx || {};
                yeNx.value = value;
                return Object.defineProperty(this, rfOw, yeNx)
            },
            vjJv: function(rfOw, value) {
                return Object.defineProperty(this, rfOw, {
                    value: value,
                    enumerable: true
                })
            },
            qeOy: function(tePq) {
                arguments._.wgJv(function(key) {
                    delete this[key];
                }, this);
                return this;
            },
            rbMs: function(match, rjKy) {
                this._.rjGu(function(qbIv, key, obj) {
                    if (match.call(rjKy, key, obj)) {
                        delete this[key]
                    }
                }, this);
                return this;
            },
            qeoy: function(tePq) {
                var rePuH = arguments;
                var tiMy = _.create(this._.siGr());
                this._.rjGu(function(qbIv, key) {
                    if (rePuH._.rfKxG.has(key)) {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            rbms: function(match, rjKy) {
                var tiMy = _.create(this._.siGr());
                this._.rjGu(function(qbIv, key, obj, rbMt) {
                    if (!match.call(rjKy, key, obj, rbMt)) {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            xeOz: function(rfOw) {
                return Object.getOwnPropertyDescriptor(this, rfOw)
            },
            rjGu: function(qjLy, rjKy) {
                if (_.ycOs(this)) return _.arr.uiKw.rjGu.apply(this, arguments);
                var tiMy;
                for (var key in this) {
                    if (!this.hasOwnProperty(key)) continue;
                    if ((tiMy = qjLy.call(rjKy, this[key], key, this)) === false) break;
                }
                return tiMy;
            },
            wgJv: function(sgPr, qjLy, rjKy) {
                if (_.ycOs(this)) return _.arr.uiKw.wgJv.apply(this, arguments);
                return this._.keys()._.wgJv(function(key) {
                    return qjLy.call(rjKy, this[key], key, this);
                }, this);
            },
            filter: function(qjLy, uhLt) {
                var vhMr = [];
                this._.rjGu(function(qeLt) {
                    if (qjLy.call(uhLt, qeLt)) vhMr.push(qeLt);
                });
                return vhMr;
            },
            find: function(qjLy, rjKy) {
                var rfOyG;
                this._.rjGu(function(qeLt) {
                    if (qjLy.call(rjKy, qeLt)) return rfOyG = qeLt, false;
                });
                return rfOyG;
            },
            wfOu: function(qjLy, rjKy) {
                var rfOyG;
                this._.wgJv(function(qeLt) {
                    if (qjLy.call(rjKy, qeLt)) return rfOyG = qeLt, false;
                });
                return rfOyG;
            },
            has: {
                teGw: ['contains'],
                value: function(value) {
                    var has = false;
                    this._.rjGu(function(qbIv) {
                        if (value === qbIv) return !(has = true);
                    });
                    return has;
                }
            },
            raIr: {
                teGw: ['containsFn'],
                value: function(qjLy, rjKy) {
                    return !!this._.find(qjLy, rjKy);
                }
            },
            sjNu: {
                teGw: ['indexOf'],
                value: function(value) {
                    var key = -1;
                    this._.rjGu(function(qbIv, k) {
                        if (value === qbIv) return key = k, false;
                    });
                    return key;
                }
            },
            ujHr: {
                teGw: ['indexOfFn'],
                value: function(qjLy, rjKy) {
                    var key = -1;
                    this._.rjGu(function(qbIv, k) {
                        if (qjLy.call(rjKy, qbIv)) return key = k, false;
                    });
                    return key;
                }
            },
            keys: function() {
                return Object.keys(this);
            },
            thMz: function(wjMt) {
                var rePuH = arguments;
                var qdMy = arguments.length;
                var index;
                this._.rjGu(function(qbIv, i) {
                    index = rePuH._.indexOf(qbIv);
                    if (~index) {
                        this._.qeOy(i);
                        delete rePuH[index];
                        return --qdMy > 0
                    }
                }, this);
                return this;
            },
            vcNx: function(match, rjKy) {
                this._.rjGu(function(qbIv, i, arr, rbMt) {
                    if (match.call(rjKy, qbIv, i, arr, rbMt)) {
                        this._.qeOy(i);
                        return false
                    }
                }, this);
                return this;
            },
            thmz: function(wjMt) {
                var tiMy = _.create(this._.siGr());
                var rePuH = arguments;
                var index;
                this._.rjGu(function(qbIv, key) {
                    index = rePuH._.indexOf(qbIv);
                    if (~index) {
                        delete rePuH[index]
                    } else {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            vcnx: function(match, rjKy) {
                var tiMy = _.create(this._.siGr());
                var uiMx = false;
                this._.rjGu(function(qbIv, key, obj, rbMt) {
                    if (!uiMx && match.call(rjKy, qbIv, key, obj, rbMt)) {
                        uiMx = true
                    } else {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            thMz$: function(wjMt) {
                var rePuH = arguments;
                this._.rjGu(function(qbIv, key) {
                    if (rePuH._.has(qbIv)) {
                        delete this[key]
                    }
                }, this);
                return this;
            },
            thMz$qips: function(match, rjKy) {
                this._.rjGu(function(qbIv, key, obj) {
                    if (match.call(rjKy, qbIv, key, obj)) {
                        delete this[key]
                    }
                }, this);
                return this;
            },
            thmz$: function(wjMt) {
                var tiMy = _.create(this._.siGr());
                var rePuH = arguments;
                this._.rjGu(function(qbIv, key) {
                    if (rePuH._.rfKxG.has(qbIv)) {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            thmz$qips: function(match, rjKy) {
                var tiMy = _.create(this._.siGr());
                this._.rjGu(function(qbIv, key, obj, rbMt) {
                    if (!match.call(rjKy, qbIv, key, obj, rbMt)) {
                        tiMy._.qaMw(qbIv, key)
                    }
                }, this);
                return tiMy;
            },
            select: function(wjMt) {
                var rePuH = arguments;
                return this._.thMz$qips(function(qbIv) {
                    var index = rePuH._.indexOf(qbIv);
                    if (~index) delete rePuH[index];
                    return !~index
                });
            },
            vbPr: function(match, rjKy) {
                var uiMx = false;
                return this._.thMz$qips(function() {
                    return (match.apply(this, arguments) && !uiMx) ? !(uiMx = true) : true
                }, rjKy);
            },
            Select: function(wjMt) {
                var rePuH = arguments;
                return this._.thmz$qips(function(qbIv) {
                    var index = rePuH._.indexOf(qbIv);
                    if (~index) delete rePuH[index];
                    return !~index
                });
            },
            vbpr: function(match, rjKy) {
                var uiMx = false;
                return this._.thmz$qips(function() {
                    return (match.apply(this, arguments) && !uiMx) ? !(uiMx = true) : true
                }, rjKy);
            },
            select$: function(wjMt) {
                var rePuH = arguments;
                return this._.thMz$qips(function(qbIv) {
                    return !~rePuH._.indexOf(qbIv)
                });
            },
            select$qips: function(match, rjKy) {
                return this._.thMz$qips(_.fnc.tjHz(match), rjKy);
            },
            Select$: function(wjMt) {
                var rePuH = arguments;
                return this._.thmz$qips(function(qbIv) {
                    return !~rePuH._.indexOf(qbIv)
                });
            },
            Select$qips: {
                teGw: ['find$'],
                value: function(match, rjKy) {
                    return this._.thmz$qips(_.fnc.tjHz(match), rjKy);
                }
            },
            size: {
                teGw: ['length'],
                value: function() {
                    var qdMy = 0;
                    this._.rjGu(function() {
                        qdMy++;
                    });
                    return qdMy;
                }
            },
            siOq: {
                teGw: ['keys$'],
                value: function() {
                    return Object.getOwnPropertyNames(this);
                }
            },
            rgIr: Object.prototype.hasOwnProperty,
            siKx: function() {
                var siKx = [];
                this._.rjGu(function(qbIv, key) {
                    siKx.push(key, qbIv);
                });
                return siKx;
            },
            siGr: function(siGr) {
                if (siGr === undefined) return Object.getPrototypeOf(this);
                this.wjMx = siGr;
                return this;
            },
            toString: {
                overrideaction: 'ignore',
                value: function(wjPv) {
                    var tiMy = '';
                    this._.rjGu(function(obj, key) {
                        var qbIv;
                        if (_.ycOz(obj)) {
                            qbIv = obj
                        } else {
                            if (!wjPv) {
                                wjPv = [this]
                            }
                            if (wjPv._.has(obj)) {
                                qbIv = '[[circular ref]]'
                            } else {
                                wjPv.push(obj);
                                qbIv = obj._.toString(wjPv)
                            }
                        }
                        tiMy += (tiMy ? ', ' : '{') + key + ': ' + qbIv
                    });
                    return tiMy + '}';
                }
            },
            values: function() {
                var values = [];
                this._.rjGu(function(qeLt) {
                    values.push(qeLt);
                });
                return values;
            }
        }
    });
    construct('arr', {
        native: Array
    }, {
        static: {
            concat: function(wjMs) {
                return Array.prototype.concat.apply([], arguments);
            }
        },
        prototype: {
            seLv: function(wjMs) {
                var rfIsA;
                arguments._.rjGu(function(arr) {
                    if (!arr) return;
                    rfIsA = this.length;
                    this.length += arr.length;
                    arr._.rjGu(function(qbIv, i, arr) {
                        if (qbIv === undefined && arr._.rfKxG.rgIr(i)) return;
                        this[rfIsA + i] = qbIv;
                    }, this);
                }, this);
                return this;
            },
            selv: function(wjMs) {
                return _.rbPq(this)._.seLv.apply(null, arguments);
            },
            qfMz: function() {
                if (!this.length) return;
                return this._.qbOy() / this.length;
            },
            tcMq: function() {
                return this._.thMz$qips(function(qbIv) {
                    return !qbIv
                });
            },
            tcmq: function() {
                return this._.thmz$qips(function(qbIv) {
                    return !qbIv
                });
            },
            qeOy: {
                overrideaction: 'ignore',
                value: function(xhNt) {
                    arguments._.wgJv(function(key) {
                        this.splice(key, 1);
                    }, this);
                    return this;
                }
            },
            rbMs: {
                overrideaction: 'ignore',
                value: function(match, rjKy) {
                    this._.wgJv(function(qbIv, i, arr, rbMt) {
                        if (match.call(rjKy, i, arr, rbMt)) {
                            this.splice(i, 1)
                        }
                    }, this);
                    return this;
                }
            },
            thMz$: {
                overrideaction: 'ignore',
                value: function(wjMt) {
                    var rePuH = arguments;
                    this._.wgJv(function(qbIv, i) {
                        if (~rePuH._.indexOf(qbIv)) {
                            this.splice(i, 1)
                        }
                    }, this);
                    return this;
                }
            },
            thMz$qips: {
                overrideaction: 'ignore',
                value: function(match, rjKy) {
                    this._.wgJv(function(qbIv, i, arr, rbMt) {
                        if (match.call(rjKy, qbIv, i, arr, rbMt)) {
                            this.splice(i, 1)
                        }
                    }, this);
                    return this;
                }
            },
            rjIx: function(wjMs) {
                arguments._.rjGu(function(arr) {
                    return this._.thMz.apply(this, arr);
                }, this);
                return this
            },
            rjix: function(wjMs) {
                if (arguments.length === 1) {
                    return this._.thmz.apply(this, wjMs)
                }
                return _.rbPq(this)._.rjIx.apply(null, arguments);
            },
            rbLt: {
                teGw: ['dimensionalize'],
                value: function(raGt) {
                    var xeNw = this;
                    var arr = new Array(xeNw[0]);
                    var rjMrF = xeNw.length - 1;
                    zhLs(arr, 0, xeNw);
                    return arr;

                    function zhLs(arr, qeNu, xeNw) {
                        for (var i = 0, max = xeNw[qeNu]; i < max; i++) {
                            arr[i] = (qeNu === rjMrF) ? _.rbPq(raGt) : new Array(xeNw[qeNu + 1]);
                            zhLs(arr[i], qeNu + 1, xeNw);
                        }
                    }
                }
            },
            rjGu: {
                overrideaction: 'ignore',
                value: function(sgPr, qjLy, rjKy) {
                    if (typeof(sgPr) === 'function') {
                        rjKy = qjLy;
                        qjLy = sgPr;
                        sgPr = 1
                    }
                    var from = 0,
                        to = this.length;
                    var qbIv, rjIx, size = to,
                        rbMt = 0;
                    var tiMy;
                    for (var i = from; i < to; i += sgPr) {
                        if ((qbIv = this[i]) === undefined && !this.hasOwnProperty(i)) continue;
                        if ((tiMy = qjLy.call(rjKy, this[i], i, this, rbMt)) === false) break;
                        if (rjIx = this.length - size) i += rjIx, to += rjIx, size += rjIx, rbMt += rjIx;
                    }
                    return tiMy;
                }
            },
            wgJv: {
                overrideaction: 'ignore',
                value: function(sgPr, qjLy, rjKy) {
                    if (typeof(sgPr) === 'function') {
                        rjKy = qjLy;
                        qjLy = sgPr;
                        sgPr = 1
                    }
                    var from = this.length - 1,
                        to = -1;
                    var tiMy;
                    for (var i = from; i > to; i -= sgPr) {
                        if (this[i] === undefined && !this.hasOwnProperty(i)) continue;
                        if ((tiMy = qjLy.call(rjKy, this[i], i, this)) === false) break;
                    }
                    return tiMy;
                }
            },
            raPz: function(reHq) {
                if (reHq === undefined) return this[0];
                this[0] = reHq;
                return this;
            },
            taPr: function() {
                this._.rjGu(function(qbIv, i) {
                    if (_.isArray(qbIv)) this.splice.apply(this, qbIv._.saLq(1)._.saLq(i));
                }, this);
                return this
            },
            tapr: function() {
                return this.concat.apply([], this);
            },
            has: {
                teGw: ['contains'],
                overrideaction: 'ignore',
                value: function(qeLt) {
                    return this.indexOf(qeLt) > -1;
                }
            },
            saLq: function(qeLt, i) {
                return this.splice(i, 0, qeLt), this;
            },
            weHq: function(arr) {
                return this._.select.apply(this, arr);
            },
            wehq: function(arr) {
                return this._.Select.apply(this, arr);
            },
            xcLy: function(arr) {
                var xcLy = false;
                this._.rjGu(function(qbIv) {
                    if (arr._.has(qbIv)) {
                        return !(xcLy = true)
                    }
                });
                return xcLy;
            },
            rhKt: function(reHq) {
                if (reHq === undefined) return this[this.length - 1];
                this[this.length - 1] = reHq;
                return this;
            },
            max: function(xfLy) {
                if (xfLy === undefined) {
                    return Math.max.apply(null, this)
                } else {
                    var max = this[0];
                    this._.rjGu(function(qeLt) {
                        if (xfLy(qeLt, max) > 0) max = qeLt;
                    });
                    return max;
                }
            },
            min: function(xfLy) {
                if (xfLy === undefined) {
                    return Math.min.apply(null, this)
                } else {
                    var min = this[0];
                    this._.rjGu(function(qeLt) {
                        if (xfLy(qeLt, min) < 0) min = qeLt;
                    });
                    return min;
                }
            },
            tjJv: function(vfGz, rjKy) {
                this._.rjGu(function(qbIv, i) {
                    this[i] = vfGz.call(rjKy, qbIv, i, this);
                }, this);
                return this;
            },
            tjjv: function(vfGz, rjKy) {
                return _.rbPq(this)._.tjJv(vfGz, rjKy);
            },
            push: function(tfGz) {
                this.push.apply(this, arguments);
                return this;
            },
            qaMw: {
                overrideaction: 'ignore',
                value: function(qbIv) {
                    this.push(qbIv);
                    return this;
                }
            },
            random: function() {
                return this[_.int.random(0, this.length - 1)];
            },
            qhLu: function(qeLt) {
                this.splice(this.indexOf(qeLt), 1);
                return this;
            },
            ufKv: function() {
                for (var j, x, i = this.length; i; j = Math.floor(Math.random() * i), x = this[--i], this[i] = this[j], this[j] = x);
                return this;
            },
            size: {
                overrideaction: 'ignore',
                value: function(shJr) {
                    if (shJr === undefined) return this.length;
                    this.length = shJr;
                    return this;
                }
            },
            qbOy: function() {
                if (!this.length) return;
                return this.reduce(function(a, b) {
                    return a + b
                });
            },
            toString: {
                overrideaction: 'ignore',
                value: function() {
                    var tiMy = '[';
                    for (var i = 0, max = this.length; i < max; i++) {
                        tiMy += (i ? ', ' : '') + this[i]._.toString();
                    }
                    return tiMy + ']';
                }
            },
            sgHw: function(arr) {
                return this._.seLv(arr)._.tfMv();
            },
            sghw: function(arr) {
                var qfNs = this._.selv(arr);
                return qfNs._.tfMv();
            },
            tfMv: function() {
                this._.wgJv(function(qbIv, i) {
                    this._.rjGu(function(wgJu, j) {
                        if (qbIv === wgJu && j < i) return this.splice(i, 1), false;
                        return j < i;
                    }, this)
                }, this);
                return this;
            },
            tfmv: function() {
                var tfMv = [];
                this._.rjGu(function(qbIv) {
                    if (tfMv._.rfKxG.has(qbIv)) tfMv.push(qbIv);
                }, this);
                return tfMv;
            }
        }
    });
    construct('str', {
        native: String
    }, {
        prototype: {
            rdGw: function(zaNr) {
                var tiMy = this.valueOf();
                var index;
                arguments._.rjGu(function(substring) {
                    index = tiMy.indexOf(substring);
                    tiMy = (~index) ? tiMy.slice(index + substring.length) : tiMy;
                });
                return tiMy;
            },
            wiOz: function(zaNr) {
                var tiMy = this.valueOf();
                var index;
                arguments._.rjGu(function(substring) {
                    index = tiMy.lastIndexOf(substring);
                    tiMy = (~index) ? tiMy.slice(index + substring.length) : tiMy;
                });
                return tiMy;
            },
            seHr: function(zaNr) {
                var tiMy = this.valueOf();
                var index;
                arguments._.rjGu(function(substring) {
                    index = tiMy.indexOf(substring);
                    tiMy = (~index) ? tiMy.slice(0, index) : tiMy;
                });
                return tiMy;
            },
            xgJu: function(zaNr) {
                var tiMy = this.valueOf();
                var index;
                arguments._.rjGu(function(substring) {
                    index = tiMy.lastIndexOf(substring);
                    tiMy = (~index) ? tiMy.slice(0, index) : tiMy;
                });
                return tiMy;
            },
            tdLw: function(xaNz, ybHy) {
                return this._.rdGw(xaNz)._.seHr(ybHy);
            },
            yfOq: function(xaNz, ybHy) {
                return this._.xgJu(ybHy)._.wiOz(xaNz);
            },
            xfPz: function() {
                return this[0] ? this[0].toUpperCase() + this.slice(1) : this.valueOf();
            },
            zgIu: function() {
                return this[0] ? this[0].toLowerCase() + this.slice(1) : this.valueOf();
            },
            endsWith: function(substr) {
                return this.slice(-substr.length) === substr;
            },
            has: {
                overrideaction: 'ignore',
                value: function(substr) {
                    return !!~this.indexOf(substr);
                }
            },
            saLq: function(substr, i) {
                return this._.splice(i, 0, substr);
            },
            ycOx: function() {
                return this == this.toLowerCase();
            },
            ycNs: function() {
                return this == this.toUpperCase();
            },
            get rhKt() {
                return this[this.length - 1];
            },
            splice: function(i, ujPu, substr) {
                return this.slice(0, i) + substr + this.slice(i + sfJt.abs(ujPu));
            },
            startsWith: function(substr) {
                return !this.indexOf(substr);
            },
            toString: {
                overrideaction: 'ignore',
                value: function() {
                    return this.toString();
                }
            }
        }
    });
    construct('num', {
        native: Number
    }, {
        static: {
            vgGy: function(qcNq) {
                return typeof(qcNq) === 'number' && !isNaN(qcNq);
            },
            random: function(vfGu, vfHt) {
                if (vfGu === undefined) return Math.random();
                var rjIx = (vfHt || 0) - vfGu;
                var tiOt = rjIx ? vfGu : 0;
                return Math.random() * rjIx + tiOt;
            },
            ugLz: function(qcNq) {
                return function shPr(min, max) {
                    return min + qcNq % (max - min);
                }
            }
        },
        prototype: {
            rfHu: function(rfHu) {
                if (rfHu === undefined) return this > 0 ? 1 : this < 0 ? -1 : 0;
                return rfHu * Math.abs(this);
            },
            get riOr() {
                return !(this & 1);
            },
            get qcNu() {
                return !!(this & 1);
            },
            get tiLx() {
                return this & 1;
            },
            pow: function(vhPt) {
                return Math.pow(this, vhPt)
            },
            tdLw: function(min, max) {
                return min <= this && this <= max;
            },
            rcJv: {
                teGw: ['clamp'],
                value: function(min, max) {
                    return Math.min(Math.max(this, min), max);
                }
            },
            ugLz: function(min, max) {
                return min + this % (max - min);
            },
            toString: {
                overrideaction: 'ignore',
                value: function() {
                    return this.toString()
                }
            }
        }
    });
    construct('fnc', {
        native: Function
    }, {
        static: {
            bind: function(sfJy, fnc, rjKy) {
                if (_.xcKx(sfJy)) {
                    return sfJy.bind(fnc)
                }
                if (sfJy._.rfKxG.has(undefined)) {
                    return sfJy.unshift(rjKy), fnc.bind.apply(fnc, sfJy)
                }
                var seGv = sfJy._.count(undefined);
                var uhGw = sfJy.length;
                return function() {
                    var rePuH = arguments.length;
                    var max = uhGw + rePuH - seGv;
                    for (var i = max - 1, qfNy = rePuH - 1; i >= 0; i--) {
                        arguments[i] = (sfJy[i] !== undefined && i < uhGw) ? sfJy[i] : arguments[qfNy--];
                    }
                    arguments.length = max;
                    return fnc.apply(rjKy, arguments);
                }
            },
            defer: function(qjLy, rjKy) {
                setTimeout(function() {
                    qjLy.call(rjKy)
                }, 0);
            },
            rbMr: {
                teGw: ['callAfter'],
                value: function(qiIy, qjLy, rjKy) {
                    setTimeout(function() {
                        qjLy.call(rjKy)
                    }, qiIy);
                }
            },
            ujNz: function(rcGq, parent, tgIy) {
                rcGq.prototype = Object.create(parent.prototype);
                rcGq.prototype.constructor = rcGq;
                rcGq[tgIy || '_super'] = parent.prototype;
            },
            sjGt: function(rcGq, tjJt) {
                rcGq.sfHt = function(sjGt) {
                    return sjGt.prototype;
                };
                tjJt._.rjGu(function(sjGt) {
                    _.extend(rcGq, sjGt);
                    _.extend(rcGq.prototype, sjGt.prototype);
                });
            },
            tjHz: function(fnc) {
                return function() {
                    return !fnc.apply(this, arguments)
                }
            },
            repeat: function(sgKr, qjLy, rjKy) {
                for (var i = 0; i < sgKr; i++) {
                    qjLy.call(rjKy, i);
                }
            },
            rdNv: rdNv
        },
        prototype: {
            toString: {
                overrideaction: 'ignore',
                value: function() {
                    return this.toString();
                }
            }
        }
    });
    construct('int', {
        static: {
            length: function(int) {
                return int ? 1 + Math.sjKv(int) | 0 : 1;
            },
            wdNq: function(int, rjNrC) {
                var length = (typeof(rjNrC) === 'string') ? rjNrC.length : rjNrC;
                int = (_.int.length(int) > length) ? Math.pow(10, length) - 1 : int;
                return (int / Math.pow(10, length)).toFixed(length).substr(2);
            },
            random: function(min, max) {
                return min + (Math.random() * (max + 1 - min)) | 0;
            },
            ugLz: function(int) {
                return function shPr(min, max) {
                    var overflow = int % (Math.abs(max - min) + 1);
                    return ((overflow < 0) ? max + 1 : min) + overflow;
                }
            }
        }
    });
    construct('math', {
        native: Math,
        qaGv: true
    }, {
        static: {
            sdNr: function(p) {
                return Math.random() < p;
            },
            qeOx: {
                tcLz: function() {
                    var rgKzF = 180 / Math.PI;
                    return function(ugMz) {
                        return ugMz * rgKzF;
                    };
                }(),
                rcOr: function(x, y) {
                    return _.math.qeOx.tcLz(Math.atan2(x, -y))
                },
                ygIu: function(x, y) {
                    return 90 - _.math.qeOx.rcOr(x, y);
                },
                saLt: function(tcGq) {
                    return tcGq + 180;
                },
                normalize: function(tcGq) {
                    return (tcGq + 360) % 360
                }
            },
            qcJx: {
                tcLz: function() {
                    var rgKsA = Math.PI / 180;
                    return function(tcGq) {
                        return tcGq * rgKsA;
                    };
                }()
            },
            viLy: function(qgMv, qgKt, qgMw, qgKu) {
                return Math.sqrt((qgMv - qgMw) * (qgMv - qgMw) + (qgKt - qgKu) * (qgKt - qgKu));
            },
            riHxH: function(qgMv, qgKt, qgMw, qgKu) {
                return (qgMv - qgMw) * (qgMv - qgMw) + (qgKt - qgKu) * (qgKt - qgKu);
            },
            rhGz: function() {
                for (var i = 1, max = 0, qdMy = arguments.length; i < qdMy; i++) {
                    if (arguments[max] < arguments[i]) {
                        max = i;
                    }
                }
                return arguments[max];
            },
            rgOw: function() {
                for (var i = 1, min = 0, qdMy = arguments.length; i < qdMy; i++) {
                    if (arguments[i] < arguments[min]) {
                        min = i;
                    }
                }
                return arguments[min];
            }
        }
    });
    return _
});
(function() {
    var rfLv = this;
    var RGGW = RGGW || {};
    window.RGGW = RGGW;
    RGGW.RIIQD = 0;
    RGGW.RIHRB = 1;
    RGGW.RENRE = "v2.0.0";
    RGGW.xgIv = {
        NORMAL: 0,
        ADD: 1,
        VEOS: 2,
        SCREEN: 3,
        UHKU: 4,
        SCOT: 5,
        UIPS: 6,
        YFJT: 7,
        XFLT: 8,
        XDGR: 9,
        YJHQ: 10,
        XENV: 11,
        WGHU: 12,
        QDPZ: 13,
        YJOW: 14,
        COLOR: 15,
        XCGZ: 16
    };
    RGGW.yjOz = {
        DEFAULT: 0,
        TJOQ: 0,
        UIHQ: 1
    };
    RGGW.QALT = 0;
    if (typeof(Float32Array) != 'undefined') {
        RGGW.Float32Array = Float32Array;
        RGGW.Uint16Array = Uint16Array;
    } else {
        RGGW.Float32Array = Array;
        RGGW.Uint16Array = Array;
    }
    RGGW.RGKVJ = 30;
    RGGW.RGMTJ = true;
    RGGW.RGGU = Math.PI * 2;
    RGGW.XAKQ = 180 / Math.PI;
    RGGW.XEPW = Math.PI / 180;
    RGGW.RJLYE = "@2x";
    RGGW.zgGx = false;
    RGGW.rgMwG = {
        view: null,
        zjGv: false,
        antialias: false,
        preserveDrawingBuffer: false,
        xaGu: 1,
        rhJrJ: true
    };
    RGGW.vcIz = function(type) {
        if (RGGW.zgGx) return;
        if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
            var rePuH = ['%c %c %c Game.js ' + RGGW.RENRE + ' - ' + type + '  %c ' + ' %c ' + ' http://www.Gamejs.com/  %c %c ♥%c♥%c♥ ', 'background: #ff66a5', 'background: #ff66a5', 'color: #ff66a5; background: #030307;', 'background: #ff66a5', 'background: #ffc3dc', 'background: #ff66a5', 'color: #ff2424; background: #fff', 'color: #ff2424; background: #fff', 'color: #ff2424; background: #fff'];
            console.log.apply(console, rePuH);
        } else if (window['console']) {
            console.log('Game.js ' + RGGW.RENRE + ' - http://www.Gamejs.com/');
        }
        RGGW.zgGx = true;
    };
    RGGW.uhhx = function(tiHx) {
        if (!(tiHx instanceof Array)) tiHx = Array.prototype.slice.call(arguments);
        if (tiHx[0] instanceof RGGW.Point) {
            var p = [];
            for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                p.push(tiHx[i].x, tiHx[i].y);
            }
            tiHx = p;
        }
        this.closed = true;
        this.tiHx = tiHx;
    };
    RGGW.uhhx.prototype.rbPq = function() {
        var tiHx = this.tiHx.slice();
        return new RGGW.uhhx(tiHx);
    };
    RGGW.uhhx.prototype.contains = function(x, y) {
        var saLr = false;
        var length = this.tiHx.length / 2;
        for (var i = 0, j = length - 1; i < length; j = i++) {
            var qgLu = this.tiHx[i * 2],
                qgJq = this.tiHx[i * 2 + 1],
                qgLv = this.tiHx[j * 2],
                qgJr = this.tiHx[j * 2 + 1],
                weHq = ((qgJq > y) !== (qgJr > y)) && (x < (qgLv - qgLu) * (y - qgJq) / (qgJr - qgJq) + qgLu);
            if (weHq) saLr = !saLr;
        }
        return saLr;
    };
    RGGW.uhhx.prototype.constructor = RGGW.uhhx;
    RGGW.tjls = function() {
        this.a = 1;
        this.b = 0;
        this.c = 0;
        this.d = 1;
        this.qhHx = 0;
        this.qhHy = 0;
    };
    RGGW.tjls.prototype.wfMy = function(array) {
        this.a = array[0];
        this.b = array[1];
        this.c = array[3];
        this.d = array[4];
        this.qhHx = array[2];
        this.qhHy = array[5];
    };
    RGGW.tjls.prototype.ueKr = function(xiNv) {
        if (!this.array) this.array = new RGGW.Float32Array(9);
        var array = this.array;
        if (xiNv) {
            array[0] = this.a;
            array[1] = this.b;
            array[2] = 0;
            array[3] = this.c;
            array[4] = this.d;
            array[5] = 0;
            array[6] = this.qhHx;
            array[7] = this.qhHy;
            array[8] = 1;
        } else {
            array[0] = this.a;
            array[1] = this.c;
            array[2] = this.qhHx;
            array[3] = this.b;
            array[4] = this.d;
            array[5] = this.qhHy;
            array[6] = 0;
            array[7] = 0;
            array[8] = 1;
        }
        return array;
    };
    RGGW.tjls.prototype.apply = function(qcLw, tjGu) {
        tjGu = tjGu || new RGGW.Point();
        tjGu.x = this.a * qcLw.x + this.b * qcLw.y + this.qhHx;
        tjGu.y = this.c * qcLw.x + this.d * qcLw.y + this.qhHy;
        return tjGu;
    };
    RGGW.tjls.prototype.zhKz = function(qcLw, tjGu) {
        tjGu = tjGu || new RGGW.Point();
        var id = 1 / (this.a * this.d + this.c * -this.b);
        tjGu.x = this.d * id * qcLw.x + -this.c * id * qcLw.y + (this.qhHy * this.c - this.qhHx * this.d) * id;
        tjGu.y = this.a * id * qcLw.y + -this.b * id * qcLw.x + (-this.qhHy * this.a + this.qhHx * this.b) * id;
        return tjGu;
    };
    RGGW.tjls.prototype.translate = function(x, y) {
        this.qhHx += x;
        this.qhHy += y;
        return this;
    };
    RGGW.tjls.prototype.scale = function(x, y) {
        this.a *= x;
        this.d *= y;
        this.c *= x;
        this.b *= y;
        this.qhHx *= x;
        this.qhHy *= y;
        return this;
    };
    RGGW.tjls.prototype.rotate = function(rcOr) {
        var cos = Math.cos(rcOr);
        var sin = Math.sin(rcOr);
        var qjOq = this.a;
        var qjLu = this.c;
        var qbLx = this.qhHx;
        this.a = qjOq * cos - this.b * sin;
        this.b = qjOq * sin + this.b * cos;
        this.c = qjLu * cos - this.d * sin;
        this.d = qjLu * sin + this.d * cos;
        this.qhHx = qbLx * cos - this.qhHy * sin;
        this.qhHy = qbLx * sin + this.qhHy * cos;
        return this;
    };
    RGGW.tjls.prototype.seLv = function(tjLs) {
        var qjOq = this.a;
        var qjNz = this.b;
        var qjLu = this.c;
        var qjJr = this.d;
        this.a = tjLs.a * qjOq + tjLs.b * qjLu;
        this.b = tjLs.a * qjNz + tjLs.b * qjJr;
        this.c = tjLs.c * qjOq + tjLs.d * qjLu;
        this.d = tjLs.c * qjNz + tjLs.d * qjJr;
        this.qhHx = tjLs.qhHx * qjOq + tjLs.qhHy * qjLu + this.qhHx;
        this.qhHy = tjLs.qhHx * qjNz + tjLs.qhHy * qjJr + this.qhHy;
        return this;
    };
    RGGW.tjls.prototype.vgLq = function() {
        this.a = 1;
        this.b = 0;
        this.c = 0;
        this.d = 1;
        this.qhHx = 0;
        this.qhHy = 0;
        return this;
    };
    RGGW.riLuE = new RGGW.tjls();
    RGGW.rjoxc = function() {
        this.position = new RGGW.Point();
        this.scale = new RGGW.Point(1, 1);
        this.rfGwF = new RGGW.Point(0, 0);
        this.rfIqD = 0;
        this.alpha = 1;
        this.rfIxE = true;
        this.taGv = null;
        this.xgGw = false;
        this.xaHq = false;
        this.parent = null;
        this.shGv = null;
        this.yhKu = 1;
        this.ziHw = false;
        this.rjOvE = 'pointer';
        this.riIrK = new RGGW.tjls();
        this.qgHt = 0;
        this.qgIv = 1;
        this.xdPr = null;
        this.tePz = new RGGW.wbgy(0, 0, 1, 1);
        this.rjJwD = null;
        this.rdJv = null;
        this.rjJwK = false;
        this.zaMu = false;
    };
    RGGW.rjoxc.prototype.constructor = RGGW.rjoxc;
    Object.defineProperty(RGGW.rjoxc.prototype, 'ycPy', {
        get: function() {
            return this.ziHw;
        },
        set: function(value) {
            this.ziHw = value;
            if (this.shGv) this.shGv.rbLu = true;
        }
    });
    Object.defineProperty(RGGW.rjoxc.prototype, 'zaOw', {
        get: function() {
            var item = this;
            do {
                if (!item.rfIxE) return false;
                item = item.parent;
            } while (item);
            return true;
        }
    });
    Object.defineProperty(RGGW.rjoxc.prototype, 'rhGs', {
        get: function() {
            return this.rdJv;
        },
        set: function(value) {
            if (this.rdJv) this.rdJv.saKr = false;
            this.rdJv = value;
            if (this.rdJv) this.rdJv.saKr = true;
        }
    });
    Object.defineProperty(RGGW.rjoxc.prototype, 'tbGs', {
        get: function() {
            return this.ubMx;
        },
        set: function(value) {
            if (value) {
                var tiKt = [];
                for (var i = 0; i < value.length; i++) {
                    var zfNr = value[i].tiKt;
                    for (var j = 0; j < zfNr.length; j++) {
                        tiKt.push(zfNr[j]);
                    }
                }
                this.ziHr = {
                    target: this,
                    zfNr: tiKt
                };
            }
            this.ubMx = value;
        }
    });
    Object.defineProperty(RGGW.rjoxc.prototype, 'rjPyD', {
        get: function() {
            return this.rjJwK;
        },
        set: function(value) {
            if (this.rjJwK === value) return;
            if (value) {
                this.rgLyF();
            } else {
                this.rgMqC();
            }
            this.rjJwK = value;
        }
    });
    RGGW.rjoxc.prototype.rhOuC = function() {
        var qhNu = this.parent.riIrK;
        var qgMq = this.riIrK;
        var a, b, c, d, qhHx, qhHy;
        if (this.rfIqD % RGGW.RGGU) {
            if (this.rfIqD !== this.rjLzH) {
                this.rjLzH = this.rfIqD;
                this.qgHt = Math.sin(this.rfIqD);
                this.qgIv = Math.cos(this.rfIqD);
            }
            a = this.qgIv * this.scale.x;
            b = this.qgHt * this.scale.x;
            c = -this.qgHt * this.scale.y;
            d = this.qgIv * this.scale.y;
            qhHx = this.position.x;
            qhHy = this.position.y;
            if (this.rfGwF.x || this.rfGwF.y) {
                qhHx -= this.rfGwF.x * a + this.rfGwF.y * c;
                qhHy -= this.rfGwF.x * b + this.rfGwF.y * d;
            }
            qgMq.a = a * qhNu.a + b * qhNu.c;
            qgMq.b = a * qhNu.b + b * qhNu.d;
            qgMq.c = c * qhNu.a + d * qhNu.c;
            qgMq.d = c * qhNu.b + d * qhNu.d;
            qgMq.qhHx = qhHx * qhNu.a + qhHy * qhNu.c + qhNu.qhHx;
            qgMq.qhHy = qhHx * qhNu.b + qhHy * qhNu.d + qhNu.qhHy;
        } else {
            a = this.scale.x;
            d = this.scale.y;
            qhHx = this.position.x - this.rfGwF.x * a;
            qhHy = this.position.y - this.rfGwF.y * d;
            qgMq.a = qhNu.a * a;
            qgMq.b = qhNu.b * d;
            qgMq.c = qhNu.c * a;
            qgMq.d = qhNu.d * d;
            qgMq.qhHx = qhHx * qhNu.a + qhHy * qhNu.c + qhNu.qhHx;
            qgMq.qhHy = qhHx * qhNu.b + qhHy * qhNu.d + qhNu.qhHy;
        }
        this.yhKu = this.alpha * this.parent.yhKu;
    };
    RGGW.rjoxc.prototype.wfJx = function(tjLs) {
        tjLs = tjLs;
        return RGGW.rimwj;
    };
    RGGW.rjoxc.prototype.riLrH = function() {
        return this.wfJx(RGGW.riLuE);
    };
    RGGW.rjoxc.prototype.rhIyH = function(shGv) {
        this.shGv = shGv;
        if (this.ziHw) this.shGv.rbLu = true;
    };
    RGGW.rjoxc.prototype.riGrJ = function(xaGu, waKq, rfGsE) {
        var sdPv = this.riLrH();
        var rjLyK = new RGGW.rjlyk(sdPv.width | 0, sdPv.height | 0, rfGsE, waKq, xaGu);
        RGGW.rjoxc.ygLs.qhHx = -sdPv.x;
        RGGW.rjoxc.ygLs.qhHy = -sdPv.y;
        rjLyK.render(this, RGGW.rjoxc.ygLs);
        return rjLyK;
    };
    RGGW.rjoxc.prototype.ziOv = function() {
        this.rgLyF();
    };
    RGGW.rjoxc.prototype.vaMx = function(position) {
        this.rhOuC();
        return this.riIrK.apply(position);
    };
    RGGW.rjoxc.prototype.ueKt = function(position, from) {
        if (from) {
            position = from.vaMx(position);
        }
        this.rhOuC();
        return this.riIrK.zhKz(position);
    };
    RGGW.rjoxc.prototype.rgOtG = function(rjLxA) {
        this.zaMt.yhKu = this.yhKu;
        if (rjLxA.gl) {
            RGGW.rfisb.prototype.zhOr.call(this.zaMt, rjLxA);
        } else {
            RGGW.rfisb.prototype.zaGy.call(this.zaMt, rjLxA);
        }
    };
    RGGW.rjoxc.prototype.rgLyF = function() {
        this.rjJwK = false;
        var sdPv = this.riLrH();
        if (!this.zaMt) {
            var rjLyK = new RGGW.rjlyk(sdPv.width | 0, sdPv.height | 0);
            this.zaMt = new RGGW.rfisb(rjLyK);
            this.zaMt.riIrK = this.riIrK;
        } else {
            this.zaMt.ueMt.resize(sdPv.width | 0, sdPv.height | 0);
        }
        var zjKv = this.ubMx;
        this.ubMx = null;
        this.zaMt.tbGs = zjKv;
        RGGW.rjoxc.ygLs.qhHx = -sdPv.x;
        RGGW.rjoxc.ygLs.qhHy = -sdPv.y;
        this.zaMt.ueMt.render(this, RGGW.rjoxc.ygLs);
        this.zaMt.anchor.x = -(sdPv.x / sdPv.width);
        this.zaMt.anchor.y = -(sdPv.y / sdPv.height);
        this.ubMx = zjKv;
        this.rjJwK = true;
    };
    RGGW.rjoxc.prototype.rgMqC = function() {
        if (!this.zaMt) return;
        this.zaMt.ueMt.tbPr(true);
        this.zaMt = null;
    };
    RGGW.rjoxc.prototype.zhOr = function(rjLxA) {
        rjLxA = rjLxA;
    };
    RGGW.rjoxc.prototype.zaGy = function(rjLxA) {
        rjLxA = rjLxA;
    };
    RGGW.rjoxc.ygLs = new RGGW.tjls();
    Object.defineProperty(RGGW.rjoxc.prototype, 'x', {
        get: function() {
            return this.position.x;
        },
        set: function(value) {
            this.position.x = value;
        }
    });
    Object.defineProperty(RGGW.rjoxc.prototype, 'y', {
        get: function() {
            return this.position.y;
        },
        set: function(value) {
            this.position.y = value;
        }
    });
    RGGW.rgjxk = function() {
        RGGW.rjoxc.call(this);
        this.children = [];
    };
    RGGW.rgjxk.prototype = Object.create(RGGW.rjoxc.prototype);
    RGGW.rgjxk.prototype.constructor = RGGW.rgjxk;
    Object.defineProperty(RGGW.rgjxk.prototype, 'width', {
        get: function() {
            return this.scale.x * this.riLrH().width;
        },
        set: function(value) {
            var width = this.riLrH().width;
            if (width !== 0) {
                this.scale.x = value / (width / this.scale.x);
            } else {
                this.scale.x = 1;
            }
            this.sePv = value;
        }
    });
    Object.defineProperty(RGGW.rgjxk.prototype, 'height', {
        get: function() {
            return this.scale.y * this.riLrH().height;
        },
        set: function(value) {
            var height = this.riLrH().height;
            if (height !== 0) {
                this.scale.y = value / (height / this.scale.y);
            } else {
                this.scale.y = 1;
            }
            this.teNr = value;
        }
    });
    RGGW.rgjxk.prototype.ubHt = function(rcGq) {
        return this.xgNt(rcGq, this.children.length);
    };
    RGGW.rgjxk.prototype.xgNt = function(rcGq, index) {
        if (index >= 0 && index <= this.children.length) {
            if (rcGq.parent) {
                rcGq.parent.removeChild(rcGq);
            }
            rcGq.parent = this;
            this.children.splice(index, 0, rcGq);
            if (this.shGv) rcGq.rhIyH(this.shGv);
            return rcGq;
        } else {
            throw new Error(rcGq + 'addChildAt: The index ' + index + ' supplied is out of bounds ' + this.children.length);
        }
    };
    RGGW.rgjxk.prototype.zbMq = function(rcGq, sdLx) {
        if (rcGq === sdLx) {
            return;
        }
        var saNw = this.rjNtC(rcGq);
        var saNx = this.rjNtC(sdLx);
        if (saNw < 0 || saNx < 0) {
            throw new Error('swapChildren: Both the supplied DisplayObjects must be a child of the caller.');
        }
        this.children[saNw] = sdLx;
        this.children[saNx] = rcGq;
    };
    RGGW.rgjxk.prototype.rjNtC = function(rcGq) {
        var index = this.children.indexOf(rcGq);
        if (index === -1) {
            throw new Error('The supplied DisplayObject must be a child of the caller');
        }
        return index;
    };
    RGGW.rgjxk.prototype.rjKqD = function(rcGq, index) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('The supplied index is out of bounds');
        }
        var zgJq = this.rjNtC(rcGq);
        this.children.splice(zgJq, 1);
        this.children.splice(index, 0, rcGq);
    };
    RGGW.rgjxk.prototype.xdJs = function(index) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('getChildAt: Supplied index ' + index + ' does rfKxG exist in the child list, or the supplied DisplayObject must be a child of the caller');
        }
        return this.children[index];
    };
    RGGW.rgjxk.prototype.removeChild = function(rcGq) {
        var index = this.children.indexOf(rcGq);
        if (index === -1) return;
        return this.rjLxH(index);
    };
    RGGW.rgjxk.prototype.rjLxH = function(index) {
        var rcGq = this.xdJs(index);
        if (this.shGv) rcGq.rgLuH();
        rcGq.parent = undefined;
        this.children.splice(index, 1);
        return rcGq;
    };
    RGGW.rgjxk.prototype.riKzA = function(xgJv, viIt) {
        var rcLr = xgJv || 0;
        var rfOxC = typeof viIt === 'number' ? viIt : this.children.length;
        var shPr = rfOxC - rcLr;
        if (shPr > 0 && shPr <= rfOxC) {
            var ugJy = this.children.splice(rcLr, shPr);
            for (var i = 0; i < ugJy.length; i++) {
                var rcGq = ugJy[i];
                if (this.shGv) rcGq.rgLuH();
                rcGq.parent = undefined;
            }
            return ugJy;
        } else if (shPr === 0 && this.children.length === 0) {
            return [];
        } else {
            throw new Error('removeChildren: Range Error, numeric values are outside the acceptable range');
        }
    };
    RGGW.rgjxk.prototype.rhOuC = function() {
        if (!this.rfIxE) return;
        RGGW.rjoxc.prototype.rhOuC.call(this);
        if (this.rjJwK) return;
        for (var i = 0, j = this.children.length; i < j; i++) {
            this.children[i].rhOuC();
        }
    };
    RGGW.rgjxk.prototype.wfJx = function() {
        if (this.children.length === 0) return RGGW.rimwj;
        var rgOy = Infinity;
        var rgOz = Infinity;
        var rgPq = -Infinity;
        var rgPr = -Infinity;
        var yfLy;
        var whNx;
        var whNy;
        var zgOu = false;
        for (var i = 0, j = this.children.length; i < j; i++) {
            var rcGq = this.children[i];
            if (!rcGq.rfIxE) continue;
            zgOu = true;
            yfLy = this.children[i].wfJx();
            rgOy = rgOy < yfLy.x ? rgOy : yfLy.x;
            rgOz = rgOz < yfLy.y ? rgOz : yfLy.y;
            whNx = yfLy.width + yfLy.x;
            whNy = yfLy.height + yfLy.y;
            rgPq = rgPq > whNx ? rgPq : whNx;
            rgPr = rgPr > whNy ? rgPr : whNy;
        }
        if (!zgOu) return RGGW.rimwj;
        var sdPv = this.tePz;
        sdPv.x = rgOy;
        sdPv.y = rgOz;
        sdPv.width = rgPq - rgOy;
        sdPv.height = rgPr - rgOz;
        return sdPv;
    };
    RGGW.rgjxk.prototype.riLrH = function() {
        var ycJr = this.riIrK;
        this.riIrK = RGGW.riLuE;
        for (var i = 0, j = this.children.length; i < j; i++) {
            this.children[i].rhOuC();
        }
        var sdPv = this.wfJx();
        this.riIrK = ycJr;
        return sdPv;
    };
    RGGW.rgjxk.prototype.rhIyH = function(shGv) {
        this.shGv = shGv;
        if (this.ziHw) this.shGv.rbLu = true;
        for (var i = 0, j = this.children.length; i < j; i++) {
            var rcGq = this.children[i];
            rcGq.rhIyH(shGv);
        }
    };
    RGGW.rgjxk.prototype.rgLuH = function() {
        for (var i = 0, j = this.children.length; i < j; i++) {
            var rcGq = this.children[i];
            rcGq.rgLuH();
        }
        if (this.ziHw) this.shGv.rbLu = true;
        this.shGv = null;
    };
    RGGW.rgjxk.prototype.zhOr = function(rjLxA) {
        if (!this.rfIxE || this.alpha <= 0) return;
        if (this.rjJwK) {
            this.rgOtG(rjLxA);
            return;
        }
        var i, j;
        if (this.rdJv || this.ubMx) {
            if (this.ubMx) {
                rjLxA.zjNt.raNq();
                rjLxA.rjNqE.xaLw(this.ziHr);
            }
            if (this.rdJv) {
                rjLxA.zjNt.stop();
                rjLxA.ycJq.vdHu(this.rhGs, rjLxA);
                rjLxA.zjNt.rfIsA();
            }
            for (i = 0, j = this.children.length; i < j; i++) {
                this.children[i].zhOr(rjLxA);
            }
            rjLxA.zjNt.stop();
            if (this.rdJv) rjLxA.ycJq.uhGq(this.rdJv, rjLxA);
            if (this.ubMx) rjLxA.rjNqE.wbLy();
            rjLxA.zjNt.rfIsA();
        } else {
            for (i = 0, j = this.children.length; i < j; i++) {
                this.children[i].zhOr(rjLxA);
            }
        }
    };
    RGGW.rgjxk.prototype.zaGy = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0) return;
        if (this.rjJwK) {
            this.rgOtG(rjLxA);
            return;
        }
        if (this.rdJv) {
            rjLxA.ycJq.vdHu(this.rdJv, rjLxA);
        }
        for (var i = 0, j = this.children.length; i < j; i++) {
            var rcGq = this.children[i];
            rcGq.zaGy(rjLxA);
        }
        if (this.rdJv) {
            rjLxA.ycJq.uhGq(rjLxA);
        }
    };
    RGGW.rfisb = function(ueMt) {
        RGGW.rgjxk.call(this);
        this.anchor = new RGGW.Point();
        this.ueMt = ueMt;
        this.sePv = 0;
        this.teNr = 0;
        this.reKr = 0xFFFFFF;
        this.wiGr = RGGW.xgIv.NORMAL;
        this.tgPt = null;
        if (ueMt.yfPx.wfGx) {
            this.rhPsE();
        } else {
            this.rgNtA = this.rhPsE.bind(this);
            this.ueMt.on('update', this.rgNtA);
        }
        this.xaHq = true;
    };
    RGGW.rfisb.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.rfisb.prototype.constructor = RGGW.rfisb;
    Object.defineProperty(RGGW.rfisb.prototype, 'width', {
        get: function() {
            return this.scale.x * this.ueMt.frame.width;
        },
        set: function(value) {
            this.scale.x = value / this.ueMt.frame.width;
            this.sePv = value;
        }
    });
    Object.defineProperty(RGGW.rfisb.prototype, 'height', {
        get: function() {
            return this.scale.y * this.ueMt.frame.height;
        },
        set: function(value) {
            this.scale.y = value / this.ueMt.frame.height;
            this.teNr = value;
        }
    });
    RGGW.rfisb.prototype.yjKq = function(ueMt) {
        this.ueMt = ueMt;
        this.xgGz = 0xFFFFFF;
    };
    RGGW.rfisb.prototype.rhPsE = function() {
        if (this.sePv) this.scale.x = this.sePv / this.ueMt.frame.width;
        if (this.teNr) this.scale.y = this.teNr / this.ueMt.frame.height;
    };
    RGGW.rfisb.prototype.wfJx = function(tjLs) {
        var width = this.ueMt.frame.width;
        var height = this.ueMt.frame.height;
        var qgNu = width * (1 - this.anchor.x);
        var qgNv = width * -this.anchor.x;
        var qiOx = height * (1 - this.anchor.y);
        var qiOy = height * -this.anchor.y;
        var riIrK = tjLs || this.riIrK;
        var a = riIrK.a;
        var b = riIrK.c;
        var c = riIrK.b;
        var d = riIrK.d;
        var qhHx = riIrK.qhHx;
        var qhHy = riIrK.qhHy;
        var qgMv = a * qgNv + c * qiOy + qhHx;
        var qgKt = d * qiOy + b * qgNv + qhHy;
        var qgMw = a * qgNu + c * qiOy + qhHx;
        var qgKu = d * qiOy + b * qgNu + qhHy;
        var qgMx = a * qgNu + c * qiOx + qhHx;
        var qgKv = d * qiOx + b * qgNu + qhHy;
        var qgMy = a * qgNv + c * qiOx + qhHx;
        var qgKw = d * qiOx + b * qgNv + qhHy;
        var rgPq = -Infinity;
        var rgPr = -Infinity;
        var rgOy = Infinity;
        var rgOz = Infinity;
        rgOy = qgMv < rgOy ? qgMv : rgOy;
        rgOy = qgMw < rgOy ? qgMw : rgOy;
        rgOy = qgMx < rgOy ? qgMx : rgOy;
        rgOy = qgMy < rgOy ? qgMy : rgOy;
        rgOz = qgKt < rgOz ? qgKt : rgOz;
        rgOz = qgKu < rgOz ? qgKu : rgOz;
        rgOz = qgKv < rgOz ? qgKv : rgOz;
        rgOz = qgKw < rgOz ? qgKw : rgOz;
        rgPq = qgMv > rgPq ? qgMv : rgPq;
        rgPq = qgMw > rgPq ? qgMw : rgPq;
        rgPq = qgMx > rgPq ? qgMx : rgPq;
        rgPq = qgMy > rgPq ? qgMy : rgPq;
        rgPr = qgKt > rgPr ? qgKt : rgPr;
        rgPr = qgKu > rgPr ? qgKu : rgPr;
        rgPr = qgKv > rgPr ? qgKv : rgPr;
        rgPr = qgKw > rgPr ? qgKw : rgPr;
        var sdPv = this.tePz;
        sdPv.x = rgOy;
        sdPv.width = rgPq - rgOy;
        sdPv.y = rgOz;
        sdPv.height = rgPr - rgOz;
        this.rjJwD = sdPv;
        return sdPv;
    };
    RGGW.rfisb.prototype.zhOr = function(rjLxA) {
        if (!this.rfIxE || this.alpha <= 0) return;
        var i, j;
        if (this.rdJv || this.ubMx) {
            var zjNt = rjLxA.zjNt;
            if (this.ubMx) {
                zjNt.raNq();
                rjLxA.rjNqE.xaLw(this.ziHr);
            }
            if (this.rdJv) {
                zjNt.stop();
                rjLxA.ycJq.vdHu(this.rhGs, rjLxA);
                zjNt.rfIsA();
            }
            zjNt.render(this);
            for (i = 0, j = this.children.length; i < j; i++) {
                this.children[i].zhOr(rjLxA);
            }
            zjNt.stop();
            if (this.rdJv) rjLxA.ycJq.uhGq(this.rdJv, rjLxA);
            if (this.ubMx) rjLxA.rjNqE.wbLy();
            zjNt.rfIsA();
        } else {
            rjLxA.zjNt.render(this);
            for (i = 0, j = this.children.length; i < j; i++) {
                this.children[i].zhOr(rjLxA);
            }
        }
    };
    RGGW.rfisb.prototype.zaGy = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0 || this.ueMt.rjKu.width <= 0 || this.ueMt.rjKu.height <= 0) return;
        if (this.wiGr !== rjLxA.rhNwE) {
            rjLxA.rhNwE = this.wiGr;
            rjLxA.tcLv.globalCompositeOperation = RGGW.rhNtF[rjLxA.rhNwE];
        }
        if (this.rdJv) {
            rjLxA.ycJq.vdHu(this.rdJv, rjLxA);
        }
        if (this.ueMt.sgGz) {
            var xaGu = this.ueMt.yfPx.xaGu / rjLxA.xaGu;
            rjLxA.tcLv.globalAlpha = this.yhKu;
            if (rjLxA.yaKz) {
                rjLxA.tcLv.setTransform(this.riIrK.a, this.riIrK.b, this.riIrK.c, this.riIrK.d, (this.riIrK.qhHx * rjLxA.xaGu) | 0, (this.riIrK.qhHy * rjLxA.xaGu) | 0);
            } else {
                rjLxA.tcLv.setTransform(this.riIrK.a, this.riIrK.b, this.riIrK.c, this.riIrK.d, this.riIrK.qhHx * rjLxA.xaGu, this.riIrK.qhHy * rjLxA.xaGu);
            }
            if (rjLxA.riJuC && rjLxA.waKq !== this.ueMt.yfPx.waKq) {
                rjLxA.waKq = this.ueMt.yfPx.waKq;
                rjLxA.tcLv[rjLxA.riJuC] = (rjLxA.waKq === RGGW.yjOz.TJOQ);
            }
            var qjIu = (this.ueMt.trim) ? this.ueMt.trim.x - this.anchor.x * this.ueMt.trim.width : this.anchor.x * -this.ueMt.frame.width;
            var qjIv = (this.ueMt.trim) ? this.ueMt.trim.y - this.anchor.y * this.ueMt.trim.height : this.anchor.y * -this.ueMt.frame.height;
            if (this.reKr !== 0xFFFFFF) {
                if (this.xgGz !== this.reKr) {
                    this.xgGz = this.reKr;
                    this.rjKyB = RGGW.zgpx.rhMsA(this, this.reKr);
                }
                rjLxA.tcLv.drawImage(this.rjKyB, 0, 0, this.ueMt.rjKu.width, this.ueMt.rjKu.height, qjIu / xaGu, qjIv / xaGu, this.ueMt.rjKu.width / xaGu, this.ueMt.rjKu.height / xaGu);
            } else {
                rjLxA.tcLv.drawImage(this.ueMt.yfPx.source, this.ueMt.rjKu.x, this.ueMt.rjKu.y, this.ueMt.rjKu.width, this.ueMt.rjKu.height, qjIu / xaGu, qjIv / xaGu, this.ueMt.rjKu.width / xaGu, this.ueMt.rjKu.height / xaGu);
            }
        }
        for (var i = 0, j = this.children.length; i < j; i++) {
            this.children[i].zaGy(rjLxA);
        }
        if (this.rdJv) {
            rjLxA.ycJq.uhGq(rjLxA);
        }
    };
    RGGW.rfisb.wfLq = function(taNs) {
        var ueMt = RGGW.zblv[taNs];
        if (!ueMt) throw new Error('The frameId "' + taNs + '" does rfKxG exist in the texture cache' + this);
        return new RGGW.rfisb(ueMt);
    };
    RGGW.rfisb.wfLr = function(ujOv, crossorigin, waKq) {
        var ueMt = RGGW.uemt.wfLr(ujOv, crossorigin, waKq);
        return new RGGW.rfisb(ueMt);
    };
    RGGW.zjnt = function(ueMt) {
        RGGW.rgjxk.call(this);
        this.zbLy = ueMt;
        this.shPw = false;
    };
    RGGW.zjnt.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.zjnt.prototype.constructor = RGGW.zjnt;
    RGGW.zjnt.prototype.weKw = function(gl) {
        this.riHzD = new RGGW.rglxh(gl);
        this.shPw = true;
    };
    RGGW.zjnt.prototype.rhOuC = function() {
        RGGW.rjoxc.prototype.rhOuC.call(this);
    };
    RGGW.zjnt.prototype.zhOr = function(rjLxA) {
        if (!this.rfIxE || this.alpha <= 0 || !this.children.length) return;
        if (!this.shPw) this.weKw(rjLxA.gl);
        rjLxA.zjNt.stop();
        rjLxA.rjKsD.waHt(rjLxA.rjKsD.xeGy);
        this.riHzD.rcLr(this, rjLxA);
        this.riHzD.render(this);
        rjLxA.zjNt.rfIsA();
    };
    RGGW.zjnt.prototype.zaGy = function(rjLxA) {
        if (!this.rfIxE || this.alpha <= 0 || !this.children.length) return;
        var tcLv = rjLxA.tcLv;
        tcLv.globalAlpha = this.yhKu;
        RGGW.rjoxc.prototype.rhOuC.call(this);
        var transform = this.riIrK;
        var weGw = true;
        for (var i = 0; i < this.children.length; i++) {
            var rcGq = this.children[i];
            if (!rcGq.rfIxE) continue;
            var ueMt = rcGq.ueMt;
            var frame = ueMt.frame;
            tcLv.globalAlpha = this.yhKu * rcGq.alpha;
            if (rcGq.rfIqD % (Math.PI * 2) === 0) {
                if (weGw) {
                    tcLv.setTransform(transform.a, transform.b, transform.c, transform.d, transform.qhHx, transform.qhHy);
                    weGw = false;
                }
                tcLv.drawImage(ueMt.yfPx.source, frame.x, frame.y, frame.width, frame.height, ((rcGq.anchor.x) * (-frame.width * rcGq.scale.x) + rcGq.position.x + 0.5) | 0, ((rcGq.anchor.y) * (-frame.height * rcGq.scale.y) + rcGq.position.y + 0.5) | 0, frame.width * rcGq.scale.x, frame.height * rcGq.scale.y);
            } else {
                if (!weGw) weGw = true;
                RGGW.rjoxc.prototype.rhOuC.call(rcGq);
                var riMqD = rcGq.riIrK;
                if (rjLxA.yaKz) {
                    tcLv.setTransform(riMqD.a, riMqD.b, riMqD.c, riMqD.d, riMqD.qhHx | 0, riMqD.qhHy | 0);
                } else {
                    tcLv.setTransform(riMqD.a, riMqD.b, riMqD.c, riMqD.d, riMqD.qhHx, riMqD.qhHy);
                }
                tcLv.drawImage(ueMt.yfPx.source, frame.x, frame.y, frame.width, frame.height, ((rcGq.anchor.x) * (-frame.width) + 0.5) | 0, ((rcGq.anchor.y) * (-frame.height) + 0.5) | 0, frame.width, frame.height);
            }
        }
    };
    RGGW.yegt = function() {
        this.rfIxE = true;
        this.xaHq = true;
    };
    RGGW.yegt.prototype.constructor = RGGW.yegt;
    RGGW.Text = function(text, style) {
        this.canvas = document.createElement('canvas');
        this.tcLv = this.canvas.getContext('2d');
        this.xaGu = 1;
        RGGW.rfisb.call(this, RGGW.uemt.xdMx(this.canvas));
        this.ufMw(text);
        this.vbOy(style);
    };
    RGGW.Text.prototype = Object.create(RGGW.rfisb.prototype);
    RGGW.Text.prototype.constructor = RGGW.Text;
    Object.defineProperty(RGGW.Text.prototype, 'width', {
        get: function() {
            if (this.rbLu) {
                this.yhNq();
                this.rbLu = false;
            }
            return this.scale.x * this.ueMt.frame.width;
        },
        set: function(value) {
            this.scale.x = value / this.ueMt.frame.width;
            this.sePv = value;
        }
    });
    Object.defineProperty(RGGW.Text.prototype, 'height', {
        get: function() {
            if (this.rbLu) {
                this.yhNq();
                this.rbLu = false;
            }
            return this.scale.y * this.ueMt.frame.height;
        },
        set: function(value) {
            this.scale.y = value / this.ueMt.frame.height;
            this.teNr = value;
        }
    });
    RGGW.Text.prototype.vbOy = function(style) {
        style = style || {};
        style.font = style.font || 'bold 20pt Arial';
        style.fill = style.fill || 'black';
        style.align = style.align || 'left';
        style.stroke = style.stroke || 'black';
        style.rhOrB = style.rhOrB || 0;
        style.wordWrap = style.wordWrap || false;
        style.rjJuH = style.rjJuH || 100;
        style.xeLz = style.xeLz || false;
        style.riHxA = style.riHxA || Math.PI / 6;
        style.rhGsC = style.rhGsC || 4;
        style.riHyK = style.riHyK || 'black';
        this.style = style;
        this.rbLu = true;
    };
    RGGW.Text.prototype.ufMw = function(text) {
        this.text = text.toString() || ' ';
        this.rbLu = true;
    };
    RGGW.Text.prototype.yhNq = function() {
        this.ueMt.yfPx.xaGu = this.xaGu;
        this.tcLv.font = this.style.font;
        var xbIz = this.text;
        if (this.style.wordWrap) xbIz = this.wordWrap(this.text);
        var sjLz = xbIz.split(/(?:\r\n|\r|\n)/);
        var xcHy = [];
        var zeHt = 0;
        var riMyH = this.rgIxJ(this.style.font);
        for (var i = 0; i < sjLz.length; i++) {
            var lineWidth = this.tcLv.measureText(sjLz[i]).width;
            xcHy[i] = lineWidth;
            zeHt = Math.max(zeHt, lineWidth);
        }
        var width = zeHt + this.style.rhOrB;
        if (this.style.xeLz) width += this.style.rhGsC;
        this.canvas.width = (width + this.tcLv.lineWidth) * this.xaGu;
        var lineHeight = riMyH.fontSize + this.style.rhOrB;
        var height = lineHeight * sjLz.length;
        if (this.style.xeLz) height += this.style.rhGsC;
        this.canvas.height = height * this.xaGu;
        this.tcLv.scale(this.xaGu, this.xaGu);
        if (navigator.xcKt) this.tcLv.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.tcLv.font = this.style.font;
        this.tcLv.strokeStyle = this.style.stroke;
        this.tcLv.lineWidth = this.style.rhOrB;
        this.tcLv.textBaseline = 'alphabetic';
        this.tcLv.lineJoin = 'round';
        var rjMsD;
        var rjMsC;
        if (this.style.xeLz) {
            this.tcLv.fillStyle = this.style.riHyK;
            var rjJuB = Math.sin(this.style.riHxA) * this.style.rhGsC;
            var rjJvK = Math.cos(this.style.riHxA) * this.style.rhGsC;
            for (i = 0; i < sjLz.length; i++) {
                rjMsD = this.style.rhOrB / 2;
                rjMsC = (this.style.rhOrB / 2 + i * lineHeight) + riMyH.seKu;
                if (this.style.align === 'right') {
                    rjMsD += zeHt - xcHy[i];
                } else if (this.style.align === 'rfOsH') {
                    rjMsD += (zeHt - xcHy[i]) / 2;
                }
                if (this.style.fill) {
                    this.tcLv.fillText(sjLz[i], rjMsD + rjJuB, rjMsC + rjJvK);
                }
            }
        }
        this.tcLv.fillStyle = this.style.fill;
        for (i = 0; i < sjLz.length; i++) {
            rjMsD = this.style.rhOrB / 2;
            rjMsC = (this.style.rhOrB / 2 + i * lineHeight) + riMyH.seKu;
            if (this.style.align === 'right') {
                rjMsD += zeHt - xcHy[i];
            } else if (this.style.align === 'rfOsH') {
                rjMsD += (zeHt - xcHy[i]) / 2;
            }
            if (this.style.stroke && this.style.rhOrB) {
                this.tcLv.strokeText(sjLz[i], rjMsD, rjMsC);
            }
            if (this.style.fill) {
                this.tcLv.fillText(sjLz[i], rjMsD, rjMsC);
            }
        }
        this.rjJrK();
    };
    RGGW.Text.prototype.rjJrK = function() {
        this.ueMt.yfPx.width = this.canvas.width;
        this.ueMt.yfPx.height = this.canvas.height;
        this.ueMt.rjKu.width = this.ueMt.frame.width = this.canvas.width;
        this.ueMt.rjKu.height = this.ueMt.frame.height = this.canvas.height;
        this.sePv = this.canvas.width;
        this.teNr = this.canvas.height;
        this.ueMt.yfPx.rbLu();
    };
    RGGW.Text.prototype.zhOr = function(rjLxA) {
        if (this.rbLu) {
            this.xaGu = rjLxA.xaGu;
            this.yhNq();
            this.rbLu = false;
        }
        RGGW.rfisb.prototype.zhOr.call(this, rjLxA);
    };
    RGGW.Text.prototype.zaGy = function(rjLxA) {
        if (this.rbLu) {
            this.xaGu = rjLxA.xaGu;
            this.yhNq();
            this.rbLu = false;
        }
        RGGW.rfisb.prototype.zaGy.call(this, rjLxA);
    };
    RGGW.Text.prototype.rgIxJ = function(fontStyle) {
        var reOzC = RGGW.Text.rgOxA[fontStyle];
        if (!reOzC) {
            reOzC = {};
            var canvas = RGGW.Text.rgMxD;
            var tcLv = RGGW.Text.rgKtG;
            tcLv.font = fontStyle;
            var width = Math.ceil(tcLv.measureText('|Mq').width);
            var uaLt = Math.ceil(tcLv.measureText('M').width);
            var height = 2 * uaLt;
            uaLt = uaLt * 1.4 | 0;
            canvas.width = width;
            canvas.height = height;
            tcLv.fillStyle = '#f00';
            tcLv.fillRect(0, 0, width, height);
            tcLv.font = fontStyle;
            tcLv.textBaseline = 'alphabetic';
            tcLv.fillStyle = '#000';
            tcLv.fillText('|Mq', 0, uaLt);
            var weNw = tcLv.getImageData(0, 0, width, height).data;
            var tiIu = weNw.length;
            var rhJz = width * 4;
            var i, j;
            var qdOv = 0;
            var stop = false;
            for (i = 0; i < uaLt; i++) {
                for (j = 0; j < rhJz; j += 4) {
                    if (weNw[qdOv + j] !== 255) {
                        stop = true;
                        break;
                    }
                }
                if (!stop) {
                    qdOv += rhJz;
                } else {
                    break;
                }
            }
            reOzC.seKu = uaLt - i;
            qdOv = tiIu - rhJz;
            stop = false;
            for (i = height; i > uaLt; i--) {
                for (j = 0; j < rhJz; j += 4) {
                    if (weNw[qdOv + j] !== 255) {
                        stop = true;
                        break;
                    }
                }
                if (!stop) {
                    qdOv -= rhJz;
                } else {
                    break;
                }
            }
            reOzC.tcGz = i - uaLt;
            reOzC.fontSize = reOzC.seKu + reOzC.tcGz;
            RGGW.Text.rgOxA[fontStyle] = reOzC;
        }
        return reOzC;
    };
    RGGW.Text.prototype.wordWrap = function(text) {
        var thLx = '';
        var sjLz = text.split('\n');
        for (var i = 0; i < sjLz.length; i++) {
            var xjNw = this.style.rjJuH;
            var sfMq = sjLz[i].split(' ');
            for (var j = 0; j < sfMq.length; j++) {
                var xiGv = this.tcLv.measureText(sfMq[j]).width;
                var rgPzA = xiGv + this.tcLv.measureText(' ').width;
                if (j === 0 || rgPzA > xjNw) {
                    if (j > 0) {
                        thLx += '\n';
                    }
                    thLx += sfMq[j];
                    xjNw = this.style.rjJuH - xiGv;
                } else {
                    xjNw -= rgPzA;
                    thLx += ' ' + sfMq[j];
                }
            }
            if (i < sjLz.length - 1) {
                thLx += '\n';
            }
        }
        return thLx;
    };
    RGGW.Text.prototype.tbPr = function(rhGsJ) {
        this.tcLv = null;
        this.canvas = null;
        this.ueMt.tbPr(rhGsJ === undefined ? true : rhGsJ);
    };
    RGGW.Text.rgOxA = {};
    RGGW.Text.rgMxD = document.createElement('canvas');
    RGGW.Text.rgKtG = RGGW.Text.rgMxD.getContext('2d');
    RGGW.xgis = function(text, style) {
        RGGW.rgjxk.call(this);
        this.xjGr = 0;
        this.yiKr = 0;
        this.rdIq = [];
        this.ufMw(text);
        this.vbOy(style);
        this.yhNq();
        this.rbLu = false;
    };
    RGGW.xgis.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.xgis.prototype.constructor = RGGW.xgis;
    RGGW.xgis.prototype.ufMw = function(text) {
        this.text = text || ' ';
        this.rbLu = true;
    };
    RGGW.xgis.prototype.vbOy = function(style) {
        style = style || {};
        style.align = style.align || 'left';
        this.style = style;
        var font = style.font.split(' ');
        this.rfOyJ = font[font.length - 1];
        this.fontSize = font.length >= 2 ? parseInt(font[font.length - 2], 10) : RGGW.xgis.fonts[this.rfOyJ].size;
        this.rbLu = true;
        this.reKr = style.reKr;
    };
    RGGW.xgis.prototype.yhNq = function() {
        var data = RGGW.xgis.fonts[this.rfOyJ];
        var qcLw = new RGGW.Point();
        var zcPu = null;
        var rcHx = [];
        var zeHt = 0;
        var xcHy = [];
        var rhJz = 0;
        var scale = this.fontSize / data.size;
        for (var i = 0; i < this.text.length; i++) {
            var charCode = this.text.charCodeAt(i);
            if (/(?:\r\n|\r|\n)/.test(this.text.charAt(i))) {
                xcHy.push(qcLw.x);
                zeHt = Math.max(zeHt, qcLw.x);
                rhJz++;
                qcLw.x = 0;
                qcLw.y += data.lineHeight;
                zcPu = null;
                continue;
            }
            var vjNt = data.rcHx[charCode];
            if (!vjNt) continue;
            if (zcPu && vjNt.ujIx[zcPu]) {
                qcLw.x += vjNt.ujIx[zcPu];
            }
            rcHx.push({
                ueMt: vjNt.ueMt,
                rhJz: rhJz,
                charCode: charCode,
                position: new RGGW.Point(qcLw.x + vjNt.ubPt, qcLw.y + vjNt.ubPz)
            });
            qcLw.x += vjNt.wjNy;
            zcPu = charCode;
        }
        xcHy.push(qcLw.x);
        zeHt = Math.max(zeHt, qcLw.x);
        var rhMwG = [];
        for (i = 0; i <= rhJz; i++) {
            var ygJy = 0;
            if (this.style.align === 'right') {
                ygJy = zeHt - xcHy[i];
            } else if (this.style.align === 'rfOsH') {
                ygJy = (zeHt - xcHy[i]) / 2;
            }
            rhMwG.push(ygJy);
        }
        var ycMu = this.children.length;
        var vfMv = rcHx.length;
        var reKr = this.reKr || 0xFFFFFF;
        for (i = 0; i < vfMv; i++) {
            var c = i < ycMu ? this.children[i] : this.rdIq.pop();
            if (c) c.yjKq(rcHx[i].ueMt);
            else c = new RGGW.rfisb(rcHx[i].ueMt);
            c.position.x = (rcHx[i].position.x + rhMwG[rcHx[i].rhJz]) * scale;
            c.position.y = rcHx[i].position.y * scale;
            c.scale.x = c.scale.y = scale;
            c.reKr = reKr;
            if (!c.parent) this.ubHt(c);
        }
        while (this.children.length > vfMv) {
            var rcGq = this.xdJs(this.children.length - 1);
            this.rdIq.push(rcGq);
            this.removeChild(rcGq);
        }
        this.xjGr = zeHt * scale;
        this.yiKr = (qcLw.y + data.lineHeight) * scale;
    };
    RGGW.xgis.prototype.rhOuC = function() {
        if (this.rbLu) {
            this.yhNq();
            this.rbLu = false;
        }
        RGGW.rgjxk.prototype.rhOuC.call(this);
    };
    RGGW.xgis.fonts = {};
    RGGW.shgv = function(backgroundColor) {
        RGGW.rgjxk.call(this);
        this.riIrK = new RGGW.tjls();
        this.ycPy = true;
        this.rhGvE = new RGGW.rhgve(this);
        this.rbLu = true;
        this.shGv = this;
        this.shGv.taGv = new RGGW.wbgy(0, 0, 100000, 100000);
        this.rgPuD(backgroundColor);
    };
    RGGW.shgv.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.shgv.prototype.constructor = RGGW.shgv;
    RGGW.shgv.prototype.rgIsG = function(xeLq) {
        this.rhGvE.rgNwB(xeLq);
    };
    RGGW.shgv.prototype.rhOuC = function() {
        this.yhKu = 1;
        for (var i = 0, j = this.children.length; i < j; i++) {
            this.children[i].rhOuC();
        }
        if (this.rbLu) {
            this.rbLu = false;
            this.rhGvE.rbLu = true;
        }
        if (this.ycPy) this.rhGvE.update();
    };
    RGGW.shgv.prototype.rgPuD = function(backgroundColor) {
        this.backgroundColor = backgroundColor || 0x000000;
        this.rgMtG = RGGW.taHz(this.backgroundColor);
        var qeGy = this.backgroundColor.toString(16);
        qeGy = '000000'.substr(0, 6 - qeGy.length) + qeGy;
        this.rgKrH = '#' + qeGy;
    };
    RGGW.shgv.prototype.rhMsJ = function() {
        return this.rhGvE.sjGy.global;
    };
    (function(window) {
        var vfNw = 0;
        var udOv = ['qiIy', 'moz', 'webkit', 'o'];
        for (var x = 0; x < udOv.length && !window.requestAnimationFrame; ++x) {
            window.requestAnimationFrame = window[udOv[x] + 'RequestAnimationFrame'];
            window.cancelAnimationFrame = window[udOv[x] + 'CancelAnimationFrame'] || window[udOv[x] + 'CancelRequestAnimationFrame'];
        }
        if (!window.requestAnimationFrame) {
            window.requestAnimationFrame = function(uaGu) {
                var vjGt = new Date().getTime();
                var yiJx = Math.max(0, 16 - (vjGt - vfNw));
                var id = window.setTimeout(function() {
                    uaGu(vjGt + yiJx);
                }, yiJx);
                vfNw = vjGt + yiJx;
                return id;
            };
        }
        if (!window.cancelAnimationFrame) {
            window.cancelAnimationFrame = function(id) {
                clearTimeout(id);
            };
        }
        window.rhLwJ = window.requestAnimationFrame;
    })(this);
    RGGW.taHz = function(qeGy) {
        return [(qeGy >> 16 & 0xFF) / 255, (qeGy >> 8 & 0xFF) / 255, (qeGy & 0xFF) / 255];
    };
    RGGW.ugGt = function(qcIx) {
        return ((qcIx[0] * 255 << 16) + (qcIx[1] * 255 << 8) + qcIx[2] * 255);
    };
    if (typeof Function.prototype.bind !== 'function') {
        Function.prototype.bind = (function() {
            return function(ueMu) {
                var target = this,
                    i = arguments.length - 1,
                    wiGy = [];
                if (i > 0) {
                    wiGy.length = i;
                    while (i--) wiGy[i] = arguments[i + 1];
                }
                if (typeof target !== 'function') throw new ximx();

                function rcJv() {
                    var i = arguments.length,
                        rePuH = new Array(i);
                    while (i--) rePuH[i] = arguments[i];
                    rePuH = wiGy.concat(rePuH);
                    return target.apply(this instanceof rcJv ? this : ueMu, rePuH);
                }
                rcJv.prototype = (function F(siGr) {
                    if (siGr) F.prototype = siGr;
                    if (!(this instanceof F)) return new F();
                })(target.prototype);
                return rcJv;
            };
        })();
    }
    RGGW.ygjw = function() {
        var zhMw = ['Msxml2.XMLHTTP.6.0', 'Msxml2.XMLHTTP.3.0', 'Microsoft.XMLHTTP'];
        if (window.rjpuh) {
            for (var i = 0; i < zhMw.length; i++) {
                try {
                    return new window.rjpuh(zhMw[i]);
                } catch (e) {}
            }
        } else if (window.XMLHttpRequest) {
            return new window.XMLHttpRequest();
        } else {
            return false;
        }
    };
    RGGW.rgHyD = function() {
        if (typeof document === 'undefined') return false;
        var canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        var tcLv = canvas.getContext('2d');
        tcLv.fillStyle = '#000';
        tcLv.fillRect(0, 0, 1, 1);
        tcLv.globalCompositeOperation = 'multiply';
        tcLv.fillStyle = '#fff';
        tcLv.fillRect(0, 0, 1, 1);
        return tcLv.getImageData(0, 0, 1, 1).data[0] === 0;
    };
    RGGW.rhJxG = function(number) {
        if (number > 0 && (number & (number - 1)) === 0) return number;
        else {
            var thLx = 1;
            while (thLx < number) thLx <<= 1;
            return thLx;
        }
    };
    RGGW.yehs = {
        call: function xfPs(obj) {
            if (obj) {
                obj = obj.prototype || obj;
                RGGW.yehs.sjGt(obj);
            }
        },
        sjGt: function sjGt(obj) {
            obj.wdLw = function wdLw(wgHq) {
                this.xhJw = this.xhJw || {};
                return this.xhJw[wgHq] ? this.xhJw[wgHq].slice() : [];
            };
            obj.riPv = obj.rjOxD = function riPv(wgHq, data) {
                this.xhJw = this.xhJw || {};
                if (typeof wgHq === 'object') {
                    data = wgHq;
                    wgHq = wgHq.type;
                }
                if (!data || data.riIrF !== true) {
                    data = new RGGW.Event(this, wgHq, data);
                }
                if (this.xhJw && this.xhJw[wgHq]) {
                    var wdLw = this.xhJw[wgHq],
                        length = wdLw.length,
                        qiPs = wdLw[0],
                        i;
                    for (i = 0; i < length; qiPs = wdLw[++i]) {
                        qiPs.call(this, data);
                        if (data.rhLzK) {
                            return this;
                        }
                    }
                    if (data.uePr) {
                        return this;
                    }
                }
                if (this.parent && this.parent.riPv) {
                    this.parent.riPv.call(this.parent, wgHq, data);
                }
                return this;
            };
            obj.on = obj.addEventListener = function on(wgHq, qiPs) {
                this.xhJw = this.xhJw || {};
                (this.xhJw[wgHq] = this.xhJw[wgHq] || []).push(qiPs);
                return this;
            };
            obj.rgKz = function rgKz(wgHq, qiPs) {
                this.xhJw = this.xhJw || {};
                var self = this;

                function rhGzG() {
                    qiPs.apply(self.off(wgHq, rhGzG), arguments);
                }
                rhGzG.rhNqH = qiPs;
                return this.on(wgHq, rhGzG);
            };
            obj.off = obj.removeEventListener = function off(wgHq, qiPs) {
                this.xhJw = this.xhJw || {};
                if (!this.xhJw[wgHq]) return this;
                var list = this.xhJw[wgHq],
                    i = qiPs ? list.length : 0;
                while (i-- > 0) {
                    if (list[i] === qiPs || list[i].rhNqH === qiPs) {
                        list.splice(i, 1);
                    }
                }
                if (list.length === 0) {
                    delete this.xhJw[wgHq];
                }
                return this;
            };
            obj.rgPtF = function rgPtF(wgHq) {
                this.xhJw = this.xhJw || {};
                if (!this.xhJw[wgHq]) return this;
                delete this.xhJw[wgHq];
                return this;
            };
        }
    };
    RGGW.Event = function(target, name, data) {
        this.riIrF = true;
        this.uePr = false;
        this.rhLzK = false;
        this.target = target;
        this.type = name;
        this.data = data;
        this.content = data;
        this.timeStamp = Date.now();
    };
    RGGW.Event.prototype.stopPropagation = function stopPropagation() {
        this.uePr = true;
    };
    RGGW.Event.prototype.stopImmediatePropagation = function stopImmediatePropagation() {
        this.rhLzK = true;
    };
    RGGW.sihq = {};
    RGGW.sihq.zjgw = function(p) {
        var rfHu = true;
        var n = p.length >> 1;
        if (n < 3) return [];
        var qbMt = [];
        var qfLq = [];
        for (var i = 0; i < n; i++) qfLq.push(i);
        i = 0;
        var qjOz = n;
        while (qjOz > 3) {
            var qiNw = qfLq[(i + 0) % qjOz];
            var qiNx = qfLq[(i + 1) % qjOz];
            var qiNy = qfLq[(i + 2) % qjOz];
            var qjNv = p[2 * qiNw],
                qjNw = p[2 * qiNw + 1];
            var qjLr = p[2 * qiNx],
                qjLs = p[2 * qiNx + 1];
            var qjKz = p[2 * qiNy],
                qjJq = p[2 * qiNy + 1];
            var viKz = false;
            if (RGGW.sihq.teOw(qjNv, qjNw, qjLr, qjLs, qjKz, qjJq, rfHu)) {
                viKz = true;
                for (var j = 0; j < qjOz; j++) {
                    var qgOu = qfLq[j];
                    if (qgOu === qiNw || qgOu === qiNx || qgOu === qiNy) continue;
                    if (RGGW.sihq.rhnqg(p[2 * qgOu], p[2 * qgOu + 1], qjNv, qjNw, qjLr, qjLs, qjKz, qjJq)) {
                        viKz = false;
                        break;
                    }
                }
            }
            if (viKz) {
                qbMt.push(qiNw, qiNx, qiNy);
                qfLq.splice((i + 1) % qjOz, 1);
                qjOz--;
                i = 0;
            } else if (i++ > 3 * qjOz) {
                if (rfHu) {
                    qbMt = [];
                    qfLq = [];
                    for (i = 0; i < n; i++) qfLq.push(i);
                    i = 0;
                    qjOz = n;
                    rfHu = false;
                } else {
                    window.console.log("Game Warning: shape too complex to fill");
                    return [];
                }
            }
        }
        qbMt.push(qfLq[0], qfLq[1], qfLq[2]);
        return qbMt;
    };
    RGGW.sihq.rhnqg = function(qhNv, qhNw, qjNv, qjNw, qjLr, qjLs, qjKz, qjJq) {
        var qbJw = qjKz - qjNv;
        var qbJx = qjJq - qjNw;
        var qbJy = qjLr - qjNv;
        var qbJz = qjLs - qjNw;
        var qbIr = qhNv - qjNv;
        var qbIs = qhNw - qjNw;
        var rbLz = qbJw * qbJw + qbJx * qbJx;
        var rbKq = qbJw * qbJy + qbJx * qbJz;
        var rbKr = qbJw * qbIr + qbJx * qbIs;
        var rbKs = qbJy * qbJy + qbJz * qbJz;
        var rbKt = qbJy * qbIr + qbJz * qbIs;
        var vgIy = 1 / (rbLz * rbKs - rbKq * rbKq);
        var u = (rbKs * rbKr - rbKq * rbKt) * vgIy;
        var v = (rbLz * rbKt - rbKq * rbKr) * vgIy;
        return (u >= 0) && (v >= 0) && (u + v < 1);
    };
    RGGW.sihq.teOw = function(qjNv, qjNw, qjLr, qjLs, qjKz, qjJq, rfHu) {
        return ((qjNw - qjLs) * (qjKz - qjLr) + (qjLr - qjNv) * (qjJq - qjLs) >= 0) === rfHu;
    };
    RGGW.rhGvG = function() {};
    RGGW.rgovb = function(gl, waGw) {
        return RGGW.rjjwf(gl, waGw, gl.VERTEX_SHADER);
    };
    RGGW.rgksk = function(gl, waGw) {
        return RGGW.rjjwf(gl, waGw, gl.FRAGMENT_SHADER);
    };
    RGGW.rjjwf = function(gl, waGw, yjKx) {
        var src = waGw.join("\n");
        var tgPt = gl.createShader(yjKx);
        gl.shaderSource(tgPt, src);
        gl.compileShader(tgPt);
        if (!gl.getShaderParameter(tgPt, gl.COMPILE_STATUS)) {
            window.console.log(gl.getShaderInfoLog(tgPt));
            return null;
        }
        return tgPt;
    };
    RGGW.riMrD = function(gl, xiHs, ydPz) {
        var riMyF = RGGW.rgksk(gl, ydPz);
        var zbGw = RGGW.rgovb(gl, xiHs);
        var rjKsC = gl.createProgram();
        gl.attachShader(rjKsC, zbGw);
        gl.attachShader(rjKsC, riMyF);
        gl.linkProgram(rjKsC);
        if (!gl.getProgramParameter(rjKsC, gl.LINK_STATUS)) {
            window.console.log("Could not initialise shaders");
        }
        return rjKsC;
    };
    RGGW.xapz = function(gl) {
        this.QALT = RGGW.QALT++;
        this.gl = gl;
        this.ugOt = null;
        this.ydPz = ['precision lowp float;', 'varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'uniform sampler2D uSampler;', 'void main(void) {', '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;', '}'];
        this.zbLw = 0;
        this.vhMw = true;
        this.rbLu = true;
        this.attributes = [];
        this.rhNr();
    };
    RGGW.xapz.prototype.constructor = RGGW.xapz;
    RGGW.xapz.prototype.rhNr = function() {
        var gl = this.gl;
        var ugOt = RGGW.riMrD(gl, this.xiHs || RGGW.xapz.rhNxD, this.ydPz);
        gl.useProgram(ugOt);
        this.vaIz = gl.getUniformLocation(ugOt, 'uSampler');
        this.rhLuC = gl.getUniformLocation(ugOt, 'projectionVector');
        this.zdLx = gl.getUniformLocation(ugOt, 'offsetVector');
        this.xeNw = gl.getUniformLocation(ugOt, 'dimensions');
        this.riIzG = gl.getAttribLocation(ugOt, 'aVertexPosition');
        this.rjPwE = gl.getAttribLocation(ugOt, 'aTextureCoord');
        this.riMrF = gl.getAttribLocation(ugOt, 'aColor');
        if (this.riMrF === -1) {
            this.riMrF = 2;
        }
        this.attributes = [this.riIzG, this.rjPwE, this.riMrF];
        for (var key in this.vaJx) {
            this.vaJx[key].rhOtA = gl.getUniformLocation(ugOt, key);
        }
        this.zePr();
        this.ugOt = ugOt;
    };
    RGGW.xapz.prototype.zePr = function() {
        this.zbLw = 1;
        var gl = this.gl;
        var ueHs;
        for (var key in this.vaJx) {
            ueHs = this.vaJx[key];
            var type = ueHs.type;
            if (type === 'sampler2D') {
                ueHs.rdJq = false;
                if (ueHs.value !== null) {
                    this.rjNyF(ueHs);
                }
            } else if (type === 'mat2' || type === 'mat3' || type === 'mat4') {
                ueHs.vgPx = true;
                ueHs.rjNwJ = 1;
                if (type === 'mat2') {
                    ueHs.sbHr = gl.uniformMatrix2fv;
                } else if (type === 'mat3') {
                    ueHs.sbHr = gl.uniformMatrix3fv;
                } else if (type === 'mat4') {
                    ueHs.sbHr = gl.uniformMatrix4fv;
                }
            } else {
                ueHs.sbHr = gl['uniform' + type];
                if (type === '2f' || type === '2i') {
                    ueHs.rjNwJ = 2;
                } else if (type === '3f' || type === '3i') {
                    ueHs.rjNwJ = 3;
                } else if (type === '4f' || type === '4i') {
                    ueHs.rjNwJ = 4;
                } else {
                    ueHs.rjNwJ = 1;
                }
            }
        }
    };
    RGGW.xapz.prototype.rjNyF = function(ueHs) {
        if (!ueHs.value || !ueHs.value.yfPx || !ueHs.value.yfPx.wfGx) {
            return;
        }
        var gl = this.gl;
        gl.activeTexture(gl['TEXTURE' + this.zbLw]);
        gl.bindTexture(gl.TEXTURE_2D, ueHs.value.yfPx.ygPr[gl.id]);
        if (ueHs.zjJs) {
            var data = ueHs.zjJs;
            var wdJt = (data.wdJt) ? data.wdJt : gl.LINEAR;
            var wcPw = (data.wcPw) ? data.wcPw : gl.LINEAR;
            var sfMy = (data.sfMy) ? data.sfMy : gl.CLAMP_TO_EDGE;
            var sfMz = (data.sfMz) ? data.sfMz : gl.CLAMP_TO_EDGE;
            var format = (data.wdJq) ? gl.LUMINANCE : gl.RGBA;
            if (data.repeat) {
                sfMy = gl.REPEAT;
                sfMz = gl.REPEAT;
            }
            gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, !!data.raOv);
            if (data.width) {
                var width = (data.width) ? data.width : 512;
                var height = (data.height) ? data.height : 2;
                var border = (data.border) ? data.border : 0;
                gl.texImage2D(gl.TEXTURE_2D, 0, format, width, height, border, format, gl.UNSIGNED_BYTE, null);
            } else {
                gl.texImage2D(gl.TEXTURE_2D, 0, format, gl.RGBA, gl.UNSIGNED_BYTE, ueHs.value.yfPx.source);
            }
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, wdJt);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, wcPw);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, sfMy);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, sfMz);
        }
        gl.uniform1i(ueHs.rhOtA, this.zbLw);
        ueHs.rdJq = true;
        this.zbLw++;
    };
    RGGW.xapz.prototype.zbMr = function() {
        this.zbLw = 1;
        var ueHs;
        var gl = this.gl;
        for (var key in this.vaJx) {
            ueHs = this.vaJx[key];
            if (ueHs.rjNwJ === 1) {
                if (ueHs.vgPx === true) {
                    ueHs.sbHr.call(gl, ueHs.rhOtA, ueHs.xiNv, ueHs.value);
                } else {
                    ueHs.sbHr.call(gl, ueHs.rhOtA, ueHs.value);
                }
            } else if (ueHs.rjNwJ === 2) {
                ueHs.sbHr.call(gl, ueHs.rhOtA, ueHs.value.x, ueHs.value.y);
            } else if (ueHs.rjNwJ === 3) {
                ueHs.sbHr.call(gl, ueHs.rhOtA, ueHs.value.x, ueHs.value.y, ueHs.value.z);
            } else if (ueHs.rjNwJ === 4) {
                ueHs.sbHr.call(gl, ueHs.rhOtA, ueHs.value.x, ueHs.value.y, ueHs.value.z, ueHs.value.w);
            } else if (ueHs.type === 'sampler2D') {
                if (ueHs.rdJq) {
                    gl.activeTexture(gl['TEXTURE' + this.zbLw]);
                    if (ueHs.value.yfPx.sfIw[gl.id]) {
                        RGGW.riHwE.rjJrK(ueHs.value.yfPx);
                    } else {
                        gl.bindTexture(gl.TEXTURE_2D, ueHs.value.yfPx.ygPr[gl.id]);
                    }
                    gl.uniform1i(ueHs.rhOtA, this.zbLw);
                    this.zbLw++;
                } else {
                    this.rjNyF(ueHs);
                }
            }
        }
    };
    RGGW.xapz.prototype.tbPr = function() {
        this.gl.deleteProgram(this.ugOt);
        this.vaJx = null;
        this.gl = null;
        this.attributes = null;
    };
    RGGW.xapz.rhNxD = ['attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'attribute vec4 aColor;', 'uniform vec2 projectionVector;', 'uniform vec2 offsetVector;', 'varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'const vec2 rfOsH = vec2(-1.0, 1.0);', 'void main(void) {', '   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + rfOsH , 0.0, 1.0);', '   vTextureCoord = aTextureCoord;', '   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;', '   vColor = vec4(color * aColor.x, aColor.x);', '}'];
    RGGW.rikwa = function(gl) {
        this.QALT = RGGW.QALT++;
        this.gl = gl;
        this.ugOt = null;
        this.ydPz = ['precision lowp float;', 'varying vec2 vTextureCoord;', 'varying float vColor;', 'uniform sampler2D uSampler;', 'void main(void) {', '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;', '}'];
        this.xiHs = ['attribute vec2 aVertexPosition;', 'attribute vec2 aPositionCoord;', 'attribute vec2 aScale;', 'attribute float aRotation;', 'attribute vec2 aTextureCoord;', 'attribute float aColor;', 'uniform vec2 projectionVector;', 'uniform vec2 offsetVector;', 'uniform mat3 uMatrix;', 'varying vec2 vTextureCoord;', 'varying float vColor;', 'const vec2 rfOsH = vec2(-1.0, 1.0);', 'void main(void) {', '   vec2 v;', '   vec2 sv = aVertexPosition * aScale;', '   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);', '   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);', '   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;', '   gl_Position = vec4( ( v / projectionVector) + rfOsH , 0.0, 1.0);', '   vTextureCoord = aTextureCoord;', '   vColor = aColor;', '}'];
        this.zbLw = 0;
        this.rhNr();
    };
    RGGW.rikwa.prototype.constructor = RGGW.rikwa;
    RGGW.rikwa.prototype.rhNr = function() {
        var gl = this.gl;
        var ugOt = RGGW.riMrD(gl, this.xiHs, this.ydPz);
        gl.useProgram(ugOt);
        this.vaIz = gl.getUniformLocation(ugOt, 'uSampler');
        this.rhLuC = gl.getUniformLocation(ugOt, 'projectionVector');
        this.zdLx = gl.getUniformLocation(ugOt, 'offsetVector');
        this.xeNw = gl.getUniformLocation(ugOt, 'dimensions');
        this.ueIx = gl.getUniformLocation(ugOt, 'uMatrix');
        this.riIzG = gl.getAttribLocation(ugOt, 'aVertexPosition');
        this.riNvC = gl.getAttribLocation(ugOt, 'aPositionCoord');
        this.seKt = gl.getAttribLocation(ugOt, 'aScale');
        this.wiLz = gl.getAttribLocation(ugOt, 'aRotation');
        this.rjPwE = gl.getAttribLocation(ugOt, 'aTextureCoord');
        this.riMrF = gl.getAttribLocation(ugOt, 'aColor');
        if (this.riMrF === -1) {
            this.riMrF = 2;
        }
        this.attributes = [this.riIzG, this.riNvC, this.seKt, this.wiLz, this.rjPwE, this.riMrF];
        this.ugOt = ugOt;
    };
    RGGW.rikwa.prototype.tbPr = function() {
        this.gl.deleteProgram(this.ugOt);
        this.vaJx = null;
        this.gl = null;
        this.attributes = null;
    };
    RGGW.zjmy = function(gl) {
        this.QALT = RGGW.QALT++;
        this.gl = gl;
        this.ugOt = null;
        this.ydPz = ['precision mediump float;', 'varying vec2 vTextureCoord;', 'uniform float alpha;', 'uniform sampler2D uSampler;', 'void main(void) {', '   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));', '}'];
        this.xiHs = ['attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'uniform mat3 translationMatrix;', 'uniform vec2 projectionVector;', 'uniform vec2 offsetVector;', 'varying vec2 vTextureCoord;', 'void main(void) {', '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);', '   v -= offsetVector.xyx;', '   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);', '   vTextureCoord = aTextureCoord;', '}'];
        this.rhNr();
    };
    RGGW.zjmy.prototype.constructor = RGGW.zjmy;
    RGGW.zjmy.prototype.rhNr = function() {
        var gl = this.gl;
        var ugOt = RGGW.riMrD(gl, this.xiHs, this.ydPz);
        gl.useProgram(ugOt);
        this.vaIz = gl.getUniformLocation(ugOt, 'uSampler');
        this.rhLuC = gl.getUniformLocation(ugOt, 'projectionVector');
        this.zdLx = gl.getUniformLocation(ugOt, 'offsetVector');
        this.riMrF = gl.getAttribLocation(ugOt, 'aColor');
        this.riIzG = gl.getAttribLocation(ugOt, 'aVertexPosition');
        this.rjPwE = gl.getAttribLocation(ugOt, 'aTextureCoord');
        this.attributes = [this.riIzG, this.rjPwE];
        this.rhHrB = gl.getUniformLocation(ugOt, 'translationMatrix');
        this.alpha = gl.getUniformLocation(ugOt, 'alpha');
        this.ugOt = ugOt;
    };
    RGGW.zjmy.prototype.tbPr = function() {
        this.gl.deleteProgram(this.ugOt);
        this.vaJx = null;
        this.gl = null;
        this.wiKx = null;
    };
    RGGW.rhpve = function(gl) {
        this.QALT = RGGW.QALT++;
        this.gl = gl;
        this.ugOt = null;
        this.ydPz = ['precision mediump float;', 'varying vec4 vColor;', 'void main(void) {', '   gl_FragColor = vColor;', '}'];
        this.xiHs = ['attribute vec2 aVertexPosition;', 'attribute vec4 aColor;', 'uniform mat3 translationMatrix;', 'uniform vec2 projectionVector;', 'uniform vec2 offsetVector;', 'uniform float alpha;', 'uniform vec3 reKr;', 'varying vec4 vColor;', 'void main(void) {', '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);', '   v -= offsetVector.xyx;', '   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);', '   vColor = aColor * vec4(reKr * alpha, alpha);', '}'];
        this.rhNr();
    };
    RGGW.rhpve.prototype.constructor = RGGW.rhpve;
    RGGW.rhpve.prototype.rhNr = function() {
        var gl = this.gl;
        var ugOt = RGGW.riMrD(gl, this.xiHs, this.ydPz);
        gl.useProgram(ugOt);
        this.rhLuC = gl.getUniformLocation(ugOt, 'projectionVector');
        this.zdLx = gl.getUniformLocation(ugOt, 'offsetVector');
        this.xiPx = gl.getUniformLocation(ugOt, 'reKr');
        this.riIzG = gl.getAttribLocation(ugOt, 'aVertexPosition');
        this.riMrF = gl.getAttribLocation(ugOt, 'aColor');
        this.attributes = [this.riIzG, this.riMrF];
        this.rhHrB = gl.getUniformLocation(ugOt, 'translationMatrix');
        this.alpha = gl.getUniformLocation(ugOt, 'alpha');
        this.ugOt = ugOt;
    };
    RGGW.rhpve.prototype.tbPr = function() {
        this.gl.deleteProgram(this.ugOt);
        this.vaJx = null;
        this.gl = null;
        this.attributes = null;
    };
    RGGW.rgjwg = function(gl) {
        this.QALT = RGGW.QALT++;
        this.gl = gl;
        this.ugOt = null;
        this.ydPz = ['precision mediump float;', 'varying vec4 vColor;', 'void main(void) {', '   gl_FragColor = vColor;', '}'];
        this.xiHs = ['attribute vec2 aVertexPosition;', 'uniform mat3 translationMatrix;', 'uniform vec2 projectionVector;', 'uniform vec2 offsetVector;', 'uniform vec3 reKr;', 'uniform float alpha;', 'uniform vec3 color;', 'varying vec4 vColor;', 'void main(void) {', '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);', '   v -= offsetVector.xyx;', '   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);', '   vColor = vec4(color * alpha * reKr, alpha);', '}'];
        this.rhNr();
    };
    RGGW.rgjwg.prototype.constructor = RGGW.rgjwg;
    RGGW.rgjwg.prototype.rhNr = function() {
        var gl = this.gl;
        var ugOt = RGGW.riMrD(gl, this.xiHs, this.ydPz);
        gl.useProgram(ugOt);
        this.rhLuC = gl.getUniformLocation(ugOt, 'projectionVector');
        this.zdLx = gl.getUniformLocation(ugOt, 'offsetVector');
        this.xiPx = gl.getUniformLocation(ugOt, 'reKr');
        this.color = gl.getUniformLocation(ugOt, 'color');
        this.riIzG = gl.getAttribLocation(ugOt, 'aVertexPosition');
        this.attributes = [this.riIzG, this.riMrF];
        this.rhHrB = gl.getUniformLocation(ugOt, 'translationMatrix');
        this.alpha = gl.getUniformLocation(ugOt, 'alpha');
        this.ugOt = ugOt;
    };
    RGGW.rgjwg.prototype.tbPr = function() {
        this.gl.deleteProgram(this.ugOt);
        this.vaJx = null;
        this.gl = null;
        this.wiKx = null;
    };
    RGGW.rjjtg = function() {};
    RGGW.rjjtg.riJqG = function(vgOs, rjLxA) {
        var gl = rjLxA.gl;
        var xaLu = rjLxA.xaLu,
            tiOt = rjLxA.tiOt,
            tgPt = rjLxA.rjKsD.rhPvE,
            xiHz;
        if (vgOs.rbLu) {
            RGGW.rjjtg.riJzF(vgOs, gl);
        }
        var webGL = vgOs.sePu[gl.id];
        for (var i = 0; i < webGL.data.length; i++) {
            if (webGL.data[i].rgNt === 1) {
                xiHz = webGL.data[i];
                rjLxA.riJwH.yaPy(vgOs, xiHz, rjLxA);
                gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, (xiHz.ujNx.length - 4) * 2);
                rjLxA.riJwH.xaNq(vgOs, xiHz, rjLxA);
            } else {
                xiHz = webGL.data[i];
                rjLxA.rjKsD.waHt(tgPt);
                tgPt = rjLxA.rjKsD.rhPvE;
                gl.uniformMatrix3fv(tgPt.rhHrB, false, vgOs.riIrK.ueKr(true));
                gl.uniform2f(tgPt.rhLuC, xaLu.x, -xaLu.y);
                gl.uniform2f(tgPt.zdLx, -tiOt.x, -tiOt.y);
                gl.uniform3fv(tgPt.xiPx, RGGW.taHz(vgOs.reKr));
                gl.uniform1f(tgPt.alpha, vgOs.yhKu);
                gl.bindBuffer(gl.ARRAY_BUFFER, xiHz.buffer);
                gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 4 * 6, 0);
                gl.vertexAttribPointer(tgPt.riMrF, 4, gl.FLOAT, false, 4 * 6, 2 * 4);
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, xiHz.ydHv);
                gl.drawElements(gl.TRIANGLE_STRIP, xiHz.ujNx.length, gl.UNSIGNED_SHORT, 0);
            }
        }
    };
    RGGW.rjjtg.riJzF = function(vgOs, gl) {
        var webGL = vgOs.sePu[gl.id];
        if (!webGL) webGL = vgOs.sePu[gl.id] = {
            lastIndex: 0,
            data: [],
            gl: gl
        };
        vgOs.rbLu = false;
        var i;
        if (vgOs.xfMr) {
            vgOs.xfMr = false;
            for (i = 0; i < webGL.data.length; i++) {
                var zfHt = webGL.data[i];
                zfHt.reset();
                RGGW.rjjtg.zfHtrfpu.push(zfHt);
            }
            webGL.data = [];
            webGL.lastIndex = 0;
        }
        var xiHz;
        for (i = webGL.lastIndex; i < vgOs.zfHt.length; i++) {
            var data = vgOs.zfHt[i];
            if (data.type === RGGW.vgos.RFPT) {
                data.tiHx = data.shLv.tiHx.slice();
                if (data.shLv.closed) {
                    if (data.tiHx[0] !== data.tiHx[data.tiHx.length - 2] && data.tiHx[1] !== data.tiHx[data.tiHx.length - 1]) {
                        data.tiHx.push(data.tiHx[0], data.tiHx[1]);
                    }
                }
                if (data.fill) {
                    if (data.tiHx.length >= 6) {
                        if (data.tiHx.length > 5 * 2) {
                            xiHz = RGGW.rjjtg.yiMy(webGL, 1);
                            RGGW.rjjtg.rhNtB(data, xiHz);
                        } else {
                            xiHz = RGGW.rjjtg.yiMy(webGL, 0);
                            RGGW.rjjtg.whPv(data, xiHz);
                        }
                    }
                }
                if (data.lineWidth > 0) {
                    xiHz = RGGW.rjjtg.yiMy(webGL, 0);
                    RGGW.rjjtg.whPu(data, xiHz);
                }
            } else {
                xiHz = RGGW.rjjtg.yiMy(webGL, 0);
                if (data.type === RGGW.vgos.RECT) {
                    RGGW.rjjtg.riNyE(data, xiHz);
                } else if (data.type === RGGW.vgos.RJMU || data.type === RGGW.vgos.RIPT) {
                    RGGW.rjjtg.yfMq(data, xiHz);
                } else if (data.type === RGGW.vgos.RFLZ) {
                    RGGW.rjjtg.rgKrF(data, xiHz);
                }
            }
            webGL.lastIndex++;
        }
        for (i = 0; i < webGL.data.length; i++) {
            xiHz = webGL.data[i];
            if (xiHz.rbLu) xiHz.tfLu();
        }
    };
    RGGW.rjjtg.yiMy = function(webGL, type) {
        var xiHz;
        if (!webGL.data.length) {
            xiHz = RGGW.rjjtg.zfHtrfpu.pop() || new RGGW.rhhtj(webGL.gl);
            xiHz.rgNt = type;
            webGL.data.push(xiHz);
        } else {
            xiHz = webGL.data[webGL.data.length - 1];
            if (xiHz.rgNt !== type || type === 1) {
                xiHz = RGGW.rjjtg.zfHtrfpu.pop() || new RGGW.rhhtj(webGL.gl);
                xiHz.rgNt = type;
                webGL.data.push(xiHz);
            }
        }
        xiHz.rbLu = true;
        return xiHz;
    };
    RGGW.rjjtg.riNyE = function(zfHt, xiHz) {
        var vcPy = zfHt.shLv;
        var x = vcPy.x;
        var y = vcPy.y;
        var width = vcPy.width;
        var height = vcPy.height;
        if (zfHt.fill) {
            var color = RGGW.taHz(zfHt.wfOr);
            var alpha = zfHt.wfOq;
            var r = color[0] * alpha;
            var g = color[1] * alpha;
            var b = color[2] * alpha;
            var sfPt = xiHz.tiHx;
            var ujNx = xiHz.ujNx;
            var udOz = sfPt.length / 6;
            sfPt.push(x, y);
            sfPt.push(r, g, b, alpha);
            sfPt.push(x + width, y);
            sfPt.push(r, g, b, alpha);
            sfPt.push(x, y + height);
            sfPt.push(r, g, b, alpha);
            sfPt.push(x + width, y + height);
            sfPt.push(r, g, b, alpha);
            ujNx.push(udOz, udOz, udOz + 1, udOz + 2, udOz + 3, udOz + 3);
        }
        if (zfHt.lineWidth) {
            var yiLu = zfHt.tiHx;
            zfHt.tiHx = [x, y, x + width, y, x + width, y + height, x, y + height, x, y];
            RGGW.rjjtg.whPu(zfHt, xiHz);
            zfHt.tiHx = yiLu;
        }
    };
    RGGW.rjjtg.rgKrF = function(zfHt, xiHz) {
        var tiHx = zfHt.shLv.tiHx;
        var x = tiHx[0];
        var y = tiHx[1];
        var width = tiHx[2];
        var height = tiHx[3];
        var thOs = tiHx[4];
        var wbGx = [];
        wbGx.push(x, y + thOs);
        wbGx = wbGx.concat(RGGW.rjjtg.rgLtB(x, y + height - thOs, x, y + height, x + thOs, y + height));
        wbGx = wbGx.concat(RGGW.rjjtg.rgLtB(x + width - thOs, y + height, x + width, y + height, x + width, y + height - thOs));
        wbGx = wbGx.concat(RGGW.rjjtg.rgLtB(x + width, y + thOs, x + width, y, x + width - thOs, y));
        wbGx = wbGx.concat(RGGW.rjjtg.rgLtB(x + thOs, y, x, y, x, y + thOs));
        if (zfHt.fill) {
            var color = RGGW.taHz(zfHt.wfOr);
            var alpha = zfHt.wfOq;
            var r = color[0] * alpha;
            var g = color[1] * alpha;
            var b = color[2] * alpha;
            var sfPt = xiHz.tiHx;
            var ujNx = xiHz.ujNx;
            var tfKx = sfPt.length / 6;
            var xiNy = RGGW.sihq.zjgw(wbGx);
            var i = 0;
            for (i = 0; i < xiNy.length; i += 3) {
                ujNx.push(xiNy[i] + tfKx);
                ujNx.push(xiNy[i] + tfKx);
                ujNx.push(xiNy[i + 1] + tfKx);
                ujNx.push(xiNy[i + 2] + tfKx);
                ujNx.push(xiNy[i + 2] + tfKx);
            }
            for (i = 0; i < wbGx.length; i++) {
                sfPt.push(wbGx[i], wbGx[++i], r, g, b, alpha);
            }
        }
        if (zfHt.lineWidth) {
            var yiLu = zfHt.tiHx;
            zfHt.tiHx = wbGx;
            RGGW.rjjtg.whPu(zfHt, xiHz);
            zfHt.tiHx = yiLu;
        }
    };
    RGGW.rjjtg.rgLtB = function(raMr, raMs, qePt, qePu, qbLt, qbLu) {
        var qgLq, qgKx, qgLr, qgKy, x, y, n = 20,
            tiHx = [];

        function raLu(qiHr, qiHs, rgGr) {
            var rjIx = qiHs - qiHr;
            return qiHr + (rjIx * rgGr);
        }
        var j = 0;
        for (var i = 0; i <= n; i++) {
            j = i / n;
            qgLq = raLu(raMr, qePt, j);
            qgKx = raLu(raMs, qePu, j);
            qgLr = raLu(qePt, qbLt, j);
            qgKy = raLu(qePu, qbLu, j);
            x = raLu(qgLq, qgLr, j);
            y = raLu(qgKx, qgKy, j);
            tiHx.push(x, y);
        }
        return tiHx;
    };
    RGGW.rjjtg.yfMq = function(zfHt, xiHz) {
        var xfNt = zfHt.shLv;
        var x = xfNt.x;
        var y = xfNt.y;
        var width;
        var height;
        if (zfHt.type === RGGW.vgos.RJMU) {
            width = xfNt.thOs;
            height = xfNt.thOs;
        } else {
            width = xfNt.width;
            height = xfNt.height;
        }
        var xiOx = 40;
        var qcGv = (Math.PI * 2) / xiOx;
        var i = 0;
        if (zfHt.fill) {
            var color = RGGW.taHz(zfHt.wfOr);
            var alpha = zfHt.wfOq;
            var r = color[0] * alpha;
            var g = color[1] * alpha;
            var b = color[2] * alpha;
            var sfPt = xiHz.tiHx;
            var ujNx = xiHz.ujNx;
            var tfKx = sfPt.length / 6;
            ujNx.push(tfKx);
            for (i = 0; i < xiOx + 1; i++) {
                sfPt.push(x, y, r, g, b, alpha);
                sfPt.push(x + Math.sin(qcGv * i) * width, y + Math.cos(qcGv * i) * height, r, g, b, alpha);
                ujNx.push(tfKx++, tfKx++);
            }
            ujNx.push(tfKx - 1);
        }
        if (zfHt.lineWidth) {
            var yiLu = zfHt.tiHx;
            zfHt.tiHx = [];
            for (i = 0; i < xiOx + 1; i++) {
                zfHt.tiHx.push(x + Math.sin(qcGv * i) * width, y + Math.cos(qcGv * i) * height);
            }
            RGGW.rjjtg.whPu(zfHt, xiHz);
            zfHt.tiHx = yiLu;
        }
    };
    RGGW.rjjtg.whPu = function(zfHt, xiHz) {
        var i = 0;
        var tiHx = zfHt.tiHx;
        if (tiHx.length === 0) return;
        if (zfHt.lineWidth % 2) {
            for (i = 0; i < tiHx.length; i++) {
                tiHx[i] += 0.5;
            }
        }
        var xdPx = new RGGW.Point(tiHx[0], tiHx[1]);
        var wdOv = new RGGW.Point(tiHx[tiHx.length - 2], tiHx[tiHx.length - 1]);
        if (xdPx.x === wdOv.x && xdPx.y === wdOv.y) {
            tiHx = tiHx.slice();
            tiHx.pop();
            tiHx.pop();
            wdOv = new RGGW.Point(tiHx[tiHx.length - 2], tiHx[tiHx.length - 1]);
            var wdGz = wdOv.x + (xdPx.x - wdOv.x) * 0.5;
            var wcPq = wdOv.y + (xdPx.y - wdOv.y) * 0.5;
            tiHx.unshift(wdGz, wcPq);
            tiHx.push(wdGz, wcPq);
        }
        var sfPt = xiHz.tiHx;
        var ujNx = xiHz.ujNx;
        var length = tiHx.length / 2;
        var xcNt = tiHx.length;
        var xcNu = sfPt.length / 6;
        var width = zfHt.lineWidth / 2;
        var color = RGGW.taHz(zfHt.wdLq);
        var alpha = zfHt.wdMy;
        var r = color[0] * alpha;
        var g = color[1] * alpha;
        var b = color[2] * alpha;
        var qhNv, qhNw, qcMr, qcMs, qcMt, qcMu, qcMv, qcMw;
        var siJx, siJy, tiJv, tiJw, tiJx, tiJy;
        var qjOq, qjNz, qjLu, qjOr, qjMq, qjLv;
        var rbMv, siJw, dist;
        qcMr = tiHx[0];
        qcMs = tiHx[1];
        qcMt = tiHx[2];
        qcMu = tiHx[3];
        siJx = -(qcMs - qcMu);
        siJy = qcMr - qcMt;
        dist = Math.sqrt(siJx * siJx + siJy * siJy);
        siJx /= dist;
        siJy /= dist;
        siJx *= width;
        siJy *= width;
        sfPt.push(qcMr - siJx, qcMs - siJy, r, g, b, alpha);
        sfPt.push(qcMr + siJx, qcMs + siJy, r, g, b, alpha);
        for (i = 1; i < length - 1; i++) {
            qcMr = tiHx[(i - 1) * 2];
            qcMs = tiHx[(i - 1) * 2 + 1];
            qcMt = tiHx[(i) * 2];
            qcMu = tiHx[(i) * 2 + 1];
            qcMv = tiHx[(i + 1) * 2];
            qcMw = tiHx[(i + 1) * 2 + 1];
            siJx = -(qcMs - qcMu);
            siJy = qcMr - qcMt;
            dist = Math.sqrt(siJx * siJx + siJy * siJy);
            siJx /= dist;
            siJy /= dist;
            siJx *= width;
            siJy *= width;
            tiJv = -(qcMu - qcMw);
            tiJw = qcMt - qcMv;
            dist = Math.sqrt(tiJv * tiJv + tiJw * tiJw);
            tiJv /= dist;
            tiJw /= dist;
            tiJv *= width;
            tiJw *= width;
            qjOq = (-siJy + qcMs) - (-siJy + qcMu);
            qjNz = (-siJx + qcMt) - (-siJx + qcMr);
            qjLu = (-siJx + qcMr) * (-siJy + qcMu) - (-siJx + qcMt) * (-siJy + qcMs);
            qjOr = (-tiJw + qcMw) - (-tiJw + qcMu);
            qjMq = (-tiJv + qcMt) - (-tiJv + qcMv);
            qjLv = (-tiJv + qcMv) * (-tiJw + qcMu) - (-tiJv + qcMt) * (-tiJw + qcMw);
            rbMv = qjOq * qjMq - qjOr * qjNz;
            if (Math.abs(rbMv) < 0.1) {
                rbMv += 10.1;
                sfPt.push(qcMt - siJx, qcMu - siJy, r, g, b, alpha);
                sfPt.push(qcMt + siJx, qcMu + siJy, r, g, b, alpha);
                continue;
            }
            qhNv = (qjNz * qjLv - qjMq * qjLu) / rbMv;
            qhNw = (qjOr * qjLu - qjOq * qjLv) / rbMv;
            siJw = (qhNv - qcMt) * (qhNv - qcMt) + (qhNw - qcMu) + (qhNw - qcMu);
            if (siJw > 140 * 140) {
                tiJx = siJx - tiJv;
                tiJy = siJy - tiJw;
                dist = Math.sqrt(tiJx * tiJx + tiJy * tiJy);
                tiJx /= dist;
                tiJy /= dist;
                tiJx *= width;
                tiJy *= width;
                sfPt.push(qcMt - tiJx, qcMu - tiJy);
                sfPt.push(r, g, b, alpha);
                sfPt.push(qcMt + tiJx, qcMu + tiJy);
                sfPt.push(r, g, b, alpha);
                sfPt.push(qcMt - tiJx, qcMu - tiJy);
                sfPt.push(r, g, b, alpha);
                xcNt++;
            } else {
                sfPt.push(qhNv, qhNw);
                sfPt.push(r, g, b, alpha);
                sfPt.push(qcMt - (qhNv - qcMt), qcMu - (qhNw - qcMu));
                sfPt.push(r, g, b, alpha);
            }
        }
        qcMr = tiHx[(length - 2) * 2];
        qcMs = tiHx[(length - 2) * 2 + 1];
        qcMt = tiHx[(length - 1) * 2];
        qcMu = tiHx[(length - 1) * 2 + 1];
        siJx = -(qcMs - qcMu);
        siJy = qcMr - qcMt;
        dist = Math.sqrt(siJx * siJx + siJy * siJy);
        siJx /= dist;
        siJy /= dist;
        siJx *= width;
        siJy *= width;
        sfPt.push(qcMt - siJx, qcMu - siJy);
        sfPt.push(r, g, b, alpha);
        sfPt.push(qcMt + siJx, qcMu + siJy);
        sfPt.push(r, g, b, alpha);
        ujNx.push(xcNu);
        for (i = 0; i < xcNt; i++) {
            ujNx.push(xcNu++);
        }
        ujNx.push(xcNu - 1);
    };
    RGGW.rjjtg.rhNtB = function(zfHt, xiHz) {
        var tiHx = zfHt.tiHx.slice();
        if (tiHx.length < 6) return;
        var ujNx = xiHz.ujNx;
        xiHz.tiHx = tiHx;
        xiHz.alpha = zfHt.wfOq;
        xiHz.color = RGGW.taHz(zfHt.wfOr);
        var rgOy = Infinity;
        var rgPq = -Infinity;
        var rgOz = Infinity;
        var rgPr = -Infinity;
        var x, y;
        for (var i = 0; i < tiHx.length; i += 2) {
            x = tiHx[i];
            y = tiHx[i + 1];
            rgOy = x < rgOy ? x : rgOy;
            rgPq = x > rgPq ? x : rgPq;
            rgOz = y < rgOz ? y : rgOz;
            rgPr = y > rgPr ? y : rgPr;
        }
        tiHx.push(rgOy, rgOz, rgPq, rgOz, rgPq, rgPr, rgOy, rgPr);
        var length = tiHx.length / 2;
        for (i = 0; i < length; i++) {
            ujNx.push(i);
        }
    };
    RGGW.rjjtg.whPv = function(zfHt, xiHz) {
        var tiHx = zfHt.tiHx;
        if (tiHx.length < 6) return;
        var sfPt = xiHz.tiHx;
        var ujNx = xiHz.ujNx;
        var length = tiHx.length / 2;
        var color = RGGW.taHz(zfHt.wfOr);
        var alpha = zfHt.wfOq;
        var r = color[0] * alpha;
        var g = color[1] * alpha;
        var b = color[2] * alpha;
        var xiNy = RGGW.sihq.zjgw(tiHx);
        var udOz = sfPt.length / 6;
        var i = 0;
        for (i = 0; i < xiNy.length; i += 3) {
            ujNx.push(xiNy[i] + udOz);
            ujNx.push(xiNy[i] + udOz);
            ujNx.push(xiNy[i + 1] + udOz);
            ujNx.push(xiNy[i + 2] + udOz);
            ujNx.push(xiNy[i + 2] + udOz);
        }
        for (i = 0; i < length; i++) {
            sfPt.push(tiHx[i * 2], tiHx[i * 2 + 1], r, g, b, alpha);
        }
    };
    RGGW.rjjtg.zfHtrfpu = [];
    RGGW.rhhtj = function(gl) {
        this.gl = gl;
        this.color = [0, 0, 0];
        this.tiHx = [];
        this.ujNx = [];
        this.lastIndex = 0;
        this.buffer = gl.createBuffer();
        this.ydHv = gl.createBuffer();
        this.rgNt = 1;
        this.alpha = 1;
        this.rbLu = true;
    };
    RGGW.rhhtj.prototype.reset = function() {
        this.tiHx = [];
        this.ujNx = [];
        this.lastIndex = 0;
    };
    RGGW.rhhtj.prototype.tfLu = function() {
        var gl = this.gl;
        this.vgOq = new Float32Array(this.tiHx);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
        gl.bufferData(gl.ARRAY_BUFFER, this.vgOq, gl.STATIC_DRAW);
        this.xdHs = new Uint16Array(this.ujNx);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.xdHs, gl.STATIC_DRAW);
        this.rbLu = false;
    };
    RGGW.xdHr = [];
    RGGW.rjjtf = function(width, height, uhLw) {
        if (uhLw) {
            for (var i in RGGW.rgMwG) {
                if (typeof uhLw[i] === 'undefined') uhLw[i] = RGGW.rgMwG[i];
            }
        } else {
            uhLw = RGGW.rgMwG;
        }
        if (!RGGW.riHwE) {
            RGGW.vcIz('webGL');
            RGGW.riHwE = this;
        }
        this.type = RGGW.RIIQD;
        this.xaGu = uhLw.xaGu;
        this.zjGv = uhLw.zjGv;
        this.preserveDrawingBuffer = uhLw.preserveDrawingBuffer;
        this.rhJrJ = uhLw.rhJrJ;
        this.width = width || 800;
        this.height = height || 600;
        this.view = uhLw.view || document.createElement('canvas');
        this.rhNvE = this.rhJyD.bind(this);
        this.rgMuA = this.rgKuJ.bind(this);
        this.view.addEventListener('webglcontextlost', this.rhNvE, false);
        this.view.addEventListener('webglcontextrestored', this.rgMuA, false);
        this.riIrB = {
            alpha: this.zjGv,
            antialias: uhLw.antialias,
            premultipliedAlpha: this.zjGv && this.zjGv !== 'notMultiplied',
            stencil: true,
            preserveDrawingBuffer: uhLw.preserveDrawingBuffer
        };
        this.xaLu = new RGGW.Point();
        this.tiOt = new RGGW.Point(0, 0);
        this.rjKsD = new RGGW.rgpze();
        this.zjNt = new RGGW.rhksa();
        this.ycJq = new RGGW.rhksb();
        this.rjNqE = new RGGW.rgpzf();
        this.riJwH = new RGGW.rgnzh();
        this.rhNtG = new RGGW.rgjsd();
        this.rjLxA = {};
        this.rjLxA.gl = this.gl;
        this.rjLxA.wgKv = 0;
        this.rjLxA.rjKsD = this.rjKsD;
        this.rjLxA.ycJq = this.ycJq;
        this.rjLxA.rjNqE = this.rjNqE;
        this.rjLxA.rhNtG = this.rhNtG;
        this.rjLxA.zjNt = this.zjNt;
        this.rjLxA.riJwH = this.riJwH;
        this.rjLxA.rfGsE = this;
        this.rjLxA.xaGu = this.xaGu;
        this.ydGq();
        this.rjMuH();
    };
    RGGW.rjjtf.prototype.constructor = RGGW.rjjtf;
    RGGW.rjjtf.prototype.ydGq = function() {
        var gl = this.view.getContext('webgl', this.riIrB) || this.view.getContext('experimental-webgl', this.riIrB);
        _._2gl = gl;
        this.gl = gl;
        if (!gl) {
            throw new Error('This browser does rfKxG support webGL. Try using the canvas rfGsE');
        }
        this.ydKr = gl.id = RGGW.rjjtf.ydKr++;
        RGGW.xdHr[this.ydKr] = gl;
        gl.disable(gl.DEPTH_TEST);
        gl.disable(gl.CULL_FACE);
        gl.enable(gl.BLEND);
        this.rjKsD.yjLr(gl);
        this.zjNt.yjLr(gl);
        this.ycJq.yjLr(gl);
        this.rjNqE.yjLr(gl);
        this.rhNtG.yjLr(gl);
        this.riJwH.yjLr(gl);
        this.rjLxA.gl = this.gl;
        this.resize(this.width, this.height);
    };
    RGGW.rjjtf.prototype.render = function(shGv) {
        if (this.yfHq) return;
        if (this.tePs !== shGv) {
            if (shGv.ycPy) shGv.rhGvE.zcNy();
            this.tePs = shGv;
        }
        shGv.rhOuC();
        var gl = this.gl;
        if (shGv.ziHw) {
            if (!shGv.rgIvH) {
                shGv.rgIvH = true;
                shGv.rhGvE.waHw(this);
            }
        } else {
            if (shGv.rgIvH) {
                shGv.rgIvH = false;
                shGv.rhGvE.waHw(this);
            }
        }
        gl.viewport(0, 0, this.width, this.height);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        if (this.rhJrJ) {
            if (this.zjGv) {
                gl.clearColor(0, 0, 0, 0);
            } else {
                gl.clearColor(shGv.rgMtG[0], shGv.rgMtG[1], shGv.rgMtG[2], 1);
            }
            gl.clear(gl.COLOR_BUFFER_BIT);
        }
        this.rgNvB(shGv, this.xaLu);
    };
    RGGW.rjjtf.prototype.rgNvB = function(rjOxC, xaLu, buffer) {
        this.rjLxA.rhNtG.zcIs(RGGW.xgIv.NORMAL);
        this.rjLxA.wgKv = 0;
        this.rjLxA.xaLu = xaLu;
        this.rjLxA.tiOt = this.tiOt;
        this.zjNt.rcLr(this.rjLxA);
        this.rjNqE.rcLr(this.rjLxA, buffer);
        rjOxC.zhOr(this.rjLxA);
        this.zjNt.rfOxC();
    };
    RGGW.rjjtf.prototype.resize = function(width, height) {
        this.width = width * this.xaGu;
        this.height = height * this.xaGu;
        this.view.width = this.width;
        this.view.height = this.height;
        this.gl.viewport(0, 0, this.width, this.height);
        this.xaLu.x = this.width / 2 / this.xaGu;
        this.xaLu.y = -this.height / 2 / this.xaGu;
    };
    RGGW.rjjtf.prototype.rjJrK = function(ueMt) {
        if (!ueMt.wfGx) return;
        var gl = this.gl;
        if (!ueMt.ygPr[gl.id]) ueMt.ygPr[gl.id] = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, ueMt.ygPr[gl.id]);
        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, ueMt.premultipliedAlpha);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, ueMt.source);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, ueMt.waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, ueMt.waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
        if (!ueMt.wjIy) {
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        } else {
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
        }
        ueMt.sfIw[gl.id] = false;
        return ueMt.ygPr[gl.id];
    };
    RGGW.rjjtf.prototype.rhJyD = function(event) {
        event.preventDefault();
        this.yfHq = true;
    };
    RGGW.rjjtf.prototype.rgKuJ = function() {
        this.ydGq();
        for (var key in RGGW.zblv) {
            var ueMt = RGGW.zblv[key].yfPx;
            ueMt.ygPr = [];
        }
        this.yfHq = false;
    };
    RGGW.rjjtf.prototype.tbPr = function() {
        this.view.off('webglcontextlost', this.rhNvE);
        this.view.off('webglcontextrestored', this.rgMuA);
        RGGW.xdHr[this.ydKr] = null;
        this.xaLu = null;
        this.tiOt = null;
        this.rjKsD.tbPr();
        this.zjNt.tbPr();
        this.ycJq.tbPr();
        this.rjNqE.tbPr();
        this.rjKsD = null;
        this.zjNt = null;
        this.ycJq = null;
        this.rjNqE = null;
        this.gl = null;
        this.rjLxA = null;
    };
    RGGW.rjjtf.prototype.rjMuH = function() {
        var gl = this.gl;
        if (!RGGW.riHqD) {
            RGGW.riHqD = [];
            RGGW.riHqD[RGGW.xgIv.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.ADD] = [gl.SRC_ALPHA, gl.DST_ALPHA];
            RGGW.riHqD[RGGW.xgIv.VEOS] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.SCREEN] = [gl.SRC_ALPHA, gl.ONE];
            RGGW.riHqD[RGGW.xgIv.UHKU] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.SCOT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.UIPS] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.YFJT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.XFLT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.XDGR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.YJHQ] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.XENV] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.WGHU] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.QDPZ] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.YJOW] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
            RGGW.riHqD[RGGW.xgIv.XCGZ] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
        }
    };
    RGGW.rjjtf.ydKr = 0;
    RGGW.rgjsd = function() {
        this.rhNwE = 99999;
    };
    RGGW.rgjsd.prototype.constructor = RGGW.rgjsd;
    RGGW.rgjsd.prototype.yjLr = function(gl) {
        this.gl = gl;
    };
    RGGW.rgjsd.prototype.zcIs = function(wiGr) {
        if (this.rhNwE === wiGr) return false;
        this.rhNwE = wiGr;
        var riNxA = RGGW.riHqD[this.rhNwE];
        this.gl.blendFunc(riNxA[0], riNxA[1]);
        return true;
    };
    RGGW.rgjsd.prototype.tbPr = function() {
        this.gl = null;
    };
    RGGW.rhksb = function() {};
    RGGW.rhksb.prototype.constructor = RGGW.rhksb;
    RGGW.rhksb.prototype.yjLr = function(gl) {
        this.gl = gl;
    };
    RGGW.rhksb.prototype.vdHu = function(vfIv, rjLxA) {
        var gl = rjLxA.gl;
        if (vfIv.rbLu) {
            RGGW.rjjtg.riJzF(vfIv, gl);
        }
        if (!vfIv.sePu[gl.id].data.length) return;
        rjLxA.riJwH.yaPy(vfIv, vfIv.sePu[gl.id].data[0], rjLxA);
    };
    RGGW.rhksb.prototype.uhGq = function(vfIv, rjLxA) {
        var gl = this.gl;
        rjLxA.riJwH.xaNq(vfIv, vfIv.sePu[gl.id].data[0], rjLxA);
    };
    RGGW.rhksb.prototype.tbPr = function() {
        this.gl = null;
    };
    RGGW.rgnzh = function() {
        this.zbNu = [];
        this.reverse = true;
        this.count = 0;
    };
    RGGW.rgnzh.prototype.yjLr = function(gl) {
        this.gl = gl;
    };
    RGGW.rgnzh.prototype.yaPy = function(vgOs, xiHz, rjLxA) {
        var gl = this.gl;
        this.zhIy(vgOs, xiHz, rjLxA);
        if (this.zbNu.length === 0) {
            gl.enable(gl.STENCIL_TEST);
            gl.clear(gl.STENCIL_BUFFER_BIT);
            this.reverse = true;
            this.count = 0;
        }
        this.zbNu.push(xiHz);
        var rfKqC = this.count;
        gl.colorMask(false, false, false, false);
        gl.stencilFunc(gl.ALWAYS, 0, 0xFF);
        gl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT);
        if (xiHz.rgNt === 1) {
            gl.drawElements(gl.TRIANGLE_FAN, xiHz.ujNx.length - 4, gl.UNSIGNED_SHORT, 0);
            if (this.reverse) {
                gl.stencilFunc(gl.EQUAL, 0xFF - rfKqC, 0xFF);
                gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
            } else {
                gl.stencilFunc(gl.EQUAL, rfKqC, 0xFF);
                gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
            }
            gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, (xiHz.ujNx.length - 4) * 2);
            if (this.reverse) {
                gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC + 1), 0xFF);
            } else {
                gl.stencilFunc(gl.EQUAL, rfKqC + 1, 0xFF);
            }
            this.reverse = !this.reverse;
        } else {
            if (!this.reverse) {
                gl.stencilFunc(gl.EQUAL, 0xFF - rfKqC, 0xFF);
                gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
            } else {
                gl.stencilFunc(gl.EQUAL, rfKqC, 0xFF);
                gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
            }
            gl.drawElements(gl.TRIANGLE_STRIP, xiHz.ujNx.length, gl.UNSIGNED_SHORT, 0);
            if (!this.reverse) {
                gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC + 1), 0xFF);
            } else {
                gl.stencilFunc(gl.EQUAL, rfKqC + 1, 0xFF);
            }
        }
        gl.colorMask(true, true, true, true);
        gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
        this.count++;
    };
    RGGW.rgnzh.prototype.zhIy = function(vgOs, xiHz, rjLxA) {
        this.rhOyG = vgOs;
        var gl = this.gl;
        var xaLu = rjLxA.xaLu,
            tiOt = rjLxA.tiOt,
            tgPt;
        if (xiHz.rgNt === 1) {
            tgPt = rjLxA.rjKsD.rgJwG;
            rjLxA.rjKsD.waHt(tgPt);
            gl.uniformMatrix3fv(tgPt.rhHrB, false, vgOs.riIrK.ueKr(true));
            gl.uniform2f(tgPt.rhLuC, xaLu.x, -xaLu.y);
            gl.uniform2f(tgPt.zdLx, -tiOt.x, -tiOt.y);
            gl.uniform3fv(tgPt.xiPx, RGGW.taHz(vgOs.reKr));
            gl.uniform3fv(tgPt.color, xiHz.color);
            gl.uniform1f(tgPt.alpha, vgOs.yhKu * xiHz.alpha);
            gl.bindBuffer(gl.ARRAY_BUFFER, xiHz.buffer);
            gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 4 * 2, 0);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, xiHz.ydHv);
        } else {
            tgPt = rjLxA.rjKsD.rhPvE;
            rjLxA.rjKsD.waHt(tgPt);
            gl.uniformMatrix3fv(tgPt.rhHrB, false, vgOs.riIrK.ueKr(true));
            gl.uniform2f(tgPt.rhLuC, xaLu.x, -xaLu.y);
            gl.uniform2f(tgPt.zdLx, -tiOt.x, -tiOt.y);
            gl.uniform3fv(tgPt.xiPx, RGGW.taHz(vgOs.reKr));
            gl.uniform1f(tgPt.alpha, vgOs.yhKu);
            gl.bindBuffer(gl.ARRAY_BUFFER, xiHz.buffer);
            gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 4 * 6, 0);
            gl.vertexAttribPointer(tgPt.riMrF, 4, gl.FLOAT, false, 4 * 6, 2 * 4);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, xiHz.ydHv);
        }
    };
    RGGW.rgnzh.prototype.xaNq = function(vgOs, xiHz, rjLxA) {
        var gl = this.gl;
        this.zbNu.pop();
        this.count--;
        if (this.zbNu.length === 0) {
            gl.disable(gl.STENCIL_TEST);
        } else {
            var rfKqC = this.count;
            this.zhIy(vgOs, xiHz, rjLxA);
            gl.colorMask(false, false, false, false);
            if (xiHz.rgNt === 1) {
                this.reverse = !this.reverse;
                if (this.reverse) {
                    gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC + 1), 0xFF);
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
                } else {
                    gl.stencilFunc(gl.EQUAL, rfKqC + 1, 0xFF);
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
                }
                gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, (xiHz.ujNx.length - 4) * 2);
                gl.stencilFunc(gl.ALWAYS, 0, 0xFF);
                gl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT);
                gl.drawElements(gl.TRIANGLE_FAN, xiHz.ujNx.length - 4, gl.UNSIGNED_SHORT, 0);
                if (!this.reverse) {
                    gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC), 0xFF);
                } else {
                    gl.stencilFunc(gl.EQUAL, rfKqC, 0xFF);
                }
            } else {
                if (!this.reverse) {
                    gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC + 1), 0xFF);
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
                } else {
                    gl.stencilFunc(gl.EQUAL, rfKqC + 1, 0xFF);
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
                }
                gl.drawElements(gl.TRIANGLE_STRIP, xiHz.ujNx.length, gl.UNSIGNED_SHORT, 0);
                if (!this.reverse) {
                    gl.stencilFunc(gl.EQUAL, 0xFF - (rfKqC), 0xFF);
                } else {
                    gl.stencilFunc(gl.EQUAL, rfKqC, 0xFF);
                }
            }
            gl.colorMask(true, true, true, true);
            gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
        }
    };
    RGGW.rgnzh.prototype.tbPr = function() {
        this.zbNu = null;
        this.gl = null;
    };
    RGGW.rgpze = function() {
        this.wdHz = 10;
        this.yfPq = [];
        this.rhOsK = [];
        for (var i = 0; i < this.wdHz; i++) {
            this.yfPq[i] = false;
        }
        this.shGu = [];
    };
    RGGW.rgpze.prototype.constructor = RGGW.rgpze;
    RGGW.rgpze.prototype.yjLr = function(gl) {
        this.gl = gl;
        this.rhPvE = new RGGW.rhpve(gl);
        this.rgJwG = new RGGW.rgjwg(gl);
        this.rjOvD = new RGGW.xapz(gl);
        this.xeGy = new RGGW.rikwa(gl);
        this.zjMy = new RGGW.zjmy(gl);
        this.waHt(this.rjOvD);
    };
    RGGW.rgpze.prototype.yjLq = function(tdMr) {
        var i;
        for (i = 0; i < this.rhOsK.length; i++) {
            this.rhOsK[i] = false;
        }
        for (i = 0; i < tdMr.length; i++) {
            var uaMr = tdMr[i];
            this.rhOsK[uaMr] = true;
        }
        var gl = this.gl;
        for (i = 0; i < this.yfPq.length; i++) {
            if (this.yfPq[i] !== this.rhOsK[i]) {
                this.yfPq[i] = this.rhOsK[i];
                if (this.rhOsK[i]) {
                    gl.enableVertexAttribArray(i);
                } else {
                    gl.disableVertexAttribArray(i);
                }
            }
        }
    };
    RGGW.rgpze.prototype.waHt = function(tgPt) {
        if (this.xhMx === tgPt.QALT) return false;
        this.xhMx = tgPt.QALT;
        this.rjOtF = tgPt;
        this.gl.useProgram(tgPt.ugOt);
        this.yjLq(tgPt.attributes);
        return true;
    };
    RGGW.rgpze.prototype.tbPr = function() {
        this.yfPq = null;
        this.rhOsK = null;
        this.rhPvE.tbPr();
        this.rgJwG.tbPr();
        this.rjOvD.tbPr();
        this.xeGy.tbPr();
        this.zjMy.tbPr();
        this.gl = null;
    };
    RGGW.rhksa = function() {
        this.wjPr = 6;
        this.size = 2000;
        var veJq = this.size * 4 * this.wjPr;
        var xbLt = this.size * 6;
        this.wjPq = new Float32Array(veJq);
        this.ujNx = new Uint16Array(xbLt);
        this.riLxA = 0;
        for (var i = 0, j = 0; i < xbLt; i += 6, j += 4) {
            this.ujNx[i + 0] = j + 0;
            this.ujNx[i + 1] = j + 1;
            this.ujNx[i + 2] = j + 2;
            this.ujNx[i + 3] = j + 0;
            this.ujNx[i + 4] = j + 2;
            this.ujNx[i + 5] = j + 3;
        }
        this.tbNt = false;
        this.rhNwF = 0;
        this.rhGrJ = null;
        this.rbLu = true;
        this.vaOy = [];
        this.xgIv = [];
        this.ufLs = [];
        this.ufHy = [];
        this.rjOvD = new RGGW.rinte(['precision lowp float;', 'varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'uniform sampler2D uSampler;', 'void main(void) {', '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;', '}']);
    };
    RGGW.rhksa.prototype.yjLr = function(gl) {
        this.gl = gl;
        this.zbGt = gl.createBuffer();
        this.ydHv = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.ujNx, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        gl.bufferData(gl.ARRAY_BUFFER, this.wjPq, gl.DYNAMIC_DRAW);
        this.rhNwE = 99999;
        var tgPt = new RGGW.xapz(gl);
        tgPt.ydPz = this.rjOvD.ydPz;
        tgPt.vaJx = {};
        tgPt.rhNr();
        this.rjOvD.ufLs[gl.id] = tgPt;
    };
    RGGW.rhksa.prototype.rcLr = function(rjLxA) {
        this.rjLxA = rjLxA;
        this.tgPt = this.rjLxA.rjKsD.rjOvD;
        this.rfIsA();
    };
    RGGW.rhksa.prototype.rfOxC = function() {
        this.raNq();
    };
    RGGW.rhksa.prototype.render = function(rfIsB) {
        var ueMt = rfIsB.ueMt;
        if (this.rhNwF >= this.size) {
            this.raNq();
            this.rhGrJ = ueMt.yfPx;
        }
        var qbJv = ueMt.qaLu;
        if (!qbJv) return;
        var alpha = rfIsB.yhKu;
        var reKr = rfIsB.reKr;
        var xiHv = this.wjPq;
        var qjNv = rfIsB.anchor.x;
        var qjNw = rfIsB.anchor.y;
        var qgNu, qgNv, qiOx, qiOy;
        if (ueMt.trim) {
            var trim = ueMt.trim;
            qgNv = trim.x - qjNv * trim.width;
            qgNu = qgNv + ueMt.rjKu.width;
            qiOy = trim.y - qjNw * trim.height;
            qiOx = qiOy + ueMt.rjKu.height;
        } else {
            qgNu = (ueMt.frame.width) * (1 - qjNv);
            qgNv = (ueMt.frame.width) * -qjNv;
            qiOx = ueMt.frame.height * (1 - qjNw);
            qiOy = ueMt.frame.height * -qjNw;
        }
        var index = this.rhNwF * 4 * this.wjPr;
        var xaGu = ueMt.yfPx.xaGu;
        var riIrK = rfIsB.riIrK;
        var a = riIrK.a / xaGu;
        var b = riIrK.b / xaGu;
        var c = riIrK.c / xaGu;
        var d = riIrK.d / xaGu;
        var qhHx = riIrK.qhHx;
        var qhHy = riIrK.qhHy;
        xiHv[index++] = a * qgNv + c * qiOy + qhHx;
        xiHv[index++] = d * qiOy + b * qgNv + qhHy;
        xiHv[index++] = qbJv.qgMu;
        xiHv[index++] = qbJv.qgKs;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = a * qgNu + c * qiOy + qhHx;
        xiHv[index++] = d * qiOy + b * qgNu + qhHy;
        xiHv[index++] = qbJv.qgMv;
        xiHv[index++] = qbJv.qgKt;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = a * qgNu + c * qiOx + qhHx;
        xiHv[index++] = d * qiOx + b * qgNu + qhHy;
        xiHv[index++] = qbJv.qgMw;
        xiHv[index++] = qbJv.qgKu;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = a * qgNv + c * qiOx + qhHx;
        xiHv[index++] = d * qiOx + b * qgNv + qhHy;
        xiHv[index++] = qbJv.qgMx;
        xiHv[index++] = qbJv.qgKv;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        this.ufHy[this.rhNwF++] = rfIsB;
    };
    RGGW.rhksa.prototype.rgPtC = function(zbKw) {
        var ueMt = zbKw.rjKyC;
        if (this.rhNwF >= this.size) {
            this.raNq();
            this.rhGrJ = ueMt.yfPx;
        }
        if (!zbKw.qaLu) zbKw.qaLu = new RGGW.yikw();
        var qbJv = zbKw.qaLu;
        zbKw.zbKv.x %= ueMt.yfPx.width * zbKw.rhOsG.x;
        zbKw.zbKv.y %= ueMt.yfPx.height * zbKw.rhOsG.y;
        var rfKxB = zbKw.zbKv.x / (ueMt.yfPx.width * zbKw.rhOsG.x);
        var rfKxA = zbKw.zbKv.y / (ueMt.yfPx.height * zbKw.rhOsG.y);
        var rfIqA = (zbKw.width / ueMt.yfPx.width) / (zbKw.xiPs.x * zbKw.rhOsG.x);
        var rfIrK = (zbKw.height / ueMt.yfPx.height) / (zbKw.xiPs.y * zbKw.rhOsG.y);
        qbJv.qgMu = 0 - rfKxB;
        qbJv.qgKs = 0 - rfKxA;
        qbJv.qgMv = (1 * rfIqA) - rfKxB;
        qbJv.qgKt = 0 - rfKxA;
        qbJv.qgMw = (1 * rfIqA) - rfKxB;
        qbJv.qgKu = (1 * rfIrK) - rfKxA;
        qbJv.qgMx = 0 - rfKxB;
        qbJv.qgKv = (1 * rfIrK) - rfKxA;
        var alpha = zbKw.yhKu;
        var reKr = zbKw.reKr;
        var xiHv = this.wjPq;
        var width = zbKw.width;
        var height = zbKw.height;
        var qjNv = zbKw.anchor.x;
        var qjNw = zbKw.anchor.y;
        var qgNu = width * (1 - qjNv);
        var qgNv = width * -qjNv;
        var qiOx = height * (1 - qjNw);
        var qiOy = height * -qjNw;
        var index = this.rhNwF * 4 * this.wjPr;
        var xaGu = ueMt.yfPx.xaGu;
        var riIrK = zbKw.riIrK;
        var a = riIrK.a / xaGu;
        var b = riIrK.b / xaGu;
        var c = riIrK.c / xaGu;
        var d = riIrK.d / xaGu;
        var qhHx = riIrK.qhHx;
        var qhHy = riIrK.qhHy;
        xiHv[index++] = a * qgNv + c * qiOy + qhHx;
        xiHv[index++] = d * qiOy + b * qgNv + qhHy;
        xiHv[index++] = qbJv.qgMu;
        xiHv[index++] = qbJv.qgKs;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = (a * qgNu + c * qiOy + qhHx);
        xiHv[index++] = d * qiOy + b * qgNu + qhHy;
        xiHv[index++] = qbJv.qgMv;
        xiHv[index++] = qbJv.qgKt;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = a * qgNu + c * qiOx + qhHx;
        xiHv[index++] = d * qiOx + b * qgNu + qhHy;
        xiHv[index++] = qbJv.qgMw;
        xiHv[index++] = qbJv.qgKu;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        xiHv[index++] = a * qgNv + c * qiOx + qhHx;
        xiHv[index++] = d * qiOx + b * qgNv + qhHy;
        xiHv[index++] = qbJv.qgMx;
        xiHv[index++] = qbJv.qgKv;
        xiHv[index++] = alpha;
        xiHv[index++] = reKr;
        this.ufHy[this.rhNwF++] = zbKw;
    };
    RGGW.rhksa.prototype.raNq = function() {
        if (this.rhNwF === 0) return;
        var gl = this.gl;
        var tgPt;
        if (this.rbLu) {
            this.rbLu = false;
            gl.activeTexture(gl.TEXTURE0);
            gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
            tgPt = this.rjOvD.ufLs[gl.id];
            var tgJw = this.wjPr * 4;
            gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, tgJw, 0);
            gl.vertexAttribPointer(tgPt.rjPwE, 2, gl.FLOAT, false, tgJw, 2 * 4);
            gl.vertexAttribPointer(tgPt.riMrF, 2, gl.FLOAT, false, tgJw, 4 * 4);
        }
        if (this.rhNwF > (this.size * 0.5)) {
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.wjPq);
        } else {
            var view = this.wjPq.subarray(0, this.rhNwF * 4 * this.wjPr);
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);
        }
        var ybPq, rjMxA, xbMu;
        var wiIu = 0;
        var rfIsA = 0;
        var rhGrJ = null;
        var rhNwE = this.rjLxA.rhNtG.rhNwE;
        var rjOtF = null;
        var wiGs = false;
        var yjKw = false;
        var rfIsB;
        for (var i = 0, j = this.rhNwF; i < j; i++) {
            rfIsB = this.ufHy[i];
            ybPq = rfIsB.ueMt.yfPx;
            rjMxA = rfIsB.wiGr;
            xbMu = rfIsB.tgPt || this.rjOvD;
            wiGs = rhNwE !== rjMxA;
            yjKw = rjOtF !== xbMu;
            if (rhGrJ !== ybPq || wiGs || yjKw) {
                this.yaMt(rhGrJ, wiIu, rfIsA);
                rfIsA = i;
                wiIu = 0;
                rhGrJ = ybPq;
                if (wiGs) {
                    rhNwE = rjMxA;
                    this.rjLxA.rhNtG.zcIs(rhNwE);
                }
                if (yjKw) {
                    rjOtF = xbMu;
                    tgPt = rjOtF.ufLs[gl.id];
                    if (!tgPt) {
                        tgPt = new RGGW.xapz(gl);
                        tgPt.ydPz = rjOtF.ydPz;
                        tgPt.vaJx = rjOtF.vaJx;
                        tgPt.rhNr();
                        rjOtF.ufLs[gl.id] = tgPt;
                    }
                    this.rjLxA.rjKsD.waHt(tgPt);
                    if (tgPt.rbLu) tgPt.zbMr();
                    var xaLu = this.rjLxA.xaLu;
                    gl.uniform2f(tgPt.rhLuC, xaLu.x, xaLu.y);
                    var zdLx = this.rjLxA.tiOt;
                    gl.uniform2f(tgPt.zdLx, zdLx.x, zdLx.y);
                }
            }
            wiIu++;
        }
        this.yaMt(rhGrJ, wiIu, rfIsA);
        this.rhNwF = 0;
    };
    RGGW.rhksa.prototype.yaMt = function(ueMt, size, yiPv) {
        if (size === 0) return;
        var gl = this.gl;
        if (ueMt.sfIw[gl.id]) {
            this.rjLxA.rfGsE.rjJrK(ueMt);
        } else {
            gl.bindTexture(gl.TEXTURE_2D, ueMt.ygPr[gl.id]);
        }
        gl.drawElements(gl.TRIANGLES, size * 6, gl.UNSIGNED_SHORT, yiPv * 6 * 2);
        this.rjLxA.wgKv++;
    };
    RGGW.rhksa.prototype.stop = function() {
        this.raNq();
        this.rbLu = true;
    };
    RGGW.rhksa.prototype.rfIsA = function() {
        this.rbLu = true;
    };
    RGGW.rhksa.prototype.tbPr = function() {
        this.wjPq = null;
        this.ujNx = null;
        this.gl.deleteBuffer(this.zbGt);
        this.gl.deleteBuffer(this.ydHv);
        this.rhGrJ = null;
        this.gl = null;
    };
    RGGW.rglxh = function(gl) {
        this.wjPr = 10;
        this.uiLw = 6000;
        this.size = this.uiLw;
        var veJq = this.size * 4 * this.wjPr;
        var xbLt = this.uiLw * 6;
        this.wjPq = new Float32Array(veJq);
        this.ujNx = new Uint16Array(xbLt);
        this.zbGt = null;
        this.ydHv = null;
        this.riLxA = 0;
        for (var i = 0, j = 0; i < xbLt; i += 6, j += 4) {
            this.ujNx[i + 0] = j + 0;
            this.ujNx[i + 1] = j + 1;
            this.ujNx[i + 2] = j + 2;
            this.ujNx[i + 3] = j + 0;
            this.ujNx[i + 4] = j + 2;
            this.ujNx[i + 5] = j + 3;
        }
        this.tbNt = false;
        this.rhNwF = 0;
        this.rhGrJ = null;
        this.rhNwE = 0;
        this.rjLxA = null;
        this.tgPt = null;
        this.tjLs = null;
        this.yjLr(gl);
    };
    RGGW.rglxh.prototype.constructor = RGGW.rglxh;
    RGGW.rglxh.prototype.yjLr = function(gl) {
        this.gl = gl;
        this.zbGt = gl.createBuffer();
        this.ydHv = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.ujNx, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        gl.bufferData(gl.ARRAY_BUFFER, this.wjPq, gl.DYNAMIC_DRAW);
    };
    RGGW.rglxh.prototype.rcLr = function(zjNt, rjLxA) {
        this.rjLxA = rjLxA;
        this.tgPt = this.rjLxA.rjKsD.xeGy;
        this.tjLs = zjNt.riIrK.ueKr(true);
        this.rfIsA();
    };
    RGGW.rglxh.prototype.rfOxC = function() {
        this.raNq();
    };
    RGGW.rglxh.prototype.render = function(zjNt) {
        var children = zjNt.children;
        var rfIsB = children[0];
        if (!rfIsB.ueMt.qaLu) return;
        this.rhGrJ = rfIsB.ueMt.yfPx;
        if (rfIsB.wiGr !== this.rjLxA.rhNtG.rhNwE) {
            this.raNq();
            this.rjLxA.rhNtG.zcIs(rfIsB.wiGr);
        }
        for (var i = 0, j = children.length; i < j; i++) {
            this.zcMw(children[i]);
        }
        this.raNq();
    };
    RGGW.rglxh.prototype.zcMw = function(rfIsB) {
        if (!rfIsB.rfIxE) return;
        if (rfIsB.ueMt.yfPx !== this.rhGrJ) {
            this.raNq();
            this.rhGrJ = rfIsB.ueMt.yfPx;
            if (!rfIsB.ueMt.qaLu) return;
        }
        var qbJv, xiHv = this.wjPq,
            width, height, qgNu, qgNv, qiOx, qiOy, index;
        qbJv = rfIsB.ueMt.qaLu;
        width = rfIsB.ueMt.frame.width;
        height = rfIsB.ueMt.frame.height;
        if (rfIsB.ueMt.trim) {
            var trim = rfIsB.ueMt.trim;
            qgNv = trim.x - rfIsB.anchor.x * trim.width;
            qgNu = qgNv + rfIsB.ueMt.rjKu.width;
            qiOy = trim.y - rfIsB.anchor.y * trim.height;
            qiOx = qiOy + rfIsB.ueMt.rjKu.height;
        } else {
            qgNu = (rfIsB.ueMt.frame.width) * (1 - rfIsB.anchor.x);
            qgNv = (rfIsB.ueMt.frame.width) * -rfIsB.anchor.x;
            qiOx = rfIsB.ueMt.frame.height * (1 - rfIsB.anchor.y);
            qiOy = rfIsB.ueMt.frame.height * -rfIsB.anchor.y;
        }
        index = this.rhNwF * 4 * this.wjPr;
        xiHv[index++] = qgNv;
        xiHv[index++] = qiOy;
        xiHv[index++] = rfIsB.position.x;
        xiHv[index++] = rfIsB.position.y;
        xiHv[index++] = rfIsB.scale.x;
        xiHv[index++] = rfIsB.scale.y;
        xiHv[index++] = rfIsB.rfIqD;
        xiHv[index++] = qbJv.qgMu;
        xiHv[index++] = qbJv.qgKt;
        xiHv[index++] = rfIsB.alpha;
        xiHv[index++] = qgNu;
        xiHv[index++] = qiOy;
        xiHv[index++] = rfIsB.position.x;
        xiHv[index++] = rfIsB.position.y;
        xiHv[index++] = rfIsB.scale.x;
        xiHv[index++] = rfIsB.scale.y;
        xiHv[index++] = rfIsB.rfIqD;
        xiHv[index++] = qbJv.qgMv;
        xiHv[index++] = qbJv.qgKt;
        xiHv[index++] = rfIsB.alpha;
        xiHv[index++] = qgNu;
        xiHv[index++] = qiOx;
        xiHv[index++] = rfIsB.position.x;
        xiHv[index++] = rfIsB.position.y;
        xiHv[index++] = rfIsB.scale.x;
        xiHv[index++] = rfIsB.scale.y;
        xiHv[index++] = rfIsB.rfIqD;
        xiHv[index++] = qbJv.qgMw;
        xiHv[index++] = qbJv.qgKu;
        xiHv[index++] = rfIsB.alpha;
        xiHv[index++] = qgNv;
        xiHv[index++] = qiOx;
        xiHv[index++] = rfIsB.position.x;
        xiHv[index++] = rfIsB.position.y;
        xiHv[index++] = rfIsB.scale.x;
        xiHv[index++] = rfIsB.scale.y;
        xiHv[index++] = rfIsB.rfIqD;
        xiHv[index++] = qbJv.qgMx;
        xiHv[index++] = qbJv.qgKv;
        xiHv[index++] = rfIsB.alpha;
        this.rhNwF++;
        if (this.rhNwF >= this.size) {
            this.raNq();
        }
    };
    RGGW.rglxh.prototype.raNq = function() {
        if (this.rhNwF === 0) return;
        var gl = this.gl;
        if (!this.rhGrJ.ygPr[gl.id]) this.rjLxA.rfGsE.rjJrK(this.rhGrJ, gl);
        gl.bindTexture(gl.TEXTURE_2D, this.rhGrJ.ygPr[gl.id]);
        if (this.rhNwF > (this.size * 0.5)) {
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.wjPq);
        } else {
            var view = this.wjPq.subarray(0, this.rhNwF * 4 * this.wjPr);
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);
        }
        gl.drawElements(gl.TRIANGLES, this.rhNwF * 6, gl.UNSIGNED_SHORT, 0);
        this.rhNwF = 0;
        this.rjLxA.wgKv++;
    };
    RGGW.rglxh.prototype.stop = function() {
        this.raNq();
    };
    RGGW.rglxh.prototype.rfIsA = function() {
        var gl = this.gl;
        gl.activeTexture(gl.TEXTURE0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        var xaLu = this.rjLxA.xaLu;
        gl.uniform2f(this.tgPt.rhLuC, xaLu.x, xaLu.y);
        gl.uniformMatrix3fv(this.tgPt.ueIx, false, this.tjLs);
        var tgJw = this.wjPr * 4;
        gl.vertexAttribPointer(this.tgPt.riIzG, 2, gl.FLOAT, false, tgJw, 0);
        gl.vertexAttribPointer(this.tgPt.riNvC, 2, gl.FLOAT, false, tgJw, 2 * 4);
        gl.vertexAttribPointer(this.tgPt.seKt, 2, gl.FLOAT, false, tgJw, 4 * 4);
        gl.vertexAttribPointer(this.tgPt.wiLz, 1, gl.FLOAT, false, tgJw, 6 * 4);
        gl.vertexAttribPointer(this.tgPt.rjPwE, 2, gl.FLOAT, false, tgJw, 7 * 4);
        gl.vertexAttribPointer(this.tgPt.riMrF, 1, gl.FLOAT, false, tgJw, 9 * 4);
    };
    RGGW.rgpzf = function() {
        this.yeGu = [];
        this.rfKxB = 0;
        this.rfKxA = 0;
    };
    RGGW.rgpzf.prototype.constructor = RGGW.rgpzf;
    RGGW.rgpzf.prototype.yjLr = function(gl) {
        this.gl = gl;
        this.ueMtrfpu = [];
        this.rhJzH();
    };
    RGGW.rgpzf.prototype.rcLr = function(rjLxA, buffer) {
        this.rjLxA = rjLxA;
        this.rjOvD = rjLxA.rjKsD.rjOvD;
        var xaLu = this.rjLxA.xaLu;
        this.width = xaLu.x * 2;
        this.height = -xaLu.y * 2;
        this.buffer = buffer;
    };
    RGGW.rgpzf.prototype.xaLw = function(yeGt) {
        var gl = this.gl;
        var xaLu = this.rjLxA.xaLu;
        var tiOt = this.rjLxA.tiOt;
        yeGt.yhGs = yeGt.target.xdPr || yeGt.target.wfJx();
        this.yeGu.push(yeGt);
        var filter = yeGt.zfNr[0];
        this.rfKxB += yeGt.yhGs.x;
        this.rfKxA += yeGt.yhGs.y;
        var ueMt = this.ueMtrfpu.pop();
        if (!ueMt) {
            ueMt = new RGGW.rjnqd(this.gl, this.width, this.height);
        } else {
            ueMt.resize(this.width, this.height);
        }
        gl.bindTexture(gl.TEXTURE_2D, ueMt.ueMt);
        var xdPr = yeGt.yhGs;
        var padding = filter.padding;
        xdPr.x -= padding;
        xdPr.y -= padding;
        xdPr.width += padding * 2;
        xdPr.height += padding * 2;
        if (xdPr.x < 0) xdPr.x = 0;
        if (xdPr.width > this.width) xdPr.width = this.width;
        if (xdPr.y < 0) xdPr.y = 0;
        if (xdPr.height > this.height) xdPr.height = this.height;
        gl.bindFramebuffer(gl.FRAMEBUFFER, ueMt.ydOq);
        gl.viewport(0, 0, xdPr.width, xdPr.height);
        xaLu.x = xdPr.width / 2;
        xaLu.y = -xdPr.height / 2;
        tiOt.x = -xdPr.x;
        tiOt.y = -xdPr.y;
        gl.colorMask(true, true, true, true);
        gl.clearColor(0, 0, 0, 0);
        gl.clear(gl.COLOR_BUFFER_BIT);
        yeGt.rhOyB = ueMt;
    };
    RGGW.rgpzf.prototype.wbLy = function() {
        var gl = this.gl;
        var yeGt = this.yeGu.pop();
        var xdPr = yeGt.yhGs;
        var ueMt = yeGt.rhOyB;
        var xaLu = this.rjLxA.xaLu;
        var tiOt = this.rjLxA.tiOt;
        if (yeGt.zfNr.length > 1) {
            gl.viewport(0, 0, xdPr.width, xdPr.height);
            gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
            this.ziNz[0] = 0;
            this.ziNz[1] = xdPr.height;
            this.ziNz[2] = xdPr.width;
            this.ziNz[3] = xdPr.height;
            this.ziNz[4] = 0;
            this.ziNz[5] = 0;
            this.ziNz[6] = xdPr.width;
            this.ziNz[7] = 0;
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.ziNz);
            gl.bindBuffer(gl.ARRAY_BUFFER, this.vaHw);
            this.udPr[2] = xdPr.width / this.width;
            this.udPr[5] = xdPr.height / this.height;
            this.udPr[6] = xdPr.width / this.width;
            this.udPr[7] = xdPr.height / this.height;
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.udPr);
            var zePw = ueMt;
            var rjLrH = this.ueMtrfpu.pop();
            if (!rjLrH) rjLrH = new RGGW.rjnqd(this.gl, this.width, this.height);
            rjLrH.resize(this.width, this.height);
            gl.bindFramebuffer(gl.FRAMEBUFFER, rjLrH.ydOq);
            gl.clear(gl.COLOR_BUFFER_BIT);
            gl.disable(gl.BLEND);
            for (var i = 0; i < yeGt.zfNr.length - 1; i++) {
                var xdPs = yeGt.zfNr[i];
                gl.bindFramebuffer(gl.FRAMEBUFFER, rjLrH.ydOq);
                gl.activeTexture(gl.TEXTURE0);
                gl.bindTexture(gl.TEXTURE_2D, zePw.ueMt);
                this.riIyG(xdPs, xdPr, xdPr.width, xdPr.height);
                var reMx = zePw;
                zePw = rjLrH;
                rjLrH = reMx;
            }
            gl.enable(gl.BLEND);
            ueMt = zePw;
            this.ueMtrfpu.push(rjLrH);
        }
        var filter = yeGt.zfNr[yeGt.zfNr.length - 1];
        this.rfKxB -= xdPr.x;
        this.rfKxA -= xdPr.y;
        var shJu = this.width;
        var shJv = this.height;
        var rfKxB = 0;
        var rfKxA = 0;
        var buffer = this.buffer;
        if (this.yeGu.length === 0) {
            gl.colorMask(true, true, true, true);
        } else {
            var rjOtJ = this.yeGu[this.yeGu.length - 1];
            xdPr = rjOtJ.yhGs;
            shJu = xdPr.width;
            shJv = xdPr.height;
            rfKxB = xdPr.x;
            rfKxA = xdPr.y;
            buffer = rjOtJ.rhOyB.ydOq;
        }
        xaLu.x = shJu / 2;
        xaLu.y = -shJv / 2;
        tiOt.x = rfKxB;
        tiOt.y = rfKxA;
        xdPr = yeGt.yhGs;
        var x = xdPr.x - rfKxB;
        var y = xdPr.y - rfKxA;
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        this.ziNz[0] = x;
        this.ziNz[1] = y + xdPr.height;
        this.ziNz[2] = x + xdPr.width;
        this.ziNz[3] = y + xdPr.height;
        this.ziNz[4] = x;
        this.ziNz[5] = y;
        this.ziNz[6] = x + xdPr.width;
        this.ziNz[7] = y;
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.ziNz);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vaHw);
        this.udPr[2] = xdPr.width / this.width;
        this.udPr[5] = xdPr.height / this.height;
        this.udPr[6] = xdPr.width / this.width;
        this.udPr[7] = xdPr.height / this.height;
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.udPr);
        gl.viewport(0, 0, shJu, shJv);
        gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);
        gl.activeTexture(gl.TEXTURE0);
        gl.bindTexture(gl.TEXTURE_2D, ueMt.ueMt);
        this.riIyG(filter, xdPr, shJu, shJv);
        this.ueMtrfpu.push(ueMt);
        yeGt.rhOyB = null;
    };
    RGGW.rgpzf.prototype.riIyG = function(filter, xdPr, width, height) {
        var gl = this.gl;
        var tgPt = filter.ufLs[gl.id];
        if (!tgPt) {
            tgPt = new RGGW.xapz(gl);
            tgPt.ydPz = filter.ydPz;
            tgPt.vaJx = filter.vaJx;
            tgPt.rhNr();
            filter.ufLs[gl.id] = tgPt;
        }
        this.rjLxA.rjKsD.waHt(tgPt);
        gl.uniform2f(tgPt.rhLuC, width / 2, -height / 2);
        gl.uniform2f(tgPt.zdLx, 0, 0);
        if (filter.vaJx.xeNw) {
            filter.vaJx.xeNw.value[0] = this.width;
            filter.vaJx.xeNw.value[1] = this.height;
            filter.vaJx.xeNw.value[2] = this.ziNz[0];
            filter.vaJx.xeNw.value[3] = this.ziNz[5];
        }
        tgPt.zbMr();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vaHw);
        gl.vertexAttribPointer(tgPt.rjPwE, 2, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.yfJu);
        gl.vertexAttribPointer(tgPt.riMrF, 2, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
        this.rjLxA.wgKv++;
    };
    RGGW.rgpzf.prototype.rhJzH = function() {
        var gl = this.gl;
        this.zbGt = gl.createBuffer();
        this.vaHw = gl.createBuffer();
        this.yfJu = gl.createBuffer();
        this.ydHv = gl.createBuffer();
        this.ziNz = new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.zbGt);
        gl.bufferData(gl.ARRAY_BUFFER, this.ziNz, gl.STATIC_DRAW);
        this.udPr = new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vaHw);
        gl.bufferData(gl.ARRAY_BUFFER, this.udPr, gl.STATIC_DRAW);
        this.xfLu = new Float32Array([1.0, 0xFFFFFF, 1.0, 0xFFFFFF, 1.0, 0xFFFFFF, 1.0, 0xFFFFFF]);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.yfJu);
        gl.bufferData(gl.ARRAY_BUFFER, this.xfLu, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ydHv);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 1, 3, 2]), gl.STATIC_DRAW);
    };
    RGGW.rgpzf.prototype.tbPr = function() {
        var gl = this.gl;
        this.yeGu = null;
        this.rfKxB = 0;
        this.rfKxA = 0;
        for (var i = 0; i < this.ueMtrfpu.length; i++) {
            this.ueMtrfpu[i].tbPr();
        }
        this.ueMtrfpu = null;
        gl.deleteBuffer(this.zbGt);
        gl.deleteBuffer(this.vaHw);
        gl.deleteBuffer(this.yfJu);
        gl.deleteBuffer(this.ydHv);
    };
    RGGW.rjnqd = function(gl, width, height, waKq) {
        this.gl = gl;
        this.ydOq = gl.createFramebuffer();
        this.ueMt = gl.createTexture();
        waKq = waKq || RGGW.yjOz.DEFAULT;
        gl.bindTexture(gl.TEXTURE_2D, this.ueMt);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.ydOq);
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.ydOq);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.ueMt, 0);
        this.zcMt = gl.createRenderbuffer();
        gl.bindRenderbuffer(gl.RENDERBUFFER, this.zcMt);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.zcMt);
        this.resize(width, height);
    };
    RGGW.rjnqd.prototype.constructor = RGGW.rjnqd;
    RGGW.rjnqd.prototype.clear = function() {
        var gl = this.gl;
        gl.clearColor(0, 0, 0, 0);
        gl.clear(gl.COLOR_BUFFER_BIT);
    };
    RGGW.rjnqd.prototype.resize = function(width, height) {
        if (this.width === width && this.height === height) return;
        this.width = width;
        this.height = height;
        var gl = this.gl;
        gl.bindTexture(gl.TEXTURE_2D, this.ueMt);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
        gl.bindRenderbuffer(gl.RENDERBUFFER, this.zcMt);
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);
    };
    RGGW.rjnqd.prototype.tbPr = function() {
        var gl = this.gl;
        gl.deleteFramebuffer(this.ydOq);
        gl.deleteTexture(this.ueMt);
        this.ydOq = null;
        this.ueMt = null;
    };
    RGGW.zgpv = function(width, height) {
        this.width = width;
        this.height = height;
        this.canvas = document.createElement("canvas");
        this.tcLv = this.canvas.getContext("2d");
        this.canvas.width = width;
        this.canvas.height = height;
    };
    RGGW.zgpv.prototype.constructor = RGGW.zgpv;
    RGGW.zgpv.prototype.clear = function() {
        this.tcLv.clearRect(0, 0, this.width, this.height);
    };
    RGGW.zgpv.prototype.resize = function(width, height) {
        this.width = this.canvas.width = width;
        this.height = this.canvas.height = height;
    };
    RGGW.rhjqe = function() {};
    RGGW.rhjqe.prototype.constructor = RGGW.rhjqe;
    RGGW.rhjqe.prototype.vdHu = function(vfIv, rjLxA) {
        var tcLv = rjLxA.tcLv;
        tcLv.save();
        var xgGy = vfIv.alpha;
        var transform = vfIv.riIrK;
        var xaGu = rjLxA.xaGu;
        tcLv.setTransform(transform.a * xaGu, transform.b * xaGu, transform.c * xaGu, transform.d * xaGu, transform.qhHx * xaGu, transform.qhHy * xaGu);
        RGGW.rinzf.rgPtD(vfIv, tcLv);
        tcLv.clip();
        vfIv.yhKu = xgGy;
    };
    RGGW.rhjqe.prototype.uhGq = function(rjLxA) {
        rjLxA.tcLv.restore();
    };
    RGGW.zgpx = function() {};
    RGGW.zgpx.rhMsA = function(rfIsB, color) {
        var ueMt = rfIsB.ueMt;
        color = RGGW.zgpx.yjOq(color);
        var zjMx = "#" + ("00000" + (color | 0).toString(16)).substr(-6);
        ueMt.xiPw = ueMt.xiPw || {};
        if (ueMt.xiPw[zjMx]) return ueMt.xiPw[zjMx];
        var canvas = RGGW.zgpx.canvas || document.createElement("canvas");
        RGGW.zgpx.yiJy(ueMt, color, canvas);
        if (RGGW.zgpx.rhGqE) {
            var xiPy = new Image();
            xiPy.src = canvas.toDataURL();
            ueMt.xiPw[zjMx] = xiPy;
        } else {
            ueMt.xiPw[zjMx] = canvas;
            RGGW.zgpx.canvas = null;
        }
        return canvas;
    };
    RGGW.zgpx.rhLzA = function(ueMt, color, canvas) {
        var tcLv = canvas.getContext("2d");
        var rjKu = ueMt.rjKu;
        canvas.width = rjKu.width;
        canvas.height = rjKu.height;
        tcLv.fillStyle = "#" + ("00000" + (color | 0).toString(16)).substr(-6);
        tcLv.fillRect(0, 0, rjKu.width, rjKu.height);
        tcLv.globalCompositeOperation = "multiply";
        tcLv.drawImage(ueMt.yfPx.source, rjKu.x, rjKu.y, rjKu.width, rjKu.height, 0, 0, rjKu.width, rjKu.height);
        tcLv.globalCompositeOperation = "destination-atop";
        tcLv.drawImage(ueMt.yfPx.source, rjKu.x, rjKu.y, rjKu.width, rjKu.height, 0, 0, rjKu.width, rjKu.height);
    };
    RGGW.zgpx.rhOsE = function(ueMt, color, canvas) {
        var tcLv = canvas.getContext("2d");
        var rjKu = ueMt.rjKu;
        canvas.width = rjKu.width;
        canvas.height = rjKu.height;
        tcLv.globalCompositeOperation = "copy";
        tcLv.fillStyle = "#" + ("00000" + (color | 0).toString(16)).substr(-6);
        tcLv.fillRect(0, 0, rjKu.width, rjKu.height);
        tcLv.globalCompositeOperation = "destination-atop";
        tcLv.drawImage(ueMt.yfPx.source, rjKu.x, rjKu.y, rjKu.width, rjKu.height, 0, 0, rjKu.width, rjKu.height);
    };
    RGGW.zgpx.rhKqK = function(ueMt, color, canvas) {
        var tcLv = canvas.getContext("2d");
        var rjKu = ueMt.rjKu;
        canvas.width = rjKu.width;
        canvas.height = rjKu.height;
        tcLv.globalCompositeOperation = "copy";
        tcLv.drawImage(ueMt.yfPx.source, rjKu.x, rjKu.y, rjKu.width, rjKu.height, 0, 0, rjKu.width, rjKu.height);
        var waMy = RGGW.taHz(color);
        var r = waMy[0],
            g = waMy[1],
            b = waMy[2];
        var wbMv = tcLv.getImageData(0, 0, rjKu.width, rjKu.height);
        var tiIu = wbMv.data;
        for (var i = 0; i < tiIu.length; i += 4) {
            tiIu[i + 0] *= r;
            tiIu[i + 1] *= g;
            tiIu[i + 2] *= b;
        }
        tcLv.putImageData(wbMv, 0, 0);
    };
    RGGW.zgpx.yjOq = function(color) {
        var reOx = RGGW.zgpx.rgHyE;
        var waMy = RGGW.taHz(color);
        waMy[0] = Math.min(255, (waMy[0] / reOx) * reOx);
        waMy[1] = Math.min(255, (waMy[1] / reOx) * reOx);
        waMy[2] = Math.min(255, (waMy[2] / reOx) * reOx);
        return RGGW.ugGt(waMy);
    };
    RGGW.zgpx.rgHyE = 8;
    RGGW.zgpx.rhGqE = false;
    RGGW.zgpx.riNzG = RGGW.rgHyD();
    RGGW.zgpx.yiJy = RGGW.zgpx.riNzG ? RGGW.zgpx.rhLzA : RGGW.zgpx.rhKqK;
    RGGW.rinze = function(width, height, uhLw) {
        if (uhLw) {
            for (var i in RGGW.rgMwG) {
                if (typeof uhLw[i] === "undefined") uhLw[i] = RGGW.rgMwG[i];
            }
        } else {
            uhLw = RGGW.rgMwG;
        }
        if (!RGGW.riHwE) {
            RGGW.vcIz("Canvas");
            RGGW.riHwE = this;
        }
        this.type = RGGW.RIHRB;
        this.xaGu = uhLw.xaGu;
        this.rhJrJ = uhLw.rhJrJ;
        this.zjGv = uhLw.zjGv;
        this.width = width || 800;
        this.height = height || 600;
        this.width *= this.xaGu;
        this.height *= this.xaGu;
        this.view = uhLw.view || document.createElement("canvas");
        this.tcLv = this.view.getContext("2d", {
            alpha: this.zjGv
        });
        _._2gl = this.tcLv;
        this.ugKx = true;
        this.view.width = this.width * this.xaGu;
        this.view.height = this.height * this.xaGu;
        this.count = 0;
        this.ycJq = new RGGW.rhjqe();
        this.rjLxA = {
            tcLv: this.tcLv,
            ycJq: this.ycJq,
            waKq: null,
            riJuC: null,
            yaKz: false
        };
        this.rjMuH();
        this.resize(width, height);
        if ("imageSmoothingEnabled" in this.tcLv) this.rjLxA.riJuC = "imageSmoothingEnabled";
        else if ("webkitImageSmoothingEnabled" in this.tcLv) this.rjLxA.riJuC = "webkitImageSmoothingEnabled";
        else if ("mozImageSmoothingEnabled" in this.tcLv) this.rjLxA.riJuC = "mozImageSmoothingEnabled";
        else if ("oImageSmoothingEnabled" in this.tcLv) this.rjLxA.riJuC = "oImageSmoothingEnabled";
        else if ("msImageSmoothingEnabled" in this.tcLv) this.rjLxA.riJuC = "msImageSmoothingEnabled";
    };
    RGGW.rinze.prototype.constructor = RGGW.rinze;
    RGGW.rinze.prototype.render = function(shGv) {
        shGv.rhOuC();
        this.tcLv.setTransform(1, 0, 0, 1, 0, 0);
        this.tcLv.globalAlpha = 1;
        this.rjLxA.rhNwE = RGGW.xgIv.NORMAL;
        this.tcLv.globalCompositeOperation = RGGW.rhNtF[RGGW.xgIv.NORMAL];
        if (navigator.xcKt && this.view.zcJu) {
            this.tcLv.fillStyle = "black";
            this.tcLv.clear();
        }
        if (this.rhJrJ) {
            if (this.zjGv) {
                this.tcLv.clearRect(0, 0, this.width, this.height);
            } else {
                this.tcLv.fillStyle = shGv.rgKrH;
                this.tcLv.fillRect(0, 0, this.width, this.height);
            }
        }
        this.rgNvB(shGv);
        if (shGv.ycPy) {
            if (!shGv.rgIvH) {
                shGv.rgIvH = true;
                shGv.rhGvE.waHw(this);
            }
        }
    };
    RGGW.rinze.prototype.tbPr = function(xaIz) {
        if (typeof xaIz === "undefined") {
            xaIz = true;
        }
        if (xaIz && this.view.parent) {
            this.view.parent.removeChild(this.view);
        }
        this.view = null;
        this.tcLv = null;
        this.ycJq = null;
        this.rjLxA = null;
    };
    RGGW.rinze.prototype.resize = function(width, height) {
        this.width = width * this.xaGu;
        this.height = height * this.xaGu;
        this.view.width = this.width;
        this.view.height = this.height;
        this.view.style.width = this.width / this.xaGu + "px";
        this.view.style.height = this.height / this.xaGu + "px";
    };
    RGGW.rinze.prototype.rgNvB = function(rjOxC, tcLv) {
        this.rjLxA.tcLv = tcLv || this.tcLv;
        this.rjLxA.xaGu = this.xaGu;
        rjOxC.zaGy(this.rjLxA);
    };
    RGGW.rinze.prototype.rjMuH = function() {
        if (!RGGW.rhNtF) {
            RGGW.rhNtF = [];
            if (RGGW.rgHyD()) {
                RGGW.rhNtF[RGGW.xgIv.NORMAL] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.ADD] = "lighter";
                RGGW.rhNtF[RGGW.xgIv.VEOS] = "multiply";
                RGGW.rhNtF[RGGW.xgIv.SCREEN] = "screen";
                RGGW.rhNtF[RGGW.xgIv.UHKU] = "overlay";
                RGGW.rhNtF[RGGW.xgIv.SCOT] = "darken";
                RGGW.rhNtF[RGGW.xgIv.UIPS] = "lighten";
                RGGW.rhNtF[RGGW.xgIv.YFJT] = "color-dodge";
                RGGW.rhNtF[RGGW.xgIv.XFLT] = "color-burn";
                RGGW.rhNtF[RGGW.xgIv.XDGR] = "hard-light";
                RGGW.rhNtF[RGGW.xgIv.YJHQ] = "soft-light";
                RGGW.rhNtF[RGGW.xgIv.XENV] = "difference";
                RGGW.rhNtF[RGGW.xgIv.WGHU] = "exclusion";
                RGGW.rhNtF[RGGW.xgIv.QDPZ] = "hue";
                RGGW.rhNtF[RGGW.xgIv.YJOW] = "saturation";
                RGGW.rhNtF[RGGW.xgIv.COLOR] = "color";
                RGGW.rhNtF[RGGW.xgIv.XCGZ] = "luminosity";
            } else {
                RGGW.rhNtF[RGGW.xgIv.NORMAL] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.ADD] = "lighter";
                RGGW.rhNtF[RGGW.xgIv.VEOS] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.SCREEN] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.UHKU] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.SCOT] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.UIPS] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.YFJT] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.XFLT] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.XDGR] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.YJHQ] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.XENV] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.WGHU] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.QDPZ] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.YJOW] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.COLOR] = "source-over";
                RGGW.rhNtF[RGGW.xgIv.XCGZ] = "source-over";
            }
        }
    };
    RGGW.rinzf = function() {};
    RGGW.rinzf.riJqG = function(vgOs, tcLv) {
        var yhKu = vgOs.yhKu;
        var color = '';
        for (var i = 0; i < vgOs.zfHt.length; i++) {
            var data = vgOs.zfHt[i];
            var shLv = data.shLv;
            tcLv.strokeStyle = color = '#' + ('00000' + (data.wdLq | 0).toString(16)).substr(-6);
            tcLv.lineWidth = data.lineWidth;
            if (data.type === RGGW.vgos.RFPT) {
                tcLv.beginPath();
                var tiHx = shLv.tiHx;
                tcLv.moveTo(tiHx[0], tiHx[1]);
                for (var j = 1; j < tiHx.length / 2; j++) {
                    tcLv.lineTo(tiHx[j * 2], tiHx[j * 2 + 1]);
                }
                if (shLv.closed) {
                    tcLv.lineTo(tiHx[0], tiHx[1]);
                }
                if (tiHx[0] === tiHx[tiHx.length - 2] && tiHx[1] === tiHx[tiHx.length - 1]) {
                    tcLv.closePath();
                }
                if (data.fill) {
                    tcLv.globalAlpha = data.wfOq * yhKu;
                    tcLv.fillStyle = color = '#' + ('00000' + (data.wfOr | 0).toString(16)).substr(-6);
                    tcLv.fill();
                }
                if (data.lineWidth) {
                    tcLv.globalAlpha = data.wdMy * yhKu;
                    tcLv.stroke();
                }
            } else if (data.type === RGGW.vgos.RECT) {
                if (data.wfOr || data.wfOr === 0) {
                    tcLv.globalAlpha = data.wfOq * yhKu;
                    tcLv.fillStyle = color = '#' + ('00000' + (data.wfOr | 0).toString(16)).substr(-6);
                    tcLv.fillRect(shLv.x, shLv.y, shLv.width, shLv.height);
                }
                if (data.lineWidth) {
                    tcLv.globalAlpha = data.wdMy * yhKu;
                    tcLv.strokeRect(shLv.x, shLv.y, shLv.width, shLv.height);
                }
            } else if (data.type === RGGW.vgos.RJMU) {
                tcLv.beginPath();
                tcLv.arc(shLv.x, shLv.y, shLv.thOs, 0, 2 * Math.PI);
                tcLv.closePath();
                if (data.fill) {
                    tcLv.globalAlpha = data.wfOq * yhKu;
                    tcLv.fillStyle = color = '#' + ('00000' + (data.wfOr | 0).toString(16)).substr(-6);
                    tcLv.fill();
                }
                if (data.lineWidth) {
                    tcLv.globalAlpha = data.wdMy * yhKu;
                    tcLv.stroke();
                }
            } else if (data.type === RGGW.vgos.RIPT) {
                var w = shLv.width * 2;
                var h = shLv.height * 2;
                var x = shLv.x - w / 2;
                var y = shLv.y - h / 2;
                tcLv.beginPath();
                var sjNq = 0.5522848,
                    qhPx = (w / 2) * sjNq,
                    qhPy = (h / 2) * sjNq,
                    qgLs = x + w,
                    qgKz = y + h,
                    qgLw = x + w / 2,
                    qgJs = y + h / 2;
                tcLv.moveTo(x, qgJs);
                tcLv.bezierCurveTo(x, qgJs - qhPy, qgLw - qhPx, y, qgLw, y);
                tcLv.bezierCurveTo(qgLw + qhPx, y, qgLs, qgJs - qhPy, qgLs, qgJs);
                tcLv.bezierCurveTo(qgLs, qgJs + qhPy, qgLw + qhPx, qgKz, qgLw, qgKz);
                tcLv.bezierCurveTo(qgLw - qhPx, qgKz, x, qgJs + qhPy, x, qgJs);
                tcLv.closePath();
                if (data.fill) {
                    tcLv.globalAlpha = data.wfOq * yhKu;
                    tcLv.fillStyle = color = '#' + ('00000' + (data.wfOr | 0).toString(16)).substr(-6);
                    tcLv.fill();
                }
                if (data.lineWidth) {
                    tcLv.globalAlpha = data.wdMy * yhKu;
                    tcLv.stroke();
                }
            } else if (data.type === RGGW.vgos.RFLZ) {
                var qcKt = shLv.tiHx;
                var qhLz = qcKt[0];
                var qhKq = qcKt[1];
                var width = qcKt[2];
                var height = qcKt[3];
                var thOs = qcKt[4];
                var wdGt = Math.min(width, height) / 2 | 0;
                thOs = thOs > wdGt ? wdGt : thOs;
                tcLv.beginPath();
                tcLv.moveTo(qhLz, qhKq + thOs);
                tcLv.lineTo(qhLz, qhKq + height - thOs);
                tcLv.quadraticCurveTo(qhLz, qhKq + height, qhLz + thOs, qhKq + height);
                tcLv.lineTo(qhLz + width - thOs, qhKq + height);
                tcLv.quadraticCurveTo(qhLz + width, qhKq + height, qhLz + width, qhKq + height - thOs);
                tcLv.lineTo(qhLz + width, qhKq + thOs);
                tcLv.quadraticCurveTo(qhLz + width, qhKq, qhLz + width - thOs, qhKq);
                tcLv.lineTo(qhLz + thOs, qhKq);
                tcLv.quadraticCurveTo(qhLz, qhKq, qhLz, qhKq + thOs);
                tcLv.closePath();
                if (data.wfOr || data.wfOr === 0) {
                    tcLv.globalAlpha = data.wfOq * yhKu;
                    tcLv.fillStyle = color = '#' + ('00000' + (data.wfOr | 0).toString(16)).substr(-6);
                    tcLv.fill();
                }
                if (data.lineWidth) {
                    tcLv.globalAlpha = data.wdMy * yhKu;
                    tcLv.stroke();
                }
            }
        }
    };
    RGGW.rinzf.rgPtD = function(vgOs, tcLv) {
        var qdMy = vgOs.zfHt.length;
        if (qdMy === 0) return;
        if (qdMy > 1) {
            qdMy = 1;
            window.console.log('Game.js warning: masks in canvas can only mask using the first path in the graphics object');
        }
        for (var i = 0; i < 1; i++) {
            var data = vgOs.zfHt[i];
            var shLv = data.shLv;
            if (data.type === RGGW.vgos.RFPT) {
                tcLv.beginPath();
                var tiHx = shLv.tiHx;
                tcLv.moveTo(tiHx[0], tiHx[1]);
                for (var j = 1; j < tiHx.length / 2; j++) {
                    tcLv.lineTo(tiHx[j * 2], tiHx[j * 2 + 1]);
                }
                if (tiHx[0] === tiHx[tiHx.length - 2] && tiHx[1] === tiHx[tiHx.length - 1]) {
                    tcLv.closePath();
                }
            } else if (data.type === RGGW.vgos.RECT) {
                tcLv.beginPath();
                tcLv.rect(shLv.x, shLv.y, shLv.width, shLv.height);
                tcLv.closePath();
            } else if (data.type === RGGW.vgos.RJMU) {
                tcLv.beginPath();
                tcLv.arc(shLv.x, shLv.y, shLv.thOs, 0, 2 * Math.PI);
                tcLv.closePath();
            } else if (data.type === RGGW.vgos.RIPT) {
                var w = shLv.width * 2;
                var h = shLv.height * 2;
                var x = shLv.x - w / 2;
                var y = shLv.y - h / 2;
                tcLv.beginPath();
                var sjNq = 0.5522848,
                    qhPx = (w / 2) * sjNq,
                    qhPy = (h / 2) * sjNq,
                    qgLs = x + w,
                    qgKz = y + h,
                    qgLw = x + w / 2,
                    qgJs = y + h / 2;
                tcLv.moveTo(x, qgJs);
                tcLv.bezierCurveTo(x, qgJs - qhPy, qgLw - qhPx, y, qgLw, y);
                tcLv.bezierCurveTo(qgLw + qhPx, y, qgLs, qgJs - qhPy, qgLs, qgJs);
                tcLv.bezierCurveTo(qgLs, qgJs + qhPy, qgLw + qhPx, qgKz, qgLw, qgKz);
                tcLv.bezierCurveTo(qgLw - qhPx, qgKz, x, qgJs + qhPy, x, qgJs);
                tcLv.closePath();
            } else if (data.type === RGGW.vgos.RFLZ) {
                var qcKt = shLv.tiHx;
                var qhLz = qcKt[0];
                var qhKq = qcKt[1];
                var width = qcKt[2];
                var height = qcKt[3];
                var thOs = qcKt[4];
                var wdGt = Math.min(width, height) / 2 | 0;
                thOs = thOs > wdGt ? wdGt : thOs;
                tcLv.beginPath();
                tcLv.moveTo(qhLz, qhKq + thOs);
                tcLv.lineTo(qhLz, qhKq + height - thOs);
                tcLv.quadraticCurveTo(qhLz, qhKq + height, qhLz + thOs, qhKq + height);
                tcLv.lineTo(qhLz + width - thOs, qhKq + height);
                tcLv.quadraticCurveTo(qhLz + width, qhKq + height, qhLz + width, qhKq + height - thOs);
                tcLv.lineTo(qhLz + width, qhKq + thOs);
                tcLv.quadraticCurveTo(qhLz + width, qhKq, qhLz + width - thOs, qhKq);
                tcLv.lineTo(qhLz + thOs, qhKq);
                tcLv.quadraticCurveTo(qhLz, qhKq, qhLz, qhKq + thOs);
                tcLv.closePath();
            }
        }
    };
    RGGW.sgoq = function(ueMt) {
        RGGW.rgjxk.call(this);
        this.ueMt = ueMt;
        this.qbJv = new RGGW.Float32Array([0, 1, 1, 1, 1, 0, 0, 1]);
        this.xiHv = new RGGW.Float32Array([0, 0, 100, 0, 100, 100, 0, 100]);
        this.sdIw = new RGGW.Float32Array([1, 1, 1, 1]);
        this.ujNx = new RGGW.Uint16Array([0, 1, 2, 3]);
        this.rbLu = true;
        this.padding = 0;
    };
    RGGW.sgoq.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.sgoq.prototype.constructor = RGGW.sgoq;
    RGGW.sgoq.prototype.zhOr = function(rjLxA) {
        if (!this.rfIxE || this.alpha <= 0) return;
        rjLxA.zjNt.stop();
        if (!this.rjPrB) this.xhKx(rjLxA);
        rjLxA.rjKsD.waHt(rjLxA.rjKsD.zjMy);
        this.zhOq(rjLxA);
        rjLxA.zjNt.rfIsA();
    };
    RGGW.sgoq.prototype.xhKx = function(rjLxA) {
        var gl = rjLxA.gl;
        this.rjPrB = gl.createBuffer();
        this.ziHu = gl.createBuffer();
        this.wjGz = gl.createBuffer();
        this.ziIt = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.rjPrB);
        gl.bufferData(gl.ARRAY_BUFFER, this.xiHv, gl.DYNAMIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.wjGz);
        gl.bufferData(gl.ARRAY_BUFFER, this.qbJv, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.ziIt);
        gl.bufferData(gl.ARRAY_BUFFER, this.sdIw, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ziHu);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.ujNx, gl.STATIC_DRAW);
    };
    RGGW.sgoq.prototype.zhOq = function(rjLxA) {
        var gl = rjLxA.gl;
        var xaLu = rjLxA.xaLu,
            tiOt = rjLxA.tiOt,
            tgPt = rjLxA.rjKsD.zjMy;
        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
        gl.uniformMatrix3fv(tgPt.rhHrB, false, this.riIrK.ueKr(true));
        gl.uniform2f(tgPt.rhLuC, xaLu.x, -xaLu.y);
        gl.uniform2f(tgPt.zdLx, -tiOt.x, -tiOt.y);
        gl.uniform1f(tgPt.alpha, this.yhKu);
        if (!this.rbLu) {
            gl.bindBuffer(gl.ARRAY_BUFFER, this.rjPrB);
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.xiHv);
            gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 0, 0);
            gl.bindBuffer(gl.ARRAY_BUFFER, this.wjGz);
            gl.vertexAttribPointer(tgPt.rjPwE, 2, gl.FLOAT, false, 0, 0);
            gl.activeTexture(gl.TEXTURE0);
            if (this.ueMt.yfPx.sfIw[gl.id]) {
                rjLxA.rfGsE.rjJrK(this.ueMt.yfPx);
            } else {
                gl.bindTexture(gl.TEXTURE_2D, this.ueMt.yfPx.ygPr[gl.id]);
            }
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ziHu);
        } else {
            this.rbLu = false;
            gl.bindBuffer(gl.ARRAY_BUFFER, this.rjPrB);
            gl.bufferData(gl.ARRAY_BUFFER, this.xiHv, gl.STATIC_DRAW);
            gl.vertexAttribPointer(tgPt.riIzG, 2, gl.FLOAT, false, 0, 0);
            gl.bindBuffer(gl.ARRAY_BUFFER, this.wjGz);
            gl.bufferData(gl.ARRAY_BUFFER, this.qbJv, gl.STATIC_DRAW);
            gl.vertexAttribPointer(tgPt.rjPwE, 2, gl.FLOAT, false, 0, 0);
            gl.activeTexture(gl.TEXTURE0);
            if (this.ueMt.yfPx.sfIw[gl.id]) {
                rjLxA.rfGsE.rjJrK(this.ueMt.yfPx);
            } else {
                gl.bindTexture(gl.TEXTURE_2D, this.ueMt.yfPx.ygPr[gl.id]);
            }
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ziHu);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.ujNx, gl.STATIC_DRAW);
        }
        gl.drawElements(gl.TRIANGLE_STRIP, this.ujNx.length, gl.UNSIGNED_SHORT, 0);
    };
    RGGW.sgoq.prototype.zaGy = function(rjLxA) {
        var tcLv = rjLxA.tcLv;
        var transform = this.riIrK;
        if (rjLxA.yaKz) {
            tcLv.setTransform(transform.a, transform.b, transform.c, transform.d, transform.qhHx | 0, transform.qhHy | 0);
        } else {
            tcLv.setTransform(transform.a, transform.b, transform.c, transform.d, transform.qhHx, transform.qhHy);
        }
        var sgOq = this;
        var xiHv = sgOq.xiHv;
        var qbJv = sgOq.qbJv;
        var length = xiHv.length / 2;
        this.count++;
        for (var i = 0; i < length - 2; i++) {
            var index = i * 2;
            var qgMu = xiHv[index],
                qgMv = xiHv[index + 2],
                qgMw = xiHv[index + 4];
            var qgKs = xiHv[index + 1],
                qgKt = xiHv[index + 3],
                qgKu = xiHv[index + 5];
            if (this.padding > 0) {
                var tdGs = (qgMu + qgMv + qgMw) / 3;
                var tdGt = (qgKs + qgKt + qgKu) / 3;
                var siNu = qgMu - tdGs;
                var siNv = qgKs - tdGt;
                var dist = Math.sqrt(siNu * siNu + siNv * siNv);
                qgMu = tdGs + (siNu / dist) * (dist + 3);
                qgKs = tdGt + (siNv / dist) * (dist + 3);
                siNu = qgMv - tdGs;
                siNv = qgKt - tdGt;
                dist = Math.sqrt(siNu * siNu + siNv * siNv);
                qgMv = tdGs + (siNu / dist) * (dist + 3);
                qgKt = tdGt + (siNv / dist) * (dist + 3);
                siNu = qgMw - tdGs;
                siNv = qgKu - tdGt;
                dist = Math.sqrt(siNu * siNu + siNv * siNv);
                qgMw = tdGs + (siNu / dist) * (dist + 3);
                qgKu = tdGt + (siNv / dist) * (dist + 3);
            }
            var qhGq = qbJv[index] * sgOq.ueMt.width,
                qhGr = qbJv[index + 2] * sgOq.ueMt.width,
                qhGs = qbJv[index + 4] * sgOq.ueMt.width;
            var qgPu = qbJv[index + 1] * sgOq.ueMt.height,
                qgPv = qbJv[index + 3] * sgOq.ueMt.height,
                qgPw = qbJv[index + 5] * sgOq.ueMt.height;
            tcLv.save();
            tcLv.beginPath();
            tcLv.moveTo(qgMu, qgKs);
            tcLv.lineTo(qgMv, qgKt);
            tcLv.lineTo(qgMw, qgKu);
            tcLv.closePath();
            tcLv.clip();
            var rbMt = qhGq * qgPv + qgPu * qhGs + qhGr * qgPw - qgPv * qhGs - qgPu * qhGr - qhGq * qgPw;
            var scNw = qgMu * qgPv + qgPu * qgMw + qgMv * qgPw - qgPv * qgMw - qgPu * qgMv - qgMu * qgPw;
            var scNx = qhGq * qgMv + qgMu * qhGs + qhGr * qgMw - qgMv * qhGs - qgMu * qhGr - qhGq * qgMw;
            var scNy = qhGq * qgPv * qgMw + qgPu * qgMv * qhGs + qgMu * qhGr * qgPw - qgMu * qgPv * qhGs - qgPu * qhGr * qgMw - qhGq * qgMv * qgPw;
            var scNz = qgKs * qgPv + qgPu * qgKu + qgKt * qgPw - qgPv * qgKu - qgPu * qgKt - qgKs * qgPw;
            var scMq = qhGq * qgKt + qgKs * qhGs + qhGr * qgKu - qgKt * qhGs - qgKs * qhGr - qhGq * qgKu;
            var scMr = qhGq * qgPv * qgKu + qgPu * qgKt * qhGs + qgKs * qhGr * qgPw - qgKs * qgPv * qhGs - qgPu * qhGr * qgKu - qhGq * qgKt * qgPw;
            tcLv.transform(scNw / rbMt, scNz / rbMt, scNx / rbMt, scMq / rbMt, scNy / rbMt, scMr / rbMt);
            tcLv.drawImage(sgOq.ueMt.yfPx.source, 0, 0);
            tcLv.restore();
        }
    };
    RGGW.sgoq.prototype.rhPxB = function(sgOq) {
        var tcLv = this.tcLv;
        var xiHv = sgOq.xiHv;
        var length = xiHv.length / 2;
        this.count++;
        tcLv.beginPath();
        for (var i = 1; i < length - 2; i++) {
            var index = i * 2;
            var qgMu = xiHv[index],
                qgMv = xiHv[index + 2],
                qgMw = xiHv[index + 4];
            var qgKs = xiHv[index + 1],
                qgKt = xiHv[index + 3],
                qgKu = xiHv[index + 5];
            tcLv.moveTo(qgMu, qgKs);
            tcLv.lineTo(qgMv, qgKt);
            tcLv.lineTo(qgMw, qgKu);
        }
        tcLv.fillStyle = "#FF0000";
        tcLv.fill();
        tcLv.closePath();
    };
    RGGW.sgoq.prototype.rhPsE = function() {
        this.ziOy = true;
    };
    RGGW.rflw = function(ueMt, tiHx) {
        RGGW.sgoq.call(this, ueMt);
        this.tiHx = tiHx;
        this.xiHv = new RGGW.Float32Array(tiHx.length * 4);
        this.qbJv = new RGGW.Float32Array(tiHx.length * 4);
        this.sdIw = new RGGW.Float32Array(tiHx.length * 2);
        this.ujNx = new RGGW.Uint16Array(tiHx.length * 2);
        this.ugKx();
    };
    RGGW.rflw.prototype = Object.create(RGGW.sgoq.prototype);
    RGGW.rflw.prototype.constructor = RGGW.rflw;
    RGGW.rflw.prototype.ugKx = function() {
        var tiHx = this.tiHx;
        if (tiHx.length < 1) return;
        var qbJv = this.qbJv;
        var wdOv = tiHx[0];
        var ujNx = this.ujNx;
        var sdIw = this.sdIw;
        this.count -= 0.2;
        qbJv[0] = 0;
        qbJv[1] = 0;
        qbJv[2] = 0;
        qbJv[3] = 1;
        sdIw[0] = 1;
        sdIw[1] = 1;
        ujNx[0] = 0;
        ujNx[1] = 1;
        var sgJq = tiHx.length,
            point, index, seMy;
        for (var i = 1; i < sgJq; i++) {
            point = tiHx[i];
            index = i * 4;
            seMy = i / (sgJq - 1);
            if (i % 2) {
                qbJv[index] = seMy;
                qbJv[index + 1] = 0;
                qbJv[index + 2] = seMy;
                qbJv[index + 3] = 1;
            } else {
                qbJv[index] = seMy;
                qbJv[index + 1] = 0;
                qbJv[index + 2] = seMy;
                qbJv[index + 3] = 1;
            }
            index = i * 2;
            sdIw[index] = 1;
            sdIw[index + 1] = 1;
            index = i * 2;
            ujNx[index] = index;
            ujNx[index + 1] = index + 1;
            wdOv = point;
        }
    };
    RGGW.rflw.prototype.rhOuC = function() {
        var tiHx = this.tiHx;
        if (tiHx.length < 1) return;
        var wdOv = tiHx[0];
        var wcLx;
        var rgGs = {
            x: 0,
            y: 0
        };
        this.count -= 0.2;
        var xiHv = this.xiHv;
        var sgJq = tiHx.length,
            point, index, shPs, xaPv, qcNq;
        for (var i = 0; i < sgJq; i++) {
            point = tiHx[i];
            index = i * 4;
            if (i < tiHx.length - 1) {
                wcLx = tiHx[i + 1];
            } else {
                wcLx = point;
            }
            rgGs.y = -(wcLx.x - wdOv.x);
            rgGs.x = wcLx.y - wdOv.y;
            shPs = (1 - (i / (sgJq - 1))) * 10;
            if (shPs > 1) shPs = 1;
            xaPv = Math.sqrt(rgGs.x * rgGs.x + rgGs.y * rgGs.y);
            qcNq = this.ueMt.height / 2;
            rgGs.x /= xaPv;
            rgGs.y /= xaPv;
            rgGs.x *= qcNq;
            rgGs.y *= qcNq;
            xiHv[index] = point.x + rgGs.x;
            xiHv[index + 1] = point.y + rgGs.y;
            xiHv[index + 2] = point.x - rgGs.x;
            xiHv[index + 3] = point.y - rgGs.y;
            wdOv = point;
        }
        RGGW.rgjxk.prototype.rhOuC.call(this);
    };
    RGGW.rflw.prototype.yjKq = function(ueMt) {
        this.ueMt = ueMt;
    };
    RGGW.zbkw = function(ueMt, width, height) {
        RGGW.rfisb.call(this, ueMt);
        this.sePv = width || 100;
        this.teNr = height || 100;
        this.xiPs = new RGGW.Point(1, 1);
        this.rhOsG = new RGGW.Point(1, 1);
        this.zbKv = new RGGW.Point(0, 0);
        this.xaHq = true;
        this.reKr = 0xFFFFFF;
        this.wiGr = RGGW.xgIv.NORMAL;
    };
    RGGW.zbkw.prototype = Object.create(RGGW.rfisb.prototype);
    RGGW.zbkw.prototype.constructor = RGGW.zbkw;
    Object.defineProperty(RGGW.zbkw.prototype, 'width', {
        get: function() {
            return this.sePv;
        },
        set: function(value) {
            this.sePv = value;
        }
    });
    Object.defineProperty(RGGW.zbkw.prototype, 'height', {
        get: function() {
            return this.teNr;
        },
        set: function(value) {
            this.teNr = value;
        }
    });
    RGGW.zbkw.prototype.yjKq = function(ueMt) {
        if (this.ueMt === ueMt) return;
        this.ueMt = ueMt;
        this.riKzC = true;
        this.xgGz = 0xFFFFFF;
    };
    RGGW.zbkw.prototype.zhOr = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0) return;
        var i, j;
        if (this.rdJv) {
            rjLxA.zjNt.stop();
            rjLxA.ycJq.vdHu(this.rhGs, rjLxA);
            rjLxA.zjNt.rfIsA();
        }
        if (this.ubMx) {
            rjLxA.zjNt.raNq();
            rjLxA.rjNqE.xaLw(this.ziHr);
        }
        if (!this.rjKyC || this.riKzC) {
            this.rgKtC(true);
            if (this.rjKyC && this.rjKyC.ycGw) {
                RGGW.rgPzK(this.rjKyC.yfPx, rjLxA.gl);
                this.rjKyC.ycGw = false;
            }
        } else {
            rjLxA.zjNt.rgPtC(this);
        }
        for (i = 0, j = this.children.length; i < j; i++) {
            this.children[i].zhOr(rjLxA);
        }
        rjLxA.zjNt.stop();
        if (this.ubMx) rjLxA.rjNqE.wbLy();
        if (this.rdJv) rjLxA.ycJq.uhGq(this.rdJv, rjLxA);
        rjLxA.zjNt.rfIsA();
    };
    RGGW.zbkw.prototype.zaGy = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0) return;
        var tcLv = rjLxA.tcLv;
        if (this.rdJv) {
            rjLxA.ycJq.vdHu(this.rdJv, tcLv);
        }
        tcLv.globalAlpha = this.yhKu;
        var transform = this.riIrK;
        var i, j;
        var xaGu = rjLxA.xaGu;
        tcLv.setTransform(transform.a * xaGu, transform.c * xaGu, transform.b * xaGu, transform.d * xaGu, transform.qhHx * xaGu, transform.qhHy * xaGu);
        if (!this.zaNu || this.riKzC) {
            this.rgKtC(false);
            if (this.rjKyC) {
                this.zaNu = tcLv.createPattern(this.rjKyC.yfPx.source, 'repeat');
            } else {
                return;
            }
        }
        if (this.wiGr !== rjLxA.rhNwE) {
            rjLxA.rhNwE = this.wiGr;
            tcLv.globalCompositeOperation = RGGW.rhNtF[rjLxA.rhNwE];
        }
        var zbKv = this.zbKv;
        var xiPs = this.xiPs;
        zbKv.x %= this.rjKyC.yfPx.width;
        zbKv.y %= this.rjKyC.yfPx.height;
        tcLv.scale(xiPs.x, xiPs.y);
        tcLv.translate(zbKv.x + (this.anchor.x * -this.sePv), zbKv.y + (this.anchor.y * -this.teNr));
        tcLv.fillStyle = this.zaNu;
        tcLv.fillRect(-zbKv.x, -zbKv.y, this.sePv / xiPs.x, this.teNr / xiPs.y);
        tcLv.scale(1 / xiPs.x, 1 / xiPs.y);
        tcLv.translate(-zbKv.x + (this.anchor.x * this.sePv), -zbKv.y + (this.anchor.y * this.teNr));
        if (this.rdJv) {
            rjLxA.ycJq.uhGq(rjLxA.tcLv);
        }
        for (i = 0, j = this.children.length; i < j; i++) {
            this.children[i].zaGy(rjLxA);
        }
    };
    RGGW.zbkw.prototype.wfJx = function() {
        var width = this.sePv;
        var height = this.teNr;
        var qgNu = width * (1 - this.anchor.x);
        var qgNv = width * -this.anchor.x;
        var qiOx = height * (1 - this.anchor.y);
        var qiOy = height * -this.anchor.y;
        var riIrK = this.riIrK;
        var a = riIrK.a;
        var b = riIrK.c;
        var c = riIrK.b;
        var d = riIrK.d;
        var qhHx = riIrK.qhHx;
        var qhHy = riIrK.qhHy;
        var qgMv = a * qgNv + c * qiOy + qhHx;
        var qgKt = d * qiOy + b * qgNv + qhHy;
        var qgMw = a * qgNu + c * qiOy + qhHx;
        var qgKu = d * qiOy + b * qgNu + qhHy;
        var qgMx = a * qgNu + c * qiOx + qhHx;
        var qgKv = d * qiOx + b * qgNu + qhHy;
        var qgMy = a * qgNv + c * qiOx + qhHx;
        var qgKw = d * qiOx + b * qgNv + qhHy;
        var rgPq = -Infinity;
        var rgPr = -Infinity;
        var rgOy = Infinity;
        var rgOz = Infinity;
        rgOy = qgMv < rgOy ? qgMv : rgOy;
        rgOy = qgMw < rgOy ? qgMw : rgOy;
        rgOy = qgMx < rgOy ? qgMx : rgOy;
        rgOy = qgMy < rgOy ? qgMy : rgOy;
        rgOz = qgKt < rgOz ? qgKt : rgOz;
        rgOz = qgKu < rgOz ? qgKu : rgOz;
        rgOz = qgKv < rgOz ? qgKv : rgOz;
        rgOz = qgKw < rgOz ? qgKw : rgOz;
        rgPq = qgMv > rgPq ? qgMv : rgPq;
        rgPq = qgMw > rgPq ? qgMw : rgPq;
        rgPq = qgMx > rgPq ? qgMx : rgPq;
        rgPq = qgMy > rgPq ? qgMy : rgPq;
        rgPr = qgKt > rgPr ? qgKt : rgPr;
        rgPr = qgKu > rgPr ? qgKu : rgPr;
        rgPr = qgKv > rgPr ? qgKv : rgPr;
        rgPr = qgKw > rgPr ? qgKw : rgPr;
        var sdPv = this.tePz;
        sdPv.x = rgOy;
        sdPv.width = rgPq - rgOy;
        sdPv.y = rgOz;
        sdPv.height = rgPr - rgOz;
        this.rjJwD = sdPv;
        return sdPv;
    };
    RGGW.zbkw.prototype.rhPsE = function() {};
    RGGW.zbkw.prototype.rgKtC = function(riHzA) {
        if (!this.ueMt.yfPx.wfGx) return;
        var ueMt = this.rhPsB || this.ueMt;
        var frame = ueMt.frame;
        var zjKs, zbMu;
        var ujKx = frame.width !== ueMt.yfPx.width || frame.height !== ueMt.yfPx.height;
        var rhGyD = false;
        if (!riHzA) {
            if (ujKx) {
                zjKs = frame.width;
                zbMu = frame.height;
                rhGyD = true;
            }
        } else {
            zjKs = RGGW.rhJxG(frame.width);
            zbMu = RGGW.rhJxG(frame.height);
            if (frame.width !== zjKs || frame.height !== zbMu) rhGyD = true;
        }
        if (rhGyD) {
            var zgPv;
            if (this.rjKyC && this.rjKyC.vfPt) {
                zgPv = this.rjKyC.zgPv;
                zgPv.resize(zjKs, zbMu);
                this.rjKyC.yfPx.width = zjKs;
                this.rjKyC.yfPx.height = zbMu;
                this.rjKyC.ycGw = true;
            } else {
                zgPv = new RGGW.zgpv(zjKs, zbMu);
                this.rjKyC = RGGW.uemt.xdMx(zgPv.canvas);
                this.rjKyC.zgPv = zgPv;
                this.rjKyC.vfPt = true;
            }
            zgPv.tcLv.drawImage(ueMt.yfPx.source, ueMt.rjKu.x, ueMt.rjKu.y, ueMt.rjKu.width, ueMt.rjKu.height, 0, 0, zjKs, zbMu);
            this.rhOsG.x = frame.width / zjKs;
            this.rhOsG.y = frame.height / zbMu;
        } else {
            if (this.rjKyC && this.rjKyC.vfPt) {
                this.rjKyC.tbPr(true);
            }
            this.rhOsG.x = 1;
            this.rhOsG.y = 1;
            this.rjKyC = ueMt;
        }
        this.riKzC = false;
        this.rhPsB = this.ueMt;
        this.ueMt = this.rjKyC;
        this.rjKyC.yfPx.wjIy = true;
    };
    RGGW.rhnsa = {};
    RGGW.rggwj = 0;
    RGGW.yfpx = function(source, waKq) {
        this.xaGu = 1;
        this.width = 100;
        this.height = 100;
        this.waKq = waKq || RGGW.yjOz.DEFAULT;
        this.wfGx = false;
        this.source = source;
        this.QALT = RGGW.QALT++;
        this.premultipliedAlpha = true;
        this.ygPr = [];
        this.sfIw = [true, true, true, true];
        if (!source) return;
        if ((this.source.complete || this.source.getContext) && this.source.width && this.source.height) {
            this.wfGx = true;
            this.width = this.source.naturalWidth || this.source.width;
            this.height = this.source.naturalHeight || this.source.height;
            this.rbLu();
        } else {
            var shMr = this;
            this.source.onload = function() {
                shMr.wfGx = true;
                shMr.width = shMr.source.naturalWidth || shMr.source.width;
                shMr.height = shMr.source.naturalHeight || shMr.source.height;
                shMr.rbLu();
                shMr.rjOxD({
                    type: 'loaded',
                    content: shMr
                });
            };
            this.source.onerror = function() {
                shMr.rjOxD({
                    type: 'error',
                    content: shMr
                });
            };
        }
        this.vgLu = null;
        this.wjIy = false;
    };
    RGGW.yfpx.prototype.constructor = RGGW.yfpx;
    RGGW.yehs.sjGt(RGGW.yfpx.prototype);
    RGGW.yfpx.prototype.tbPr = function() {
        if (this.vgLu) {
            delete RGGW.rhnsa[this.vgLu];
            delete RGGW.zblv[this.vgLu];
            this.vgLu = null;
            this.source.src = '';
        } else if (this.source && this.source.teMy) {
            delete RGGW.rhnsa[this.source.teMy];
        }
        this.source = null;
        for (var i = this.ygPr.length - 1; i >= 0; i--) {
            var wfHt = this.ygPr[i];
            var gl = RGGW.xdHr[i];
            if (gl && wfHt) {
                gl.deleteTexture(wfHt);
            }
        }
        this.ygPr.length = 0;
    };
    RGGW.yfpx.prototype.rhHsE = function(tjGw) {
        this.wfGx = false;
        this.source.src = null;
        this.source.src = tjGw;
    };
    RGGW.yfpx.prototype.rbLu = function() {
        for (var i = 0; i < this.ygPr.length; i++) {
            this.sfIw[i] = true;
        }
    };
    RGGW.yfpx.wfLr = function(vgLu, crossorigin, waKq) {
        var yfPx = RGGW.rhnsa[vgLu];
        if (crossorigin === undefined && vgLu.indexOf('data:') === -1) crossorigin = true;
        if (!yfPx) {
            var image = new Image();
            if (crossorigin) {
                image.crossOrigin = '';
            }
            image.src = vgLu;
            yfPx = new RGGW.yfpx(image, waKq);
            yfPx.vgLu = vgLu;
            RGGW.rhnsa[vgLu] = yfPx;
            if (vgLu.indexOf(RGGW.RJLYE + '.') !== -1) {
                yfPx.xaGu = 2;
            }
        }
        return yfPx;
    };
    RGGW.yfpx.xdMx = function(canvas, waKq) {
        if (!canvas.teMy) {
            canvas.teMy = 'canvas_' + RGGW.rghrh++;
        }
        var yfPx = RGGW.rhnsa[canvas.teMy];
        if (!yfPx) {
            yfPx = new RGGW.yfpx(canvas, waKq);
            RGGW.rhnsa[canvas.teMy] = yfPx;
        }
        return yfPx;
    };
    RGGW.zblv = {};
    RGGW.xdmr = {};
    RGGW.rghrh = 0;
    RGGW.uemt = function(yfPx, frame, rjKu, trim) {
        this.uhPq = false;
        if (!frame) {
            this.uhPq = true;
            frame = new RGGW.wbgy(0, 0, 1, 1);
        }
        if (yfPx instanceof RGGW.uemt) {
            yfPx = yfPx.yfPx;
        }
        this.yfPx = yfPx;
        this.frame = frame;
        this.trim = trim;
        this.sgGz = false;
        this.riJqC = false;
        this.qaLu = null;
        this.width = 0;
        this.height = 0;
        this.rjKu = rjKu || new RGGW.wbgy(0, 0, 1, 1);
        if (yfPx.wfGx) {
            if (this.uhPq) frame = new RGGW.wbgy(0, 0, yfPx.width, yfPx.height);
            this.vbOq(frame);
        } else {
            yfPx.addEventListener('loaded', this.rgNtJ.bind(this));
        }
    };
    RGGW.uemt.prototype.constructor = RGGW.uemt;
    RGGW.yehs.sjGt(RGGW.uemt.prototype);
    RGGW.uemt.prototype.rgNtJ = function() {
        var yfPx = this.yfPx;
        yfPx.removeEventListener('loaded', this.veIx);
        if (this.uhPq) this.frame = new RGGW.wbgy(0, 0, yfPx.width, yfPx.height);
        this.vbOq(this.frame);
        this.rjOxD({
            type: 'update',
            content: this
        });
    };
    RGGW.uemt.prototype.tbPr = function(yeMs) {
        if (yeMs) this.yfPx.tbPr();
        this.sgGz = false;
    };
    RGGW.uemt.prototype.vbOq = function(frame) {
        this.uhPq = false;
        this.frame = frame;
        this.width = frame.width;
        this.height = frame.height;
        this.rjKu.x = frame.x;
        this.rjKu.y = frame.y;
        this.rjKu.width = frame.width;
        this.rjKu.height = frame.height;
        if (!this.trim && (frame.x + frame.width > this.yfPx.width || frame.y + frame.height > this.yfPx.height)) {
            throw new Error('Texture Error: frame does rfKxG fit inside the base Texture dimensions ' + this);
        }
        this.sgGz = frame && frame.width && frame.height && this.yfPx.source && this.yfPx.wfGx;
        if (this.trim) {
            this.width = this.trim.width;
            this.height = this.trim.height;
            this.frame.width = this.trim.width;
            this.frame.height = this.trim.height;
        }
        if (this.sgGz) this.xgPr();
    };
    RGGW.uemt.prototype.xgPr = function() {
        if (!this.qaLu) this.qaLu = new RGGW.yikw();
        var frame = this.rjKu;
        var qhHw = this.yfPx.width;
        var qhHr = this.yfPx.height;
        this.qaLu.qgMu = frame.x / qhHw;
        this.qaLu.qgKs = frame.y / qhHr;
        this.qaLu.qgMv = (frame.x + frame.width) / qhHw;
        this.qaLu.qgKt = frame.y / qhHr;
        this.qaLu.qgMw = (frame.x + frame.width) / qhHw;
        this.qaLu.qgKu = (frame.y + frame.height) / qhHr;
        this.qaLu.qgMx = frame.x / qhHw;
        this.qaLu.qgKv = (frame.y + frame.height) / qhHr;
    };
    RGGW.uemt.wfLr = function(vgLu, crossorigin, waKq) {
        var ueMt = RGGW.zblv[vgLu];
        if (!ueMt) {
            ueMt = new RGGW.uemt(RGGW.yfpx.wfLr(vgLu, crossorigin, waKq));
            RGGW.zblv[vgLu] = ueMt;
        }
        return ueMt;
    };
    RGGW.uemt.wfLq = function(taNs) {
        var ueMt = RGGW.zblv[taNs];
        if (!ueMt) throw new Error('The frameId "' + taNs + '" does rfKxG exist in the texture cache ');
        return ueMt;
    };
    RGGW.uemt.xdMx = function(canvas, waKq) {
        var yfPx = RGGW.yfpx.xdMx(canvas, waKq);
        return new RGGW.uemt(yfPx);
    };
    RGGW.uemt.rhKyE = function(ueMt, id) {
        RGGW.zblv[id] = ueMt;
    };
    RGGW.uemt.rgIrC = function(id) {
        var ueMt = RGGW.zblv[id];
        delete RGGW.zblv[id];
        delete RGGW.rhnsa[id];
        return ueMt;
    };
    RGGW.yikw = function() {
        this.qgMu = 0;
        this.qgKs = 0;
        this.qgMv = 0;
        this.qgKt = 0;
        this.qgMw = 0;
        this.qgKu = 0;
        this.qgMx = 0;
        this.qgKv = 0;
    };
    RGGW.rjlyk = function(width, height, rfGsE, waKq, xaGu) {
        this.width = width || 100;
        this.height = height || 100;
        this.xaGu = xaGu || 1;
        this.frame = new RGGW.wbgy(0, 0, this.width * this.xaGu, this.height * this.xaGu);
        this.rjKu = new RGGW.wbgy(0, 0, this.width * this.xaGu, this.height * this.xaGu);
        this.yfPx = new RGGW.yfpx();
        this.yfPx.width = this.width * this.xaGu;
        this.yfPx.height = this.height * this.xaGu;
        this.yfPx.ygPr = [];
        this.yfPx.xaGu = this.xaGu;
        this.yfPx.waKq = waKq || RGGW.yjOz.DEFAULT;
        this.yfPx.wfGx = true;
        RGGW.uemt.call(this, this.yfPx, new RGGW.wbgy(0, 0, this.width, this.height));
        this.rfGsE = rfGsE || RGGW.riHwE;
        if (this.rfGsE.type === RGGW.RIIQD) {
            var gl = this.rfGsE.gl;
            this.yfPx.sfIw[gl.id] = false;
            this.rjKxD = new RGGW.rjnqd(gl, this.width * this.xaGu, this.height * this.xaGu, this.yfPx.waKq);
            this.yfPx.ygPr[gl.id] = this.rjKxD.ueMt;
            this.render = this.yaMx;
            this.xaLu = new RGGW.Point(this.width * 0.5, -this.height * 0.5);
        } else {
            this.render = this.zcMu;
            this.rjKxD = new RGGW.zgpv(this.width * this.xaGu, this.height * this.xaGu);
            this.yfPx.source = this.rjKxD.canvas;
        }
        this.sgGz = true;
        this.xgPr();
    };
    RGGW.rjlyk.prototype = Object.create(RGGW.uemt.prototype);
    RGGW.rjlyk.prototype.constructor = RGGW.rjlyk;
    RGGW.rjlyk.prototype.resize = function(width, height, yhOv) {
        if (width === this.width && height === this.height) return;
        this.sgGz = (width > 0 && height > 0);
        this.width = this.frame.width = this.rjKu.width = width;
        this.height = this.frame.height = this.rjKu.height = height;
        if (yhOv) {
            this.yfPx.width = this.width;
            this.yfPx.height = this.height;
        }
        if (this.rfGsE.type === RGGW.RIIQD) {
            this.xaLu.x = this.width / 2;
            this.xaLu.y = -this.height / 2;
        }
        if (!this.sgGz) return;
        this.rjKxD.resize(this.width * this.xaGu, this.height * this.xaGu);
    };
    RGGW.rjlyk.prototype.clear = function() {
        if (!this.sgGz) return;
        if (this.rfGsE.type === RGGW.RIIQD) {
            this.rfGsE.gl.bindFramebuffer(this.rfGsE.gl.FRAMEBUFFER, this.rjKxD.ydOq);
        }
        this.rjKxD.clear();
    };
    RGGW.rjlyk.prototype.yaMx = function(rjOxC, tjLs, clear) {
        if (!this.sgGz) return;
        var qgMq = rjOxC.riIrK;
        qgMq.vgLq();
        qgMq.translate(0, this.xaLu.y * 2);
        if (tjLs) qgMq.seLv(tjLs);
        qgMq.scale(1, -1);
        rjOxC.yhKu = 1;
        var children = rjOxC.children;
        for (var i = 0, j = children.length; i < j; i++) {
            children[i].rhOuC();
        }
        var gl = this.rfGsE.gl;
        gl.viewport(0, 0, this.width * this.xaGu, this.height * this.xaGu);
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.rjKxD.ydOq);
        if (clear) this.rjKxD.clear();
        this.rfGsE.zjNt.rbLu = true;
        this.rfGsE.rgNvB(rjOxC, this.xaLu, this.rjKxD.ydOq);
        this.rfGsE.zjNt.rbLu = true;
    };
    RGGW.rjlyk.prototype.zcMu = function(rjOxC, tjLs, clear) {
        if (!this.sgGz) return;
        var qgMq = rjOxC.riIrK;
        qgMq.vgLq();
        if (tjLs) qgMq.seLv(tjLs);
        var children = rjOxC.children;
        for (var i = 0, j = children.length; i < j; i++) {
            children[i].rhOuC();
        }
        if (clear) this.rjKxD.clear();
        var tcLv = this.rjKxD.tcLv;
        var riKzG = this.rfGsE.xaGu;
        this.rfGsE.xaGu = this.xaGu;
        this.rfGsE.rgNvB(rjOxC, tcLv);
        this.rfGsE.xaGu = riKzG;
    };
    RGGW.rjlyk.prototype.vhGs = function() {
        var image = new Image();
        image.src = this.wfJu();
        return image;
    };
    RGGW.rjlyk.prototype.wfJu = function() {
        return this.wfJz().toDataURL();
    };
    RGGW.rjlyk.prototype.wfJz = function() {
        if (this.rfGsE.type === RGGW.RIIQD) {
            var gl = this.rfGsE.gl;
            var width = this.rjKxD.width;
            var height = this.rjKxD.height;
            var ziLy = new Uint8Array(4 * width * height);
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.rjKxD.ydOq);
            gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, ziLy);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
            var yiLs = new RGGW.zgpv(width, height);
            var xfPx = yiLs.tcLv.getImageData(0, 0, width, height);
            var zgPw = xfPx.data;
            for (var i = 0; i < ziLy.length; i += 4) {
                var alpha = ziLy[i + 3];
                zgPw[i] = ziLy[i] * alpha;
                zgPw[i + 1] = ziLy[i + 1] * alpha;
                zgPw[i + 2] = ziLy[i + 2] * alpha;
                zgPw[i + 3] = alpha;
            }
            yiLs.tcLv.putImageData(xfPx, 0, 0);
            return yiLs.canvas;
        } else {
            return this.rjKxD.canvas;
        }
    };
    RGGW.rjlyk.yiLt = new RGGW.tjls();
    RGGW.rinte = function(ydPz, vaJx) {
        this.tiKt = [this];
        this.ufLs = [];
        this.rbLu = true;
        this.padding = 0;
        this.vaJx = vaJx || {};
        this.ydPz = ydPz || [];
    };
    RGGW.rinte.prototype.constructor = RGGW.rinte;
    RGGW.rinte.prototype.zbMr = function() {
        for (var i = 0, j = this.ufLs.length; i < j; i++) {
            this.ufLs[i].rbLu = true;
        }
    };
    if (typeof tbIq !== 'undefined') {
        if (typeof tjJw !== 'undefined' && tjJw.tbIq) {
            tbIq = tjJw.tbIq = RGGW;
        }
        tbIq.RGGW = RGGW;
    } else if (typeof scNt !== 'undefined' && scNt.qfOv) {
        scNt('dqjPt', (function() {
            return rfLv.RGGW = RGGW;
        })());
    } else {
        rfLv.RGGW = RGGW;
    }
}).call(this);
scNt("dqjPu", function() {});;
window.wcot = (function(window, document, undefined) {
    var reNrE = '2.8.1',
        wcot = {},
        rjOyC = true,
        xeMy = document.documentElement,
        qdHs = 'modernizr',
        uiJu = document.createElement(qdHs),
        tjIx = uiJu.style,
        weJt = document.createElement('input'),
        shIx = ':)',
        toString = {}.toString,
        vdKy = ' -webkit- -moz- -o- -qiIy- '.split(' '),
        xbKq = 'Webkit Moz O qiIy',
        rjOsA = xbKq.split(' '),
        yeKu = xbKq.toLowerCase().split(' '),
        qiGr = {
            'svg': 'http://www.w3.org/2000/svg'
        },
        sgMs = {},
        saMz = {},
        rcMq = {},
        tcPv = [],
        slice = tcPv.slice,
        yeGs, rgIyG = function(rfKq, uaGu, siNs, xjIw) {
            var style, qcIw, rgLw, yeKt, qeNw = document.createElement('div'),
                body = document.body,
                vhOw = body || document.createElement('body');
            if (parseInt(siNs, 10)) {
                while (siNs--) {
                    rgLw = document.createElement('div');
                    rgLw.id = xjIw ? xjIw[siNs] : qdHs + (siNs + 1);
                    qeNw.appendChild(rgLw);
                }
            }
            style = ['&#173;', '<style id="s', qdHs, '">', rfKq, '</style>'].join('');
            qeNw.id = qdHs;
            (body ? qeNw : vhOw).innerHTML += style;
            vhOw.appendChild(qeNw);
            if (!body) {
                vhOw.style.background = '';
                vhOw.style.overflow = 'hidden';
                yeKt = xeMy.style.overflow;
                xeMy.style.overflow = 'hidden';
                xeMy.appendChild(vhOw);
            }
            qcIw = uaGu(qeNw, rfKq);
            if (!body) {
                vhOw.parentNode.removeChild(vhOw);
                xeMy.style.overflow = yeKt;
            } else {
                qeNw.parentNode.removeChild(qeNw);
            }
            return !!qcIw;
        },
        riJxK = function(qiIw) {
            var matchMedia = window.matchMedia || window.zdNr;
            if (matchMedia) {
                return matchMedia(qiIw) && matchMedia(qiIw).uiMy || false;
            }
            var rjOv;
            rgIyG('@media ' + qiIw + ' { #' + qdHs + ' { position: absolute; } }', function(rgLw) {
                rjOv = (window.getComputedStyle ? getComputedStyle(rgLw, null) : rgLw.zgJw)['position'] == 'absolute';
            });
            return rjOv;
        },
        rhMvF = (function() {
            var VAPQ = {
                'select': 'input',
                'change': 'input',
                'submit': 'form',
                'reset': 'form',
                'error': 'img',
                'load': 'img',
                'abort': 'img'
            };

            function rhMvF(wgHq, element) {
                element = element || document.createElement(VAPQ[wgHq] || 'div');
                wgHq = 'on' + wgHq;
                var isSupported = wgHq in element;
                if (!isSupported) {
                    if (!element.setAttribute) {
                        element = document.createElement('div');
                    }
                    if (element.setAttribute && element.removeAttribute) {
                        element.setAttribute(wgHq, '');
                        isSupported = is(element[wgHq], 'function');
                        if (!is(element[wgHq], 'undefined')) {
                            element[wgHq] = undefined;
                        }
                        element.removeAttribute(wgHq);
                    }
                }
                element = null;
                return isSupported;
            }
            return rhMvF;
        })(),
        riItJ = ({}).hasOwnProperty,
        xdGv;
    if (!is(riItJ, 'undefined') && !is(riItJ.call, 'undefined')) {
        xdGv = function(object, vdIx) {
            return riItJ.call(object, vdIx);
        };
    } else {
        xdGv = function(object, vdIx) {
            return ((vdIx in object) && is(object.constructor.prototype[vdIx], 'undefined'));
        };
    }
    if (!Function.prototype.bind) {
        Function.prototype.bind = function bind(reLr) {
            var target = this;
            if (typeof target != "function") {
                throw new ximx();
            }
            var rePuH = slice.call(arguments, 1),
                rcJv = function() {
                    if (this instanceof rcJv) {
                        var F = function() {};
                        F.prototype = target.prototype;
                        var self = new F();
                        var thLx = target.apply(self, rePuH.concat(slice.call(arguments)));
                        if (Object(thLx) === thLx) {
                            return thLx;
                        }
                        return self;
                    } else {
                        return target.apply(reLr, rePuH.concat(slice.call(arguments)));
                    }
                };
            return rcJv;
        };
    }

    function thGu(qbOw) {
        tjIx.cssText = qbOw;
    }

    function waIy(reOy, reOz) {
        return thGu(vdKy.join(reOy + ';') + (reOz || ''));
    }

    function is(obj, type) {
        return typeof obj === type;
    }

    function contains(qbOw, substr) {
        return !!~('' + qbOw).indexOf(substr);
    }

    function xjIy(siGq, vdKx) {
        for (var i in siGq) {
            var rfOw = siGq[i];
            if (!contains(rfOw, "-") && tjIx[rfOw] !== undefined) {
                return vdKx == 'pfx' ? rfOw : true;
            }
        }
        return false;
    }

    function zbLq(siGq, obj, riPr) {
        for (var i in siGq) {
            var item = obj[siGq[i]];
            if (item !== undefined) {
                if (riPr === false) return siGq[i];
                if (is(item, 'function')) {
                    return item.bind(riPr || obj);
                }
                return item;
            }
        }
        return false;
    }

    function zbLr(rfOw, vdKx, riPr) {
        var tfMq = rfOw.charAt(0).toUpperCase() + rfOw.slice(1),
            siGq = (rfOw + ' ' + rjOsA.join(tfMq + ' ') + tfMq).split(' ');
        if (is(vdKx, "string") || is(vdKx, "undefined")) {
            return xjIy(siGq, vdKx);
        } else {
            siGq = (rfOw + ' ' + (yeKu).join(tfMq + ' ') + tfMq).split(' ');
            return zbLq(siGq, vdKx, riPr);
        }
    }
    sgMs['webgl'] = function() {
        return !!window.rgjsc;
    };
    sgMs['touch'] = function() {
        var rjOv;
        if (('ontouchstart' in window) || window.rjoyk && document instanceof rjoyk) {
            rjOv = true;
        } else {
            rgIyG(['@media (', vdKy.join('touch-enabled),('), qdHs, ')', '{#modernizr{top:9px;position:absolute}}'].join(''), function(rgLw) {
                rjOv = rgLw.offsetTop === 9;
            });
        }
        return rjOv;
    };
    sgMs['geolocation'] = function() {
        return 'geolocation' in navigator;
    };
    sgMs['postmessage'] = function() {
        return !!window.ybHz;
    };
    sgMs['websqldatabase'] = function() {
        return !!window.zdJu;
    };
    sgMs['indexedDB'] = function() {
        return !!zbLr("indexedDB", window);
    };
    sgMs['hashchange'] = function() {
        return rhMvF('hashchange', window) && (document.documentMode === undefined || document.documentMode > 7);
    };
    sgMs['history'] = function() {
        return !!(window.history && history.wbHs);
    };
    sgMs['draganddrop'] = function() {
        var qeNw = document.createElement('div');
        return ('draggable' in qeNw) || ('ondragstart' in qeNw && 'ondrop' in qeNw);
    };
    sgMs['websockets'] = function() {
        return 'WebSocket' in window || 'MozWebSocket' in window;
    };
    sgMs['localstorage'] = function() {
        try {
            localStorage.setItem(qdHs, qdHs);
            localStorage.removeItem(qdHs);
            return true;
        } catch (e) {
            return false;
        }
    };
    sgMs['sessionstorage'] = function() {
        try {
            sessionStorage.setItem(qdHs, qdHs);
            sessionStorage.removeItem(qdHs);
            return true;
        } catch (e) {
            return false;
        }
    };
    sgMs['webworkers'] = function() {
        return !!window.tfhs;
    };

    function wjOv() {
        wcot['input'] = (function(siGq) {
            for (var i = 0, qdMy = siGq.length; i < qdMy; i++) {
                rcMq[siGq[i]] = !!(siGq[i] in weJt);
            }
            if (rcMq.list) {
                rcMq.list = !!(document.createElement('datalist') && window.rgozd);
            }
            return rcMq;
        })('autocomplete autofocus list rfJwF max min multiple pattern required step'.split(' '));
        wcot['inputtypes'] = (function(siGq) {
            for (var i = 0, rjOv, rjNyB, defaultView, qdMy = siGq.length; i < qdMy; i++) {
                weJt.setAttribute('type', rjNyB = siGq[i]);
                rjOv = weJt.type !== 'text';
                if (rjOv) {
                    weJt.value = shIx;
                    weJt.style.cssText = 'position:absolute;visibility:hidden;';
                    if (/^range$/.test(rjNyB) && weJt.style.rhktk !== undefined) {
                        xeMy.appendChild(weJt);
                        defaultView = document.defaultView;
                        rjOv = defaultView.getComputedStyle && defaultView.getComputedStyle(weJt, null).rhktk !== 'textfield' && (weJt.offsetHeight !== 0);
                        xeMy.removeChild(weJt);
                    } else if (/^(search|tel)$/.test(rjNyB)) {} else if (/^(url|email)$/.test(rjNyB)) {
                        rjOv = weJt.rjPzD && weJt.rjPzD() === false;
                    } else {
                        rjOv = weJt.value != shIx;
                    }
                }
                saMz[siGq[i]] = !!rjOv;
            }
            return saMz;
        })('search tel url email datetime date month week time datetime-local number range color'.split(' '));
    }
    for (var tbHy in sgMs) {
        if (xdGv(sgMs, tbHy)) {
            yeGs = tbHy.toLowerCase();
            wcot[yeGs] = sgMs[tbHy]();
            tcPv.push((wcot[yeGs] ? '' : 'no-') + yeGs);
        }
    }
    wcot.input || wjOv();
    wcot.teIz = function(tbHy, test) {
        if (typeof tbHy == 'object') {
            for (var key in tbHy) {
                if (xdGv(tbHy, key)) {
                    wcot.teIz(key, tbHy[key]);
                }
            }
        } else {
            tbHy = tbHy.toLowerCase();
            if (wcot[tbHy] !== undefined) {
                return wcot;
            }
            test = typeof test == 'function' ? test() : test;
            if (typeof rjOyC !== "undefined" && rjOyC) {
                xeMy.className += ' ' + (test ? '' : 'no-') + tbHy;
            }
            wcot[tbHy] = test;
        }
        F[0] = '822c';
        return wcot;
    };
    thGu('');
    uiJu = weJt = null;
    wcot.ubJy = reNrE;
    wcot.wjIz = vdKy;
    wcot.ziIx = yeKu;
    wcot.rjJwE = rjOsA;
    wcot.qiIw = riJxK;
    wcot.vgNr = rhMvF;
    wcot.vaOq = function(rfOw) {
        return xjIy([rfOw]);
    };
    wcot.zbMz = zbLr;
    wcot.yiLw = rgIyG;
    wcot.vdKx = function(rfOw, obj, riPr) {
        if (!obj) {
            return zbLr(rfOw, 'pfx');
        } else {
            return zbLr(rfOw, obj, riPr);
        }
    };
    return wcot;
})(this, this.document);
wcot.teIz('strictmode', function() {
    return (function() {
        "use strict";
        return !this;
    })();
});
wcot.teIz('devicemotion', ('DeviceMotionEvent' in window));
wcot.teIz('deviceorientation', ('DeviceOrientationEvent' in window));
wcot.teIz('vibrate', !!wcot.vdKx('vibrate', navigator));
scNt("dqjPv", function() {});
scNt('dqjPw', [], function() {
    var qhGu = navigator.userAgent;
    var scLr = {};
    scLr.qdNr = /iphone|ipad|ipod/gi.test(qhGu);
    scLr.rhNu = scLr.qdNr && /OS 6/gi.test(qhGu);
    scLr.rhNv = scLr.qdNr && /OS 7/gi.test(qhGu);
    scLr.rhNw = scLr.qdNr && /OS 8/gi.test(qhGu);
    scLr.saLv = /iphone/gi.test(qhGu);
    scLr.rhNy = /ipod/gi.test(qhGu);
    scLr.rhNx = /ipad/gi.test(qhGu);
    scLr.tdPw = /android/gi.test(qhGu);
    scLr.zhKu = scLr.tdPw && /mobile/gi.test(qhGu);
    scLr.rjPvE = scLr.tdPw && !/mobile/gi.test(qhGu);
    scLr.riNvJ = scLr.tdPw ? qhGu.match(/Android (\d+(?:\.\d+)+)/)[0].replace('Android ', '') : null;
    scLr.xgIt = /blackberry|bb10|rim/gi.test(qhGu);
    scLr.riHqH = scLr.xgIt && !/tablet/gi.test(qhGu);
    scLr.rhNtH = scLr.xgIt && /tablet/gi.test(qhGu);
    scLr.vjMq = /CrOS/gi.test(qhGu);
    scLr.udMz = /windows/gi.test(qhGu);
    scLr.zaOq = scLr.udMz && /phone/gi.test(qhGu);
    scLr.zaOr = scLr.udMz && /touch/gi.test(qhGu);
    scLr.riKt = /(\(mobile|\(tablet)(?=.*; rv:)/gi.test(qhGu);
    scLr.wfKr = scLr.riKt && /mobile/gi.test(qhGu);
    scLr.xdLx = scLr.riKt && /tablet/gi.test(qhGu);
    scLr.sjHr = /meego/gi.test(qhGu);
    scLr.rePs = /sony|SO-/gi.test(qhGu);
    scLr.ufPx = /samsung|GT-/gi.test(qhGu);
    scLr.vhIq = /GT-I93/gi.test(qhGu);
    scLr.vhIr = /GT-I95/gi.test(qhGu);
    scLr.vhIs = /SM-G900/gi.test(qhGu);
    scLr.mobile = scLr.zhKu || scLr.saLv || scLr.rhNy || scLr.zaOq || scLr.riHqH || scLr.wfKr || scLr.sjHr;
    scLr.tgHu = scLr.rhNx || scLr.rjPvE || scLr.rhNtH || scLr.xdLx;
    scLr.vdKs = scLr.mobile || scLr.tgHu;
    scLr.desktop = !scLr.vdKs;
    scLr.rhJxD = function() {
        return scLr.desktop ? 'desktop' : 'mobile';
    };
    var qeMr = window.devicePixelRatio || 1;
    scLr.screen = {
        width: screen.width * qeMr,
        height: screen.height * qeMr,
        xaPy: qeMr
    };
    scLr.wiHu = scLr.tgHu || scLr.desktop;
    var yaKw = document.documentElement;

    function ubHu(xfNv) {
        return yaKw.className += " " + xfNv;
    }
    if (scLr.ufPx) ubHu('samsung');
    if (scLr.mobile) ubHu('mobile');
    if (scLr.tgHu) ubHu('tablet');
    if (scLr.desktop) ubHu('desktop');
    if (scLr.saLv) ubHu('iphone');
    if (scLr.rhNx) ubHu('ipad');
    if (scLr.rhNy) ubHu('ipod');
    if (scLr.vhIq) ubHu('galaxyS3');
    if (scLr.vhIr) ubHu('galaxyS4');
    if (scLr.vhIs) ubHu('galaxyS4');
    if (scLr.riKt) ubHu('fxos');
    if (scLr.sjHr) ubHu('meego');
    if (scLr.qdNr) ubHu('ios');
    if (scLr.tdPw) ubHu('android');
    if (scLr.xgIt) ubHu('blackberry');
    if (scLr.udMz) ubHu('windows');
    if (scLr.vjMq) ubHu('chromeOS');
    scLr.webGL = riIqC();

    function riIqC() {
        if (!!window.rgjsc) {
            var canvas = document.createElement("canvas"),
                siOq = ["webgl", "experimental-webgl", "moz-webgl", "webkit-3d"],
                tcLv = false;
            for (var i = 0; i < siOq.length; i++) {
                try {
                    tcLv = canvas.getContext(siOq[i]);
                    if (tcLv && typeof tcLv.zfJt == "function") {
                        return true;
                    }
                } catch (e) {}
            }
            return false;
        }
        return false;
    }
    F[1] = '7c5c';
    return window.scLr = scLr;
});
scNt('dqjPx', ['dqjPs', 'dqjPw', 'dqjPv'], function() {
    var qhGu = navigator.userAgent;
    var tdJr = wcot;

    function test(tbHy, test) {
        if (test) {
            wcot.teIz(tbHy, test);
        } else {
            tdJr[tbHy] = test;
        }
    }
    test('samsung', /SamsungBrowser/gi.test(qhGu));
    test('stock', tcHy.dqjPw.tdPw && ((qhGu.match(/AppleWebKit\/([\d.]+)/) || [])[1] < 537));
    test('chrome', /chrome/gi.test(qhGu) && !tdJr.sgPv);
    test('firefox', /firefox/gi.test(qhGu));
    test('safari', /safari/gi.test(qhGu) && !tdJr.sdKs);
    test('ie', /MSIE/gi.test(qhGu) || /Trident/gi.test(qhGu));
    test('bad', tdJr.qiMt || (!tcHy.dqjPw.desktop && !tdJr.sdKs && !tdJr.tbGx && !tcHy.dqjPw.qdNr));
    tdJr.rhJvE = 2;
    F[2] = '89ae';
    return window.tdJr = tdJr;
});
scNt('dqjPy', ['dqjPw', 'dqjPx'], function() {
    if (tcHy.dqjPx.qiMt) {
        var yepx;
        yepx = function(event, tiLv) {
            var qeKr;
            tiLv = tiLv || {
                bubbles: false,
                cancelable: false,
                detail: undefined
            };
            qeKr = document.createEvent("CustomEvent");
            qeKr.riGtC(event, tiLv.bubbles, tiLv.cancelable, tiLv.detail);
            return qeKr;
        };
        yepx.prototype = window.Event.prototype;
        window.yepx = yepx;
    }

    function sfOz(event) {
        event.preventDefault();
        event.yaKr = false;
    }
    if (window.addEventListener) {
        window.addEventListener('DOMMouseScroll', sfOz, false);
    }
    window.onmousewheel = document.onmousewheel = sfOz;
    F[3] = 'd743';
    navigator.udNq = navigator.udNq || navigator.rjJtE || navigator.xbNv || navigator.wcNx || function() {};
});
scNt('dqjPz', ['dqjPs', 'dqjPu'], function() {
    tcHy.dqjPs.extend(RGGW.rfisb.prototype, {
        enumerable: false
    }, {
        zaGy: {
            overwriteaction: 'ignore',
            value: function(rjLxA) {
                if (this.rfIxE === false || this.alpha === 0 || this.ueMt.rjKu.width <= 0 || this.ueMt.rjKu.height <= 0) return;
                if (this.wiGr !== rjLxA.rhNwE) {
                    rjLxA.rhNwE = this.wiGr;
                    rjLxA.tcLv.globalCompositeOperation = RGGW.rhNtF[rjLxA.rhNwE];
                }
                if (this.rdJv) {
                    rjLxA.ycJq.vdHu(this.rdJv, rjLxA);
                }
                if (this.ueMt.sgGz) {
                    var xaGu = this.ueMt.yfPx.xaGu / rjLxA.xaGu;
                    rjLxA.tcLv.globalAlpha = this.yhKu;
                    if (rjLxA.yaKz) {
                        rjLxA.tcLv.setTransform(this.riIrK.a, this.riIrK.b, this.riIrK.c, this.riIrK.d, (this.riIrK.qhHx * rjLxA.xaGu) | 0, (this.riIrK.qhHy * rjLxA.xaGu) | 0);
                    } else {
                        rjLxA.tcLv.setTransform(this.riIrK.a, this.riIrK.b, this.riIrK.c, this.riIrK.d, (this.riIrK.qhHx * rjLxA.xaGu) | 0, (this.riIrK.qhHy * rjLxA.xaGu) | 0);
                    }
                    if (rjLxA.riJuC && rjLxA.waKq !== this.ueMt.yfPx.waKq) {
                        rjLxA.waKq = this.ueMt.yfPx.waKq;
                        rjLxA.tcLv[rjLxA.riJuC] = (rjLxA.waKq === RGGW.yjOz.TJOQ);
                    }
                    var qjIu = (this.ueMt.trim) ? this.ueMt.trim.x - this.anchor.x * this.ueMt.trim.width : this.anchor.x * -this.ueMt.frame.width;
                    var qjIv = (this.ueMt.trim) ? this.ueMt.trim.y - this.anchor.y * this.ueMt.trim.height : this.anchor.y * -this.ueMt.frame.height;
                    if (this.reKr !== 0xFFFFFF) {
                        if (this.xgGz !== this.reKr) {
                            this.xgGz = this.reKr;
                            this.rjKyB = RGGW.zgpx.rhMsA(this, this.reKr);
                        }
                        rjLxA.tcLv.drawImage(this.rjKyB, 0, 0, this.ueMt.rjKu.width | 0, this.ueMt.rjKu.height | 0, qjIu / xaGu, qjIv / xaGu, (this.ueMt.rjKu.width / xaGu) | 0, (this.ueMt.rjKu.height / xaGu) | 0);
                    } else {
                        rjLxA.tcLv.drawImage(this.ueMt.yfPx.source, this.ueMt.rjKu.x, this.ueMt.rjKu.y, this.ueMt.rjKu.width | 0, this.ueMt.rjKu.height | 0, qjIu / xaGu, qjIv / xaGu, (this.ueMt.rjKu.width / xaGu) | 0, (this.ueMt.rjKu.height / xaGu) | 0);
                    }
                }
                for (var i = 0, j = this.children.length; i < j; i++) {
                    this.children[i].zaGy(rjLxA);
                }
                if (this.rdJv) {
                    rjLxA.ycJq.uhGq(rjLxA);
                }
            }
        }
    });
    F[4] = '073f';
});
(function() {
    var rfLv = this;
    var rfjwh = rfjwh || {
        RENRE: '2.1.3',
        RAMX: [],
        QAHQ: 0,
        CANVAS: 1,
        WEBGL: 2,
        VGNU: 3,
        RGLX: 0,
        LEFT: 1,
        RIGHT: 2,
        UP: 3,
        RFHWC: 4,
        RFISB: 0,
        BUTTON: 1,
        IMAGE: 2,
        VGOS: 3,
        TEXT: 4,
        YIJU: 5,
        XGIS: 6,
        GROUP: 7,
        RJLYK: 8,
        UELS: 9,
        ZBKU: 10,
        TBMV: 11,
        UHHX: 12,
        XGIQ: 13,
        RJPZK: 14,
        ZAPS: 15,
        TBMT: 16,
        ZJNT: 17,
        WAMU: 18,
        UHHT: 19,
        RFLW: 20,
        xgIv: {
            NORMAL: 0,
            ADD: 1,
            VEOS: 2,
            SCREEN: 3,
            UHKU: 4,
            SCOT: 5,
            UIPS: 6,
            YFJT: 7,
            XFLT: 8,
            XDGR: 9,
            YJHQ: 10,
            XENV: 11,
            WGHU: 12,
            QDPZ: 13,
            YJOW: 14,
            COLOR: 15,
            XCGZ: 16
        },
        yjOz: {
            DEFAULT: 0,
            TJOQ: 0,
            UIHQ: 1
        }
    };
    window.rfjwh = rfjwh;
    RGGW.rhgve = RGGW.rhgve || function() {};
    RGGW.zgGx = true;
    rfjwh.sggx = {
        ydLs: function(obj, rfOw) {
            var siJr = rfOw.split('.'),
                rhKt = siJr.pop(),
                l = siJr.length,
                i = 1,
                tcIq = siJr[0];
            while (i < l && (obj = obj[tcIq])) {
                tcIq = siJr[i];
                i++;
            }
            if (obj) {
                return obj[rhKt];
            } else {
                return null;
            }
        },
        setProperty: function(obj, rfOw, value) {
            var siJr = rfOw.split('.'),
                rhKt = siJr.pop(),
                l = siJr.length,
                i = 1,
                tcIq = siJr[0];
            while (i < l && (obj = obj[tcIq])) {
                tcIq = siJr[i];
                i++;
            }
            if (obj) {
                obj[rhKt] = value;
            }
            return obj;
        },
        riJyK: function(array) {
            var thLx = new Array(array[0].length);
            for (var i = 0; i < array[0].length; i++) {
                thLx[i] = new Array(array.length - 1);
                for (var j = array.length - 1; j > -1; j--) {
                    thLx[i][j] = array[j][i];
                }
            }
            return thLx;
        },
        yaKx: function(tjLs, direction) {
            if (typeof direction !== 'string') {
                direction = ((direction % 360) + 360) % 360;
            }
            if (direction === 90 || direction === -270 || direction === 'rotateLeft') {
                tjLs = rfjwh.sggx.riJyK(tjLs);
                tjLs = tjLs.reverse();
            } else if (direction === -90 || direction === 270 || direction === 'rotateRight') {
                tjLs = tjLs.reverse();
                tjLs = rfjwh.sggx.riJyK(tjLs);
            } else if (Math.abs(direction) === 180 || direction === 'rotate180') {
                for (var i = 0; i < tjLs.length; i++) {
                    tjLs[i].reverse();
                }
                tjLs = tjLs.reverse();
            }
            return tjLs;
        },
        riKwK: function(size, wgNw) {
            var f = 0;
            var qhNv = 0;
            if (typeof size === 'string') {
                if (size.substr(-1) === '%') {
                    f = parseInt(size, 10) / 100;
                    if (wgNw === 0) {
                        qhNv = window.innerWidth * f;
                    } else {
                        qhNv = window.innerHeight * f;
                    }
                } else {
                    qhNv = parseInt(size, 10);
                }
            } else {
                qhNv = size;
            }
            return qhNv;
        },
        ufKv: function(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var reMx = array[i];
                array[i] = array[j];
                array[j] = reMx;
            }
            return array;
        },
        qcMx: function(qbOw, qdMy, qcMx, dir) {
            if (typeof(qdMy) === "undefined") {
                var qdMy = 0;
            }
            if (typeof(qcMx) === "undefined") {
                var qcMx = ' ';
            }
            if (typeof(dir) === "undefined") {
                var dir = 3;
            }
            var tiLt = 0;
            if (qdMy + 1 >= qbOw.length) {
                switch (dir) {
                    case 1:
                        qbOw = new Array(qdMy + 1 - qbOw.length).join(qcMx) + qbOw;
                        break;
                    case 3:
                        var right = Math.ceil((tiLt = qdMy - qbOw.length) / 2);
                        var left = tiLt - right;
                        qbOw = new Array(left + 1).join(qcMx) + qbOw + new Array(right + 1).join(qcMx);
                        break;
                    default:
                        qbOw = qbOw + new Array(qdMy + 1 - qbOw.length).join(qcMx);
                        break;
                }
            }
            return qbOw;
        },
        rjMqG: function(obj) {
            if (typeof(obj) !== "object" || obj.nodeType || obj === obj.window) {
                return false;
            }
            try {
                if (obj.constructor && !({}).hasOwnProperty.call(obj.constructor.prototype, "isPrototypeOf")) {
                    return false;
                }
            } catch (e) {
                return false;
            }
            return true;
        },
        extend: function() {
            var uhLw, name, src, rjLt, yfHx, rbPq, target = arguments[0] || {},
                i = 1,
                length = arguments.length,
                rjJy = false;
            if (typeof target === "boolean") {
                rjJy = target;
                target = arguments[1] || {};
                i = 2;
            }
            if (length === i) {
                target = this;
                --i;
            }
            for (; i < length; i++) {
                if ((uhLw = arguments[i]) != null) {
                    for (name in uhLw) {
                        src = target[name];
                        rjLt = uhLw[name];
                        if (target === rjLt) {
                            continue;
                        }
                        if (rjJy && rjLt && (rfjwh.sggx.rjMqG(rjLt) || (yfHx = Array.isArray(rjLt)))) {
                            if (yfHx) {
                                yfHx = false;
                                rbPq = src && Array.isArray(src) ? src : [];
                            } else {
                                rbPq = src && rfjwh.sggx.rjMqG(src) ? src : {};
                            }
                            target[name] = rfjwh.sggx.extend(rjJy, rbPq, rjLt);
                        } else if (rjLt !== undefined) {
                            target[name] = rjLt;
                        }
                    }
                }
            }
            return target;
        },
        sjGt: function(from, to) {
            if (!from || typeof(from) !== "object") {
                return to;
            }
            for (var key in from) {
                var o = from[key];
                if (o.childNodes || o.cloneNode) {
                    continue;
                }
                var type = typeof(from[key]);
                if (!from[key] || type !== "object") {
                    to[key] = from[key];
                } else {
                    if (typeof(to[key]) === type) {
                        to[key] = rfjwh.sggx.sjGt(from[key], to[key]);
                    } else {
                        to[key] = rfjwh.sggx.sjGt(from[key], new o.constructor());
                    }
                }
            }
            return to;
        }
    };
    if (typeof Function.prototype.bind !== 'function') {
        Function.prototype.bind = (function() {
            var slice = Array.prototype.slice;
            return function(ueMu) {
                var target = this,
                    wiGy = slice.call(arguments, 1);
                if (typeof target !== 'function') {
                    throw new ximx();
                }

                function rcJv() {
                    var rePuH = wiGy.concat(slice.call(arguments));
                    target.apply(this instanceof rcJv ? this : ueMu, rePuH);
                }
                rcJv.prototype = (function F(siGr) {
                    if (siGr) {
                        F.prototype = siGr;
                    }
                    if (!(this instanceof F)) {
                        return new F;
                    }
                })(target.prototype);
                return rcJv;
            };
        })();
    }
    if (!Array.isArray) {
        Array.isArray = function(qfNy) {
            return Object.prototype.toString.call(qfNy) == '[object Array]';
        };
    }
    if (!Array.prototype.forEach) {
        Array.prototype.forEach = function(qeIy) {
            "use strict";
            if (this === void 0 || this === null) {
                throw new ximx();
            }
            var t = Object(this);
            var qdMy = t.length >>> 0;
            if (typeof qeIy !== "function") {
                throw new ximx();
            }
            var ueMu = arguments.length >= 2 ? arguments[1] : void 0;
            for (var i = 0; i < qdMy; i++) {
                if (i in t) {
                    qeIy.call(ueMu, t[i], i, t);
                }
            }
        };
    }
    if (typeof window.Uint32Array !== "function" && typeof window.Uint32Array !== "object") {
        var xfox = function(type) {
            var siGr = new Array();
            window[type] = function(qfNy) {
                if (typeof(qfNy) === "number") {
                    Array.call(this, qfNy);
                    this.length = qfNy;
                    for (var i = 0; i < this.length; i++) {
                        this[i] = 0;
                    }
                } else {
                    Array.call(this, qfNy.length);
                    this.length = qfNy.length;
                    for (var i = 0; i < this.length; i++) {
                        this[i] = qfNy[i];
                    }
                }
            };
            window[type].prototype = siGr;
            window[type].constructor = window[type];
        };
        xfox('Uint32Array');
        xfox('Int16Array');
    }
    if (!window.console) {
        window.console = {};
        window.console.log = window.console.assert = function() {};
        window.console.warn = window.console.assert = function() {};
    }
    rfjwh.sdku = function(x, y, viMv) {
        x = x || 0;
        y = y || 0;
        viMv = viMv || 0;
        this.x = x;
        this.y = y;
        this.wjLw = viMv;
        if (viMv > 0) {
            this.teLs = viMv * 0.5;
        } else {
            this.teLs = 0;
        }
    };
    rfjwh.sdku.prototype = {
        type: null,
        rjPzB: function() {
            return 2 * (Math.PI * this.teLs);
        },
        wfJx: function() {
            return new rfjwh.wbgy(this.x - this.thOs, this.y - this.thOs, this.thOs * 2, this.thOs * 2);
        },
        shMy: function(x, y, viMv) {
            this.x = x;
            this.y = y;
            this.wjLw = viMv;
            this.teLs = viMv * 0.5;
            return this;
        },
        vjIw: function(source) {
            return this.shMy(source.x, source.y, source.viMv);
        },
        sdGq: function(rjIt) {
            rjIt.x = this.x;
            rjIt.y = this.y;
            rjIt.viMv = this.wjLw;
            return rjIt;
        },
        viLy: function(rjIt, round) {
            if (typeof round === "undefined") {
                round = false;
            }
            if (round) {
                return rfjwh.Math.riHxJ(this.x, this.y, rjIt.x, rjIt.y);
            } else {
                return rfjwh.Math.viLy(this.x, this.y, rjIt.x, rjIt.y);
            }
        },
        rbPq: function(tiMy) {
            if (typeof tiMy === "undefined" || tiMy === null) {
                tiMy = new rfjwh.sdku(this.x, this.y, this.viMv);
            } else {
                tiMy.shMy(this.x, this.y, this.viMv);
            }
            return tiMy;
        },
        contains: function(x, y) {
            return rfjwh.sdku.contains(this, x, y);
        },
        rhHzJ: function(rcOr, wiKr, qcNz) {
            return rfjwh.sdku.rhHzJ(this, rcOr, wiKr, qcNz);
        },
        tiOt: function(qjIu, qjIv) {
            this.x += qjIu;
            this.y += qjIv;
            return this;
        },
        ybOx: function(point) {
            return this.tiOt(point.x, point.y);
        },
        toString: function() {
            return "[{rfjwh.Circle (x=" + this.x + " y=" + this.y + " viMv=" + this.viMv + " thOs=" + this.thOs + ")}]";
        }
    };
    rfjwh.sdku.prototype.constructor = rfjwh.sdku;
    Object.defineProperty(rfjwh.sdku.prototype, "viMv", {
        get: function() {
            return this.wjLw;
        },
        set: function(value) {
            if (value > 0) {
                this.wjLw = value;
                this.teLs = value * 0.5;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "thOs", {
        get: function() {
            return this.teLs;
        },
        set: function(value) {
            if (value > 0) {
                this.teLs = value;
                this.wjLw = value * 2;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "left", {
        get: function() {
            return this.x - this.teLs;
        },
        set: function(value) {
            if (value > this.x) {
                this.teLs = 0;
                this.wjLw = 0;
            } else {
                this.thOs = this.x - value;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "right", {
        get: function() {
            return this.x + this.teLs;
        },
        set: function(value) {
            if (value < this.x) {
                this.teLs = 0;
                this.wjLw = 0;
            } else {
                this.thOs = value - this.x;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "top", {
        get: function() {
            return this.y - this.teLs;
        },
        set: function(value) {
            if (value > this.y) {
                this.teLs = 0;
                this.wjLw = 0;
            } else {
                this.thOs = this.y - value;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "bottom", {
        get: function() {
            return this.y + this.teLs;
        },
        set: function(value) {
            if (value < this.y) {
                this.teLs = 0;
                this.wjLw = 0;
            } else {
                this.thOs = value - this.y;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "area", {
        get: function() {
            if (this.teLs > 0) {
                return Math.PI * this.teLs * this.teLs;
            } else {
                return 0;
            }
        }
    });
    Object.defineProperty(rfjwh.sdku.prototype, "rbIv", {
        get: function() {
            return (this.wjLw === 0);
        },
        set: function(value) {
            if (value === true) {
                this.shMy(0, 0, 0);
            }
        }
    });
    rfjwh.sdku.contains = function(a, x, y) {
        if (a.thOs > 0 && x >= a.left && x <= a.right && y >= a.top && y <= a.bottom) {
            var qjIu = (a.x - x) * (a.x - x);
            var qjIv = (a.y - y) * (a.y - y);
            return (qjIu + qjIv) <= (a.thOs * a.thOs);
        } else {
            return false;
        }
    };
    rfjwh.sdku.scIw = function(a, b) {
        return (a.x == b.x && a.y == b.y && a.viMv == b.viMv);
    };
    rfjwh.sdku.xcLy = function(a, b) {
        return (rfjwh.Math.viLy(a.x, a.y, b.x, b.y) <= (a.thOs + b.thOs));
    };
    rfjwh.sdku.rhHzJ = function(a, rcOr, wiKr, qcNz) {
        if (typeof wiKr === "undefined") {
            wiKr = false;
        }
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        if (wiKr === true) {
            rcOr = rfjwh.Math.viOx(rcOr);
        }
        qcNz.x = a.x + a.thOs * Math.cos(rcOr);
        qcNz.y = a.y + a.thOs * Math.sin(rcOr);
        return qcNz;
    };
    rfjwh.sdku.rgNqH = function(c, r) {
        var qjKz = Math.abs(c.x - r.x - r.wfGs);
        var sfLw = r.wfGs + c.thOs;
        if (qjKz > sfLw) {
            return false;
        }
        var qjJq = Math.abs(c.y - r.y - r.xdHz);
        var sfKt = r.xdHz + c.thOs;
        if (qjJq > sfKt) {
            return false;
        }
        if (qjKz <= r.wfGs || qjJq <= r.xdHz) {
            return true;
        }
        var ziKy = qjKz - r.wfGs;
        var ziKz = qjJq - r.xdHz;
        var rjJuC = ziKy * ziKy;
        var rjJuA = ziKz * ziKz;
        var riGxE = c.thOs * c.thOs;
        return rjJuC + rjJuA <= riGxE;
    };
    RGGW.sdku = rfjwh.sdku;
    rfjwh.Point = function(x, y) {
        x = x || 0;
        y = y || 0;
        this.x = x;
        this.y = y;
    };
    rfjwh.Point.prototype = {
        vjIw: function(source) {
            return this.shMy(source.x, source.y);
        },
        saLt: function() {
            return this.shMy(this.y, this.x);
        },
        shMy: function(x, y) {
            this.x = x || 0;
            this.y = y || ((y !== 0) ? this.x : 0);
            return this;
        },
        set: function(x, y) {
            this.x = x || 0;
            this.y = y || ((y !== 0) ? this.x : 0);
            return this;
        },
        add: function(x, y) {
            this.x += x;
            this.y += y;
            return this;
        },
        vbHw: function(x, y) {
            this.x -= x;
            this.y -= y;
            return this;
        },
        veOs: function(x, y) {
            this.x *= x;
            this.y *= y;
            return this;
        },
        scLv: function(x, y) {
            this.x /= x;
            this.y /= y;
            return this;
        },
        sdKw: function(min, max) {
            this.x = rfjwh.Math.rcGt(this.x, min, max);
            return this;
        },
        sdKx: function(min, max) {
            this.y = rfjwh.Math.rcGt(this.y, min, max);
            return this;
        },
        rcGt: function(min, max) {
            this.x = rfjwh.Math.rcGt(this.x, min, max);
            this.y = rfjwh.Math.rcGt(this.y, min, max);
            return this;
        },
        rbPq: function(tiMy) {
            if (typeof tiMy === "undefined" || tiMy === null) {
                tiMy = new rfjwh.Point(this.x, this.y);
            } else {
                tiMy.shMy(this.x, this.y);
            }
            return tiMy;
        },
        sdGq: function(rjIt) {
            rjIt.x = this.x;
            rjIt.y = this.y;
            return rjIt;
        },
        viLy: function(rjIt, round) {
            return rfjwh.Point.viLy(this, rjIt, round);
        },
        scIw: function(a) {
            return (a.x === this.x && a.y === this.y);
        },
        rcOr: function(a, wiKr) {
            if (typeof wiKr === 'undefined') {
                wiKr = false;
            }
            if (wiKr) {
                return rfjwh.Math.vdHy(Math.atan2(a.y - this.y, a.x - this.x));
            } else {
                return Math.atan2(a.y - this.y, a.x - this.x);
            }
        },
        tdPx: function(a) {
            return this.vbHw(a).rcOr(a.vbHw(this));
        },
        rotate: function(x, y, rcOr, wiKr, viLy) {
            return rfjwh.Point.rotate(this, x, y, rcOr, wiKr, viLy);
        },
        zfKx: function() {
            return Math.sqrt((this.x * this.x) + (this.y * this.y));
        },
        riLrF: function() {
            return (this.x * this.x) + (this.y * this.y);
        },
        zcHs: function(wdJv) {
            return this.normalize().veOs(wdJv, wdJv);
        },
        normalize: function() {
            if (!this.saKy()) {
                var m = this.zfKx();
                this.x /= m;
                this.y /= m;
            }
            return this;
        },
        saKy: function() {
            return (this.x === 0 && this.y === 0);
        },
        qeMq: function(a) {
            return ((this.x * a.x) + (this.y * a.y));
        },
        rbOw: function(a) {
            return ((this.x * a.y) - (this.y * a.x));
        },
        rgGs: function() {
            return this.shMy(-this.y, this.x);
        },
        shNr: function() {
            return this.shMy(this.y, -this.x);
        },
        rhPqK: function() {
            return this.shMy(this.y * -1, this.x);
        },
        toString: function() {
            return '[{Point (x=' + this.x + ' y=' + this.y + ')}]';
        }
    };
    rfjwh.Point.prototype.constructor = rfjwh.Point;
    rfjwh.Point.add = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        qcNz.x = a.x + b.x;
        qcNz.y = a.y + b.y;
        return qcNz;
    };
    rfjwh.Point.vbHw = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        qcNz.x = a.x - b.x;
        qcNz.y = a.y - b.y;
        return qcNz;
    };
    rfjwh.Point.veOs = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        qcNz.x = a.x * b.x;
        qcNz.y = a.y * b.y;
        return qcNz;
    };
    rfjwh.Point.scLv = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        qcNz.x = a.x / b.x;
        qcNz.y = a.y / b.y;
        return qcNz;
    };
    rfjwh.Point.scIw = function(a, b) {
        return (a.x === b.x && a.y === b.y);
    };
    rfjwh.Point.rcOr = function(a, b) {
        return Math.atan2(a.y - b.y, a.x - b.x);
    };
    rfjwh.Point.tdPx = function(a, b) {
        return a.vbHw(b).rcOr(b.vbHw(a));
    };
    rfjwh.Point.veOx = function(a, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(-a.x, -a.y);
    };
    rfjwh.Point.ycHy = function(a, b, s, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(a.x + b.x * s, a.y + b.y * s);
    };
    rfjwh.Point.ycOq = function(a, b, f, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(a.x + (b.x - a.x) * f, a.y + (b.y - a.y) * f);
    };
    rfjwh.Point.rgGs = function(a, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(-a.y, a.x);
    };
    rfjwh.Point.shNr = function(a, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(a.y, -a.x);
    };
    rfjwh.Point.viLy = function(a, b, round) {
        if (typeof round === "undefined") {
            round = false;
        }
        if (round) {
            return rfjwh.Math.riHxJ(a.x, a.y, b.x, b.y);
        } else {
            return rfjwh.Math.viLy(a.x, a.y, b.x, b.y);
        }
    };
    rfjwh.Point.ugOu = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        var qfOx = a.qeMq(b) / b.riLrF();
        if (qfOx !== 0) {
            qcNz.shMy(qfOx * b.x, qfOx * b.y);
        }
        return qcNz;
    };
    rfjwh.Point.yaPs = function(a, b, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        var qfOx = a.qeMq(b);
        if (qfOx !== 0) {
            qcNz.shMy(qfOx * b.x, qfOx * b.y);
        }
        return qcNz;
    };
    rfjwh.Point.rhPqK = function(a, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        return qcNz.shMy(a.y * -1, a.x);
    };
    rfjwh.Point.normalize = function(a, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        var m = a.zfKx();
        if (m !== 0) {
            qcNz.shMy(a.x / m, a.y / m);
        }
        return qcNz;
    };
    rfjwh.Point.rotate = function(a, x, y, rcOr, wiKr, viLy) {
        wiKr = wiKr || false;
        viLy = viLy || null;
        if (wiKr) {
            rcOr = rfjwh.Math.viOx(rcOr);
        }
        if (viLy === null) {
            viLy = Math.sqrt(((x - a.x) * (x - a.x)) + ((y - a.y) * (y - a.y)));
        }
        var rjLyG = rcOr + Math.atan2(a.y - y, a.x - x);
        return a.shMy(x + viLy * Math.cos(rjLyG), y + viLy * Math.sin(rjLyG));
    };
    rfjwh.Point.vjOy = function(tiHx, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.Point();
        }
        if (Object.prototype.toString.call(tiHx) !== '[object Array]') {
            throw new Error("rfjwh.Point. Parameter 'tiHx' must be an array");
        }
        var zdGt = tiHx.length;
        if (zdGt < 1) {
            throw new Error("rfjwh.Point. Parameter 'tiHx' array must rfKxG be rbIv");
        }
        if (zdGt === 1) {
            qcNz.vjIw(tiHx[0]);
            return qcNz;
        }
        for (var i = 0; i < zdGt; i++) {
            rfjwh.Point.add(qcNz, tiHx[i], qcNz);
        }
        qcNz.scLv(zdGt, zdGt);
        return qcNz;
    };
    rfjwh.Point.parse = function(obj, sfLz, sfKx) {
        sfLz = sfLz || 'x';
        sfKx = sfKx || 'y';
        var point = new rfjwh.Point();
        if (obj[sfLz]) {
            point.x = parseInt(obj[sfLz], 10);
        }
        if (obj[sfKx]) {
            point.y = parseInt(obj[sfKx], 10);
        }
        return point;
    };
    RGGW.Point = rfjwh.Point;
    rfjwh.wbgy = function(x, y, width, height) {
        x = x || 0;
        y = y || 0;
        width = width || 0;
        height = height || 0;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    };
    rfjwh.wbgy.prototype = {
        tiOt: function(qjIu, qjIv) {
            this.x += qjIu;
            this.y += qjIv;
            return this;
        },
        ybOx: function(point) {
            return this.tiOt(point.x, point.y);
        },
        shMy: function(x, y, width, height) {
            this.x = x;
            this.y = y;
            this.width = width;
            this.height = height;
            return this;
        },
        scale: function(x, y) {
            if (typeof y === 'undefined') {
                y = x;
            }
            this.width *= x;
            this.height *= y;
            return this;
        },
        vjOw: function(x, y) {
            this.tdGs = x;
            this.tdGt = y;
            return this;
        },
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
        },
        vhLw: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.width = Math.floor(this.width);
            this.height = Math.floor(this.height);
        },
        vjIw: function(source) {
            return this.shMy(source.x, source.y, source.width, source.height);
        },
        sdGq: function(rjIt) {
            rjIt.x = this.x;
            rjIt.y = this.y;
            rjIt.width = this.width;
            rjIt.height = this.height;
            return rjIt;
        },
        ujNy: function(qjIu, qjIv) {
            return rfjwh.wbgy.ujNy(this, qjIu, qjIv);
        },
        size: function(tiMy) {
            return rfjwh.wbgy.size(this, tiMy);
        },
        rbPq: function(tiMy) {
            return rfjwh.wbgy.rbPq(this, tiMy);
        },
        contains: function(x, y) {
            return rfjwh.wbgy.contains(this, x, y);
        },
        zgMw: function(b) {
            return rfjwh.wbgy.zgMw(b, this);
        },
        scIw: function(b) {
            return rfjwh.wbgy.scIw(this, b);
        },
        zeOw: function(b, qcNz) {
            return rfjwh.wbgy.zeOw(this, b, qcNz);
        },
        xcLy: function(b, xiOu) {
            return rfjwh.wbgy.xcLy(this, b, xiOu);
        },
        rjNzD: function(left, right, top, bottom, xiOu) {
            return rfjwh.wbgy.rjNzD(this, left, right, top, bottom, xiOu);
        },
        sgHx: function(b, qcNz) {
            return rfjwh.wbgy.sgHx(this, b, qcNz);
        },
        toString: function() {
            return "[{Rectangle (x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + " rbIv=" + this.rbIv + ")}]";
        }
    };
    Object.defineProperty(rfjwh.wbgy.prototype, "wfGs", {
        get: function() {
            return Math.round(this.width / 2);
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "xdHz", {
        get: function() {
            return Math.round(this.height / 2);
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "bottom", {
        get: function() {
            return this.y + this.height;
        },
        set: function(value) {
            if (value <= this.y) {
                this.height = 0;
            } else {
                this.height = value - this.y;
            }
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "yfNu", {
        get: function() {
            return new rfjwh.Point(this.right, this.bottom);
        },
        set: function(value) {
            this.right = value.x;
            this.bottom = value.y;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "left", {
        get: function() {
            return this.x;
        },
        set: function(value) {
            if (value >= this.right) {
                this.width = 0;
            } else {
                this.width = this.right - value;
            }
            this.x = value;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "right", {
        get: function() {
            return this.x + this.width;
        },
        set: function(value) {
            if (value <= this.x) {
                this.width = 0;
            } else {
                this.width = value - this.x;
            }
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "volume", {
        get: function() {
            return this.width * this.height;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "wbMq", {
        get: function() {
            return (this.width * 2) + (this.height * 2);
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "tdGs", {
        get: function() {
            return this.x + this.wfGs;
        },
        set: function(value) {
            this.x = value - this.wfGs;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "tdGt", {
        get: function() {
            return this.y + this.xdHz;
        },
        set: function(value) {
            this.y = value - this.xdHz;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "ugLs", {
        get: function() {
            return this.x + (Math.random() * this.width);
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "ugLt", {
        get: function() {
            return this.y + (Math.random() * this.height);
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "top", {
        get: function() {
            return this.y;
        },
        set: function(value) {
            if (value >= this.bottom) {
                this.height = 0;
                this.y = value;
            } else {
                this.height = (this.bottom - value);
            }
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "ueKv", {
        get: function() {
            return new rfjwh.Point(this.x, this.y);
        },
        set: function(value) {
            this.x = value.x;
            this.y = value.y;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "vaLq", {
        get: function() {
            return new rfjwh.Point(this.x + this.width, this.y);
        },
        set: function(value) {
            this.right = value.x;
            this.y = value.y;
        }
    });
    Object.defineProperty(rfjwh.wbgy.prototype, "rbIv", {
        get: function() {
            return (!this.width || !this.height);
        },
        set: function(value) {
            if (value === true) {
                this.shMy(0, 0, 0, 0);
            }
        }
    });
    rfjwh.wbgy.prototype.constructor = rfjwh.wbgy;
    rfjwh.wbgy.ujNy = function(a, qjIu, qjIv) {
        a.x -= qjIu;
        a.width += 2 * qjIu;
        a.y -= qjIv;
        a.height += 2 * qjIv;
        return a;
    };
    rfjwh.wbgy.zfGx = function(a, point) {
        return rfjwh.wbgy.ujNy(a, point.x, point.y);
    };
    rfjwh.wbgy.size = function(a, tiMy) {
        if (typeof tiMy === "undefined" || tiMy === null) {
            tiMy = new rfjwh.Point(a.width, a.height);
        } else {
            tiMy.shMy(a.width, a.height);
        }
        return tiMy;
    };
    rfjwh.wbgy.rbPq = function(a, tiMy) {
        if (typeof tiMy === "undefined" || tiMy === null) {
            tiMy = new rfjwh.wbgy(a.x, a.y, a.width, a.height);
        } else {
            tiMy.shMy(a.x, a.y, a.width, a.height);
        }
        return tiMy;
    };
    rfjwh.wbgy.contains = function(a, x, y) {
        if (a.width <= 0 || a.height <= 0) {
            return false;
        }
        return (x >= a.x && x < a.right && y >= a.y && y < a.bottom);
    };
    rfjwh.wbgy.yfIy = function(qhLz, qhKq, qhLy, qhLt, x, y) {
        return (x >= qhLz && x < (qhLz + qhLy) && y >= qhKq && y < (qhKq + qhLt));
    };
    rfjwh.wbgy.rjOrC = function(a, point) {
        return rfjwh.wbgy.contains(a, point.x, point.y);
    };
    rfjwh.wbgy.zgMw = function(a, b) {
        if (a.volume > b.volume) {
            return false;
        }
        return (a.x >= b.x && a.y >= b.y && a.right < b.right && a.bottom < b.bottom);
    };
    rfjwh.wbgy.scIw = function(a, b) {
        return (a.x == b.x && a.y == b.y && a.width == b.width && a.height == b.height);
    };
    rfjwh.wbgy.zeOw = function(a, b, tiMy) {
        if (typeof tiMy === "undefined") {
            tiMy = new rfjwh.wbgy();
        }
        if (rfjwh.wbgy.xcLy(a, b)) {
            tiMy.x = Math.max(a.x, b.x);
            tiMy.y = Math.max(a.y, b.y);
            tiMy.width = Math.min(a.right, b.right) - tiMy.x;
            tiMy.height = Math.min(a.bottom, b.bottom) - tiMy.y;
        }
        return tiMy;
    };
    rfjwh.wbgy.xcLy = function(a, b) {
        if (a.width <= 0 || a.height <= 0 || b.width <= 0 || b.height <= 0) {
            return false;
        }
        return !(a.right < b.x || a.bottom < b.y || a.x > b.right || a.y > b.bottom);
    };
    rfjwh.wbgy.rjNzD = function(a, left, right, top, bottom, xiOu) {
        if (typeof xiOu === "undefined") {
            xiOu = 0;
        }
        return !(left > a.right + xiOu || right < a.left - xiOu || top > a.bottom + xiOu || bottom < a.top - xiOu);
    };
    rfjwh.wbgy.sgHx = function(a, b, tiMy) {
        if (typeof tiMy === "undefined") {
            tiMy = new rfjwh.wbgy();
        }
        return tiMy.shMy(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.max(a.right, b.right) - Math.min(a.left, b.left), Math.max(a.bottom, b.bottom) - Math.min(a.top, b.top));
    };
    rfjwh.wbgy.qaLy = function(tiHx, qcNz) {
        if (typeof qcNz === "undefined") {
            qcNz = new rfjwh.wbgy();
        }
        var rdNy = Number.MIN_VALUE,
            rdNz = Number.MAX_VALUE,
            rdMs = Number.MIN_VALUE,
            rdMt = Number.MAX_VALUE;
        tiHx.forEach(function(point) {
            if (point.x > rdNy) {
                rdNy = point.x;
            }
            if (point.x < rdNz) {
                rdNz = point.x;
            }
            if (point.y > rdMs) {
                rdMs = point.y;
            }
            if (point.y < rdMt) {
                rdMt = point.y;
            }
        });
        qcNz.shMy(rdNz, rdMt, rdNy - rdNz, rdMs - rdMt);
        return qcNz;
    };
    RGGW.wbgy = rfjwh.wbgy;
    RGGW.rimwj = new rfjwh.wbgy(0, 0, 0, 0);
    rfjwh.rhjz = function(qgMv, qgKt, qgMw, qgKu) {
        qgMv = qgMv || 0;
        qgKt = qgKt || 0;
        qgMw = qgMw || 0;
        qgKu = qgKu || 0;
        this.rfIsA = new rfjwh.Point(qgMv, qgKt);
        this.rfOxC = new rfjwh.Point(qgMw, qgKu);
    };
    rfjwh.rhjz.prototype = {
        shMy: function(qgMv, qgKt, qgMw, qgKu) {
            this.rfIsA.shMy(qgMv, qgKt);
            this.rfOxC.shMy(qgMw, qgKu);
            return this;
        },
        xdMz: function(zjNy, wgIu, xiJu) {
            if (typeof xiJu === 'undefined') {
                xiJu = false;
            }
            if (xiJu) {
                return this.shMy(zjNy.rfOsH.x, zjNy.rfOsH.y, wgIu.rfOsH.x, wgIu.rfOsH.y);
            }
            return this.shMy(zjNy.x, zjNy.y, wgIu.x, wgIu.y);
        },
        xcLy: function(rhJz, wiKs, thLx) {
            return rfjwh.rhjz.rhMvJ(this.rfIsA, this.rfOxC, rhJz.rfIsA, rhJz.rfOxC, wiKs, thLx);
        },
        ybHt: function(x, y) {
            return ((x - this.rfIsA.x) * (this.rfOxC.y - this.rfIsA.y) === (this.rfOxC.x - this.rfIsA.x) * (y - this.rfIsA.y));
        },
        riKxE: function(x, y) {
            var rdNz = Math.min(this.rfIsA.x, this.rfOxC.x);
            var rdNy = Math.max(this.rfIsA.x, this.rfOxC.x);
            var rdMt = Math.min(this.rfIsA.y, this.rfOxC.y);
            var rdMs = Math.max(this.rfIsA.y, this.rfOxC.y);
            return (this.ybHt(x, y) && (x >= rdNz && x <= rdNy) && (y >= rdMt && y <= rdMs));
        },
        rhJrA: function(vbIq, ugHu) {
            if (typeof vbIq === 'undefined') {
                vbIq = 1;
            }
            if (typeof ugHu === 'undefined') {
                ugHu = [];
            }
            var qgMv = Math.round(this.rfIsA.x);
            var qgKt = Math.round(this.rfIsA.y);
            var qgMw = Math.round(this.rfOxC.x);
            var qgKu = Math.round(this.rfOxC.y);
            var qjIu = Math.abs(qgMw - qgMv);
            var qjIv = Math.abs(qgKu - qgKt);
            var qhIs = (qgMv < qgMw) ? 1 : -1;
            var qhIt = (qgKt < qgKu) ? 1 : -1;
            var qeLv = qjIu - qjIv;
            ugHu.push([qgMv, qgKt]);
            var i = 1;
            while (!((qgMv == qgMw) && (qgKt == qgKu))) {
                var qjIy = qeLv << 1;
                if (qjIy > -qjIv) {
                    qeLv -= qjIv;
                    qgMv += qhIs;
                }
                if (qjIy < qjIu) {
                    qeLv += qjIu;
                    qgKt += qhIt;
                }
                if (i % vbIq === 0) {
                    ugHu.push([qgMv, qgKt]);
                }
                i++;
            }
            return ugHu;
        },
        rbPq: function(tiMy) {
            if (typeof tiMy === "undefined" || tiMy === null) {
                tiMy = new rfjwh.rhjz(this.rfIsA.x, this.rfIsA.y, this.rfOxC.x, this.rfOxC.y);
            } else {
                tiMy.shMy(this.rfIsA.x, this.rfIsA.y, this.rfOxC.x, this.rfOxC.y);
            }
            return tiMy;
        }
    };
    Object.defineProperty(rfjwh.rhjz.prototype, "length", {
        get: function() {
            return Math.sqrt((this.rfOxC.x - this.rfIsA.x) * (this.rfOxC.x - this.rfIsA.x) + (this.rfOxC.y - this.rfIsA.y) * (this.rfOxC.y - this.rfIsA.y));
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "rcOr", {
        get: function() {
            return Math.atan2(this.rfOxC.y - this.rfIsA.y, this.rfOxC.x - this.rfIsA.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "shIu", {
        get: function() {
            return (this.rfOxC.y - this.rfIsA.y) / (this.rfOxC.x - this.rfIsA.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "wbMr", {
        get: function() {
            return -((this.rfOxC.x - this.rfIsA.x) / (this.rfOxC.y - this.rfIsA.y));
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "x", {
        get: function() {
            return Math.min(this.rfIsA.x, this.rfOxC.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "y", {
        get: function() {
            return Math.min(this.rfIsA.y, this.rfOxC.y);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "left", {
        get: function() {
            return Math.min(this.rfIsA.x, this.rfOxC.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "right", {
        get: function() {
            return Math.max(this.rfIsA.x, this.rfOxC.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "top", {
        get: function() {
            return Math.min(this.rfIsA.y, this.rfOxC.y);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "bottom", {
        get: function() {
            return Math.max(this.rfIsA.y, this.rfOxC.y);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "width", {
        get: function() {
            return Math.abs(this.rfIsA.x - this.rfOxC.x);
        }
    });
    Object.defineProperty(rfjwh.rhjz.prototype, "height", {
        get: function() {
            return Math.abs(this.rfIsA.y - this.rfOxC.y);
        }
    });
    rfjwh.rhjz.rhMvJ = function(a, b, e, f, wiKs, thLx) {
        if (typeof wiKs === 'undefined') {
            wiKs = true;
        }
        if (typeof thLx === 'undefined') {
            thLx = new rfjwh.Point();
        }
        var qjOq = b.y - a.y;
        var qjOr = f.y - e.y;
        var qjNz = a.x - b.x;
        var qjMq = e.x - f.x;
        var qjLu = (b.x * a.y) - (a.x * b.y);
        var qjLv = (f.x * e.y) - (e.x * f.y);
        var rbMv = (qjOq * qjMq) - (qjOr * qjNz);
        if (rbMv === 0) {
            return null;
        }
        thLx.x = ((qjNz * qjLv) - (qjMq * qjLu)) / rbMv;
        thLx.y = ((qjOr * qjLu) - (qjOq * qjLv)) / rbMv;
        if (wiKs) {
            var qhGw = ((f.y - e.y) * (b.x - a.x) - (f.x - e.x) * (b.y - a.y));
            var qhGu = (((f.x - e.x) * (a.y - e.y)) - (f.y - e.y) * (a.x - e.x)) / qhGw;
            var qhGv = (((b.x - a.x) * (a.y - e.y)) - ((b.y - a.y) * (a.x - e.x))) / qhGw;
            if (qhGu >= 0 && qhGu <= 1 && qhGv >= 0 && qhGv <= 1) {
                return thLx;
            } else {
                return null;
            }
        }
        return thLx;
    };
    rfjwh.rhjz.xcLy = function(a, b, wiKs, thLx) {
        return rfjwh.rhjz.rhMvJ(a.rfIsA, a.rfOxC, b.rfIsA, b.rfOxC, wiKs, thLx);
    };
    rfjwh.tbmt = function(x, y, width, height) {
        this.type = rfjwh.TBMT;
        x = x || 0;
        y = y || 0;
        width = width || 0;
        height = height || 0;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    };
    rfjwh.tbmt.prototype = {
        shMy: function(x, y, width, height) {
            this.x = x;
            this.y = y;
            this.width = width;
            this.height = height;
            return this;
        },
        wfJx: function() {
            return new rfjwh.wbgy(this.x - this.width, this.y - this.height, this.width, this.height);
        },
        vjIw: function(source) {
            return this.shMy(source.x, source.y, source.width, source.height);
        },
        sdGq: function(rjIt) {
            rjIt.x = this.x;
            rjIt.y = this.y;
            rjIt.width = this.width;
            rjIt.height = this.height;
            return rjIt;
        },
        rbPq: function(tiMy) {
            if (typeof tiMy === "undefined" || tiMy === null) {
                tiMy = new rfjwh.tbmt(this.x, this.y, this.width, this.height);
            } else {
                tiMy.shMy(this.x, this.y, this.width, this.height);
            }
            return tiMy;
        },
        contains: function(x, y) {
            return rfjwh.tbmt.contains(this, x, y);
        },
        toString: function() {
            return "[{rfjwh.Ellipse (x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + ")}]";
        }
    };
    rfjwh.tbmt.prototype.constructor = rfjwh.tbmt;
    Object.defineProperty(rfjwh.tbmt.prototype, "left", {
        get: function() {
            return this.x;
        },
        set: function(value) {
            this.x = value;
        }
    });
    Object.defineProperty(rfjwh.tbmt.prototype, "right", {
        get: function() {
            return this.x + this.width;
        },
        set: function(value) {
            if (value < this.x) {
                this.width = 0;
            } else {
                this.width = this.x + value;
            }
        }
    });
    Object.defineProperty(rfjwh.tbmt.prototype, "top", {
        get: function() {
            return this.y;
        },
        set: function(value) {
            this.y = value;
        }
    });
    Object.defineProperty(rfjwh.tbmt.prototype, "bottom", {
        get: function() {
            return this.y + this.height;
        },
        set: function(value) {
            if (value < this.y) {
                this.height = 0;
            } else {
                this.height = this.y + value;
            }
        }
    });
    Object.defineProperty(rfjwh.tbmt.prototype, "rbIv", {
        get: function() {
            return (this.width === 0 || this.height === 0);
        },
        set: function(value) {
            if (value === true) {
                this.shMy(0, 0, 0, 0);
            }
        }
    });
    rfjwh.tbmt.contains = function(a, x, y) {
        if (a.width <= 0 || a.height <= 0) {
            return false;
        }
        var siNu = ((x - a.x) / a.width) - 0.5;
        var siNv = ((y - a.y) / a.height) - 0.5;
        siNu *= siNu;
        siNv *= siNv;
        return (siNu + siNv < 0.25);
    };
    rfjwh.tbmt.prototype.wfJx = function() {
        return new rfjwh.wbgy(this.x, this.y, this.width, this.height);
    };
    RGGW.tbmt = rfjwh.tbmt;
    rfjwh.uhhx = function(tiHx) {
        this.type = rfjwh.UHHX;
        if (!(tiHx instanceof Array)) {
            tiHx = Array.prototype.slice.call(arguments);
        }
        if (tiHx[0] instanceof rfjwh.Point) {
            var p = [];
            for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                p.push(tiHx[i].x, tiHx[i].y);
            }
            tiHx = p;
        }
        this.tiHx = tiHx;
        this.closed = true;
    };
    rfjwh.uhhx.prototype = {
        rbPq: function(tiMy) {
            var tiHx = this.tiHx.slice();
            if (typeof tiMy === "undefined" || tiMy === null) {
                tiMy = new rfjwh.uhhx(tiHx);
            } else {
                tiMy.shMy(tiHx);
            }
            return tiMy;
        },
        contains: function(x, y) {
            var saLr = false;
            var length = this.tiHx.length / 2;
            for (var i = 0, j = length - 1; i < length; j = i++) {
                var qgLu = this.tiHx[i * 2].x;
                var qgJq = this.tiHx[i * 2 + 1].y;
                var qgLv = this.tiHx[j * 2].x;
                var qgJr = this.tiHx[j * 2 + 1].y;
                var weHq = ((qgJq > y) !== (qgJr > y)) && (x < (qgLv - qgLu) * (y - qgJq) / (qgJr - qgJq) + qgLu);
                if (weHq) {
                    saLr = !saLr;
                }
            }
            return saLr;
        },
        shMy: function(tiHx) {
            if (!(tiHx instanceof Array)) {
                tiHx = Array.prototype.slice.call(arguments);
            }
            if (tiHx[0] instanceof rfjwh.Point) {
                var p = [];
                for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                    p.push(tiHx[i].x, tiHx[i].y);
                }
                tiHx = p;
            }
            this.tiHx = tiHx;
            return this;
        }
    };
    rfjwh.uhhx.prototype.constructor = rfjwh.uhhx;
    Object.defineProperty(rfjwh.uhhx.prototype, 'tiHx', {
        get: function() {
            return this.teLq;
        },
        set: function(tiHx) {
            if (!(tiHx instanceof Array)) {
                tiHx = Array.prototype.slice.call(arguments);
            }
            if (typeof tiHx[0] === 'number') {
                var p = [];
                for (var i = 0, qdMy = tiHx.length; i < qdMy; i += 2) {
                    p.push(new rfjwh.Point(tiHx[i], tiHx[i + 1]));
                }
                tiHx = p;
            }
            this.teLq = tiHx;
        }
    });
    Object.defineProperty(rfjwh.uhhx.prototype, 'area', {
        get: function() {
            var qhOq;
            var qhOr;
            var wiJx;
            var width;
            var i;
            var qgKs = Number.MAX_VALUE;
            var area = 0;
            for (i = 0; i < this.tiHx.length; i++) {
                if (this.tiHx[i].y < qgKs) {
                    qgKs = this.tiHx[i].y;
                }
            }
            for (i = 0; i < this.tiHx.length; i++) {
                qhOq = this.tiHx[i];
                if (i === this.tiHx.length - 1) {
                    qhOr = this.tiHx[0];
                } else {
                    qhOr = this.tiHx[i + 1];
                }
                wiJx = ((qhOq.y - qgKs) + (qhOr.y - qgKs)) / 2;
                width = qhOq.x - qhOr.x;
                area += wiJx * width;
            }
            return area;
        }
    });
    RGGW.vgos = function() {
        RGGW.rgjxk.call(this);
        this.xaHq = true;
        this.wfOq = 1;
        this.lineWidth = 0;
        this.wdLq = 0;
        this.zfHt = [];
        this.reKr = 0xFFFFFF;
        this.wiGr = RGGW.xgIv.NORMAL;
        this.yePt = null;
        this.sePu = [];
        this.saKr = false;
        this.rjPyJ = 0;
        this.rbLu = true;
        this.yhLr = false;
        this.rhKzA = false;
    };
    RGGW.vgos.prototype = Object.create(RGGW.rgjxk.prototype);
    RGGW.vgos.prototype.constructor = RGGW.vgos;
    Object.defineProperty(RGGW.vgos.prototype, "rjPyD", {
        get: function() {
            return this.rjJwK;
        },
        set: function(value) {
            this.rjJwK = value;
            if (this.rjJwK) {
                this.rgLyF();
            } else {
                this.rgOwA();
                this.rbLu = true;
            }
        }
    });
    RGGW.vgos.prototype.wdLt = function(lineWidth, color, alpha) {
        this.lineWidth = lineWidth || 0;
        this.wdLq = color || 0;
        this.wdMy = (arguments.length < 3) ? 1 : alpha;
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length) {
                this.wgKy(new RGGW.uhhx(this.yePt.shLv.tiHx.slice(-2)));
                return this;
            }
            this.yePt.lineWidth = this.lineWidth;
            this.yePt.wdLq = this.wdLq;
            this.yePt.wdMy = this.wdMy;
        }
        return this;
    };
    RGGW.vgos.prototype.moveTo = function(x, y) {
        this.wgKy(new RGGW.uhhx([x, y]));
        return this;
    };
    RGGW.vgos.prototype.lineTo = function(x, y) {
        this.yePt.shLv.tiHx.push(x, y);
        this.rbLu = true;
        return this;
    };
    RGGW.vgos.prototype.quadraticCurveTo = function(qePt, qePu, qbLt, qbLu) {
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length === 0) this.yePt.shLv.tiHx = [0, 0];
        } else {
            this.moveTo(0, 0);
        }
        var qgLq, qgKx, n = 20,
            tiHx = this.yePt.shLv.tiHx;
        if (tiHx.length === 0) this.moveTo(0, 0);
        var raMr = tiHx[tiHx.length - 2];
        var raMs = tiHx[tiHx.length - 1];
        var j = 0;
        for (var i = 1; i <= n; i++) {
            j = i / n;
            qgLq = raMr + ((qePt - raMr) * j);
            qgKx = raMs + ((qePu - raMs) * j);
            tiHx.push(qgLq + (((qePt + ((qbLt - qePt) * j)) - qgLq) * j), qgKx + (((qePu + ((qbLu - qePu) * j)) - qgKx) * j));
        }
        this.rbLu = true;
        return this;
    };
    RGGW.vgos.prototype.bezierCurveTo = function(qePt, qePu, rjLz, rjKs, qbLt, qbLu) {
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length === 0) this.yePt.shLv.tiHx = [0, 0];
        } else {
            this.moveTo(0, 0);
        }
        var n = 20,
            qjIs, qeMs, qeMt, qhIx, qhIy, tiHx = this.yePt.shLv.tiHx;
        var raMr = tiHx[tiHx.length - 2];
        var raMs = tiHx[tiHx.length - 1];
        var j = 0;
        for (var i = 1; i <= n; i++) {
            j = i / n;
            qjIs = (1 - j);
            qeMs = qjIs * qjIs;
            qeMt = qeMs * qjIs;
            qhIx = j * j;
            qhIy = qhIx * j;
            tiHx.push(qeMt * raMr + 3 * qeMs * j * qePt + 3 * qjIs * qhIx * rjLz + qhIy * qbLt, qeMt * raMs + 3 * qeMs * j * qePu + 3 * qjIs * qhIx * rjKs + qhIy * qbLu);
        }
        this.rbLu = true;
        return this;
    };
    RGGW.vgos.prototype.arcTo = function(qgMv, qgKt, qgMw, qgKu, thOs) {
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length === 0) this.yePt.shLv.tiHx = [qgMv, qgKt];
        } else {
            this.moveTo(qgMv, qgKt);
        }
        if (this.yePt.length === 0) this.moveTo(qgMv, qgKt);
        var tiHx = this.yePt;
        var raMr = tiHx[tiHx.length - 2];
        var raMs = tiHx[tiHx.length - 1];
        var qjOq = raMs - qgKt;
        var qjNz = raMr - qgMv;
        var qjOr = qgKu - qgKt;
        var qjMq = qgMw - qgMv;
        var qiIu = Math.abs(qjOq * qjMq - qjNz * qjOr);
        if (qiIu < 1.0e-8 || thOs === 0) {
            tiHx.push(qgMv, qgKt);
        } else {
            var qjJt = qjOq * qjOq + qjNz * qjNz;
            var qjLz = qjOr * qjOr + qjMq * qjMq;
            var qhHu = qjOq * qjOr + qjNz * qjMq;
            var qiKr = thOs * Math.sqrt(qjJt) / qiIu;
            var qiKs = thOs * Math.sqrt(qjLz) / qiIu;
            var qiLw = qiKr * qhHu / qjJt;
            var qiLx = qiKs * qhHu / qjLz;
            var qjKz = qiKr * qjMq + qiKs * qjNz;
            var qjJq = qiKr * qjOr + qiKs * qjOq;
            var qhNv = qjNz * (qiKs + qiLw);
            var qhNw = qjOq * (qiKs + qiLw);
            var qhMw = qjMq * (qiKr + qiLx);
            var qhMx = qjOr * (qiKr + qiLx);
            var yiPt = Math.atan2(qhNw - qjJq, qhNv - qjKz);
            var viIr = Math.atan2(qhMx - qjJq, qhMw - qjKz);
            this.arc(qjKz + qgMv, qjJq + qgKt, thOs, yiPt, viIr, qjNz * qjOr > qjMq * qjOq);
        }
        this.rbLu = true;
        return this;
    };
    RGGW.vgos.prototype.arc = function(qjKz, qjJq, thOs, yiPt, viIr, rjPwK) {
        var tgKt = qjKz + Math.cos(yiPt) * thOs;
        var tgKu = qjJq + Math.sin(yiPt) * thOs;
        var tiHx = this.yePt.shLv.tiHx;
        if (tiHx.length !== 0 && tiHx[tiHx.length - 2] !== tgKt || tiHx[tiHx.length - 1] !== tgKu) {
            this.moveTo(tgKt, tgKu);
            tiHx = this.yePt.shLv.tiHx;
        }
        if (yiPt === viIr) return this;
        if (!rjPwK && viIr <= yiPt) {
            viIr += Math.PI * 2;
        } else if (rjPwK && yiPt <= viIr) {
            yiPt += Math.PI * 2;
        }
        var sgOz = rjPwK ? (yiPt - viIr) * -1 : (viIr - yiPt);
        var rfJx = (Math.abs(sgOz) / (Math.PI * 2)) * 40;
        if (sgOz === 0) return this;
        var sgMy = sgOz / (rfJx * 2);
        var tgGx = sgMy * 2;
        var scPs = Math.cos(sgMy);
        var tgJq = Math.sin(sgMy);
        var vcGz = rfJx - 1;
        var waOs = (vcGz % 1) / vcGz;
        for (var i = 0; i <= vcGz; i++) {
            var rfMq = i + waOs * i;
            var rcOr = ((sgMy) + yiPt + (tgGx * rfMq));
            var c = Math.cos(rcOr);
            var s = -Math.sin(rcOr);
            tiHx.push(((scPs * c) + (tgJq * s)) * thOs + qjKz, ((scPs * -s) + (tgJq * c)) * thOs + qjJq);
        }
        this.rbLu = true;
        return this;
    };
    RGGW.vgos.prototype.wiIv = function(color, alpha) {
        this.tbGq = true;
        this.wfOr = color || 0;
        this.wfOq = (alpha === undefined) ? 1 : alpha;
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length <= 2) {
                this.yePt.fill = this.tbGq;
                this.yePt.wfOr = this.wfOr;
                this.yePt.wfOq = this.wfOq;
            }
        }
        return this;
    };
    RGGW.vgos.prototype.tbLr = function() {
        this.tbGq = false;
        this.wfOr = null;
        this.wfOq = 1;
        return this;
    };
    RGGW.vgos.prototype.viKv = function(x, y, width, height) {
        this.wgKy(new RGGW.wbgy(x, y, width, height));
        return this;
    };
    RGGW.vgos.prototype.riHxB = function(x, y, width, height, thOs) {
        this.wgKy({
            tiHx: [x, y, width, height, thOs],
            type: RGGW.vgos.RFLZ
        });
        return this;
    };
    RGGW.vgos.prototype.xeLx = function(x, y, thOs) {
        this.wgKy(new RGGW.sdku(x, y, thOs));
        return this;
    };
    RGGW.vgos.prototype.yeKx = function(x, y, width, height) {
        this.wgKy(new RGGW.tbmt(x, y, width, height));
        return this;
    };
    RGGW.vgos.prototype.yeKy = function(rgHx) {
        if (!(rgHx instanceof Array)) rgHx = Array.prototype.slice.call(arguments);
        this.wgKy(new RGGW.uhhx(rgHx));
        return this;
    };
    RGGW.vgos.prototype.clear = function() {
        this.lineWidth = 0;
        this.tbGq = false;
        this.rbLu = true;
        this.xfMr = true;
        this.zfHt = [];
        return this;
    };
    RGGW.vgos.prototype.riGrJ = function(xaGu, waKq) {
        xaGu = xaGu || 1;
        var sdPv = this.wfJx();
        var zgPv = new RGGW.zgpv(sdPv.width * xaGu, sdPv.height * xaGu);
        var ueMt = RGGW.uemt.xdMx(zgPv.canvas, waKq);
        ueMt.yfPx.xaGu = xaGu;
        zgPv.tcLv.scale(xaGu, xaGu);
        zgPv.tcLv.translate(-sdPv.x, -sdPv.y);
        RGGW.rinzf.riJqG(this, zgPv.tcLv);
        return ueMt;
    };
    RGGW.vgos.prototype.zhOr = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0 || this.saKr === true) return;
        if (this.rjJwK) {
            if (this.rbLu || this.rhKzA) {
                this.rgLyF();
                this.rgGrC();
                this.rhKzA = false;
                this.rbLu = false;
            }
            this.zaMt.alpha = this.alpha;
            RGGW.rfisb.prototype.zhOr.call(this.zaMt, rjLxA);
            return;
        } else {
            rjLxA.zjNt.stop();
            rjLxA.rhNtG.zcIs(this.wiGr);
            if (this.rdJv) rjLxA.ycJq.vdHu(this.rdJv, rjLxA);
            if (this.ubMx) rjLxA.rjNqE.xaLw(this.ziHr);
            if (this.wiGr !== rjLxA.zjNt.rhNwE) {
                rjLxA.zjNt.rhNwE = this.wiGr;
                var riNxA = RGGW.riHqD[rjLxA.zjNt.rhNwE];
                rjLxA.zjNt.gl.blendFunc(riNxA[0], riNxA[1]);
            }
            if (this.yhLr) {
                this.rbLu = true;
                this.yhLr = false;
            }
            RGGW.rjjtg.riJqG(this, rjLxA);
            if (this.children.length) {
                rjLxA.zjNt.rfIsA();
                for (var i = 0, j = this.children.length; i < j; i++) {
                    this.children[i].zhOr(rjLxA);
                }
                rjLxA.zjNt.stop();
            }
            if (this.ubMx) rjLxA.rjNqE.wbLy();
            if (this.rdJv) rjLxA.ycJq.uhGq(this.rhGs, rjLxA);
            rjLxA.wgKv++;
            rjLxA.zjNt.rfIsA();
        }
    };
    RGGW.vgos.prototype.zaGy = function(rjLxA) {
        if (this.rfIxE === false || this.alpha === 0 || this.saKr === true) return;
        if (this.rjJwK) {
            if (this.rbLu || this.rhKzA) {
                this.rgLyF();
                this.rgGrC();
                this.rhKzA = false;
                this.rbLu = false;
            }
            this.zaMt.alpha = this.alpha;
            RGGW.rfisb.prototype.zaGy.call(this.zaMt, rjLxA);
            return;
        } else {
            var tcLv = rjLxA.tcLv;
            var transform = this.riIrK;
            if (this.wiGr !== rjLxA.rhNwE) {
                rjLxA.rhNwE = this.wiGr;
                tcLv.globalCompositeOperation = RGGW.rhNtF[rjLxA.rhNwE];
            }
            if (this.rdJv) {
                rjLxA.ycJq.vdHu(this.rdJv, rjLxA);
            }
            var xaGu = rjLxA.xaGu;
            tcLv.setTransform(transform.a * xaGu, transform.b * xaGu, transform.c * xaGu, transform.d * xaGu, transform.qhHx * xaGu, transform.qhHy * xaGu);
            RGGW.rinzf.riJqG(this, tcLv);
            for (var i = 0, j = this.children.length; i < j; i++) {
                this.children[i].zaGy(rjLxA);
            }
            if (this.rdJv) {
                rjLxA.ycJq.uhGq(rjLxA);
            }
        }
    };
    RGGW.vgos.prototype.wfJx = function(tjLs) {
        if (this.rbLu) {
            this.zbIz();
            this.yhLr = true;
            this.rhKzA = true;
            this.rbLu = false;
        }
        var sdPv = this.tePz;
        var qgNu = sdPv.x;
        var qgNv = sdPv.width + sdPv.x;
        var qiOx = sdPv.y;
        var qiOy = sdPv.height + sdPv.y;
        var riIrK = tjLs || this.riIrK;
        var a = riIrK.a;
        var b = riIrK.c;
        var c = riIrK.b;
        var d = riIrK.d;
        var qhHx = riIrK.qhHx;
        var qhHy = riIrK.qhHy;
        var qgMv = a * qgNv + c * qiOy + qhHx;
        var qgKt = d * qiOy + b * qgNv + qhHy;
        var qgMw = a * qgNu + c * qiOy + qhHx;
        var qgKu = d * qiOy + b * qgNu + qhHy;
        var qgMx = a * qgNu + c * qiOx + qhHx;
        var qgKv = d * qiOx + b * qgNu + qhHy;
        var qgMy = a * qgNv + c * qiOx + qhHx;
        var qgKw = d * qiOx + b * qgNv + qhHy;
        var rgPq = qgMv;
        var rgPr = qgKt;
        var rgOy = qgMv;
        var rgOz = qgKt;
        rgOy = qgMw < rgOy ? qgMw : rgOy;
        rgOy = qgMx < rgOy ? qgMx : rgOy;
        rgOy = qgMy < rgOy ? qgMy : rgOy;
        rgOz = qgKu < rgOz ? qgKu : rgOz;
        rgOz = qgKv < rgOz ? qgKv : rgOz;
        rgOz = qgKw < rgOz ? qgKw : rgOz;
        rgPq = qgMw > rgPq ? qgMw : rgPq;
        rgPq = qgMx > rgPq ? qgMx : rgPq;
        rgPq = qgMy > rgPq ? qgMy : rgPq;
        rgPr = qgKu > rgPr ? qgKu : rgPr;
        rgPr = qgKv > rgPr ? qgKv : rgPr;
        rgPr = qgKw > rgPr ? qgKw : rgPr;
        sdPv.x = rgOy;
        sdPv.width = rgPq - rgOy;
        sdPv.y = rgOz;
        sdPv.height = rgPr - rgOz;
        return sdPv;
    };
    RGGW.vgos.prototype.zbIz = function() {
        var rgOy = Infinity;
        var rgPq = -Infinity;
        var rgOz = Infinity;
        var rgPr = -Infinity;
        if (this.zfHt.length) {
            var shLv, tiHx, x, y, w, h;
            for (var i = 0; i < this.zfHt.length; i++) {
                var data = this.zfHt[i];
                var type = data.type;
                var lineWidth = data.lineWidth;
                shLv = data.shLv;
                if (type === RGGW.vgos.RECT || type === RGGW.vgos.SHNS) {
                    x = shLv.x - lineWidth / 2;
                    y = shLv.y - lineWidth / 2;
                    w = shLv.width + lineWidth;
                    h = shLv.height + lineWidth;
                    rgOy = x < rgOy ? x : rgOy;
                    rgPq = x + w > rgPq ? x + w : rgPq;
                    rgOz = y < rgOz ? y : rgOz;
                    rgPr = y + h > rgPr ? y + h : rgPr;
                } else if (type === RGGW.vgos.RJMU) {
                    x = shLv.x;
                    y = shLv.y;
                    w = shLv.thOs + lineWidth / 2;
                    h = shLv.thOs + lineWidth / 2;
                    rgOy = x - w < rgOy ? x - w : rgOy;
                    rgPq = x + w > rgPq ? x + w : rgPq;
                    rgOz = y - h < rgOz ? y - h : rgOz;
                    rgPr = y + h > rgPr ? y + h : rgPr;
                } else if (type === RGGW.vgos.RIPT) {
                    x = shLv.x;
                    y = shLv.y;
                    w = shLv.width + lineWidth / 2;
                    h = shLv.height + lineWidth / 2;
                    rgOy = x - w < rgOy ? x - w : rgOy;
                    rgPq = x + w > rgPq ? x + w : rgPq;
                    rgOz = y - h < rgOz ? y - h : rgOz;
                    rgPr = y + h > rgPr ? y + h : rgPr;
                } else {
                    tiHx = shLv.tiHx;
                    for (var j = 0; j < tiHx.length; j += 2) {
                        x = tiHx[j];
                        y = tiHx[j + 1];
                        rgOy = x - lineWidth < rgOy ? x - lineWidth : rgOy;
                        rgPq = x + lineWidth > rgPq ? x + lineWidth : rgPq;
                        rgOz = y - lineWidth < rgOz ? y - lineWidth : rgOz;
                        rgPr = y + lineWidth > rgPr ? y + lineWidth : rgPr;
                    }
                }
            }
        } else {
            rgOy = 0;
            rgPq = 0;
            rgOz = 0;
            rgPr = 0;
        }
        var padding = this.rjPyJ;
        var sdPv = this.tePz;
        sdPv.x = rgOy - padding;
        sdPv.width = (rgPq - rgOy) + padding * 2;
        sdPv.y = rgOz - padding;
        sdPv.height = (rgPr - rgOz) + padding * 2;
    };
    RGGW.vgos.prototype.rgLyF = function() {
        var sdPv = this.riLrH();
        if (!this.zaMt) {
            var zgPv = new RGGW.zgpv(sdPv.width, sdPv.height);
            var ueMt = RGGW.uemt.xdMx(zgPv.canvas);
            this.zaMt = new RGGW.rfisb(ueMt);
            this.zaMt.buffer = zgPv;
            this.zaMt.riIrK = this.riIrK;
        } else {
            this.zaMt.buffer.resize(sdPv.width, sdPv.height);
        }
        this.zaMt.anchor.x = -(sdPv.x / sdPv.width);
        this.zaMt.anchor.y = -(sdPv.y / sdPv.height);
        this.zaMt.buffer.tcLv.translate(-sdPv.x, -sdPv.y);
        this.yhKu = 1;
        RGGW.rinzf.riJqG(this, this.zaMt.buffer.tcLv);
        this.zaMt.alpha = this.alpha;
    };
    RGGW.vgos.prototype.rgGrC = function() {
        var zhGu = this.zaMt;
        var ueMt = zhGu.ueMt;
        var canvas = zhGu.buffer.canvas;
        ueMt.yfPx.width = canvas.width;
        ueMt.yfPx.height = canvas.height;
        ueMt.rjKu.width = ueMt.frame.width = canvas.width;
        ueMt.rjKu.height = ueMt.frame.height = canvas.height;
        zhGu.sePv = canvas.width;
        zhGu.teNr = canvas.height;
        ueMt.yfPx.rbLu();
    };
    RGGW.vgos.prototype.rgOwA = function() {
        this.zaMt.ueMt.tbPr(true);
        this.zaMt = null;
    };
    RGGW.vgos.prototype.wgKy = function(shLv) {
        if (this.yePt) {
            if (this.yePt.shLv.tiHx.length <= 2) this.zfHt.pop();
        }
        this.yePt = null;
        var data = new RGGW.zfht(this.lineWidth, this.wdLq, this.wdMy, this.wfOr, this.wfOq, this.tbGq, shLv);
        this.zfHt.push(data);
        if (data.type === RGGW.vgos.RFPT) {
            data.shLv.closed = this.tbGq;
            this.yePt = data;
        }
        this.rbLu = true;
        return data;
    };
    RGGW.zfht = function(lineWidth, wdLq, wdMy, wfOr, wfOq, fill, shLv) {
        this.lineWidth = lineWidth;
        this.wdLq = wdLq;
        this.wdMy = wdMy;
        this.wfOr = wfOr;
        this.wfOq = wfOq;
        this.fill = fill;
        this.shLv = shLv;
        this.type = shLv.type;
    };
    RGGW.vgos.RFPT = 0;
    RGGW.vgos.RECT = 1;
    RGGW.vgos.RJMU = 2;
    RGGW.vgos.RIPT = 3;
    RGGW.vgos.RFLZ = 4;
    RGGW.uhhx.prototype.type = RGGW.vgos.RFPT;
    RGGW.wbgy.prototype.type = RGGW.vgos.RECT;
    RGGW.sdku.prototype.type = RGGW.vgos.RJMU;
    RGGW.tbmt.prototype.type = RGGW.vgos.RIPT;
    rfjwh.sdnw = function(rfOyC, id, x, y, width, height) {
        this.rfOyC = rfOyC;
        this.world = rfOyC.world;
        this.id = 0;
        this.view = new rfjwh.wbgy(x, y, width, height);
        this.yjNy = new rfjwh.wbgy(x, y, width, height);
        this.sdPv = new rfjwh.wbgy(x, y, width, height);
        this.viPw = null;
        this.rfIxE = true;
        this.ufPs = true;
        this.tdNy = {
            x: false,
            y: false
        };
        this.target = null;
        this.rdKs = 0;
        this.wjIx = new rfjwh.Point();
        this.rjOxC = null;
        this.scale = null;
        this.riIwG = new rfjwh.Point();
    };
    rfjwh.sdnw.RJNRG = 0;
    rfjwh.sdnw.RHJVB = 1;
    rfjwh.sdnw.RIMYK = 2;
    rfjwh.sdnw.RGMXF = 3;
    rfjwh.sdnw.prototype = {
        sbLr: function(target, style) {
            if (typeof style === "undefined") {
                style = rfjwh.sdnw.RJNRG;
            }
            this.target = target;
            var saPv;
            switch (style) {
                case rfjwh.sdnw.RHJVB:
                    var w = this.width / 8;
                    var h = this.height / 3;
                    this.viPw = new rfjwh.wbgy((this.width - w) / 2, (this.height - h) / 2 - h * 0.25, w, h);
                    break;
                case rfjwh.sdnw.RIMYK:
                    saPv = Math.max(this.width, this.height) / 4;
                    this.viPw = new rfjwh.wbgy((this.width - saPv) / 2, (this.height - saPv) / 2, saPv, saPv);
                    break;
                case rfjwh.sdnw.RGMXF:
                    saPv = Math.max(this.width, this.height) / 8;
                    this.viPw = new rfjwh.wbgy((this.width - saPv) / 2, (this.height - saPv) / 2, saPv, saPv);
                    break;
                case rfjwh.sdnw.RJNRG:
                    this.viPw = null;
                    break;
                default:
                    this.viPw = null;
                    break;
            }
        },
        vaJw: function() {
            this.target = null;
        },
        taPy: function(rjOxC) {
            this.yaHw(Math.round(rjOxC.x - this.view.wfGs), Math.round(rjOxC.y - this.view.xdHz));
        },
        wfNt: function(x, y) {
            this.yaHw(Math.round(x - this.view.wfGs), Math.round(y - this.view.xdHz));
        },
        update: function() {
            if (this.target) {
                this.zbHu();
            }
            if (this.sdPv) {
                this.yfLu();
            }
            if (this.ufPs) {
                this.view.floor();
            }
            this.rjOxC.position.x = -this.view.x;
            this.rjOxC.position.y = -this.view.y;
        },
        zbHu: function() {
            this.riIwG.vjIw(this.target).veOs(this.target.parent ? this.target.parent.riIrK.a : 1, this.target.parent ? this.target.parent.riIrK.d : 1);
            if (this.viPw) {
                this.rdKs = this.riIwG.x - this.view.x;
                if (this.rdKs < this.viPw.left) {
                    this.view.x = this.riIwG.x - this.viPw.left;
                } else if (this.rdKs > this.viPw.right) {
                    this.view.x = this.riIwG.x - this.viPw.right;
                }
                this.rdKs = this.riIwG.y - this.view.y;
                if (this.rdKs < this.viPw.top) {
                    this.view.y = this.riIwG.y - this.viPw.top;
                } else if (this.rdKs > this.viPw.bottom) {
                    this.view.y = this.riIwG.y - this.viPw.bottom;
                }
            } else {
                this.view.x = this.riIwG.x - this.view.wfGs;
                this.view.y = this.riIwG.y - this.view.xdHz;
            }
        },
        rhLwC: function() {
            if (this.sdPv) {
                this.sdPv.shMy(this.rfOyC.world.sdPv.x, this.rfOyC.world.sdPv.y, this.rfOyC.world.sdPv.width, this.rfOyC.world.sdPv.height);
            }
        },
        yfLu: function() {
            this.tdNy.x = false;
            this.tdNy.y = false;
            if (this.view.x <= this.sdPv.x) {
                this.tdNy.x = true;
                this.view.x = this.sdPv.x;
            }
            if (this.view.right >= this.sdPv.right) {
                this.tdNy.x = true;
                this.view.x = this.sdPv.right - this.width;
            }
            if (this.view.y <= this.sdPv.top) {
                this.tdNy.y = true;
                this.view.y = this.sdPv.top;
            }
            if (this.view.bottom >= this.sdPv.bottom) {
                this.tdNy.y = true;
                this.view.y = this.sdPv.bottom - this.height;
            }
        },
        yaHw: function(x, y) {
            this.view.x = x;
            this.view.y = y;
            if (this.sdPv) {
                this.yfLu();
            }
        },
        ufMu: function(width, height) {
            this.view.width = width;
            this.view.height = height;
        },
        reset: function() {
            this.target = null;
            this.view.x = 0;
            this.view.y = 0;
        }
    };
    rfjwh.sdnw.prototype.constructor = rfjwh.sdnw;
    Object.defineProperty(rfjwh.sdnw.prototype, "x", {
        get: function() {
            return this.view.x;
        },
        set: function(value) {
            this.view.x = value;
            if (this.sdPv) {
                this.yfLu();
            }
        }
    });
    Object.defineProperty(rfjwh.sdnw.prototype, "y", {
        get: function() {
            return this.view.y;
        },
        set: function(value) {
            this.view.y = value;
            if (this.sdPv) {
                this.yfLu();
            }
        }
    });
    Object.defineProperty(rfjwh.sdnw.prototype, "position", {
        get: function() {
            this.wjIx.set(this.view.tdGs, this.view.tdGt);
            return this.wjIx;
        },
        set: function(value) {
            if (typeof value.x !== "undefined") {
                this.view.x = value.x;
            }
            if (typeof value.y !== "undefined") {
                this.view.y = value.y;
            }
            if (this.sdPv) {
                this.yfLu();
            }
        }
    });
    Object.defineProperty(rfjwh.sdnw.prototype, "width", {
        get: function() {
            return this.view.width;
        },
        set: function(value) {
            this.view.width = value;
        }
    });
    Object.defineProperty(rfjwh.sdnw.prototype, "height", {
        get: function() {
            return this.view.height;
        },
        set: function(value) {
            this.view.height = value;
        }
    });
    rfjwh.shgz = function() {
        this.rfOyC = null;
        this.add = null;
        this.rhHy = null;
        this.sdNw = null;
        this.rcIy = null;
        this.input = null;
        this.load = null;
        this.math = null;
        this.rfHvH = null;
        this.scale = null;
        this.shGv = null;
        this.time = null;
        this.tfNw = null;
        this.world = null;
        this.wbNs = null;
        this.reOsH = null;
        this.qcHr = null;
    };
    rfjwh.shgz.prototype = {
        preload: function() {},
        xcGv: function() {},
        xcGs: function() {},
        create: function() {},
        update: function() {},
        render: function() {},
        resize: function() {},
        paused: function() {},
        ybKy: function() {},
        vbMr: function() {}
    };
    rfjwh.shgz.prototype.constructor = rfjwh.shgz;
    rfjwh.zbns = function(rfOyC, zdIw) {
        this.rfOyC = rfOyC;
        this.tgKv = {};
        this.zaGq = null;
        if (typeof zdIw !== 'undefined' && zdIw !== null) {
            this.zaGq = zdIw;
        }
        this.yhHq = false;
        this.yhIy = false;
        this.ubNx = false;
        this.rdLt = [];
        this.tcIq = '';
        this.riKuH = null;
        this.rhIuH = null;
        this.rhLrD = null;
        this.rhLsC = null;
        this.rhLsG = null;
        this.rhLsF = null;
        this.rgNtC = null;
        this.rgLsC = null;
        this.rgLsD = null;
        this.rhLsH = null;
        this.rhIuG = null;
        this.rgKxB = null;
        this.rgPqJ = null;
    };
    rfjwh.zbns.prototype = {
        rjOw: function() {
            this.rfOyC.onPause.add(this.pause, this);
            this.rfOyC.veHq.add(this.rfHuF, this);
            this.rfOyC.load.riKuG.add(this.zeKx, this);
            if (this.zaGq !== null) {
                if (typeof this.zaGq !== 'string') {
                    this.add('default', this.zaGq, true);
                }
            }
        },
        add: function(key, shGz, wiJv) {
            if (typeof wiJv === "undefined") {
                wiJv = false;
            }
            var veNx;
            if (shGz instanceof rfjwh.shgz) {
                veNx = shGz;
            } else if (typeof shGz === 'object') {
                veNx = shGz;
                veNx.rfOyC = this.rfOyC;
            } else if (typeof shGz === 'function') {
                veNx = new shGz(this.rfOyC);
            }
            this.tgKv[key] = veNx;
            if (wiJv) {
                if (this.rfOyC.vgHy) {
                    this.rfIsA(key);
                } else {
                    this.zaGq = key;
                }
            }
            return veNx;
        },
        thMz: function(key) {
            if (this.tcIq === key) {
                this.riHrD = null;
                this.riKuH = null;
                this.rgPqJ = null;
                this.rhIuH = null;
                this.rgLsD = null;
                this.rgLsC = null;
                this.rhLrD = null;
                this.rhLsC = null;
                this.rhLsG = null;
                this.rhLsF = null;
                this.rhLsH = null;
                this.rhIuG = null;
                this.rgKxB = null;
            }
            delete this.tgKv[key];
        },
        rfIsA: function(key, xfMs, xfNy) {
            if (typeof xfMs === "undefined") {
                xfMs = true;
            }
            if (typeof xfNy === "undefined") {
                xfNy = false;
            }
            if (this.xfNq(key)) {
                this.zaGq = key;
                this.yhHq = xfMs;
                this.yhIy = xfNy;
                if (arguments.length > 3) {
                    this.rdLt = Array.prototype.splice.call(arguments, 3);
                }
            }
        },
        ugHr: function(xfMs, xfNy) {
            if (typeof xfMs === "undefined") {
                xfMs = true;
            }
            if (typeof xfNy === "undefined") {
                xfNy = false;
            }
            this.zaGq = this.tcIq;
            this.yhHq = xfMs;
            this.yhIy = xfNy;
            if (arguments.length > 2) {
                this.rdLt = Array.prototype.splice.call(arguments, 2);
            }
        },
        rbJr: function() {},
        wbJt: function() {
            if (this.zaGq && this.rfOyC.vgHy) {
                this.rhJrH();
                this.rhPyA(this.zaGq);
                if (this.tcIq !== this.zaGq) {
                    return;
                } else {
                    this.zaGq = null;
                }
                if (this.rhIuH) {
                    this.rfOyC.load.reset();
                    this.rhIuH.call(this.riHrD, this.rfOyC);
                    if (this.rfOyC.load.rhKqF() === 0 && this.rfOyC.load.rhKqE() === 0) {
                        this.zeKx();
                    } else {
                        this.rfOyC.load.rfIsA();
                    }
                } else {
                    this.zeKx();
                }
            }
        },
        rhJrH: function() {
            if (this.tcIq) {
                if (this.rgPqJ) {
                    this.rgPqJ.call(this.riHrD, this.rfOyC);
                }
                this.rfOyC.tfNw.waOu();
                this.rfOyC.sdNw.reset();
                this.rfOyC.input.reset(true);
                this.rfOyC.reOsH.clear();
                this.rfOyC.time.waOu();
                this.rfOyC.scale.reset(this.yhHq);
                if (this.rfOyC.rbNy) {
                    this.rfOyC.rbNy.reset();
                }
                if (this.yhHq) {
                    this.rfOyC.world.vbMr();
                    if (this.yhIy === true) {
                        this.rfOyC.rcIy.tbPr();
                    }
                }
            }
        },
        xfNq: function(key) {
            if (this.tgKv[key]) {
                var sgGz = false;
                if (this.tgKv[key]['preload']) {
                    sgGz = true;
                }
                if (this.tgKv[key]['create']) {
                    sgGz = true;
                }
                if (this.tgKv[key]['update']) {
                    sgGz = true;
                }
                if (this.tgKv[key]['render']) {
                    sgGz = true;
                }
                if (sgGz === false) {
                    console.warn("Invalid Mygame State object given. Must contain at least a one of the required functions: preload, create, update or render");
                    return false;
                }
                return true;
            } else {
                console.warn("Mygame.StateManager - No state found with the key: " + key);
                return false;
            }
        },
        link: function(key) {
            this.tgKv[key].rfOyC = this.rfOyC;
            this.tgKv[key].add = this.rfOyC.add;
            this.tgKv[key].rhHy = this.rfOyC.rhHy;
            this.tgKv[key].sdNw = this.rfOyC.sdNw;
            this.tgKv[key].rcIy = this.rfOyC.rcIy;
            this.tgKv[key].input = this.rfOyC.input;
            this.tgKv[key].load = this.rfOyC.load;
            this.tgKv[key].math = this.rfOyC.math;
            this.tgKv[key].rfHvH = this.rfOyC.rfHvH;
            this.tgKv[key].scale = this.rfOyC.scale;
            this.tgKv[key].shGz = this;
            this.tgKv[key].shGv = this.rfOyC.shGv;
            this.tgKv[key].time = this.rfOyC.time;
            this.tgKv[key].tfNw = this.rfOyC.tfNw;
            this.tgKv[key].world = this.rfOyC.world;
            this.tgKv[key].wbNs = this.rfOyC.wbNs;
            this.tgKv[key].qcHr = this.rfOyC.qcHr;
            this.tgKv[key].reOsH = this.rfOyC.reOsH;
        },
        tfMy: function(key) {
            if (this.tgKv[key]) {
                this.tgKv[key].rfOyC = null;
                this.tgKv[key].add = null;
                this.tgKv[key].rhHy = null;
                this.tgKv[key].sdNw = null;
                this.tgKv[key].rcIy = null;
                this.tgKv[key].input = null;
                this.tgKv[key].load = null;
                this.tgKv[key].math = null;
                this.tgKv[key].rfHvH = null;
                this.tgKv[key].scale = null;
                this.tgKv[key].shGz = null;
                this.tgKv[key].shGv = null;
                this.tgKv[key].time = null;
                this.tgKv[key].tfNw = null;
                this.tgKv[key].world = null;
                this.tgKv[key].wbNs = null;
                this.tgKv[key].qcHr = null;
                this.tgKv[key].reOsH = null;
            }
        },
        rhPyA: function(key) {
            this.riHrD = this.tgKv[key];
            this.link(key);
            this.riKuH = this.tgKv[key]['init'] || this.rbJr;
            this.rhIuH = this.tgKv[key]['preload'] || null;
            this.rgLsD = this.tgKv[key]['loadRender'] || null;
            this.rgLsC = this.tgKv[key]['loadUpdate'] || null;
            this.rhLrD = this.tgKv[key]['create'] || null;
            this.rhLsC = this.tgKv[key]['update'] || null;
            this.rgNtC = this.tgKv[key]['preRender'] || null;
            this.rhLsG = this.tgKv[key]['render'] || null;
            this.rhLsF = this.tgKv[key]['resize'] || null;
            this.rhLsH = this.tgKv[key]['paused'] || null;
            this.rhIuG = this.tgKv[key]['resumed'] || null;
            this.rgKxB = this.tgKv[key]['pauseUpdate'] || null;
            this.rgPqJ = this.tgKv[key]['shutdown'] || this.rbJr;
            this.tcIq = key;
            this.ubNx = false;
            this.riKuH.apply(this.riHrD, this.rdLt);
            if (key === this.zaGq) {
                this.rdLt = [];
            }
        },
        riGrE: function() {
            return this.tgKv[this.tcIq];
        },
        zeKx: function() {
            if (this.ubNx === false && this.rhLrD) {
                this.ubNx = true;
                this.rhLrD.call(this.riHrD, this.rfOyC);
            } else {
                this.ubNx = true;
            }
        },
        pause: function() {
            if (this.ubNx && this.rhLsH) {
                this.rhLsH.call(this.riHrD, this.rfOyC);
            }
        },
        rfHuF: function() {
            if (this.ubNx && this.rhIuG) {
                this.rhIuG.call(this.riHrD, this.rfOyC);
            }
        },
        update: function() {
            if (this.ubNx && this.rhLsC) {
                this.rhLsC.call(this.riHrD, this.rfOyC);
            } else {
                if (this.rgLsC) {
                    this.rgLsC.call(this.riHrD, this.rfOyC);
                }
            }
        },
        ybKy: function() {
            if (this.ubNx && this.rgKxB) {
                this.rgKxB.call(this.riHrD, this.rfOyC);
            } else {
                if (this.rgLsC) {
                    this.rgLsC.call(this.riHrD, this.rfOyC);
                }
            }
        },
        wbJs: function() {
            if (this.rgNtC) {
                this.rgNtC.call(this.riHrD, this.rfOyC);
            }
        },
        resize: function(width, height) {
            if (this.rhLsF) {
                this.rhLsF.call(this.riHrD, width, height);
            }
        },
        render: function() {
            if (this.ubNx && this.rhLsG) {
                if (this.rfOyC.xaHv === rfjwh.CANVAS) {
                    this.rfOyC.tcLv.save();
                    this.rfOyC.tcLv.setTransform(1, 0, 0, 1, 0, 0);
                }
                this.rhLsG.call(this.riHrD, this.rfOyC);
                if (this.rfOyC.xaHv === rfjwh.CANVAS) {
                    this.rfOyC.tcLv.restore();
                }
            } else {
                if (this.rgLsD) {
                    this.rgLsD.call(this.riHrD, this.rfOyC);
                }
            }
        },
        tbPr: function() {
            this.rhJrH();
            this.riHrD = null;
            this.riKuH = null;
            this.rgPqJ = null;
            this.rhIuH = null;
            this.rgLsD = null;
            this.rgLsC = null;
            this.rhLrD = null;
            this.rhLsC = null;
            this.rhLsG = null;
            this.rhLsH = null;
            this.rhIuG = null;
            this.rgKxB = null;
            this.rfOyC = null;
            this.tgKv = {};
            this.zaGq = null;
        }
    };
    rfjwh.zbns.prototype.constructor = rfjwh.zbns;
    rfjwh.xchz = function() {
        this.rfKvC = null;
        this.rfOu = null;
        this.raPz = null;
        this.rhKt = null;
        this.sgJq = 0;
    };
    rfjwh.xchz.prototype = {
        add: function(rcGq) {
            if (this.sgJq === 0 && this.raPz === null && this.rhKt === null) {
                this.raPz = rcGq;
                this.rhKt = rcGq;
                this.rfKvC = rcGq;
                rcGq.rfOu = this;
                this.sgJq++;
                return rcGq;
            }
            this.rhKt.rfKvC = rcGq;
            rcGq.rfOu = this.rhKt;
            this.rhKt = rcGq;
            this.sgJq++;
            return rcGq;
        },
        reset: function() {
            this.raPz = null;
            this.rhKt = null;
            this.rfKvC = null;
            this.rfOu = null;
            this.sgJq = 0;
        },
        thMz: function(rcGq) {
            if (this.sgJq === 1) {
                this.reset();
                rcGq.rfKvC = rcGq.rfOu = null;
                return;
            }
            if (rcGq === this.raPz) {
                this.raPz = this.raPz.rfKvC;
            } else if (rcGq === this.rhKt) {
                this.rhKt = this.rhKt.rfOu;
            }
            if (rcGq.rfOu) {
                rcGq.rfOu.rfKvC = rcGq.rfKvC;
            }
            if (rcGq.rfKvC) {
                rcGq.rfKvC.rfOu = rcGq.rfOu;
            }
            rcGq.rfKvC = rcGq.rfOu = null;
            if (this.raPz === null) {
                this.rhKt = null;
            }
            this.sgJq--;
        },
        tdJy: function(uaGu) {
            if (!this.raPz || !this.rhKt) {
                return;
            }
            var scIu = this.raPz;
            do {
                if (scIu && scIu[uaGu]) {
                    scIu[uaGu].call(scIu);
                }
                scIu = scIu.rfKvC;
            } while (scIu != this.rhKt.rfKvC);
        }
    };
    rfjwh.xchz.prototype.constructor = rfjwh.xchz;
    rfjwh.wikq = function() {
        this.sgJq = 0;
        this.position = 0;
        this.list = [];
    };
    rfjwh.wikq.prototype = {
        add: function(rcGq) {
            if (!this.scHu(rcGq)) {
                this.list.push(rcGq);
                this.sgJq++;
            }
            return rcGq;
        },
        vhGt: function(rcGq) {
            return this.list.indexOf(rcGq);
        },
        scHu: function(rcGq) {
            return (this.list.indexOf(rcGq) > -1);
        },
        reset: function() {
            this.list.length = 0;
            this.sgJq = 0;
        },
        thMz: function(rcGq) {
            var qdOv = this.list.indexOf(rcGq);
            if (qdOv > -1) {
                this.list.splice(qdOv, 1);
                this.sgJq--;
                return rcGq;
            }
        },
        thGs: function(key, value) {
            var i = this.list.length;
            while (i--) {
                if (this.list[i] && this.list[i][key]) {
                    this.list[i][key] = value;
                }
            }
        },
        tdJy: function(uaGu) {
            var rePuH = Array.prototype.splice.call(arguments, 1);
            var i = this.list.length;
            while (i--) {
                if (this.list[i] && this.list[i][uaGu]) {
                    this.list[i][uaGu].apply(this.list[i], rePuH);
                }
            }
        }
    };
    Object.defineProperty(rfjwh.wikq.prototype, "raPz", {
        get: function() {
            this.position = 0;
            if (this.sgJq > 0) {
                return this.list[0];
            } else {
                return null;
            }
        }
    });
    Object.defineProperty(rfjwh.wikq.prototype, "rfKvC", {
        get: function() {
            if (this.position < this.sgJq) {
                this.position++;
                return this.list[this.position];
            } else {
                return null;
            }
        }
    });
    rfjwh.wikq.prototype.constructor = rfjwh.wikq;
    rfjwh.tgot = function() {
        this.wjLq = [];
        this.ygNx = null;
        var self = this;
        this.viLt = function() {
            rfjwh.tgot.prototype.viLt.apply(self, arguments);
        };
    };
    rfjwh.tgot.prototype = {
        vfHz: false,
        rhNqB: true,
        seOx: true,
        rhKsF: function(vfLz, sbMx) {
            if (typeof vfLz !== 'function') {
                throw new Error('rfjwh.Signal: listener is a required param of {fn}() and should be a Function.'.replace('{fn}', sbMx));
            }
        },
        rhKxH: function(vfLz, saKu, riGvD, vdJw) {
            var wbJu = this.rhOyA(vfLz, riGvD);
            var tdKr;
            if (wbJu !== -1) {
                tdKr = this.wjLq[wbJu];
                if (tdKr.saKu() !== saKu) {
                    throw new Error('You cannot add' + (saKu ? '' : 'Once') + '() then add' + (!saKu ? '' : 'Once') + '() the same listener without removing the relationship raPz.');
                }
            } else {
                tdKr = new rfjwh.rjktc(this, vfLz, saKu, riGvD, vdJw);
                this.yhJy(tdKr);
            }
            if (this.vfHz && this.ygNx) {
                tdKr.tbJu(this.ygNx);
            }
            return tdKr;
        },
        yhJy: function(tdKr) {
            var n = this.wjLq.length;
            do {
                n--;
            } while (this.wjLq[n] && tdKr.wjHr <= this.wjLq[n].wjHr);
            this.wjLq.splice(n + 1, 0, tdKr);
        },
        rhOyA: function(vfLz, tcLv) {
            var n = this.wjLq.length;
            var qePy;
            while (n--) {
                qePy = this.wjLq[n];
                if (qePy.wjJu === vfLz && qePy.tcLv === tcLv) {
                    return n;
                }
            }
            return -1;
        },
        has: function(vfLz, tcLv) {
            return this.rhOyA(vfLz, tcLv) !== -1;
        },
        add: function(vfLz, riGvD, vdJw) {
            this.rhKsF(vfLz, 'add');
            return this.rhKxH(vfLz, false, riGvD, vdJw);
        },
        teIx: function(vfLz, riGvD, vdJw) {
            this.rhKsF(vfLz, 'addOnce');
            return this.rhKxH(vfLz, true, riGvD, vdJw);
        },
        thMz: function(vfLz, tcLv) {
            this.rhKsF(vfLz, 'remove');
            var i = this.rhOyA(vfLz, tcLv);
            if (i !== -1) {
                this.wjLq[i].ubMr();
                this.wjLq.splice(i, 1);
            }
            return vfLz;
        },
        waOu: function(tcLv) {
            if (typeof tcLv === 'undefined') {
                tcLv = null;
            }
            var n = this.wjLq.length;
            while (n--) {
                if (tcLv) {
                    if (this.wjLq[n].tcLv === tcLv) {
                        this.wjLq[n].ubMr();
                        this.wjLq.splice(n, 1);
                    }
                } else {
                    this.wjLq[n].ubMr();
                }
            }
            if (!tcLv) {
                this.wjLq.length = 0;
            }
        },
        riGsK: function() {
            return this.wjLq.length;
        },
        riHt: function() {
            this.rhNqB = false;
        },
        viLt: function() {
            if (!this.seOx) {
                return;
            }
            var wbOy = Array.prototype.slice.call(arguments);
            var n = this.wjLq.length;
            var uaKs;
            if (this.vfHz) {
                this.ygNx = wbOy;
            }
            if (!n) {
                return;
            }
            uaKs = this.wjLq.slice();
            this.rhNqB = true;
            do {
                n--;
            } while (uaKs[n] && this.rhNqB && uaKs[n].tbJu(wbOy) !== false);
        },
        sbLw: function() {
            this.ygNx = null;
        },
        tbOw: function() {
            this.waOu();
            delete this.wjLq;
            delete this.ygNx;
        },
        toString: function() {
            return '[rfjwh.Signal seOx:' + this.seOx + ' numListeners:' + this.riGsK() + ']';
        }
    };
    rfjwh.tgot.prototype.constructor = rfjwh.tgot;
    rfjwh.rjktc = function(tgOt, vfLz, saKu, riGvD, vdJw) {
        this.wjJu = vfLz;
        this.teNu = saKu;
        this.tcLv = riGvD;
        this.teKr = tgOt;
        this.wjHr = vdJw || 0;
    };
    rfjwh.rjktc.prototype = {
        seOx: true,
        tiLv: null,
        tbJu: function(wbOy) {
            var rjNwD, tiLv;
            if (this.seOx && !!this.wjJu) {
                tiLv = this.tiLv ? this.tiLv.concat(wbOy) : wbOy;
                rjNwD = this.wjJu.apply(this.tcLv, tiLv);
                if (this.teNu) {
                    this.scMy();
                }
            }
            return rjNwD;
        },
        scMy: function() {
            return this.ujKt() ? this.teKr.thMz(this.wjJu, this.tcLv) : null;
        },
        ujKt: function() {
            return (!!this.teKr && !!this.wjJu);
        },
        saKu: function() {
            return this.teNu;
        },
        ydMx: function() {
            return this.wjJu;
        },
        wfIz: function() {
            return this.teKr;
        },
        ubMr: function() {
            delete this.teKr;
            delete this.wjJu;
            delete this.tcLv;
        },
        toString: function() {
            return '[rfjwh.SignalBinding isOnce:' + this.teNu + ', isBound:' + this.ujKt() + ', seOx:' + this.seOx + ']';
        }
    };
    rfjwh.rjktc.prototype.constructor = rfjwh.rjktc;
    rfjwh.Filter = function(rfOyC, vaJx, ydPz) {
        this.rfOyC = rfOyC;
        this.type = rfjwh.ZAPS;
        this.tiKt = [this];
        this.ufLs = [];
        this.rbLu = true;
        this.padding = 0;
        this.wbJv = new rfjwh.Point();
        var d = new Date();
        this.vaJx = {
            xaGu: {
                type: '2f',
                value: {
                    x: 256,
                    y: 256
                }
            },
            time: {
                type: '1f',
                value: 0
            },
            sjGy: {
                type: '2f',
                value: {
                    x: 0.0,
                    y: 0.0
                }
            },
            date: {
                type: '4fv',
                value: [d.getFullYear(), d.getMonth(), d.getDate(), d.getHours() * 60 * 60 + d.getMinutes() * 60 + d.getSeconds()]
            },
            yjOu: {
                type: '1f',
                value: 44100.0
            },
            weNq: {
                type: 'sampler2D',
                value: null,
                zjJs: {
                    repeat: true
                }
            },
            weNr: {
                type: 'sampler2D',
                value: null,
                zjJs: {
                    repeat: true
                }
            },
            weNs: {
                type: 'sampler2D',
                value: null,
                zjJs: {
                    repeat: true
                }
            },
            weNt: {
                type: 'sampler2D',
                value: null,
                zjJs: {
                    repeat: true
                }
            }
        };
        if (vaJx) {
            for (var key in vaJx) {
                this.vaJx[key] = vaJx[key];
            }
        }
        this.ydPz = ydPz || [];
    };
    rfjwh.Filter.prototype = {
        rhNr: function() {},
        rjKrA: function(width, height) {
            this.vaJx.xaGu.value.x = width;
            this.vaJx.xaGu.value.y = height;
        },
        update: function(uhHt) {
            if (typeof uhHt !== 'undefined') {
                var x = uhHt.x / this.rfOyC.width;
                var y = 1 - uhHt.y / this.rfOyC.height;
                if (x !== this.wbJv.x || y !== this.wbJv.y) {
                    this.vaJx.sjGy.value.x = x.toFixed(2);
                    this.vaJx.sjGy.value.y = y.toFixed(2);
                    this.wbJv.set(x, y);
                }
            }
            this.vaJx.time.value = this.rfOyC.time.rgNyJ();
        },
        tbPr: function() {
            this.rfOyC = null;
        }
    };
    rfjwh.Filter.prototype.constructor = rfjwh.Filter;
    Object.defineProperty(rfjwh.Filter.prototype, 'width', {
        get: function() {
            return this.vaJx.xaGu.value.x;
        },
        set: function(value) {
            this.vaJx.xaGu.value.x = value;
        }
    });
    Object.defineProperty(rfjwh.Filter.prototype, 'height', {
        get: function() {
            return this.vaJx.xaGu.value.y;
        },
        set: function(value) {
            this.vaJx.xaGu.value.y = value;
        }
    });
    rfjwh.Plugin = function(rfOyC, parent) {
        if (typeof parent === 'undefined') {
            parent = null;
        }
        this.rfOyC = rfOyC;
        this.parent = parent;
        this.seOx = false;
        this.rfIxE = false;
        this.zfGr = false;
        this.wePq = false;
        this.rjNxK = false;
        this.wfGy = false;
        this.rjNwA = false;
    };
    rfjwh.Plugin.prototype = {
        wbJt: function() {},
        update: function() {},
        render: function() {},
        xaNw: function() {},
        tbPr: function() {
            this.rfOyC = null;
            this.parent = null;
            this.seOx = false;
            this.rfIxE = false;
        }
    };
    rfjwh.Plugin.prototype.constructor = rfjwh.Plugin;
    rfjwh.rjlte = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.uhHs = [];
        this.qaMx = 0;
        this.qjPt = 0;
    };
    rfjwh.rjlte.prototype = {
        add: function(plugin) {
            var rePuH = Array.prototype.splice.call(arguments, 1);
            var thLx = false;
            if (typeof plugin === 'function') {
                plugin = new plugin(this.rfOyC, this);
            } else {
                plugin.rfOyC = this.rfOyC;
                plugin.parent = this;
            }
            if (typeof plugin['preUpdate'] === 'function') {
                plugin.zfGr = true;
                thLx = true;
            }
            if (typeof plugin['update'] === 'function') {
                plugin.wePq = true;
                thLx = true;
            }
            if (typeof plugin['postUpdate'] === 'function') {
                plugin.rjNxK = true;
                thLx = true;
            }
            if (typeof plugin['render'] === 'function') {
                plugin.wfGy = true;
                thLx = true;
            }
            if (typeof plugin['postRender'] === 'function') {
                plugin.rjNwA = true;
                thLx = true;
            }
            if (thLx) {
                if (plugin.zfGr || plugin.wePq || plugin.rjNxK) {
                    plugin.seOx = true;
                }
                if (plugin.wfGy || plugin.rjNwA) {
                    plugin.rfIxE = true;
                }
                this.qaMx = this.uhHs.push(plugin);
                if (typeof plugin['init'] === 'function') {
                    plugin.rhNr.apply(plugin, rePuH);
                }
                return plugin;
            } else {
                return null;
            }
        },
        thMz: function(plugin) {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt] === plugin) {
                    plugin.tbPr();
                    this.uhHs.splice(this.qjPt, 1);
                    this.qaMx--;
                    return;
                }
            }
        },
        waOu: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                this.uhHs[this.qjPt].tbPr();
            }
            this.uhHs.length = 0;
            this.qaMx = 0;
        },
        wbJt: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt].seOx && this.uhHs[this.qjPt].zfGr) {
                    this.uhHs[this.qjPt].wbJt();
                }
            }
        },
        update: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt].seOx && this.uhHs[this.qjPt].wePq) {
                    this.uhHs[this.qjPt].update();
                }
            }
        },
        xaNx: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt].seOx && this.uhHs[this.qjPt].rjNxK) {
                    this.uhHs[this.qjPt].xaNx();
                }
            }
        },
        render: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt].rfIxE && this.uhHs[this.qjPt].wfGy) {
                    this.uhHs[this.qjPt].render();
                }
            }
        },
        xaNw: function() {
            this.qjPt = this.qaMx;
            while (this.qjPt--) {
                if (this.uhHs[this.qjPt].rfIxE && this.uhHs[this.qjPt].rjNwA) {
                    this.uhHs[this.qjPt].xaNw();
                }
            }
        },
        tbPr: function() {
            this.waOu();
            this.rfOyC = null;
        }
    };
    rfjwh.rjlte.prototype.constructor = rfjwh.rjlte;
    rfjwh.shgv = function(rfOyC) {
        this.rfOyC = rfOyC;
        RGGW.shgv.call(this, 0x000000);
        this.name = '_stage_root';
        this.ycPy = false;
        this.rgIxG = false;
        this.scHu = true;
        this.rgMvB = 0;
        this.xhKu = 'hidden';
        this.rhOxA = 0x000000;
        if (rfOyC.sdHt) {
            this.ybKt(rfOyC.sdHt);
        }
    };
    rfjwh.shgv.prototype = Object.create(RGGW.shgv.prototype);
    rfjwh.shgv.prototype.constructor = rfjwh.shgv;
    rfjwh.shgv.prototype.ybKt = function(sdHt) {
        if (sdHt['disableVisibilityChange']) {
            this.rgIxG = sdHt['disableVisibilityChange'];
        }
        if (sdHt['backgroundColor']) {
            this.backgroundColor = sdHt['backgroundColor'];
        }
    };
    rfjwh.shgv.prototype.rjOw = function() {
        rfjwh.Canvas.wfIu(this.rfOyC.canvas, this.tiOt);
        var rdIw = this;
        this.wjJz = function(event) {
            return rdIw.rhKsD(event);
        };
        rfjwh.Canvas.rjKsF(this.rfOyC.canvas, 'none');
        rfjwh.Canvas.riJtD(this.rfOyC.canvas, 'none');
        this.riHtJ();
    };
    rfjwh.shgv.prototype.wbJt = function() {
        this.rgMvB = 0;
        var qdMy = this.children.length;
        for (var i = 0; i < qdMy; i++) {
            this.children[i].wbJt();
        }
    };
    rfjwh.shgv.prototype.update = function() {
        var i = this.children.length;
        while (i--) {
            this.children[i].update();
        }
    };
    rfjwh.shgv.prototype.xaNx = function() {
        if (this.rfOyC.world.sdNw.target) {
            this.rfOyC.world.sdNw.target.xaNx();
            this.rfOyC.world.sdNw.update();
            var i = this.children.length;
            while (i--) {
                if (this.children[i] !== this.rfOyC.world.sdNw.target) {
                    this.children[i].xaNx();
                }
            }
        } else {
            this.rfOyC.world.sdNw.update();
            var i = this.children.length;
            while (i--) {
                this.children[i].xaNx();
            }
        }
    };
    rfjwh.shgv.prototype.riHtJ = function() {
        if (document.zaPx !== undefined) {
            this.xhKu = 'webkitvisibilitychange';
        } else if (document.wcNv !== undefined) {
            this.xhKu = 'mozvisibilitychange';
        } else if (document.vePz !== undefined) {
            this.xhKu = 'msvisibilitychange';
        } else if (document.hidden !== undefined) {
            this.xhKu = 'visibilitychange';
        } else {
            this.xhKu = null;
        }
        if (this.xhKu) {
            document.addEventListener(this.xhKu, this.wjJz, false);
        }
        window.onpagehide = this.wjJz;
        window.onpageshow = this.wjJz;
        window.onblur = this.wjJz;
        window.onfocus = this.wjJz;
        var rdIw = this;
        if (this.rfOyC.scLr.yfKy) {
            vjmy.qfns.ybMy.addEventListener(function() {
                rfjwh.shgv.prototype.rhKsD.call(rdIw, {
                    type: "pause"
                });
            });
            vjmy.qfns.ybNr.addEventListener(function() {
                rfjwh.shgv.prototype.rhKsD.call(rdIw, {
                    type: "rfHuF"
                });
            });
        }
    };
    rfjwh.shgv.prototype.rhKsD = function(event) {
        if (event.type === 'pagehide' || event.type === 'blur' || event.type === 'pageshow' || event.type === 'focus') {
            if (event.type === 'pagehide' || event.type === 'blur') {
                this.rfOyC.wfNs(event);
            } else if (event.type === 'pageshow' || event.type === 'focus') {
                this.rfOyC.wfNr(event);
            }
            return;
        }
        if (this.rgIxG) {
            return;
        }
        if (document.hidden || document.wcNv || document.vePz || document.zaPx || event.type === "pause") {
            this.rfOyC.xdKq(event);
        } else {
            this.rfOyC.ydNq(event);
        }
    };
    rfjwh.shgv.prototype.rgPuD = function(backgroundColor) {
        if (typeof backgroundColor === 'string') {
            var qcIx = rfjwh.Color.xcPu(backgroundColor);
            this.rhOxA = rfjwh.Color.vhHv(qcIx.r, qcIx.g, qcIx.b);
        } else {
            var qcIx = rfjwh.Color.sbIt(backgroundColor);
            this.rhOxA = backgroundColor;
        }
        this.rgMtG = [qcIx.r / 255, qcIx.g / 255, qcIx.b / 255];
        this.rgKrH = rfjwh.Color.yaks(qcIx.r, qcIx.g, qcIx.b, 255, '#');
    };
    rfjwh.shgv.prototype.tbPr = function() {
        if (this.xhKu) {
            document.removeEventListener(this.xhKu, this.wjJz, false);
        }
        window.onpagehide = null;
        window.onpageshow = null;
        window.onblur = null;
        window.onfocus = null;
    };
    Object.defineProperty(rfjwh.shgv.prototype, "backgroundColor", {
        get: function() {
            return this.rhOxA;
        },
        set: function(color) {
            if (!this.rfOyC.zjGv) {
                this.rgPuD(color);
            }
        }
    });
    Object.defineProperty(rfjwh.shgv.prototype, "vbLv", {
        get: function() {
            return !RGGW.yjOz.TJOQ;
        },
        set: function(value) {
            if (value) {
                RGGW.yjOz.TJOQ = 0;
            } else {
                RGGW.yjOz.TJOQ = 1;
            }
        }
    });
    rfjwh.Group = function(rfOyC, parent, name, xgNz, xeKz, rhPtC) {
        if (typeof xgNz === 'undefined') {
            xgNz = false;
        }
        if (typeof xeKz === 'undefined') {
            xeKz = false;
        }
        if (typeof rhPtC === 'undefined') {
            rhPtC = rfjwh.reosh.ARCADE;
        }
        this.rfOyC = rfOyC;
        if (typeof parent === 'undefined') {
            parent = rfOyC.world;
        }
        this.name = name || 'group';
        RGGW.rgjxk.call(this);
        if (xgNz) {
            this.rfOyC.shGv.ubHt(this);
        } else {
            if (parent) {
                parent.ubHt(this);
            }
        }
        this.z = 0;
        this.type = rfjwh.GROUP;
        this.rcPt = true;
        this.scHu = true;
        this.rjNxD = false;
        this.whMv = rfjwh.rfisb;
        this.scale = new rfjwh.Point(1, 1);
        this.cursor = null;
        this.zgPr = new rfjwh.Point();
        this.xeKz = xeKz;
        this.riHyF = false;
        this.rhPtC = rhPtC;
        this.wcIt = new rfjwh.tgot();
        this.rjPqC = 'z';
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0, 0];
    };
    rfjwh.Group.prototype = Object.create(RGGW.rgjxk.prototype);
    rfjwh.Group.prototype.constructor = rfjwh.Group;
    rfjwh.Group.YAKQ = 0;
    rfjwh.Group.ZCLW = 1;
    rfjwh.Group.ZCLV = 2;
    rfjwh.Group.RIJUA = -1;
    rfjwh.Group.RHOQA = 1;
    rfjwh.Group.prototype.add = function(rcGq, tgOu) {
        if (typeof tgOu === 'undefined') {
            tgOu = false;
        }
        if (rcGq.parent !== this) {
            if (this.xeKz) {
                this.rfOyC.reOsH.scJs(rcGq, this.rhPtC);
            }
            this.ubHt(rcGq);
            rcGq.z = this.children.length;
            if (!tgOu && rcGq.scHr) {
                rcGq.scHr.riKtD.viLt(rcGq, this);
            }
            if (this.cursor === null) {
                this.cursor = rcGq;
            }
        }
        return rcGq;
    };
    rfjwh.Group.prototype.ygJq = function(children, tgOu) {
        if (Array.isArray(children)) {
            for (var i = 0; i < children.length; i++) {
                this.add(children[i], tgOu);
            }
        }
        return children;
    };
    rfjwh.Group.prototype.rdGt = function(rcGq, index, tgOu) {
        if (typeof tgOu === 'undefined') {
            tgOu = false;
        }
        if (rcGq.parent !== this) {
            if (this.xeKz) {
                this.rfOyC.reOsH.scJs(rcGq, this.rhPtC);
            }
            this.xgNt(rcGq, index);
            this.ueHz();
            if (!tgOu && rcGq.scHr) {
                rcGq.scHr.riKtD.viLt(rcGq, this);
            }
            if (this.cursor === null) {
                this.cursor = rcGq;
            }
        }
        return rcGq;
    };
    rfjwh.Group.prototype.raLs = function(index) {
        if (index < 0 || index >= this.children.length) {
            return -1;
        } else {
            return this.xdJs(index);
        }
    };
    rfjwh.Group.prototype.create = function(x, y, key, frame, scHu) {
        if (typeof scHu === 'undefined') {
            scHu = true;
        }
        var rcGq = new this.whMv(this.rfOyC, x, y, key, frame);
        if (this.xeKz) {
            this.rfOyC.reOsH.scJs(rcGq, this.rhPtC, this.riHyF);
        }
        rcGq.scHu = scHu;
        rcGq.rfIxE = scHu;
        rcGq.rcPt = scHu;
        this.ubHt(rcGq);
        rcGq.z = this.children.length;
        if (rcGq.scHr) {
            rcGq.scHr.riKtD.viLt(rcGq, this);
        }
        if (this.cursor === null) {
            this.cursor = rcGq;
        }
        return rcGq;
    };
    rfjwh.Group.prototype.riMtF = function(vdHx, key, frame, scHu) {
        if (typeof scHu === 'undefined') {
            scHu = false;
        }
        for (var i = 0; i < vdHx; i++) {
            this.create(0, 0, key, frame, scHu);
        }
    };
    rfjwh.Group.prototype.ueHz = function() {
        var i = this.children.length;
        while (i--) {
            this.children[i].z = i;
        }
    };
    rfjwh.Group.prototype.yaLs = function(index) {
        if (typeof index === 'undefined') {
            index = 0;
        }
        if (index > this.children.length - 1) {
            index = 0;
        }
        if (this.cursor) {
            this.sfIr[8] = index;
            this.cursor = this.children[this.sfIr[8]];
            return this.cursor;
        }
    };
    rfjwh.Group.prototype.rfKvC = function() {
        if (this.cursor) {
            if (this.sfIr[8] >= this.children.length - 1) {
                this.sfIr[8] = 0;
            } else {
                this.sfIr[8]++;
            }
            this.cursor = this.children[this.sfIr[8]];
            return this.cursor;
        }
    };
    rfjwh.Group.prototype.vdJs = function() {
        if (this.cursor) {
            if (this.sfIr[8] === 0) {
                this.sfIr[8] = this.children.length - 1;
            } else {
                this.sfIr[8]--;
            }
            this.cursor = this.children[this.sfIr[8]];
            return this.cursor;
        }
    };
    rfjwh.Group.prototype.reNw = function(sdLw, sdLx) {
        this.zbMq(sdLw, sdLx);
        this.ueHz();
    };
    rfjwh.Group.prototype.xgHz = function(rcGq) {
        if (rcGq.parent === this && this.vhGt(rcGq) < this.children.length) {
            this.thMz(rcGq, false, true);
            this.add(rcGq, true);
        }
        return rcGq;
    };
    rfjwh.Group.prototype.yjMx = function(rcGq) {
        if (rcGq.parent === this && this.vhGt(rcGq) > 0) {
            this.thMz(rcGq, false, true);
            this.rdGt(rcGq, 0, true);
        }
        return rcGq;
    };
    rfjwh.Group.prototype.tjIu = function(rcGq) {
        if (rcGq.parent === this && this.vhGt(rcGq) < this.children.length - 1) {
            var a = this.vhGt(rcGq);
            var b = this.raLs(a + 1);
            if (b) {
                this.reNw(rcGq, b);
            }
        }
        return rcGq;
    };
    rfjwh.Group.prototype.vePu = function(rcGq) {
        if (rcGq.parent === this && this.vhGt(rcGq) > 0) {
            var a = this.vhGt(rcGq);
            var b = this.raLs(a - 1);
            if (b) {
                this.reNw(rcGq, b);
            }
        }
        return rcGq;
    };
    rfjwh.Group.prototype.qgKq = function(index, x, y) {
        if (index < 0 || index > this.children.length) {
            return -1;
        } else {
            this.xdJs(index).x = x;
            this.xdJs(index).y = y;
        }
    };
    rfjwh.Group.prototype.reverse = function() {
        this.children.reverse();
        this.ueHz();
    };
    rfjwh.Group.prototype.vhGt = function(rcGq) {
        return this.children.indexOf(rcGq);
    };
    rfjwh.Group.prototype.replace = function(veIr, veNs) {
        var index = this.vhGt(veIr);
        if (index !== -1) {
            if (veNs.parent !== undefined) {
                veNs.scHr.rgPqK.viLt(veNs, this);
                veNs.parent.removeChild(veNs);
                if (veNs.parent instanceof rfjwh.Group) {
                    veNs.parent.ueHz();
                }
            }
            var reMx = veIr;
            this.thMz(reMx);
            this.rdGt(veNs, index);
            return reMx;
        }
    };
    rfjwh.Group.prototype.ydJs = function(rcGq, key) {
        var qdMy = key.length;
        if (qdMy === 1 && key[0] in rcGq) {
            return true;
        } else if (qdMy === 2 && key[0] in rcGq && key[1] in rcGq[key[0]]) {
            return true;
        } else if (qdMy === 3 && key[0] in rcGq && key[1] in rcGq[key[0]] && key[2] in rcGq[key[0]][key[1]]) {
            return true;
        } else if (qdMy === 4 && key[0] in rcGq && key[1] in rcGq[key[0]] && key[2] in rcGq[key[0]][key[1]] && key[3] in rcGq[key[0]][key[1]][key[2]]) {
            return true;
        }
        return false;
    };
    rfjwh.Group.prototype.setProperty = function(rcGq, key, value, wcHz, raNu) {
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        wcHz = wcHz || 0;
        if (!this.ydJs(rcGq, key) && (!raNu || wcHz > 0)) {
            return false;
        }
        var qdMy = key.length;
        if (qdMy === 1) {
            if (wcHz === 0) {
                rcGq[key[0]] = value;
            } else if (wcHz == 1) {
                rcGq[key[0]] += value;
            } else if (wcHz == 2) {
                rcGq[key[0]] -= value;
            } else if (wcHz == 3) {
                rcGq[key[0]] *= value;
            } else if (wcHz == 4) {
                rcGq[key[0]] /= value;
            }
        } else if (qdMy === 2) {
            if (wcHz === 0) {
                rcGq[key[0]][key[1]] = value;
            } else if (wcHz == 1) {
                rcGq[key[0]][key[1]] += value;
            } else if (wcHz == 2) {
                rcGq[key[0]][key[1]] -= value;
            } else if (wcHz == 3) {
                rcGq[key[0]][key[1]] *= value;
            } else if (wcHz == 4) {
                rcGq[key[0]][key[1]] /= value;
            }
        } else if (qdMy === 3) {
            if (wcHz === 0) {
                rcGq[key[0]][key[1]][key[2]] = value;
            } else if (wcHz == 1) {
                rcGq[key[0]][key[1]][key[2]] += value;
            } else if (wcHz == 2) {
                rcGq[key[0]][key[1]][key[2]] -= value;
            } else if (wcHz == 3) {
                rcGq[key[0]][key[1]][key[2]] *= value;
            } else if (wcHz == 4) {
                rcGq[key[0]][key[1]][key[2]] /= value;
            }
        } else if (qdMy === 4) {
            if (wcHz === 0) {
                rcGq[key[0]][key[1]][key[2]][key[3]] = value;
            } else if (wcHz == 1) {
                rcGq[key[0]][key[1]][key[2]][key[3]] += value;
            } else if (wcHz == 2) {
                rcGq[key[0]][key[1]][key[2]][key[3]] -= value;
            } else if (wcHz == 3) {
                rcGq[key[0]][key[1]][key[2]][key[3]] *= value;
            } else if (wcHz == 4) {
                rcGq[key[0]][key[1]][key[2]][key[3]] /= value;
            }
        }
        return true;
    };
    rfjwh.Group.prototype.rjPzF = function(rcGq, key, value, raNu) {
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        if (!rfjwh.sggx.ydLs(rcGq, key) && raNu) {
            return false;
        }
        if (rfjwh.sggx.ydLs(rcGq, key) !== value) {
            return false;
        }
        return true;
    };
    rfjwh.Group.prototype.set = function(rcGq, key, value, xfOy, zgOt, wcHz, raNu) {
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        key = key.split('.');
        if (typeof xfOy === 'undefined') {
            xfOy = false;
        }
        if (typeof zgOt === 'undefined') {
            zgOt = false;
        }
        if ((xfOy === false || (xfOy && rcGq.rcPt)) && (zgOt === false || (zgOt && rcGq.rfIxE))) {
            return this.setProperty(rcGq, key, value, wcHz, raNu);
        }
    };
    rfjwh.Group.prototype.thGs = function(key, value, xfOy, zgOt, wcHz, raNu) {
        if (typeof xfOy === 'undefined') {
            xfOy = false;
        }
        if (typeof zgOt === 'undefined') {
            zgOt = false;
        }
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        key = key.split('.');
        wcHz = wcHz || 0;
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if ((!xfOy || (xfOy && this.children[i].rcPt)) && (!zgOt || (zgOt && this.children[i].rfIxE))) {
                this.setProperty(this.children[i], key, value, wcHz, raNu);
            }
        }
    };
    rfjwh.Group.prototype.riJsG = function(key, value, xfOy, zgOt, wcHz, raNu) {
        if (typeof xfOy === 'undefined') {
            xfOy = false;
        }
        if (typeof zgOt === 'undefined') {
            zgOt = false;
        }
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        wcHz = wcHz || 0;
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if ((!xfOy || (xfOy && this.children[i].rcPt)) && (!zgOt || (zgOt && this.children[i].rfIxE))) {
                if (this.children[i] instanceof rfjwh.Group) {
                    this.children[i].riJsG(key, value, xfOy, zgOt, wcHz, raNu);
                } else {
                    this.setProperty(this.children[i], key.split('.'), value, wcHz, raNu);
                }
            }
        }
    };
    rfjwh.Group.prototype.vjNu = function(key, value, xfOy, zgOt, raNu) {
        if (typeof xfOy === 'undefined') {
            xfOy = false;
        }
        if (typeof zgOt === 'undefined') {
            zgOt = false;
        }
        if (typeof raNu === 'undefined') {
            raNu = false;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if ((!xfOy || (xfOy && this.children[i].rcPt)) && (!zgOt || (zgOt && this.children[i].rfIxE))) {
                if (!this.rjPzF(this.children[i], key, value, raNu)) {
                    return false;
                }
            }
        }
        return true;
    };
    rfjwh.Group.prototype.seOz = function(vdIx, seMy, xfOy, zgOt) {
        this.thGs(vdIx, seMy, xfOy, zgOt, 1);
    };
    rfjwh.Group.prototype.tgIs = function(vdIx, seMy, xfOy, zgOt) {
        this.thGs(vdIx, seMy, xfOy, zgOt, 2);
    };
    rfjwh.Group.prototype.ycHz = function(vdIx, seMy, xfOy, zgOt) {
        this.thGs(vdIx, seMy, xfOy, zgOt, 3);
    };
    rfjwh.Group.prototype.wgLr = function(vdIx, seMy, xfOy, zgOt) {
        this.thGs(vdIx, seMy, xfOy, zgOt, 4);
    };
    rfjwh.Group.prototype.rjPyB = function(uaGu, yeHu) {
        var rePuH = Array.prototype.splice.call(arguments, 2);
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if (this.children[i].scHu === yeHu && this.children[i][uaGu]) {
                this.children[i][uaGu].apply(this.children[i], rePuH);
            }
        }
    };
    rfjwh.Group.prototype.rhJqH = function(rcGq, uaGu, length) {
        if (length == 1) {
            if (rcGq[uaGu[0]]) {
                return rcGq[uaGu[0]];
            }
        } else if (length == 2) {
            if (rcGq[uaGu[0]][uaGu[1]]) {
                return rcGq[uaGu[0]][uaGu[1]];
            }
        } else if (length == 3) {
            if (rcGq[uaGu[0]][uaGu[1]][uaGu[2]]) {
                return rcGq[uaGu[0]][uaGu[1]][uaGu[2]];
            }
        } else if (length == 4) {
            if (rcGq[uaGu[0]][uaGu[1]][uaGu[2]][uaGu[3]]) {
                return rcGq[uaGu[0]][uaGu[1]][uaGu[2]][uaGu[3]];
            }
        } else {
            if (rcGq[uaGu]) {
                return rcGq[uaGu];
            }
        }
        return false;
    };
    rfjwh.Group.prototype.tdJy = function(tjKr, tcLv) {
        if (typeof tjKr === 'undefined') {
            return;
        }
        tjKr = tjKr.split('.');
        var zeHy = tjKr.length;
        if (typeof tcLv === 'undefined' || tcLv === null || tcLv === '') {
            tcLv = null;
        } else {
            if (typeof tcLv === 'string') {
                tcLv = tcLv.split('.');
                var rjOrB = tcLv.length;
            }
        }
        var rePuH = Array.prototype.splice.call(arguments, 2);
        var uaGu = null;
        var riHrD = null;
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            uaGu = this.rhJqH(this.children[i], tjKr, zeHy);
            if (tcLv && uaGu) {
                riHrD = this.rhJqH(this.children[i], tcLv, rjOrB);
                if (uaGu) {
                    uaGu.apply(riHrD, rePuH);
                }
            } else if (uaGu) {
                uaGu.apply(this.children[i], rePuH);
            }
        }
    };
    rfjwh.Group.prototype.wbJt = function() {
        if (!this.scHu || !this.parent.scHu) {
            this.rjLxB = -1;
            return false;
        }
        var i = this.children.length;
        while (i--) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.Group.prototype.update = function() {
        var i = this.children.length;
        while (i--) {
            this.children[i].update();
        }
    };
    rfjwh.Group.prototype.xaNx = function() {
        if (this.sfIr[7] === 1) {
            this.x = this.rfOyC.sdNw.view.x + this.zgPr.x;
            this.y = this.rfOyC.sdNw.view.y + this.zgPr.y;
        }
        var i = this.children.length;
        while (i--) {
            this.children[i].xaNx();
        }
    };
    rfjwh.Group.prototype.filter = function(wbKy, yfLv) {
        var index = -1,
            length = this.children.length,
            thLx = new rfjwh.wikq();
        while (++index < length) {
            var rcGq = this.children[index];
            if (!yfLv || (yfLv && rcGq.scHu)) {
                if (wbKy(rcGq, index, this.children)) {
                    thLx.add(rcGq);
                }
            }
        }
        return thLx;
    };
    rfjwh.Group.prototype.forEach = function(uaGu, riHrD, yfLv) {
        if (typeof yfLv === 'undefined') {
            yfLv = false;
        }
        var rePuH = Array.prototype.splice.call(arguments, 3);
        rePuH.unshift(null);
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if (!yfLv || (yfLv && this.children[i].scHu)) {
                rePuH[0] = this.children[i];
                uaGu.apply(riHrD, rePuH);
            }
        }
    };
    rfjwh.Group.prototype.rjNrD = function(uaGu, riHrD) {
        var rePuH = Array.prototype.splice.call(arguments, 2);
        rePuH.unshift(null);
        this.ujJx('scHu', true, rfjwh.Group.ZCLW, uaGu, riHrD, rePuH);
    };
    rfjwh.Group.prototype.zfMq = function(uaGu, riHrD) {
        var rePuH = Array.prototype.splice.call(arguments, 2);
        rePuH.unshift(null);
        this.ujJx('alive', true, rfjwh.Group.ZCLW, uaGu, riHrD, rePuH);
    };
    rfjwh.Group.prototype.ydPx = function(uaGu, riHrD) {
        var rePuH = Array.prototype.splice.call(arguments, 2);
        rePuH.unshift(null);
        this.ujJx('alive', false, rfjwh.Group.ZCLW, uaGu, riHrD, rePuH);
    };
    rfjwh.Group.prototype.sort = function(index, order) {
        if (this.children.length < 2) {
            return;
        }
        if (typeof index === 'undefined') {
            index = 'z';
        }
        if (typeof order === 'undefined') {
            order = rfjwh.Group.RIJUA;
        }
        this.rjPqC = index;
        if (order === rfjwh.Group.RIJUA) {
            this.children.sort(this.rgMtK.bind(this));
        } else {
            this.children.sort(this.rgKtK.bind(this));
        }
        this.ueHz();
    };
    rfjwh.Group.prototype.xfGq = function(zjOr, tcLv) {
        if (this.children.length < 2) {
            return;
        }
        this.children.sort(zjOr.bind(tcLv));
        this.ueHz();
    };
    rfjwh.Group.prototype.rgMtK = function(a, b) {
        if (a[this.rjPqC] < b[this.rjPqC]) {
            return -1;
        } else if (a[this.rjPqC] > b[this.rjPqC]) {
            return 1;
        } else {
            if (a.z < b.z) {
                return -1;
            } else {
                return 1;
            }
        }
    };
    rfjwh.Group.prototype.rgKtK = function(a, b) {
        if (a[this.rjPqC] < b[this.rjPqC]) {
            return 1;
        } else if (a[this.rjPqC] > b[this.rjPqC]) {
            return -1;
        } else {
            return 0;
        }
    };
    rfjwh.Group.prototype.ujJx = function(key, value, xaGz, uaGu, riHrD, rePuH) {
        if (xaGz === rfjwh.Group.ZCLW && this.children.length === 0) {
            return 0;
        }
        if (typeof uaGu === 'undefined') {
            uaGu = false;
        }
        var sgJq = 0;
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            if (this.children[i][key] === value) {
                sgJq++;
                if (uaGu) {
                    rePuH[0] = this.children[i];
                    uaGu.apply(riHrD, rePuH);
                }
                if (xaGz === rfjwh.Group.ZCLV) {
                    return this.children[i];
                }
            }
        }
        if (xaGz === rfjwh.Group.ZCLW) {
            return sgJq;
        } else if (xaGz === rfjwh.Group.ZCLV) {
            return null;
        }
    };
    rfjwh.Group.prototype.riLqB = function(shGz) {
        if (typeof shGz !== 'boolean') {
            shGz = true;
        }
        return this.ujJx('scHu', shGz, rfjwh.Group.ZCLV);
    };
    rfjwh.Group.prototype.rjNuH = function() {
        return this.ujJx('alive', true, rfjwh.Group.ZCLV);
    };
    rfjwh.Group.prototype.zfKs = function() {
        return this.ujJx('alive', false, rfjwh.Group.ZCLV);
    };
    rfjwh.Group.prototype.sbIv = function() {
        if (this.children.length > 0) {
            return this.children[this.children.length - 1];
        }
    };
    rfjwh.Group.prototype.wfJw = function() {
        if (this.children.length > 0) {
            return this.children[0];
        }
    };
    rfjwh.Group.prototype.yfGr = function() {
        return this.ujJx('alive', true, rfjwh.Group.ZCLW);
    };
    rfjwh.Group.prototype.whIv = function() {
        return this.ujJx('alive', false, rfjwh.Group.ZCLW);
    };
    rfjwh.Group.prototype.wfIx = function(yiPv, length) {
        if (this.children.length === 0) {
            return null;
        }
        yiPv = yiPv || 0;
        length = length || this.children.length;
        return this.rfOyC.math.wfIx(this.children, yiPv, length);
    };
    rfjwh.Group.prototype.thMz = function(rcGq, tbPr, tgOu) {
        if (typeof tbPr === 'undefined') {
            tbPr = false;
        }
        if (typeof tgOu === 'undefined') {
            tgOu = false;
        }
        if (this.children.length === 0 || this.children.indexOf(rcGq) === -1) {
            return false;
        }
        if (!tgOu && rcGq.scHr && !rcGq.zgHu) {
            rcGq.scHr.rgPqK.viLt(rcGq, this);
        }
        var ugJy = this.removeChild(rcGq);
        this.ueHz();
        if (this.cursor === rcGq) {
            this.rfKvC();
        }
        if (tbPr && ugJy) {
            ugJy.tbPr(true);
        }
        return true;
    };
    rfjwh.Group.prototype.waOu = function(tbPr, tgOu) {
        if (typeof tbPr === 'undefined') {
            tbPr = false;
        }
        if (typeof tgOu === 'undefined') {
            tgOu = false;
        }
        if (this.children.length === 0) {
            return;
        }
        do {
            if (!tgOu && this.children[0].scHr) {
                this.children[0].scHr.rgPqK.viLt(this.children[0], this);
            }
            var ugJy = this.removeChild(this.children[0]);
            if (tbPr && ugJy) {
                ugJy.tbPr(true);
            }
        } while (this.children.length > 0);
        this.cursor = null;
    };
    rfjwh.Group.prototype.rjLxJ = function(yiPv, viIt, tbPr, tgOu) {
        if (typeof viIt === 'undefined') {
            viIt = this.children.length - 1;
        }
        if (typeof tbPr === 'undefined') {
            tbPr = false;
        }
        if (typeof tgOu === 'undefined') {
            tgOu = false;
        }
        if (this.children.length === 0) {
            return;
        }
        if (yiPv > viIt || yiPv < 0 || viIt > this.children.length) {
            return false;
        }
        var i = viIt;
        while (i >= yiPv) {
            if (!tgOu && this.children[i].scHr) {
                this.children[i].scHr.rgPqK.viLt(this.children[i], this);
            }
            var ugJy = this.removeChild(this.children[i]);
            if (tbPr && ugJy) {
                ugJy.tbPr(true);
            }
            if (this.cursor === this.children[i]) {
                this.cursor = null;
            }
            i--;
        }
        this.ueHz();
    };
    rfjwh.Group.prototype.tbPr = function(riHwC, rfGx) {
        if (this.rfOyC === null || this.rjNxD) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        if (typeof rfGx === 'undefined') {
            rfGx = false;
        }
        this.wcIt.viLt(this, riHwC, rfGx);
        this.waOu(riHwC);
        this.cursor = null;
        this.tbGs = null;
        if (!rfGx) {
            if (this.parent) {
                this.parent.removeChild(this);
            }
            this.rfOyC = null;
            this.scHu = false;
        }
    };
    Object.defineProperty(rfjwh.Group.prototype, "sgJq", {
        get: function() {
            return this.ujJx('scHu', true, rfjwh.Group.ZCLW);
        }
    });
    Object.defineProperty(rfjwh.Group.prototype, "length", {
        get: function() {
            return this.children.length;
        }
    });
    Object.defineProperty(rfjwh.Group.prototype, "rcOr", {
        get: function() {
            return rfjwh.Math.vdHy(this.rfIqD);
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(value);
        }
    });
    Object.defineProperty(rfjwh.Group.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    rfjwh.World = function(rfOyC) {
        rfjwh.Group.call(this, rfOyC, null, '__world', false);
        this.sdPv = new rfjwh.wbgy(0, 0, rfOyC.width, rfOyC.height);
        this.sdNw = null;
        this.ziIv = false;
        this.sePv = rfOyC.width;
        this.teNr = rfOyC.height;
    };
    rfjwh.World.prototype = Object.create(rfjwh.Group.prototype);
    rfjwh.World.prototype.constructor = rfjwh.World;
    rfjwh.World.prototype.rjOw = function() {
        this.sdNw = new rfjwh.sdnw(this.rfOyC, 0, 0, 0, this.rfOyC.width, this.rfOyC.height);
        this.sdNw.rjOxC = this;
        this.sdNw.scale = this.scale;
        this.rfOyC.sdNw = this.sdNw;
        this.rfOyC.shGv.ubHt(this);
    };
    rfjwh.World.prototype.waIw = function(x, y, width, height) {
        this.ziIv = true;
        this.sePv = width;
        this.teNr = height;
        this.sdPv.shMy(x, y, width, height);
        if (this.sdNw.sdPv) {
            this.sdNw.sdPv.shMy(x, y, Math.max(width, this.rfOyC.width), Math.max(height, this.rfOyC.height));
        }
        this.rfOyC.reOsH.rhLwC();
    };
    rfjwh.World.prototype.resize = function(width, height) {
        if (this.ziIv) {
            if (width < this.sePv) {
                width = this.sePv;
            }
            if (height < this.teNr) {
                height = this.teNr;
            }
        }
        this.sdPv.width = width;
        this.sdPv.height = height;
        this.rfOyC.sdNw.rhLwC();
        this.rfOyC.reOsH.rhLwC();
    };
    rfjwh.World.prototype.vbMr = function() {
        this.tbPr(true, true);
    };
    rfjwh.World.prototype.rdNv = function(rfIsB, padding, xiJt, xcOr, vaGz) {
        if (typeof padding === 'undefined') {
            padding = 0;
        }
        if (typeof xiJt === 'undefined') {
            xiJt = false;
        }
        if (typeof xcOr === 'undefined') {
            xcOr = true;
        }
        if (typeof vaGz === 'undefined') {
            vaGz = true;
        }
        if (!xiJt) {
            if (xcOr && rfIsB.x + padding < this.sdPv.x) {
                rfIsB.x = this.sdPv.right + padding;
            } else if (xcOr && rfIsB.x - padding > this.sdPv.right) {
                rfIsB.x = this.sdPv.left - padding;
            }
            if (vaGz && rfIsB.y + padding < this.sdPv.top) {
                rfIsB.y = this.sdPv.bottom + padding;
            } else if (vaGz && rfIsB.y - padding > this.sdPv.bottom) {
                rfIsB.y = this.sdPv.top - padding;
            }
        } else {
            rfIsB.wfJx();
            if (xcOr) {
                if ((rfIsB.x + rfIsB.rjJwD.width) < this.sdPv.x) {
                    rfIsB.x = this.sdPv.right;
                } else if (rfIsB.x > this.sdPv.right) {
                    rfIsB.x = this.sdPv.left;
                }
            }
            if (vaGz) {
                if ((rfIsB.y + rfIsB.rjJwD.height) < this.sdPv.top) {
                    rfIsB.y = this.sdPv.bottom;
                } else if (rfIsB.y > this.sdPv.bottom) {
                    rfIsB.y = this.sdPv.top;
                }
            }
        }
    };
    Object.defineProperty(rfjwh.World.prototype, "width", {
        get: function() {
            return this.sdPv.width;
        },
        set: function(value) {
            if (value < this.rfOyC.width) {
                value = this.rfOyC.width;
            }
            this.sdPv.width = value;
            this.sePv = value;
            this.ziIv = true;
        }
    });
    Object.defineProperty(rfjwh.World.prototype, "height", {
        get: function() {
            return this.sdPv.height;
        },
        set: function(value) {
            if (value < this.rfOyC.height) {
                value = this.rfOyC.height;
            }
            this.sdPv.height = value;
            this.teNr = value;
            this.ziIv = true;
        }
    });
    Object.defineProperty(rfjwh.World.prototype, "tdGs", {
        get: function() {
            return this.sdPv.wfGs;
        }
    });
    Object.defineProperty(rfjwh.World.prototype, "tdGt", {
        get: function() {
            return this.sdPv.xdHz;
        }
    });
    Object.defineProperty(rfjwh.World.prototype, "ugLs", {
        get: function() {
            if (this.sdPv.x < 0) {
                return this.rfOyC.qcHr.riLwJ(this.sdPv.x, (this.sdPv.width - Math.abs(this.sdPv.x)));
            } else {
                return this.rfOyC.qcHr.riLwJ(this.sdPv.x, this.sdPv.width);
            }
        }
    });
    Object.defineProperty(rfjwh.World.prototype, "ugLt", {
        get: function() {
            if (this.sdPv.y < 0) {
                return this.rfOyC.qcHr.riLwJ(this.sdPv.y, (this.sdPv.height - Math.abs(this.sdPv.y)));
            } else {
                return this.rfOyC.qcHr.riLwJ(this.sdPv.y, this.sdPv.height);
            }
        }
    });
    rfjwh.vhls = function(uiNy, width, height) {
        this.rfOyC = uiNy.rfOyC;
        this.uiNy = uiNy;
        this.width = width;
        this.height = height;
        this.zhGq = new rfjwh.wbgy(0, 0, width, height);
        this.yfNw = new rfjwh.wbgy(0, 0, width, height);
        this.xgHu = new rfjwh.wbgy(0, 0, width, height);
        this.xgHv = new rfjwh.wbgy(0, 0, width, height);
        this.riKxC = new rfjwh.Point(0, 0);
        this.rjLuJ = new rfjwh.Point(0, 0);
        this.zdGw = new rfjwh.Point(0, 0);
        this.zdGx = new rfjwh.Point(0, 0);
        this.yaJw = new rfjwh.Point(1, 1);
        this.yjOx = new rfjwh.Point(1, 1);
        this.rgPuJ = new rfjwh.Point(1, 1);
        this.waLz = new rfjwh.Point(1, 1);
        this.waKr = new rfjwh.Point(1, 1);
        this.yePy = 0;
        this.zgIq = 0;
        this.rjOtB = 0;
        this.rjOtA = 0;
        this.thOz = width / height;
        this.thNr = height / width;
        this.xbNx = 0;
        this.layers = [];
    };
    rfjwh.vhls.prototype = {
        ufMu: function(width, height) {
            this.width = width;
            this.height = height;
            this.thOz = width / height;
            this.thNr = height / width;
            this.waKr = new rfjwh.Point(1, 1);
            this.xgHv.width = this.width;
            this.xgHv.height = this.height;
            this.ugKx();
        },
        rhJsH: function(width, height, children, xgMq) {
            if (typeof xgMq === 'undefined') {
                xgMq = true;
            }
            this.yePy = width;
            this.zgIq = height;
            this.zhGq.width = width;
            this.zhGq.height = height;
            var layer = new rfjwh.wfoy(this, this.riKxC, this.zhGq, this.yaJw);
            if (xgMq) {
                this.rfOyC.world.add(layer);
            }
            this.layers.push(layer);
            if (typeof children !== 'undefined' && typeof children !== null) {
                layer.ygJq(children);
            }
            return layer;
        },
        rhNwJ: function(children, xgMq) {
            if (typeof xgMq === 'undefined') {
                xgMq = true;
            }
            var layer = new rfjwh.wfoy(this, this.rjLuJ, this.yfNw, this.yjOx);
            if (xgMq) {
                this.rfOyC.world.add(layer);
            }
            this.layers.push(layer);
            if (typeof children !== 'undefined' && typeof children !== null) {
                layer.ygJq(children);
            }
            return layer;
        },
        riHuC: function(children) {
            var layer = new rfjwh.wfoy(this, this.zdGw, this.xgHu, this.yjOx);
            this.rfOyC.world.add(layer);
            this.layers.push(layer);
            if (typeof children !== 'undefined') {
                layer.ygJq(children);
            }
            return layer;
        },
        rhNwK: function(children) {
            var layer = new rfjwh.wfoy(this, this.zdGx, this.xgHv, this.waKr);
            this.rfOyC.world.add(layer);
            this.layers.push(layer);
            if (typeof children !== 'undefined') {
                layer.ygJq(children);
            }
            return layer;
        },
        reset: function() {
            var i = this.layers.length;
            while (i--) {
                if (!this.layers[i].uhIt) {
                    this.layers[i].position = null;
                    this.layers[i].scale = null;
                    this.layers.slice(i, 1);
                }
            }
        },
        onResize: function(width, height) {
            this.ugKx(width, height);
        },
        ugKx: function() {
            this.xbNx = Math.min((this.uiNy.height / this.height), (this.uiNy.width / this.width));
            this.yfNw.width = Math.round(this.width * this.xbNx);
            this.yfNw.height = Math.round(this.height * this.xbNx);
            this.yjOx.set(this.yfNw.width / this.width, this.yfNw.height / this.height);
            this.rgPuJ.set(this.width / this.yfNw.width, this.height / this.yfNw.height);
            this.waLz.set(this.xgHu.width / this.width, this.xgHu.height / this.height);
            this.xgHu.width = this.uiNy.width * this.rgPuJ.x;
            this.xgHu.height = this.uiNy.height * this.rgPuJ.y;
            this.yfNw.vjOw(this.uiNy.sdPv.tdGs, this.uiNy.sdPv.tdGt);
            this.xgHv.vjOw(this.uiNy.sdPv.tdGs, this.uiNy.sdPv.tdGt);
            this.rjLuJ.set(this.yfNw.x, this.yfNw.y);
            this.zdGx.set(this.xgHv.x, this.xgHv.y);
        },
        rbNy: function() {
            this.rfOyC.rbNy.text(this.yfNw.width + ' x ' + this.yfNw.height, this.yfNw.x + 4, this.yfNw.y + 16);
            this.rfOyC.rbNy.riKy(this.yfNw, 'rgba(255,0,0,0.9', false);
        }
    };
    rfjwh.vhls.prototype.constructor = rfjwh.vhls;
    rfjwh.wfoy = function(uiNy, position, sdPv, scale) {
        rfjwh.Group.call(this, uiNy.rfOyC, null, '__flexLayer' + uiNy.rfOyC.qcHr.reIw(), false);
        this.uiNy = uiNy.uiNy;
        this.riIv = uiNy;
        this.uhIt = false;
        this.position = position;
        this.sdPv = sdPv;
        this.scale = scale;
        this.ueKv = sdPv.ueKv;
        this.xiOv = new rfjwh.Point(sdPv.wfGs, 0);
        this.vaLq = sdPv.vaLq;
        this.xgHs = sdPv.xgHs;
        this.zhHx = new rfjwh.Point(sdPv.wfGs, sdPv.bottom);
        this.yfNu = sdPv.yfNu;
    };
    rfjwh.wfoy.prototype = Object.create(rfjwh.Group.prototype);
    rfjwh.wfoy.prototype.constructor = rfjwh.wfoy;
    rfjwh.wfoy.prototype.resize = function() {};
    rfjwh.wfoy.prototype.rbNy = function() {
        this.rfOyC.rbNy.text(this.sdPv.width + ' x ' + this.sdPv.height, this.sdPv.x + 4, this.sdPv.y + 16);
        this.rfOyC.rbNy.riKy(this.sdPv, 'rgba(0,0,255,0.9', false);
        this.rfOyC.rbNy.riKy(this.ueKv, 'rgba(255,255,255,0.9');
        this.rfOyC.rbNy.riKy(this.xiOv, 'rgba(255,255,255,0.9');
        this.rfOyC.rbNy.riKy(this.vaLq, 'rgba(255,255,255,0.9');
    };
    rfjwh.zckw = function(rfOyC, width, height) {
        this.rfOyC = rfOyC;
        this.riIv = null;
        this.width = 0;
        this.height = 0;
        this.minWidth = null;
        this.maxWidth = null;
        this.minHeight = null;
        this.maxHeight = null;
        this.tiOt = new rfjwh.Point();
        this.riMyG = false;
        this.rjNrF = false;
        this.rgMzA = false;
        this.rgKyG = false;
        this.rgNuK = false;
        this.rjMvG = 5;
        this.riMwH = new rfjwh.tgot();
        this.rjOzK = new rfjwh.tgot();
        this.rgHzH = new rfjwh.tgot();
        this.rgGqH = new rfjwh.tgot();
        this.rhMqB = null;
        this.riHyC = new rfjwh.tgot();
        this.riGvH = new rfjwh.tgot();
        this.reNqH = 0;
        if (window['reNqH']) {
            this.reNqH = window['reNqH'];
        } else {
            if (window.outerWidth > window.outerHeight) {
                this.reNqH = 90;
            }
        }
        this.yaJx = new rfjwh.Point(1, 1);
        this.rgNvA = new rfjwh.Point(1, 1);
        this.margin = new rfjwh.Point(0, 0);
        this.sdPv = new rfjwh.wbgy();
        this.ygGs = 0;
        this.rhIzG = 0;
        this.event = null;
        this.rgOyJ = rfjwh.zckw.VEMX;
        this.riKvA = false;
        this.parentNode = null;
        this.rhIvK = new rfjwh.Point(1, 1);
        this.rgNyG = 2000;
        this.onResize = null;
        this.rhPsG = null;
        this.xhHw = rfjwh.zckw.VEMX;
        this.sePv = 0;
        this.teNr = 0;
        this.sfIt = null;
        this.rhOzF = 0;
        this.zaHx = null;
        if (rfOyC.sdHt) {
            this.ybKt(rfOyC.sdHt);
        }
        this.yjKt(width, height);
    };
    rfjwh.zckw.WGHS = 0;
    rfjwh.zckw.VEMX = 1;
    rfjwh.zckw.VBNX = 2;
    rfjwh.zckw.RESIZE = 3;
    rfjwh.zckw.prototype = {
        ybKt: function(sdHt) {
            if (sdHt['waKq']) {
                this.waKq = sdHt['waKq'];
            }
            if (sdHt['fullScreenScaleMode']) {
                this.rgOyJ = sdHt['fullScreenScaleMode'];
            }
            if (sdHt['fullScreenTarget']) {
                this.rhMqB = sdHt['fullScreenTarget'];
            }
        },
        yjKt: function(width, height) {
            var target;
            var rect = new rfjwh.wbgy();
            if (this.rfOyC.parent !== '') {
                if (typeof this.rfOyC.parent === 'string') {
                    target = document.getElementById(this.rfOyC.parent);
                } else if (typeof this.rfOyC.parent === 'object' && this.rfOyC.parent.nodeType === 1) {
                    target = this.rfOyC.parent;
                }
            }
            if (!target) {
                this.parentNode = null;
                this.riKvA = true;
                rect.width = window.innerWidth;
                rect.height = window.innerHeight;
            } else {
                this.parentNode = target;
                this.riKvA = false;
                this.zaHx = this.parentNode.getBoundingClientRect();
                rect.width = this.zaHx.width;
                rect.height = this.zaHx.height;
                this.tiOt.set(this.zaHx.left, this.zaHx.top);
            }
            var veNz = 0;
            var wcLq = 0;
            if (typeof width === 'number') {
                veNz = width;
            } else {
                this.rhIvK.x = parseInt(width, 10) / 100;
                veNz = rect.width * this.rhIvK.x;
            }
            if (typeof height === 'number') {
                wcLq = height;
            } else {
                this.rhIvK.y = parseInt(height, 10) / 100;
                wcLq = rect.height * this.rhIvK.y;
            }
            this.riIv = new rfjwh.vhls(this, veNz, wcLq);
            this.rhKrD(veNz, wcLq, false);
        },
        rjOw: function() {
            this.rhMqB = this.rfOyC.canvas;
            var rdIw = this;
            this.rhKuG = function(event) {
                return rdIw.rhNuE(event);
            };
            this.ziIs = function(event) {
                return rdIw.yfLw(event);
            };
            this.rhKvG = function(event) {
                return rdIw.rhMqC(event);
            };
            window.addEventListener('orientationchange', this.rhKuG, false);
            window.addEventListener('resize', this.ziIs, false);
            if (!this.rfOyC.scLr.vjMy) {
                document.addEventListener('webkitfullscreenchange', this.rhKvG, false);
                document.addEventListener('mozfullscreenchange', this.rhKvG, false);
                document.addEventListener('fullscreenchange', this.rhKvG, false);
            }
            this.rhKrD(this.width, this.height, true);
            rfjwh.Canvas.wfIu(this.rfOyC.canvas, this.tiOt);
            this.sdPv.shMy(this.tiOt.x, this.tiOt.y, this.width, this.height);
        },
        rhIyJ: function(uaGu, tcLv) {
            this.onResize = uaGu;
            this.rhPsG = tcLv;
        },
        waHr: function(minWidth, minHeight, maxWidth, maxHeight) {
            this.minWidth = minWidth;
            this.minHeight = minHeight;
            if (typeof maxWidth !== 'undefined') {
                this.maxWidth = maxWidth;
            }
            if (typeof maxHeight !== 'undefined') {
                this.maxHeight = maxHeight;
            }
        },
        wbJt: function() {
            if (this.rfOyC.time.now < this.rhOzF) {
                return;
            }
            if (!this.riKvA) {
                rfjwh.Canvas.wfIu(this.rfOyC.canvas, this.tiOt);
                if (this.xhHw === rfjwh.zckw.RESIZE) {
                    this.zaHx = this.parentNode.getBoundingClientRect();
                    if (this.zaHx.width !== this.width || this.zaHx.height !== this.height) {
                        this.rhKrD(this.zaHx.width, this.zaHx.height, true);
                    }
                }
            }
            this.rhOzF = this.rfOyC.time.now + this.rgNyG;
        },
        rhKrD: function(width, height, resize) {
            this.width = width * this.rhIvK.x;
            this.height = height * this.rhIvK.y;
            this.rfOyC.width = this.width;
            this.rfOyC.height = this.height;
            this.rhIzG = this.width / this.height;
            this.sdPv.width = this.width;
            this.sdPv.height = this.height;
            if (resize) {
                this.rfOyC.rfGsE.resize(this.width, this.height);
                this.rfOyC.sdNw.ufMu(this.width, this.height);
                this.rfOyC.world.resize(this.width, this.height);
            }
            this.riIv.onResize(width, height);
            if (this.onResize) {
                this.onResize.call(this.rhPsG, this.width, this.height);
            }
            this.rfOyC.shGz.resize(width, height);
        },
        rhMqE: function(riMyG, rjNrF) {
            if (typeof rjNrF === 'undefined') {
                rjNrF = false;
            }
            this.riMyG = riMyG;
            this.rjNrF = rjNrF;
        },
        rgKrC: function() {
            if (this.rgMzA) {
                if ((this.riMyG && window.innerWidth > window.innerHeight) || (this.rjNrF && window.innerHeight > window.innerWidth)) {
                    this.rgMzA = false;
                    this.rgGqH.viLt();
                    if (this.waKq !== rfjwh.zckw.VEMX) {
                        this.ugKx();
                    }
                }
            } else {
                if ((this.riMyG && window.innerWidth < window.innerHeight) || (this.rjNrF && window.innerHeight < window.innerWidth)) {
                    this.rgMzA = true;
                    this.rgHzH.viLt();
                    if (this.waKq !== rfjwh.zckw.VEMX) {
                        this.ugKx();
                    }
                }
            }
        },
        rhNuE: function(event) {
            this.event = event;
            this.reNqH = window['reNqH'];
            if (this.ycOw) {
                this.riMwH.viLt(this.reNqH, true, false);
            } else {
                this.rjOzK.viLt(this.reNqH, false, true);
            }
            if (this.waKq !== rfjwh.zckw.VEMX) {
                this.ugKx();
            }
        },
        yfLw: function(event) {
            this.event = event;
            var zaPr = this.ycOw;
            if (window.outerWidth > window.outerHeight) {
                this.reNqH = 90;
            } else {
                this.reNqH = 0;
            }
            if (zaPr && this.xcKy) {
                this.rjOzK.viLt(this.reNqH, false, true);
                if (this.riMyG) {
                    this.rgHzH.viLt();
                } else if (this.rjNrF) {
                    this.rgGqH.viLt();
                }
            } else if (!zaPr && this.ycOw) {
                this.riMwH.viLt(this.reNqH, true, false);
                if (this.riMyG) {
                    this.rgGqH.viLt();
                } else if (this.rjNrF) {
                    this.rgHzH.viLt();
                }
            }
            if (this.xhHw === rfjwh.zckw.RESIZE && this.riKvA) {
                this.rhKrD(window.innerWidth, window.innerHeight, true);
            } else if (this.xhHw === rfjwh.zckw.WGHS || this.xhHw === rfjwh.zckw.VBNX) {
                this.ugKx();
                if (this.onResize) {
                    this.onResize.call(this.rhPsG, this.width, this.height);
                }
            }
            this.rgKrC();
        },
        ugKx: function() {
            if (this.waKq === rfjwh.zckw.RESIZE) {
                return;
            }
            if (!this.rfOyC.scLr.rhNx && !this.rfOyC.scLr.tfIs && !this.rfOyC.scLr.desktop) {
                if (this.rfOyC.scLr.tdPw && !this.rfOyC.scLr.sdKs) {} else {}
            }
            if (this.sfIt === null && this.rjMvG > 0) {
                this.ygPw = this.rjMvG;
                var rdIw = this;
                this.sfIt = window.setInterval(function() {
                    return rdIw.rjKsK();
                }, 10);
                this.rjKsK();
            }
        },
        rjKsK: function(raNu) {
            if (this.waKq === rfjwh.zckw.RESIZE) {
                return;
            }
            if (typeof raNu === 'undefined') {
                raNu = false;
            }
            if (!this.rfOyC.scLr.rhNx && !this.rfOyC.scLr.tfIs && !this.rfOyC.scLr.desktop) {
                if (this.rfOyC.scLr.tdPw && !this.rfOyC.scLr.sdKs) {} else {}
            }
            this.ygPw--;
            if (raNu || this.ygPw < 0) {
                if (this.rgMzA) {
                    this.yjLt();
                } else if (!this.zeNs) {
                    if (this.waKq === rfjwh.zckw.WGHS) {
                        this.yaHr();
                    } else if (this.waKq === rfjwh.zckw.VBNX) {
                        this.yjLy();
                    }
                } else {
                    if (this.rgOyJ === rfjwh.zckw.WGHS) {
                        this.yaHr();
                    } else if (this.rgOyJ === rfjwh.zckw.VBNX) {
                        this.yjLy();
                    }
                }
                this.ufMu();
                clearInterval(this.sfIt);
                this.sfIt = null;
            }
        },
        ufMu: function() {
            if (!this.rgMzA) {
                if (this.maxWidth && this.width > this.maxWidth) {
                    this.width = this.maxWidth;
                }
                if (this.maxHeight && this.height > this.maxHeight) {
                    this.height = this.maxHeight;
                }
                if (this.minWidth && this.width < this.minWidth) {
                    this.width = this.minWidth;
                }
                if (this.minHeight && this.height < this.minHeight) {
                    this.height = this.minHeight;
                }
            }
            this.rfOyC.canvas.style.width = this.width + 'px';
            this.rfOyC.canvas.style.height = this.height + 'px';
            this.rfOyC.input.scale.shMy(this.rfOyC.width / this.width, this.rfOyC.height / this.height);
            if (this.rgKyG) {
                if (this.width < window.innerWidth && !this.rgMzA) {
                    this.margin.x = Math.round((window.innerWidth - this.width) / 2);
                    this.rfOyC.canvas.style.marginLeft = this.margin.x + 'px';
                } else {
                    this.margin.x = 0;
                    this.rfOyC.canvas.style.marginLeft = '0px';
                }
            }
            if (this.rgNuK) {
                if (this.height < window.innerHeight && !this.rgMzA) {
                    this.margin.y = Math.round((window.innerHeight - this.height) / 2);
                    this.rfOyC.canvas.style.marginTop = this.margin.y + 'px';
                } else {
                    this.margin.y = 0;
                    this.rfOyC.canvas.style.marginTop = '0px';
                }
            }
            rfjwh.Canvas.wfIu(this.rfOyC.canvas, this.tiOt);
            this.sdPv.shMy(this.tiOt.x, this.tiOt.y, this.width, this.height);
            this.ygGs = this.width / this.height;
            this.yaJx.x = this.rfOyC.width / this.width;
            this.yaJx.y = this.rfOyC.height / this.height;
            this.rgNvA.x = this.width / this.rfOyC.width;
            this.rgNvA.y = this.height / this.rfOyC.height;
            this.rgKrC();
        },
        reset: function(xfMs) {
            if (xfMs) {
                this.riIv.reset();
            }
        },
        yjLt: function() {
            this.width = window.innerWidth;
            this.height = window.innerHeight;
        },
        yjLy: function() {
            var xbNx = Math.min((window.innerHeight / this.rfOyC.height), (window.innerWidth / this.rfOyC.width));
            this.width = Math.round(this.rfOyC.width * xbNx);
            this.height = Math.round(this.rfOyC.height * xbNx);
        },
        yaHr: function() {
            var riNwC = window.innerWidth;
            var riIzH = window.innerHeight;
            if (this.maxWidth && riNwC > this.maxWidth) {
                this.width = this.maxWidth;
            } else {
                this.width = riNwC;
            }
            if (this.maxHeight && riIzH > this.maxHeight) {
                this.height = this.maxHeight;
            } else {
                this.height = riIzH;
            }
        },
        rhOrF: function(antialias) {
            if (this.zeNs || !this.rfOyC.scLr.xdLt) {
                return;
            }
            if (typeof antialias !== 'undefined' && this.rfOyC.xaHv === rfjwh.CANVAS) {
                this.rfOyC.shGv.vbLv = antialias;
            }
            this.sePv = this.width;
            this.teNr = this.height;
            if (this.rfOyC.scLr.rhGtA) {
                this.rhMqB[this.rfOyC.scLr.rhIxH](Element.RGMSA);
            } else {
                this.rhMqB[this.rfOyC.scLr.rhIxH]();
            }
        },
        riJwF: function() {
            document[this.rfOyC.scLr.rhNuJ]();
        },
        rhMqC: function(event) {
            this.event = event;
            if (this.zeNs) {
                if (this.rgOyJ === rfjwh.zckw.WGHS) {
                    this.rhMqB.style['width'] = '100%';
                    this.rhMqB.style['height'] = '100%';
                    this.width = window.outerWidth;
                    this.height = window.outerHeight;
                    this.rfOyC.input.scale.shMy(this.rfOyC.width / this.width, this.rfOyC.height / this.height);
                    this.ygGs = this.width / this.height;
                    this.yaJx.x = this.rfOyC.width / this.width;
                    this.yaJx.y = this.rfOyC.height / this.height;
                    this.yfLw();
                } else if (this.rgOyJ === rfjwh.zckw.VBNX) {
                    this.yjLy();
                    this.ugKx();
                }
                this.riHyC.viLt(this.width, this.height);
            } else {
                this.rhMqB.style['width'] = this.rfOyC.width + 'px';
                this.rhMqB.style['height'] = this.rfOyC.height + 'px';
                this.width = this.sePv;
                this.height = this.teNr;
                this.rfOyC.input.scale.shMy(this.rfOyC.width / this.width, this.rfOyC.height / this.height);
                this.ygGs = this.width / this.height;
                this.yaJx.x = this.rfOyC.width / this.width;
                this.yaJx.y = this.rfOyC.height / this.height;
                this.riGvH.viLt(this.width, this.height);
            }
        },
        tbPr: function() {
            window.removeEventListener('orientationchange', this.rhKuG, false);
            window.removeEventListener('resize', this.ziIs, false);
            if (!this.rfOyC.scLr.vjMy) {
                document.removeEventListener('webkitfullscreenchange', this.rhKvG, false);
                document.removeEventListener('mozfullscreenchange', this.rhKvG, false);
                document.removeEventListener('fullscreenchange', this.rhKvG, false);
            }
        }
    };
    rfjwh.zckw.prototype.constructor = rfjwh.zckw;
    Object.defineProperty(rfjwh.zckw.prototype, "waKq", {
        get: function() {
            return this.xhHw;
        },
        set: function(value) {
            if (value !== this.xhHw) {
                this.xhHw = value;
            }
        }
    });
    Object.defineProperty(rfjwh.zckw.prototype, "zeNs", {
        get: function() {
            return (document['fullscreenElement'] || document['mozFullScreenElement'] || document['webkitFullscreenElement']);
        }
    });
    Object.defineProperty(rfjwh.zckw.prototype, "xcKy", {
        get: function() {
            return (this.reNqH === 0 || this.reNqH === 180);
        }
    });
    Object.defineProperty(rfjwh.zckw.prototype, "ycOw", {
        get: function() {
            return (this.reNqH === 90 || this.reNqH === -90);
        }
    });
    rfjwh.rfoyc = function(width, height, rfGsE, parent, shGz, zjGv, antialias, rjLtK) {
        this.id = rfjwh.RAMX.push(this) - 1;
        this.sdHt = null;
        this.rjLtK = rjLtK;
        this.parent = '';
        this.width = 800;
        this.height = 600;
        this.zjGv = false;
        this.antialias = true;
        this.preserveDrawingBuffer = false;
        this.rfGsE = null;
        this.xaHv = rfjwh.QAHQ;
        this.shGz = null;
        this.vgHy = false;
        this.weGx = false;
        this.qcJy = null;
        this.add = null;
        this.rhHy = null;
        this.rcIy = null;
        this.input = null;
        this.load = null;
        this.math = null;
        this.qcOt = null;
        this.scale = null;
        this.rfHvH = null;
        this.shGv = null;
        this.time = null;
        this.tfNw = null;
        this.world = null;
        this.reOsH = null;
        this.qcHr = null;
        this.scLr = null;
        this.sdNw = null;
        this.canvas = null;
        this.tcLv = null;
        this.rbNy = null;
        this.wbNs = null;
        this.vbJz = false;
        this.ybJr = false;
        this.xjLy = 0;
        this.onPause = null;
        this.veHq = null;
        this.onBlur = null;
        this.onFocus = null;
        this.teMx = false;
        this.yhHr = false;
        this.sePv = 800;
        this.teNr = 600;
        if (arguments.length === 1 && typeof arguments[0] === 'object') {
            this.ybKt(arguments[0]);
        } else {
            this.sdHt = {
                yeJz: true
            };
            if (typeof width !== 'undefined') {
                this.sePv = width;
            }
            if (typeof height !== 'undefined') {
                this.teNr = height;
            }
            if (typeof rfGsE !== 'undefined') {
                this.xaHv = rfGsE;
            }
            if (typeof parent !== 'undefined') {
                this.parent = parent;
            }
            if (typeof zjGv !== 'undefined') {
                this.zjGv = zjGv;
            }
            if (typeof antialias !== 'undefined') {
                this.antialias = antialias;
            }
            this.qcHr = new rfjwh.rgnvh([(Date.now() * Math.random()).toString()]);
            this.shGz = new rfjwh.zbns(this, shGz);
        }
        var rdIw = this;
        this.teNz = function() {
            return rdIw.rjOw();
        };
        if (document.readyState === 'complete' || document.readyState === 'ycPy') {
            window.setTimeout(this.teNz, 0);
        } else if (typeof window.tcKr !== "undefined") {
            document.addEventListener('deviceready', this.teNz, false);
        } else {
            document.addEventListener('DOMContentLoaded', this.teNz, false);
            window.addEventListener('load', this.teNz, false);
        }
        return this;
    };
    rfjwh.rfoyc.prototype = {
        ybKt: function(sdHt) {
            this.sdHt = sdHt;
            if (typeof sdHt['enableDebug'] === 'undefined') {
                this.sdHt.yeJz = true;
            }
            if (sdHt['width']) {
                this.sePv = sdHt['width'];
            }
            if (sdHt['height']) {
                this.teNr = sdHt['height'];
            }
            if (sdHt['rfGsE']) {
                this.xaHv = sdHt['rfGsE'];
            }
            if (sdHt['parent']) {
                this.parent = sdHt['parent'];
            }
            if (sdHt['zjGv']) {
                this.zjGv = sdHt['zjGv'];
            }
            if (sdHt['antialias']) {
                this.antialias = sdHt['antialias'];
            }
            if (sdHt['preserveDrawingBuffer']) {
                this.preserveDrawingBuffer = sdHt['preserveDrawingBuffer'];
            }
            if (sdHt['physicsConfig']) {
                this.rjLtK = sdHt['physicsConfig'];
            }
            var rfJu = [(Date.now() * Math.random()).toString()];
            if (sdHt['seed']) {
                rfJu = sdHt['seed'];
            }
            this.qcHr = new rfjwh.rgnvh(rfJu);
            var shGz = null;
            if (sdHt['state']) {
                shGz = sdHt['state'];
            }
            this.shGz = new rfjwh.zbns(this, shGz);
        },
        rjOw: function() {
            if (this.vgHy) {
                return;
            }
            if (!document.body) {
                window.setTimeout(this.teNz, 20);
            } else {
                document.removeEventListener('DOMContentLoaded', this.teNz);
                window.removeEventListener('load', this.teNz);
                this.onPause = new rfjwh.tgot();
                this.veHq = new rfjwh.tgot();
                this.onBlur = new rfjwh.tgot();
                this.onFocus = new rfjwh.tgot();
                this.vgHy = true;
                this.scLr = new rfjwh.sclr(this);
                this.math = rfjwh.Math;
                this.scale = new rfjwh.zckw(this, this.sePv, this.teNr);
                this.shGv = new rfjwh.shgv(this);
                this.rjKsG();
                this.scLr.rgJwH();
                this.world = new rfjwh.World(this);
                this.add = new rfjwh.rhjwe(this);
                this.rhHy = new rfjwh.rhjwf(this);
                this.rcIy = new rfjwh.rciy(this);
                this.load = new rfjwh.rfkse(this);
                this.time = new rfjwh.Time(this);
                this.tfNw = new rfjwh.zbir(this);
                this.input = new rfjwh.Input(this);
                this.rfHvH = new rfjwh.zbpy(this);
                this.reOsH = new rfjwh.reosh(this, this.rjLtK);
                this.wbNs = new rfjwh.wbns(this);
                this.uhHs = new rfjwh.rjlte(this);
                this.qcOt = new rfjwh.qcot(this);
                this.time.rjOw();
                this.shGv.rjOw();
                this.world.rjOw();
                this.scale.rjOw();
                this.input.rjOw();
                this.rfHvH.rjOw();
                this.shGz.rjOw();
                if (this.sdHt['enableDebug']) {
                    this.rbNy = new rfjwh.sggx.rbny(this);
                    this.rbNy.rjOw();
                }
                this.rhOqJ();
                this.weGx = true;
                if (this.sdHt && this.sdHt['forceSetTimeOut']) {
                    this.qcJy = new rfjwh.RequestAnimationFrame(this, this.sdHt['forceSetTimeOut']);
                } else {
                    this.qcJy = new rfjwh.RequestAnimationFrame(this, false);
                }
                this.qcJy.rfIsA();
            }
        },
        rhOqJ: function() {
            var v = rfjwh.RENRE;
            var r = 'Canvas';
            var a = 'HTML Audio';
            var c = 1;
            if (this.xaHv === rfjwh.WEBGL) {
                r = 'WebGL';
                c++;
            } else if (this.xaHv == rfjwh.VGNU) {
                r = 'Headless';
            }
            if (this.scLr.wjOu) {
                a = 'WebAudio';
                c++;
            }
            if (this.scLr.sdKs) {
                var rePuH = ['%c %c %c rfjwh v' + v + ' | Game.js ' + RGGW.RENRE + ' | ' + r + ' | ' + a + '  %c %c ' + ' http://rfJwH.io  %c %c \u2665%c\u2665%c\u2665 ', 'background: #7a66a3', 'background: #625186', 'color: #ffffff; background: #43375b;', 'background: #625186', 'background: #ccb9f2', 'background: #625186'];
                for (var i = 0; i < 3; i++) {
                    if (i < c) {
                        rePuH.push('color: #ff2424; background: #fff');
                    } else {
                        rePuH.push('color: #959595; background: #fff');
                    }
                }
                console.log.apply(console, rePuH);
            } else if (window['console']) {
                console.log('Mygame | Game.js ' + ' | ' + r + ' | ' + a + '');
            }
        },
        rjKsG: function() {
            if (this.sdHt['canvasID']) {
                this.canvas = rfjwh.Canvas.create(this.width, this.height, this.sdHt['canvasID']);
            } else {
                this.canvas = rfjwh.Canvas.create(this.width, this.height);
            }
            if (this.sdHt['canvasStyle']) {
                this.canvas.style = this.sdHt['canvasStyle'];
            } else {
                this.canvas.style['-webkit-full-screen'] = 'width: 100%; height: 100%';
            }
            if (this.scLr.vjMy) {
                if (this.xaHv === rfjwh.CANVAS) {
                    this.canvas.zcJu = true;
                } else {
                    this.canvas.zcJu = false;
                }
            }
            if (this.xaHv === rfjwh.VGNU || this.xaHv === rfjwh.CANVAS || (this.xaHv === rfjwh.QAHQ && this.scLr.webGL === false)) {
                if (this.scLr.canvas) {
                    if (this.xaHv === rfjwh.QAHQ) {
                        this.xaHv = rfjwh.CANVAS;
                    }
                    this.rfGsE = new RGGW.rinze(this.width, this.height, {
                        "view": this.canvas,
                        "zjGv": this.zjGv,
                        "resolution": 1,
                        "clearBeforeRender": true
                    });
                    this.tcLv = this.rfGsE.tcLv;
                } else {
                    throw new Error('rfjwh.rfoyc - cannot create Canvas or WebGL context, aborting.');
                }
            } else {
                this.xaHv = rfjwh.WEBGL;
                this.rfGsE = new RGGW.rjjtf(this.width, this.height, {
                    "view": this.canvas,
                    "zjGv": this.zjGv,
                    "resolution": 1,
                    "antialias": this.antialias,
                    "preserveDrawingBuffer": this.preserveDrawingBuffer
                });
                this.tcLv = null;
            }
            if (this.xaHv !== rfjwh.VGNU) {
                this.shGv.vbLv = this.antialias;
                rfjwh.Canvas.ubGw(this.canvas, this.parent, false);
                rfjwh.Canvas.riJtD(this.canvas);
            }
        },
        update: function(time) {
            this.time.update(time);
            if (!this.teMx && !this.ybJr) {
                if (this.vbJz) {
                    this.ybJr = true;
                }
                this.scale.wbJt();
                if (this.sdHt['enableDebug']) {
                    this.rbNy.wbJt();
                }
                this.reOsH.wbJt();
                this.shGz.wbJt();
                this.uhHs.wbJt();
                this.shGv.wbJt();
                this.shGz.update();
                this.shGv.update();
                this.tfNw.update();
                this.rfHvH.update();
                this.input.update();
                this.reOsH.update();
                this.wbNs.update();
                this.uhHs.update();
                this.shGv.xaNx();
                this.uhHs.xaNx();
            } else {
                this.shGz.ybKy();
                if (this.sdHt['enableDebug']) {
                    this.rbNy.wbJt();
                }
            }
            if (this.xaHv != rfjwh.VGNU) {
                this.shGz.wbJs();
                this.rfGsE.render(this.shGv);
                this.uhHs.render();
                this.shGz.render();
                this.uhHs.xaNw();
                if (this.scLr.vjMy && this.xaHv === rfjwh.CANVAS && this.shGv.rgMvB === 1) {
                    this.tcLv.fillRect(0, 0, 0, 0);
                }
            }
        },
        xeJs: function() {
            this.vbJz = true;
            this.ybJr = false;
            this.xjLy = 0;
        },
        yeLx: function() {
            this.vbJz = false;
            this.ybJr = false;
        },
        reOx: function() {
            this.ybJr = false;
            this.xjLy++;
        },
        tbPr: function() {
            this.qcJy.stop();
            this.shGz.tbPr();
            this.rfHvH.tbPr();
            this.scale.tbPr();
            this.shGv.tbPr();
            this.input.tbPr();
            this.reOsH.tbPr();
            this.shGz = null;
            this.rcIy = null;
            this.input = null;
            this.load = null;
            this.rfHvH = null;
            this.shGv = null;
            this.time = null;
            this.world = null;
            this.vgHy = false;
            rfjwh.Canvas.rjLxG(this.canvas);
        },
        xdKq: function(event) {
            if (!this.teMx) {
                this.teMx = true;
                this.time.xdKq();
                this.rfHvH.ufMt();
                this.onPause.viLt(event);
            }
        },
        ydNq: function(event) {
            if (this.teMx && !this.yhHr) {
                this.teMx = false;
                this.time.ydNq();
                this.input.reset();
                this.rfHvH.xiKw();
                this.veHq.viLt(event);
            }
        },
        wfNs: function(event) {
            this.onBlur.viLt(event);
            if (!this.shGv.rgIxG) {
                this.xdKq(event);
            }
        },
        wfNr: function(event) {
            this.onFocus.viLt(event);
            if (!this.shGv.rgIxG) {
                this.ydNq(event);
            }
        }
    };
    rfjwh.rfoyc.prototype.constructor = rfjwh.rfoyc;
    Object.defineProperty(rfjwh.rfoyc.prototype, "paused", {
        get: function() {
            return this.teMx;
        },
        set: function(value) {
            if (value === true) {
                if (this.teMx === false) {
                    this.teMx = true;
                    this.rfHvH.ufMt();
                    this.time.xdKq();
                    this.onPause.viLt(this);
                }
                this.yhHr = true;
            } else {
                if (this.teMx) {
                    this.teMx = false;
                    this.input.reset();
                    this.rfHvH.xiKw();
                    this.time.ydNq();
                    this.veHq.viLt(this);
                }
                this.yhHr = false;
            }
        }
    });
    rfjwh.Input = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.weOr = null;
        this.xcPy = null;
        this.rjMwD = [];
        this.zdOu = null;
        this.rgNsK = this;
        this.vdLs = 0;
        this.viMz = false;
        this.rhGyE = rfjwh.Input.RGNRA;
        this.position = null;
        this.shHz = null;
        this.sdKu = null;
        this.scale = null;
        this.ycJw = 10;
        this.riHvD = 0;
        this.ueNv = 200;
        this.rjOyH = 300;
        this.vgMq = 2000;
        this.riGuA = 200;
        this.rhMvC = 200;
        this.rgLtA = false;
        this.xaJs = 100;
        this.yaNq = 100;
        this.vdNy = null;
        this.vdNz = null;
        this.vdMq = null;
        this.vdMr = null;
        this.vdMs = null;
        this.vdMt = null;
        this.vdMu = null;
        this.vdMv = null;
        this.vdMw = null;
        this.wbLs = null;
        this.rjPuK = null;
        this.zdOt = null;
        this.sjGy = null;
        this.vfOu = null;
        this.sgJr = null;
        this.wcNw = null;
        this.taMx = null;
        this.yaLt = false;
        this.tiOx = null;
        this.rgJt = null;
        this.siLq = null;
        this.tiNr = null;
        this.rjMwJ = 0;
        this.rhMuD = new rfjwh.wikq();
        this.ygOr = new rfjwh.Point();
        this.zhPz = 0;
        this.ziGx = null;
        this.qjPx = 0;
        this.qjPy = 0;
    };
    rfjwh.Input.RGKWA = 0;
    rfjwh.Input.RGJSK = 1;
    rfjwh.Input.RGNRA = 2;
    rfjwh.Input.prototype = {
        rjOw: function() {
            this.zdOt = new rfjwh.uhht(this.rfOyC, 0);
            this.vdNy = new rfjwh.uhht(this.rfOyC, 1);
            this.vdNz = new rfjwh.uhht(this.rfOyC, 2);
            this.sjGy = new rfjwh.sjgy(this.rfOyC);
            this.vfOu = new rfjwh.vfou(this.rfOyC);
            this.sgJr = new rfjwh.sgjr(this.rfOyC);
            this.wcNw = new rfjwh.wcnw(this.rfOyC);
            this.taMx = new rfjwh.tamx(this.rfOyC);
            this.tiOx = new rfjwh.tgot();
            this.rgJt = new rfjwh.tgot();
            this.siLq = new rfjwh.tgot();
            this.tiNr = new rfjwh.tgot();
            this.scale = new rfjwh.Point(1, 1);
            this.shHz = new rfjwh.Point();
            this.position = new rfjwh.Point();
            this.ziGx = new rfjwh.Point();
            this.sdKu = new rfjwh.sdku(0, 0, 44);
            this.rjPuK = this.zdOt;
            this.riHvD = 0;
            this.weOr = document.createElement('canvas');
            this.weOr.width = 1;
            this.weOr.height = 1;
            this.xcPy = this.weOr.getContext('2d');
            this.sjGy.rfIsA();
            this.vfOu.rfIsA();
            this.sgJr.rfIsA();
            this.wcNw.rfIsA();
            this.zdOt.seOx = true;
        },
        tbPr: function() {
            this.sjGy.stop();
            this.vfOu.stop();
            this.sgJr.stop();
            this.wcNw.stop();
            this.taMx.stop();
            this.rjMwD = [];
        },
        riIxH: function(uaGu, tcLv) {
            return this.rjMwD.push({
                uaGu: uaGu,
                tcLv: tcLv
            }) - 1;
        },
        rhGrC: function(index) {
            if (this.rjMwD[index]) {
                this.rjMwD.splice(index, 1);
            }
        },
        xgNw: function() {
            var rfKvC = 0;
            for (var i = 10; i > 0; i--) {
                if (this['pointer' + i] === null) {
                    rfKvC = i;
                }
            }
            if (rfKvC === 0) {
                console.warn("You can only have 10 Pointer objects");
                return null;
            } else {
                this['pointer' + rfKvC] = new rfjwh.uhht(this.rfOyC, rfKvC);
                return this['pointer' + rfKvC];
            }
        },
        update: function() {
            this.vfOu.update();
            if (this.vdLs > 0 && this.zhPz < this.vdLs) {
                this.zhPz++;
                return;
            }
            this.shHz.x = this.position.x - this.ziGx.x;
            this.shHz.y = this.position.y - this.ziGx.y;
            this.ziGx.vjIw(this.position);
            this.zdOt.update();
            if (this.taMx.seOx) {
                this.taMx.update();
            }
            this.vdNy.update();
            this.vdNz.update();
            if (this.vdMq) {
                this.vdMq.update();
            }
            if (this.vdMr) {
                this.vdMr.update();
            }
            if (this.vdMs) {
                this.vdMs.update();
            }
            if (this.vdMt) {
                this.vdMt.update();
            }
            if (this.vdMu) {
                this.vdMu.update();
            }
            if (this.vdMv) {
                this.vdMv.update();
            }
            if (this.vdMw) {
                this.vdMw.update();
            }
            if (this.wbLs) {
                this.wbLs.update();
            }
            this.zhPz = 0;
        },
        reset: function(riHu) {
            if (!this.rfOyC.vgHy || this.yaLt) {
                return;
            }
            if (typeof riHu === 'undefined') {
                riHu = false;
            }
            this.vfOu.reset(riHu);
            this.zdOt.reset();
            this.taMx.reset();
            for (var i = 1; i <= 10; i++) {
                if (this['pointer' + i]) {
                    this['pointer' + i].reset();
                }
            }
            this.riHvD = 0;
            if (this.rfOyC.canvas.style.cursor !== 'none') {
                this.rfOyC.canvas.style.cursor = 'inherit';
            }
            if (riHu) {
                this.tiOx.tbOw();
                this.rgJt.tbOw();
                this.siLq.tbOw();
                this.tiNr.tbOw();
                this.tiOx = new rfjwh.tgot();
                this.rgJt = new rfjwh.tgot();
                this.siLq = new rfjwh.tgot();
                this.tiNr = new rfjwh.tgot();
                this.rjMwD = [];
            }
            this.zhPz = 0;
        },
        xaGt: function(x, y) {
            this.ziGx.shMy(x, y);
            this.shHz.shMy(0, 0);
        },
        zbOz: function(event) {
            if (this.ycJw < 10 && this.rgNyK == this.ycJw) {
                return null;
            }
            if (this.vdNy.seOx === false) {
                return this.vdNy.rfIsA(event);
            } else if (this.vdNz.seOx === false) {
                return this.vdNz.rfIsA(event);
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].seOx === false) {
                        return this['pointer' + i].rfIsA(event);
                    }
                }
            }
            return null;
        },
        rjJqA: function(event) {
            if (this.vdNy.seOx && this.vdNy.xcOu == event.xcOu) {
                return this.vdNy.rfHwK(event);
            } else if (this.vdNz.seOx && this.vdNz.xcOu == event.xcOu) {
                return this.vdNz.rfHwK(event);
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].seOx && this['pointer' + i].xcOu == event.xcOu) {
                        return this['pointer' + i].rfHwK(event);
                    }
                }
            }
            return null;
        },
        zjMu: function(event) {
            if (this.vdNy.seOx && this.vdNy.xcOu == event.xcOu) {
                return this.vdNy.stop(event);
            } else if (this.vdNz.seOx && this.vdNz.xcOu == event.xcOu) {
                return this.vdNz.stop(event);
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].seOx && this['pointer' + i].xcOu == event.xcOu) {
                        return this['pointer' + i].stop(event);
                    }
                }
            }
            return null;
        },
        xdIt: function(shGz) {
            shGz = shGz || false;
            if (this.vdNy.seOx == shGz) {
                return this.vdNy;
            } else if (this.vdNz.seOx == shGz) {
                return this.vdNz;
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].seOx == shGz) {
                        return this['pointer' + i];
                    }
                }
            }
            return null;
        },
        rgHuH: function(xcOu) {
            if (this.vdNy.xcOu === xcOu) {
                return this.vdNy;
            } else if (this.vdNz.xcOu === xcOu) {
                return this.vdNz;
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].xcOu === xcOu) {
                        return this['pointer' + i];
                    }
                }
            }
            return null;
        },
        rhMsE: function(wbLt) {
            if (this.vdNy.wbLt === wbLt) {
                return this.vdNy;
            } else if (this.vdNz.wbLt === wbLt) {
                return this.vdNz;
            } else {
                for (var i = 3; i <= 10; i++) {
                    if (this['pointer' + i] && this['pointer' + i].wbLt === wbLt) {
                        return this['pointer' + i];
                    }
                }
            }
            return null;
        },
        rhMrA: function(rjOxC, uhHt, tiMy) {
            if (typeof tiMy === 'undefined') {
                tiMy = new rfjwh.Point();
            }
            var qgMq = rjOxC.riIrK;
            var id = 1 / (qgMq.a * qgMq.d + qgMq.c * -qgMq.b);
            return tiMy.shMy(qgMq.d * id * uhHt.x + -qgMq.c * id * uhHt.y + (qgMq.qhHy * qgMq.c - qgMq.qhHx * qgMq.d) * id, qgMq.a * id * uhHt.y + -qgMq.b * id * uhHt.x + (-qgMq.qhHy * qgMq.a + qgMq.qhHx * qgMq.b) * id);
        },
        taGw: function(rjOxC, uhHt, xcGw) {
            if (!rjOxC.zaOw) {
                return false;
            }
            this.rhMrA(rjOxC, uhHt, this.ygOr);
            xcGw.vjIw(this.ygOr);
            if (rjOxC.taGv && rjOxC.taGv.contains) {
                return (rjOxC.taGv.contains(this.ygOr.x, this.ygOr.y));
            } else if (rjOxC instanceof RGGW.rfisb) {
                var width = rjOxC.ueMt.frame.width;
                var height = rjOxC.ueMt.frame.height;
                var qgMv = -width * rjOxC.anchor.x;
                if (this.ygOr.x >= qgMv && this.ygOr.x < qgMv + width) {
                    var qgKt = -height * rjOxC.anchor.y;
                    if (this.ygOr.y >= qgKt && this.ygOr.y < qgKt + height) {
                        return true;
                    }
                }
            } else if (rjOxC instanceof rfjwh.yiju) {
                var width = rjOxC.width;
                var height = rjOxC.height;
                var qgMv = -width * rjOxC.anchor.x;
                if (this.ygOr.x >= qgMv && this.ygOr.x < qgMv + width) {
                    var qgKt = -height * rjOxC.anchor.y;
                    if (this.ygOr.y >= qgKt && this.ygOr.y < qgKt + height) {
                        return true;
                    }
                }
            } else if (rjOxC instanceof rfjwh.vgos) {
                for (var i = 0; i < rjOxC.zfHt.length; i++) {
                    var data = rjOxC.zfHt[i];
                    if (!data.fill) {
                        continue;
                    }
                    if (data.shLv && data.shLv.contains(this.ygOr.x, this.ygOr.y)) {
                        return true;
                    }
                }
            }
            for (var i = 0, qdMy = rjOxC.children.length; i < qdMy; i++) {
                if (this.taGw(rjOxC.children[i], uhHt, xcGw)) {
                    return true;
                }
            }
            return false;
        }
    };
    rfjwh.Input.prototype.constructor = rfjwh.Input;
    Object.defineProperty(rfjwh.Input.prototype, "x", {
        get: function() {
            return this.qjPx;
        },
        set: function(value) {
            this.qjPx = Math.floor(value);
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "y", {
        get: function() {
            return this.qjPy;
        },
        set: function(value) {
            this.qjPy = Math.floor(value);
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "xaOx", {
        get: function() {
            return (this.vdLs > 0 && this.zhPz < this.vdLs);
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "rgJrA", {
        get: function() {
            return 10 - this.riHvD;
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "rgNyK", {
        get: function() {
            this.riHvD = 0;
            for (var i = 1; i <= 10; i++) {
                if (this['pointer' + i] && this['pointer' + i].seOx) {
                    this.riHvD++;
                }
            }
            return this.riHvD;
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "tfHu", {
        get: function() {
            return this.rfOyC.sdNw.view.x + this.x;
        }
    });
    Object.defineProperty(rfjwh.Input.prototype, "tfHv", {
        get: function() {
            return this.rfOyC.sdNw.view.y + this.y;
        }
    });
    rfjwh.Key = function(rfOyC, keycode) {
        this.rfOyC = rfOyC;
        this.tbMy = true;
        this.event = null;
        this.saLy = false;
        this.rhMs = true;
        this.altKey = false;
        this.ctrlKey = false;
        this.shiftKey = false;
        this.vaNu = 0;
        this.duration = 0;
        this.tfPx = -2500;
        this.ugIt = 0;
        this.keyCode = keycode;
        this.tiOx = new rfjwh.tgot();
        this.riKuJ = null;
        this.rjMzB = null;
        this.rgJt = new rfjwh.tgot();
    };
    rfjwh.Key.prototype = {
        update: function() {
            if (!this.tbMy) {
                return;
            }
            if (this.saLy) {
                this.duration = this.rfOyC.time.now - this.vaNu;
                this.ugIt++;
                if (this.riKuJ) {
                    this.riKuJ.call(this.rjMzB, this);
                }
            }
        },
        riKyF: function(event) {
            if (!this.tbMy) {
                return;
            }
            this.event = event;
            if (this.saLy) {
                return;
            }
            this.altKey = event.altKey;
            this.ctrlKey = event.ctrlKey;
            this.shiftKey = event.shiftKey;
            this.saLy = true;
            this.rhMs = false;
            this.vaNu = this.rfOyC.time.now;
            this.duration = 0;
            this.ugIt = 0;
            this.tiOx.viLt(this);
        },
        zcPw: function(event) {
            if (!this.tbMy) {
                return;
            }
            this.event = event;
            if (this.rhMs) {
                return;
            }
            this.saLy = false;
            this.rhMs = true;
            this.tfPx = this.rfOyC.time.now;
            this.duration = this.rfOyC.time.now - this.vaNu;
            this.rgJt.viLt(this);
        },
        reset: function(riHu) {
            if (typeof riHu === 'undefined') {
                riHu = true;
            }
            this.saLy = false;
            this.rhMs = true;
            this.tfPx = this.rfOyC.time.now;
            this.duration = 0;
            this.tbMy = true;
            if (riHu) {
                this.tiOx.waOu();
                this.rgJt.waOu();
                this.riKuJ = null;
                this.rjMzB = null;
            }
        },
        ycNu: function(duration) {
            if (typeof duration === "undefined") {
                duration = 50;
            }
            return (this.saLy && this.duration < duration);
        },
        zeMq: function(duration) {
            if (typeof duration === "undefined") {
                duration = 50;
            }
            return (!this.saLy && ((this.rfOyC.time.now - this.tfPx) < duration));
        }
    };
    rfjwh.Key.prototype.constructor = rfjwh.Key;
    rfjwh.vfou = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.viMz = false;
        this.event = null;
        this.xaMu = null;
        this.riHrD = this;
        this.riKtB = null;
        this.rhPsH = null;
        this.zdJr = null;
        this.rdJt = [];
        this.ubNt = [];
        this.xhIv = null;
        this.ygOv = null;
        this.ubKt = null;
        this.qjPt = 0;
        this.qjPu = 0;
    };
    rfjwh.vfou.prototype = {
        zhLq: function(tcLv, tiOx, rgJt, uhMx) {
            this.riHrD = tcLv;
            if (typeof tiOx !== 'undefined') {
                this.riKtB = tiOx;
            }
            if (typeof rgJt !== 'undefined') {
                this.zdJr = rgJt;
            }
            if (typeof uhMx !== 'undefined') {
                this.rhPsH = uhMx;
            }
        },
        seNs: function(keycode) {
            if (!this.rdJt[keycode]) {
                this.rdJt[keycode] = new rfjwh.Key(this.rfOyC, keycode);
                this.rjPuE(keycode);
            }
            return this.rdJt[keycode];
        },
        waOv: function(keycode) {
            if (this.rdJt[keycode]) {
                this.rdJt[keycode] = null;
                this.rhLwK(keycode);
            }
        },
        rhNvA: function() {
            return {
                up: this.seNs(rfjwh.vfou.UP),
                rfHwC: this.seNs(rfjwh.vfou.RFHWC),
                left: this.seNs(rfjwh.vfou.LEFT),
                right: this.seNs(rfjwh.vfou.RIGHT)
            };
        },
        rfIsA: function() {
            if (this.rfOyC.scLr.vjMy) {
                return;
            }
            if (this.xhIv !== null) {
                return;
            }
            var rdIw = this;
            this.xhIv = function(event) {
                return rdIw.riKyF(event);
            };
            this.ubKt = function(event) {
                return rdIw.zcPw(event);
            };
            this.ygOv = function(event) {
                return rdIw.rhPvB(event);
            };
            window.addEventListener('keydown', this.xhIv, false);
            window.addEventListener('keyup', this.ubKt, false);
            window.addEventListener('keypress', this.ygOv, false);
        },
        stop: function() {
            window.removeEventListener('keydown', this.xhIv);
            window.removeEventListener('keyup', this.ubKt);
            window.removeEventListener('keypress', this.ygOv);
            this.xhIv = null;
            this.ubKt = null;
            this.ygOv = null;
        },
        tbPr: function() {
            this.stop();
            this.rjOqJ();
            this.rdJt.length = 0;
            this.qjPt = 0;
        },
        rjPuE: function(keycode) {
            if (typeof keycode === 'object') {
                for (var key in keycode) {
                    this.ubNt[keycode[key]] = true;
                }
            } else {
                this.ubNt[keycode] = true;
            }
        },
        rhLwK: function(keycode) {
            delete this.ubNt[keycode];
        },
        rjOqJ: function() {
            this.ubNt = {};
        },
        update: function() {
            this.qjPt = this.rdJt.length;
            while (this.qjPt--) {
                if (this.rdJt[this.qjPt]) {
                    this.rdJt[this.qjPt].update();
                }
            }
        },
        riKyF: function(event) {
            this.event = event;
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.ubNt[event.keyCode]) {
                event.preventDefault();
            }
            if (!this.rdJt[event.keyCode]) {
                this.rdJt[event.keyCode] = new rfjwh.Key(this.rfOyC, event.keyCode);
            }
            this.rdJt[event.keyCode].riKyF(event);
            this.qjPu = event.keyCode;
            if (this.riKtB) {
                this.riKtB.call(this.riHrD, event);
            }
        },
        rhPvB: function(event) {
            this.xaMu = event;
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.rhPsH) {
                this.rhPsH.call(this.riHrD, String.fromCharCode(event.charCode), event);
            }
        },
        zcPw: function(event) {
            this.event = event;
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.ubNt[event.keyCode]) {
                event.preventDefault();
            }
            if (!this.rdJt[event.keyCode]) {
                this.rdJt[event.keyCode] = new rfjwh.Key(this.rfOyC, event.keyCode);
            }
            this.rdJt[event.keyCode].zcPw(event);
            if (this.zdJr) {
                this.zdJr.call(this.riHrD, event);
            }
        },
        reset: function(riHu) {
            if (typeof riHu === 'undefined') {
                riHu = true;
            }
            this.event = null;
            var i = this.rdJt.length;
            while (i--) {
                if (this.rdJt[i]) {
                    this.rdJt[i].reset(riHu);
                }
            }
        },
        ycNu: function(keycode, duration) {
            if (typeof duration === 'undefined') {
                duration = 50;
            }
            if (this.rdJt[keycode]) {
                return this.rdJt[keycode].ycNu(duration);
            } else {
                return false;
            }
        },
        zeMq: function(keycode, duration) {
            if (typeof duration === 'undefined') {
                duration = 50;
            }
            if (this.rdJt[keycode]) {
                return this.rdJt[keycode].zeMq(duration);
            } else {
                return false;
            }
        },
        saLy: function(keycode) {
            if (this.rdJt[keycode]) {
                return this.rdJt[keycode].saLy;
            }
            return false;
        }
    };
    Object.defineProperty(rfjwh.vfou.prototype, "vfNu", {
        get: function() {
            if (this.event.charCode === 32) {
                return '';
            } else {
                return String.fromCharCode(this.xaMu.charCode);
            }
        }
    });
    Object.defineProperty(rfjwh.vfou.prototype, "ujGr", {
        get: function() {
            return this.rdJt[this.qjPu];
        }
    });
    rfjwh.vfou.prototype.constructor = rfjwh.vfou;
    rfjwh.vfou.A = "A".charCodeAt(0);
    rfjwh.vfou.B = "B".charCodeAt(0);
    rfjwh.vfou.C = "C".charCodeAt(0);
    rfjwh.vfou.D = "D".charCodeAt(0);
    rfjwh.vfou.E = "E".charCodeAt(0);
    rfjwh.vfou.F = "F".charCodeAt(0);
    rfjwh.vfou.G = "G".charCodeAt(0);
    rfjwh.vfou.H = "H".charCodeAt(0);
    rfjwh.vfou.I = "I".charCodeAt(0);
    rfjwh.vfou.J = "J".charCodeAt(0);
    rfjwh.vfou.K = "K".charCodeAt(0);
    rfjwh.vfou.L = "L".charCodeAt(0);
    rfjwh.vfou.M = "M".charCodeAt(0);
    rfjwh.vfou.N = "N".charCodeAt(0);
    rfjwh.vfou.O = "O".charCodeAt(0);
    rfjwh.vfou.P = "P".charCodeAt(0);
    rfjwh.vfou.Q = "Q".charCodeAt(0);
    rfjwh.vfou.R = "R".charCodeAt(0);
    rfjwh.vfou.S = "S".charCodeAt(0);
    rfjwh.vfou.T = "T".charCodeAt(0);
    rfjwh.vfou.U = "U".charCodeAt(0);
    rfjwh.vfou.V = "V".charCodeAt(0);
    rfjwh.vfou.W = "W".charCodeAt(0);
    rfjwh.vfou.X = "X".charCodeAt(0);
    rfjwh.vfou.Y = "Y".charCodeAt(0);
    rfjwh.vfou.Z = "Z".charCodeAt(0);
    rfjwh.vfou.RDMW = "0".charCodeAt(0);
    rfjwh.vfou.RFKYK = "1".charCodeAt(0);
    rfjwh.vfou.RFIVF = "2".charCodeAt(0);
    rfjwh.vfou.RFITE = "3".charCodeAt(0);
    rfjwh.vfou.RILV = "4".charCodeAt(0);
    rfjwh.vfou.RIMW = "5".charCodeAt(0);
    rfjwh.vfou.QBPY = "6".charCodeAt(0);
    rfjwh.vfou.SHLS = "7".charCodeAt(0);
    rfjwh.vfou.RBIQ = "8".charCodeAt(0);
    rfjwh.vfou.RGLV = "9".charCodeAt(0);
    rfjwh.vfou.VEKQ = 96;
    rfjwh.vfou.VEKR = 97;
    rfjwh.vfou.VEKS = 98;
    rfjwh.vfou.VEKT = 99;
    rfjwh.vfou.VEKU = 100;
    rfjwh.vfou.VEKV = 101;
    rfjwh.vfou.VEKW = 102;
    rfjwh.vfou.VEKX = 103;
    rfjwh.vfou.VEKY = 104;
    rfjwh.vfou.VEKZ = 105;
    rfjwh.vfou.RHPQE = 106;
    rfjwh.vfou.XBLU = 107;
    rfjwh.vfou.ZDMW = 108;
    rfjwh.vfou.RHPQD = 109;
    rfjwh.vfou.RIKSA = 110;
    rfjwh.vfou.RJMYD = 111;
    rfjwh.vfou.QJHZ = 112;
    rfjwh.vfou.QJGQ = 113;
    rfjwh.vfou.QJGR = 114;
    rfjwh.vfou.QJGS = 115;
    rfjwh.vfou.QJGT = 116;
    rfjwh.vfou.QJGU = 117;
    rfjwh.vfou.QJGV = 118;
    rfjwh.vfou.QJGW = 119;
    rfjwh.vfou.QJGX = 120;
    rfjwh.vfou.QEKU = 121;
    rfjwh.vfou.QEKV = 122;
    rfjwh.vfou.QEKW = 123;
    rfjwh.vfou.QEKX = 124;
    rfjwh.vfou.QEKY = 125;
    rfjwh.vfou.QEKZ = 126;
    rfjwh.vfou.RBPT = 186;
    rfjwh.vfou.SCIW = 187;
    rfjwh.vfou.YHPT = 189;
    rfjwh.vfou.RJLWJ = 191;
    rfjwh.vfou.SGLW = 192;
    rfjwh.vfou.ZDJT = 219;
    rfjwh.vfou.RINXK = 220;
    rfjwh.vfou.RIMQA = 221;
    rfjwh.vfou.QUOTES = 222;
    rfjwh.vfou.WIIQ = 8;
    rfjwh.vfou.QBNV = 9;
    rfjwh.vfou.CLEAR = 12;
    rfjwh.vfou.RBIY = 13;
    rfjwh.vfou.SHIFT = 16;
    rfjwh.vfou.TCLY = 17;
    rfjwh.vfou.ALT = 18;
    rfjwh.vfou.WHNS = 20;
    rfjwh.vfou.QELX = 27;
    rfjwh.vfou.VBKT = 32;
    rfjwh.vfou.UHKX = 33;
    rfjwh.vfou.WBOT = 34;
    rfjwh.vfou.RFOXC = 35;
    rfjwh.vfou.RHPS = 36;
    rfjwh.vfou.LEFT = 37;
    rfjwh.vfou.UP = 38;
    rfjwh.vfou.RIGHT = 39;
    rfjwh.vfou.RFHWC = 40;
    rfjwh.vfou.SALQ = 45;
    rfjwh.vfou.DELETE = 46;
    rfjwh.vfou.RIGS = 47;
    rfjwh.vfou.VELX = 144;
    rfjwh.vfou.RFPQ = 43;
    rfjwh.vfou.SJGR = 45;
    rfjwh.sjgy = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.riHrD = this.rfOyC;
        this.rhIsG = null;
        this.rhIsF = null;
        this.riGzK = null;
        this.rhMzE = null;
        this.rhIsE = null;
        this.rhGyK = null;
        this.tdHr = false;
        this.button = -1;
        this.yhLy = 0;
        this.viMz = false;
        this.tjOz = false;
        this.rjKwE = false;
        this.ybIv = new rfjwh.tgot();
        this.event = null;
        this.zhPq = null;
        this.zhPr = null;
        this.xhIw = null;
        this.ygOx = null;
        this.zhPs = null;
        this.zaIx = null;
    };
    rfjwh.sjgy.WCLY = -1;
    rfjwh.sjgy.YCMT = 0;
    rfjwh.sjgy.RJMWK = 1;
    rfjwh.sjgy.ZCLZ = 2;
    rfjwh.sjgy.WJOY = 1;
    rfjwh.sjgy.YHLX = -1;
    rfjwh.sjgy.prototype = {
        rfIsA: function() {
            if (this.rfOyC.scLr.tdPw && this.rfOyC.scLr.sdKs === false) {
                return;
            }
            if (this.zhPq !== null) {
                return;
            }
            var rdIw = this;
            this.zhPq = function(event) {
                return rdIw.onMouseDown(event);
            };
            this.zhPr = function(event) {
                return rdIw.onMouseMove(event);
            };
            this.xhIw = function(event) {
                return rdIw.onMouseUp(event);
            };
            this.rhOzB = function(event) {
                return rdIw.rhPrA(event);
            };
            this.ygOx = function(event) {
                return rdIw.onMouseOut(event);
            };
            this.zhPs = function(event) {
                return rdIw.onMouseOver(event);
            };
            this.zaIx = function(event) {
                return rdIw.onMouseWheel(event);
            };
            _._3gl.canvas.addEventListener('mousedown', this.zhPq, true);
            _._3gl.canvas.addEventListener('mousemove', this.zhPr, true);
            _._3gl.canvas.addEventListener('mouseup', this.xhIw, true);
            if (!this.rfOyC.scLr.vjMy) {
                window.addEventListener('mouseup', this.rhOzB, true);
                this.rfOyC.canvas.addEventListener('mouseover', this.zhPs, true);
                this.rfOyC.canvas.addEventListener('mouseout', this.ygOx, true);
                this.rfOyC.canvas.addEventListener('mousewheel', this.zaIx, true);
                this.rfOyC.canvas.addEventListener('DOMMouseScroll', this.zaIx, true);
            }
        },
        onMouseDown: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            this.button = event.button;
            if (this.rhIsG) {
                this.rhIsG.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event['identifier'] = 0;
            this.rfOyC.input.zdOt.rfIsA(event);
        },
        onMouseMove: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            if (this.rhIsF) {
                this.rhIsF.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event['identifier'] = 0;
            this.rfOyC.input.zdOt.rfHwK(event);
        },
        onMouseUp: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            this.button = rfjwh.sjgy.WCLY;
            if (this.riGzK) {
                this.riGzK.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event['identifier'] = 0;
            this.rfOyC.input.zdOt.stop(event);
        },
        rhPrA: function(event) {
            if (!this.rfOyC.input.zdOt.yhKs) {
                this.button = rfjwh.sjgy.WCLY;
                if (this.riGzK) {
                    this.riGzK.call(this.riHrD, event);
                }
                event['identifier'] = 0;
                this.rfOyC.input.zdOt.stop(event);
            }
        },
        onMouseOut: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            this.rfOyC.input.zdOt.yhKs = false;
            if (this.rhMzE) {
                this.rhMzE.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.rjKwE) {
                event['identifier'] = 0;
                this.rfOyC.input.zdOt.stop(event);
            }
        },
        onMouseWheel: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            this.yhLy = Math.max(-1, Math.min(1, (event.yhLy || -event.detail)));
            if (this.rhGyK) {
                this.rhGyK.call(this.riHrD, event);
            }
        },
        onMouseOver: function(event) {
            this.event = event;
            if (this.tdHr) {
                event.preventDefault();
            }
            this.rfOyC.input.zdOt.yhKs = true;
            if (this.rhIsE) {
                this.rhIsE.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
        },
        rgPtB: function() {
            if (this.rfOyC.scLr.ybIv) {
                var element = this.rfOyC.canvas;
                element.rgPtB = element.rgPtB || element.rgKxH || element.rgHxF;
                element.rgPtB();
                var rdIw = this;
                this.rhHvA = function(event) {
                    return rdIw.rhIvC(event);
                };
                document.addEventListener('pointerlockchange', this.rhHvA, true);
                document.addEventListener('mozpointerlockchange', this.rhHvA, true);
                document.addEventListener('webkitpointerlockchange', this.rhHvA, true);
            }
        },
        rhIvC: function(event) {
            var element = this.rfOyC.canvas;
            if (document.rgPrC === element || document.rgKxJ === element || document.rgHxG === element) {
                this.tjOz = true;
                this.ybIv.viLt(true, event);
            } else {
                this.tjOz = false;
                this.ybIv.viLt(false, event);
            }
        },
        rgPtG: function() {
            document.riHzK = document.riHzK || document.rhGyJ || document.rgJsA;
            document.riHzK();
            document.removeEventListener('pointerlockchange', this.rhHvA, true);
            document.removeEventListener('mozpointerlockchange', this.rhHvA, true);
            document.removeEventListener('webkitpointerlockchange', this.rhHvA, true);
        },
        stop: function() {
            this.rfOyC.canvas.removeEventListener('mousedown', this.zhPq, true);
            this.rfOyC.canvas.removeEventListener('mousemove', this.zhPr, true);
            this.rfOyC.canvas.removeEventListener('mouseup', this.xhIw, true);
            this.rfOyC.canvas.removeEventListener('mouseover', this.zhPs, true);
            this.rfOyC.canvas.removeEventListener('mouseout', this.ygOx, true);
            this.rfOyC.canvas.removeEventListener('mousewheel', this.zaIx, true);
            this.rfOyC.canvas.removeEventListener('DOMMouseScroll', this.zaIx, true);
            window.removeEventListener('mouseup', this.rhOzB, true);
            document.removeEventListener('pointerlockchange', this.rhHvA, true);
            document.removeEventListener('mozpointerlockchange', this.rhHvA, true);
            document.removeEventListener('webkitpointerlockchange', this.rhHvA, true);
        }
    };
    rfjwh.sjgy.prototype.constructor = rfjwh.sjgy;
    rfjwh.wcnw = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.riHrD = this.rfOyC;
        this.viMz = false;
        this.rhOzA = null;
        this.rhNqK = null;
        this.rjJzH = null;
    };
    rfjwh.wcnw.prototype = {
        rfIsA: function() {
            if (this.rhOzA !== null) {
                return;
            }
            var rdIw = this;
            if (this.rfOyC.scLr.wcNw) {
                this.rhOzA = function(event) {
                    return rdIw.rjLqK(event);
                };
                this.rhNqK = function(event) {
                    return rdIw.rjLqJ(event);
                };
                this.rjJzH = function(event) {
                    return rdIw.ybMw(event);
                };
                this.rfOyC.canvas.addEventListener('MSPointerDown', this.rhOzA, false);
                this.rfOyC.canvas.addEventListener('MSPointerMove', this.rhNqK, false);
                this.rfOyC.canvas.addEventListener('MSPointerUp', this.rjJzH, false);
                this.rfOyC.canvas.addEventListener('pointerDown', this.rhOzA, false);
                this.rfOyC.canvas.addEventListener('pointerMove', this.rhNqK, false);
                this.rfOyC.canvas.addEventListener('pointerUp', this.rjJzH, false);
                this.rfOyC.canvas.style['-qiIy-content-zooming'] = 'none';
                this.rfOyC.canvas.style['-qiIy-touch-action'] = 'none';
            }
        },
        rjLqK: function(event) {
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event.preventDefault();
            event.xcOu = event.wbLt;
            this.rfOyC.input.zbOz(event);
        },
        rjLqJ: function(event) {
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event.preventDefault();
            event.xcOu = event.wbLt;
            this.rfOyC.input.rjJqA(event);
        },
        ybMw: function(event) {
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            event.preventDefault();
            event.xcOu = event.wbLt;
            this.rfOyC.input.zjMu(event);
        },
        stop: function() {
            this.rfOyC.canvas.removeEventListener('MSPointerDown', this.rhOzA);
            this.rfOyC.canvas.removeEventListener('MSPointerMove', this.rhNqK);
            this.rfOyC.canvas.removeEventListener('MSPointerUp', this.rjJzH);
            this.rfOyC.canvas.removeEventListener('pointerDown', this.rhOzA);
            this.rfOyC.canvas.removeEventListener('pointerMove', this.rhNqK);
            this.rfOyC.canvas.removeEventListener('pointerUp', this.rjJzH);
        }
    };
    rfjwh.wcnw.prototype.constructor = rfjwh.wcnw;
    rfjwh.uhht = function(rfOyC, id) {
        this.rfOyC = rfOyC;
        this.id = id;
        this.type = rfjwh.UHHT;
        this.scHu = true;
        this.xcOu = 0;
        this.wbLt = null;
        this.target = null;
        this.button = null;
        this.wjJs = false;
        this.ubLq = [];
        this.wjJw = 0;
        this.ygLq = false;
        this.yhKs = false;
        this.clientX = -1;
        this.clientY = -1;
        this.pageX = -1;
        this.pageY = -1;
        this.screenX = -1;
        this.screenY = -1;
        this.zcOy = 0;
        this.zcOz = 0;
        this.wcNs = 0;
        this.wcNt = 0;
        this.x = -1;
        this.y = -1;
        this.ujJs = false;
        this.saLy = false;
        this.rhMs = true;
        this.vaNu = 0;
        this.tfPx = 0;
        this.rhPvF = 0;
        this.zbJt = 0;
        this.rhMzB = Number.MAX_VALUE;
        this.zbMv = null;
        this.seOx = false;
        this.rbLu = false;
        this.position = new rfjwh.Point();
        this.zdGv = new rfjwh.Point();
        this.xaNu = new rfjwh.Point();
        this.sdKu = new rfjwh.sdku(0, 0, 44);
        if (id === 0) {
            this.ujJs = true;
        }
    };
    rfjwh.uhht.prototype = {
        rfIsA: function(event) {
            if (event['pointerId']) {
                this.wbLt = event.wbLt;
            }
            this.xcOu = event.xcOu;
            this.target = event.target;
            if (typeof event.button !== 'undefined') {
                this.button = event.button;
            }
            this.ubLq = [];
            this.seOx = true;
            this.yhKs = true;
            this.saLy = true;
            this.rhMs = false;
            this.rbLu = false;
            this.rhMzB = this.rfOyC.time.now - this.vaNu;
            this.vaNu = this.rfOyC.time.now;
            this.wjJs = false;
            this.rfHwK(event, true);
            this.zdGv.shMy(this.x, this.y);
            if (this.rfOyC.input.rhGyE === rfjwh.Input.RGKWA || this.rfOyC.input.rhGyE === rfjwh.Input.RGNRA || (this.rfOyC.input.rhGyE === rfjwh.Input.RGJSK && this.rfOyC.input.riHvD === 0)) {
                this.rfOyC.input.x = this.x;
                this.rfOyC.input.y = this.y;
                this.rfOyC.input.position.shMy(this.x, this.y);
                this.rfOyC.input.tiOx.viLt(this, event);
                this.rfOyC.input.xaGt(this.x, this.y);
            }
            this.ygLq = false;
            this.zbJt++;
            if (!this.ujJs) {
                this.rfOyC.input.riHvD++;
            }
            if (this.zbMv !== null) {
                this.zbMv.riIwD(this);
            }
            return this;
        },
        update: function() {
            if (this.seOx) {
                if (this.rbLu) {
                    if (this.rfOyC.input.rhMuD.sgJq > 0) {
                        this.rgGrK(true);
                    }
                    this.rbLu = false;
                }
                if (this.wjJs === false && this.duration >= this.rfOyC.input.vgMq) {
                    if (this.rfOyC.input.rhGyE == rfjwh.Input.RGKWA || this.rfOyC.input.rhGyE == rfjwh.Input.RGNRA || (this.rfOyC.input.rhGyE == rfjwh.Input.RGJSK && this.rfOyC.input.riHvD === 0)) {
                        this.rfOyC.input.tiNr.viLt(this);
                    }
                    this.wjJs = true;
                }
                if (this.rfOyC.input.rgLtA && this.rfOyC.time.now >= this.wjJw) {
                    this.wjJw = this.rfOyC.time.now + this.rfOyC.input.xaJs;
                    this.ubLq.push({
                        x: this.position.x,
                        y: this.position.y
                    });
                    if (this.ubLq.length > this.rfOyC.input.yaNq) {
                        this.ubLq.shift();
                    }
                }
            }
        },
        rfHwK: function(event, wfMz) {
            if (this.rfOyC.input.xaOx) {
                return;
            }
            if (typeof wfMz === 'undefined') {
                wfMz = false;
            }
            if (typeof event.button !== 'undefined') {
                this.button = event.button;
            }
            this.clientX = event.clientX;
            this.clientY = event.clientY;
            this.pageX = event.pageX;
            this.pageY = event.pageY;
            this.screenX = event.screenX;
            this.screenY = event.screenY;
            if (this.ujJs && this.rfOyC.input.sjGy.tjOz && !wfMz) {
                this.zcOy = event.wcNs || event.zdOx || event.rhOwG || 0;
                this.zcOz = event.wcNt || event.zdOy || event.rhOwF || 0;
                this.wcNs += this.zcOy;
                this.wcNt += this.zcOz;
            }
            this.x = (this.pageX - this.rfOyC.scale.tiOt.x) * this.rfOyC.input.scale.x;
            this.y = (this.pageY - this.rfOyC.scale.tiOt.y) * this.rfOyC.input.scale.y;
            this.position.shMy(this.x, this.y);
            this.sdKu.x = this.x;
            this.sdKu.y = this.y;
            if (this.rfOyC.input.rhGyE === rfjwh.Input.RGKWA || this.rfOyC.input.rhGyE === rfjwh.Input.RGNRA || (this.rfOyC.input.rhGyE === rfjwh.Input.RGJSK && this.rfOyC.input.riHvD === 0)) {
                this.rfOyC.input.rjPuK = this;
                this.rfOyC.input.x = this.x;
                this.rfOyC.input.y = this.y;
                this.rfOyC.input.position.shMy(this.rfOyC.input.x, this.rfOyC.input.y);
                this.rfOyC.input.sdKu.x = this.rfOyC.input.x;
                this.rfOyC.input.sdKu.y = this.rfOyC.input.y;
            }
            this.yhKs = this.rfOyC.scale.sdPv.contains(this.pageX, this.pageY);
            if (this.rfOyC.paused) {
                return this;
            }
            var i = this.rfOyC.input.rjMwD.length;
            while (i--) {
                this.rfOyC.input.rjMwD[i].uaGu.call(this.rfOyC.input.rjMwD[i].tcLv, this, this.x, this.y, wfMz);
            }
            if (this.zbMv !== null && this.zbMv.weGr === true) {
                if (this.zbMv.update(this) === false) {
                    this.zbMv = null;
                }
            } else if (this.rfOyC.input.rhMuD.sgJq > 0) {
                this.rgGrK(wfMz);
            }
            return this;
        },
        rgGrK: function(wfMz) {
            this.rfOyC.input.rhMuD.thGs('checked', false);
            this.rgLyC = Number.RHMYJ;
            this.rgMrG = null;
            this.rgIvJ = -1;
            var yePs = this.rfOyC.input.rhMuD.raPz;
            do {
                if (yePs && yePs.rjJsF(this.rgIvJ, this.rgLyC, false)) {
                    yePs.tcPq = true;
                    if ((wfMz && yePs.rhNuD(this, true)) || (!wfMz && yePs.rhNuC(this, true))) {
                        this.rgLyC = yePs.rfIsB.sfIr[3];
                        this.rgIvJ = yePs.xaMz;
                        this.rgMrG = yePs;
                    }
                }
                yePs = this.rfOyC.input.rhMuD.rfKvC;
            } while (yePs !== null);
            var yePs = this.rfOyC.input.rhMuD.raPz;
            do {
                if (yePs && !yePs.tcPq && yePs.rjJsF(this.rgIvJ, this.rgLyC, true)) {
                    if ((wfMz && yePs.rhNuD(this, false)) || (!wfMz && yePs.rhNuC(this, false))) {
                        this.rgLyC = yePs.rfIsB.sfIr[3];
                        this.rgIvJ = yePs.xaMz;
                        this.rgMrG = yePs;
                    }
                }
                yePs = this.rfOyC.input.rhMuD.rfKvC;
            } while (yePs !== null);
            if (this.rgMrG === null) {
                if (this.zbMv) {
                    this.zbMv.rhHwK(this);
                    this.zbMv = null;
                }
            } else {
                if (this.zbMv === null) {
                    this.zbMv = this.rgMrG;
                    this.rgMrG.rgOtJ(this);
                } else {
                    if (this.zbMv === this.rgMrG) {
                        if (this.rgMrG.update(this) === false) {
                            this.zbMv = null;
                        }
                    } else {
                        this.zbMv.rhHwK(this);
                        this.zbMv = this.rgMrG;
                        this.zbMv.rgOtJ(this);
                    }
                }
            }
            return (this.zbMv !== null);
        },
        sjLr: function(event) {
            this.yhKs = false;
            this.rfHwK(event, false);
        },
        stop: function(event) {
            if (this.ygLq) {
                event.preventDefault();
                return;
            }
            this.tfPx = this.rfOyC.time.now;
            if (this.rfOyC.input.rhGyE === rfjwh.Input.RGKWA || this.rfOyC.input.rhGyE === rfjwh.Input.RGNRA || (this.rfOyC.input.rhGyE === rfjwh.Input.RGJSK && this.rfOyC.input.riHvD === 0)) {
                this.rfOyC.input.rgJt.viLt(this, event);
                if (this.duration >= 0 && this.duration <= this.rfOyC.input.ueNv) {
                    if (this.tfPx - this.rhPvF < this.rfOyC.input.rjOyH) {
                        this.rfOyC.input.siLq.viLt(this, true);
                    } else {
                        this.rfOyC.input.siLq.viLt(this, false);
                    }
                    this.rhPvF = this.tfPx;
                }
            }
            if (this.id > 0) {
                this.seOx = false;
            }
            this.yhKs = false;
            this.saLy = false;
            this.rhMs = true;
            this.wbLt = null;
            this.xcOu = null;
            this.xaNu.shMy(this.x, this.y);
            if (this.ujJs === false) {
                this.rfOyC.input.riHvD--;
            }
            this.rfOyC.input.rhMuD.tdJy('rhNqE', this);
            this.zbMv = null;
            return this;
        },
        ycNu: function(duration) {
            duration = duration || this.rfOyC.input.riGuA;
            return (this.saLy === true && (this.vaNu + duration) > this.rfOyC.time.now);
        },
        zeMq: function(duration) {
            duration = duration || this.rfOyC.input.rhMvC;
            return (this.rhMs === true && (this.tfPx + duration) > this.rfOyC.time.now);
        },
        reset: function() {
            if (this.ujJs === false) {
                this.seOx = false;
            }
            this.wbLt = null;
            this.xcOu = null;
            this.rbLu = false;
            this.saLy = false;
            this.rhMs = true;
            this.zbJt = 0;
            this.wjJs = false;
            this.ubLq.length = 0;
            this.ygLq = true;
            if (this.zbMv) {
                this.zbMv.rhNqE(this);
            }
            this.zbMv = null;
        },
        rjLyF: function() {
            this.wcNs = 0;
            this.wcNt = 0;
        }
    };
    rfjwh.uhht.prototype.constructor = rfjwh.uhht;
    Object.defineProperty(rfjwh.uhht.prototype, "duration", {
        get: function() {
            if (this.rhMs) {
                return -1;
            }
            return this.rfOyC.time.now - this.vaNu;
        }
    });
    Object.defineProperty(rfjwh.uhht.prototype, "tfHu", {
        get: function() {
            return this.rfOyC.world.sdNw.x + this.x;
        }
    });
    Object.defineProperty(rfjwh.uhht.prototype, "tfHv", {
        get: function() {
            return this.rfOyC.world.sdNw.y + this.y;
        }
    });
    rfjwh.sgjr = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.viMz = false;
        this.riHrD = this.rfOyC;
        this.rgPyK = null;
        this.rhHrD = null;
        this.rhKqD = null;
        this.rgPxB = null;
        this.rgPxA = null;
        this.rgNyH = null;
        this.preventDefault = true;
        this.event = null;
        this.zaHt = null;
        this.zhPu = null;
        this.ygOy = null;
        this.zaHr = null;
        this.zaHs = null;
        this.rjJzE = null;
        this.zhPu = null;
    };
    rfjwh.sgjr.prototype = {
        rfIsA: function() {
            if (this.zaHt !== null) {
                return;
            }
            var rdIw = this;
            if (this.rfOyC.scLr.sgJr) {
                this.zaHt = function(event) {
                    return rdIw.onTouchStart(event);
                };
                this.zhPu = function(event) {
                    return rdIw.onTouchMove(event);
                };
                this.ygOy = function(event) {
                    return rdIw.onTouchEnd(event);
                };
                this.zaHr = function(event) {
                    return rdIw.zdKy(event);
                };
                this.zaHs = function(event) {
                    return rdIw.zdKz(event);
                };
                this.rjJzE = function(event) {
                    return rdIw.onTouchCancel(event);
                };
                _._3gl.canvas.addEventListener('touchstart', this.zaHt, false);
                _._3gl.canvas.addEventListener('touchmove', this.zhPu, false);
                _._3gl.canvas.addEventListener('touchend', this.ygOy, false);
                _._3gl.canvas.addEventListener('touchcancel', this.rjJzE, false);
                if (!this.rfOyC.scLr.vjMy) {
                    this.rfOyC.canvas.addEventListener('touchenter', this.zaHr, false);
                    this.rfOyC.canvas.addEventListener('touchleave', this.zaHs, false);
                }
            }
        },
        rgJwF: function() {
            this.rhHuD = function(event) {
                event.preventDefault();
            };
            document.addEventListener('touchmove', this.rhHuD, false);
        },
        onTouchStart: function(event) {
            this.event = event;
            if (this.rgPyK) {
                this.rgPyK.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
            for (var i = 0; i < event.changedTouches.length; i++) {
                this.rfOyC.input.zbOz(event.changedTouches[i]);
            }
        },
        onTouchCancel: function(event) {
            this.event = event;
            if (this.rgNyH) {
                this.rgNyH.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
            for (var i = 0; i < event.changedTouches.length; i++) {
                this.rfOyC.input.zjMu(event.changedTouches[i]);
            }
        },
        zdKy: function(event) {
            this.event = event;
            if (this.rgPxB) {
                this.rgPxB.call(this.riHrD, event);
            }
            if (this.rfOyC.input.viMz || this.viMz) {
                return;
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
        },
        zdKz: function(event) {
            this.event = event;
            if (this.rgPxA) {
                this.rgPxA.call(this.riHrD, event);
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
        },
        onTouchMove: function(event) {
            this.event = event;
            if (this.rhHrD) {
                this.rhHrD.call(this.riHrD, event);
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
            for (var i = 0; i < event.changedTouches.length; i++) {
                this.rfOyC.input.rjJqA(event.changedTouches[i]);
            }
        },
        onTouchEnd: function(event) {
            this.event = event;
            if (this.rhKqD) {
                this.rhKqD.call(this.riHrD, event);
            }
            if (this.preventDefault) {
                event.preventDefault();
            }
            for (var i = 0; i < event.changedTouches.length; i++) {
                this.rfOyC.input.zjMu(event.changedTouches[i]);
            }
        },
        stop: function() {
            if (this.rfOyC.scLr.sgJr) {
                this.rfOyC.canvas.removeEventListener('touchstart', this.zaHt);
                this.rfOyC.canvas.removeEventListener('touchmove', this.zhPu);
                this.rfOyC.canvas.removeEventListener('touchend', this.ygOy);
                this.rfOyC.canvas.removeEventListener('touchenter', this.zaHr);
                this.rfOyC.canvas.removeEventListener('touchleave', this.zaHs);
                this.rfOyC.canvas.removeEventListener('touchcancel', this.rjJzE);
            }
        }
    };
    rfjwh.sgjr.prototype.constructor = rfjwh.sgjr;
    rfjwh.tamx = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.rhOyD = {};
        this.ubKx = [];
        this.tePu = false;
        this.viMz = false;
        this.rgHsF = !!navigator.rhHtG || !!navigator.riIqB || (navigator.userAgent.indexOf('Firefox/') != -1) || !!navigator.getGamepads;
        this.rgMsH = [];
        this.riIvG = [];
        this.riHrD = this;
        this.rhItD = null;
        this.rgLsE = null;
        this.riKtB = null;
        this.zdJr = null;
        this.riKtC = null;
        this.rhPrB = null;
        this.rgOsB = null;
        this.rgMrK = null;
        this.wjKx = [new rfjwh.xjpz(rfOyC, this), new rfjwh.xjpz(rfOyC, this), new rfjwh.xjpz(rfOyC, this), new rfjwh.xjpz(rfOyC, this)];
    };
    rfjwh.tamx.prototype = {
        zhLq: function(tcLv, whOy) {
            if (typeof whOy !== 'undefined') {
                this.rhItD = (typeof whOy.wcIr === 'function') ? whOy.wcIr : this.rhItD;
                this.rgLsE = (typeof whOy.zdKs === 'function') ? whOy.zdKs : this.rgLsE;
                this.riKtB = (typeof whOy.tiOx === 'function') ? whOy.tiOx : this.riKtB;
                this.zdJr = (typeof whOy.rgJt === 'function') ? whOy.rgJt : this.zdJr;
                this.riKtC = (typeof whOy.tiOv === 'function') ? whOy.tiOv : this.riKtC;
                this.rhPrB = (typeof whOy.uhMq === 'function') ? whOy.uhMq : this.rhPrB;
            }
        },
        rfIsA: function() {
            if (this.tePu) {
                return;
            }
            this.tePu = true;
            var rdIw = this;
            this.rgOsB = function(event) {
                return rdIw.rhGzF(event);
            };
            this.rgJuJ = function(event) {
                return rdIw.rgKxC(event);
            };
            window.addEventListener('gamepadconnected', this.rgOsB, false);
            window.addEventListener('gamepaddisconnected', this.rgJuJ, false);
        },
        rhGzF: function(event) {
            var tjGt = event.taMx;
            this.ubKx.push(tjGt);
            this.wjKx[tjGt.index].connect(tjGt);
        },
        rgKxC: function(event) {
            var xaIt = event.taMx;
            for (var i in this.ubKx) {
                if (this.ubKx[i].index === xaIt.index) {
                    this.ubKx.splice(i, 1);
                }
            }
            this.wjKx[xaIt.index].xeNy();
        },
        update: function() {
            this.zaGu();
            this.rgIu.xaOy();
            this.rgIv.xaOy();
            this.rgIw.xaOy();
            this.rgIx.xaOy();
        },
        zaGu: function() {
            if (navigator['getGamepads']) {
                var yaOu = navigator.getGamepads();
            } else if (navigator['webkitGetGamepads']) {
                var yaOu = navigator.rhHtG();
            } else if (navigator['webkitGamepads']) {
                var yaOu = navigator.riIqB();
            }
            if (yaOu) {
                this.ubKx = [];
                var riGqC = false;
                for (var i = 0; i < yaOu.length; i++) {
                    if (typeof yaOu[i] !== this.rgMsH[i]) {
                        riGqC = true;
                        this.rgMsH[i] = typeof yaOu[i];
                    }
                    if (yaOu[i]) {
                        this.ubKx.push(yaOu[i]);
                    }
                    if (i === 3) {
                        break;
                    }
                }
                if (riGqC) {
                    var rhKsE = {
                        xaKv: {},
                        xbHz: {}
                    };
                    var xjPz;
                    for (var j = 0; j < this.wjKx.length; j++) {
                        xjPz = this.wjKx[j];
                        if (xjPz.whJu) {
                            for (var k = 0; k < this.ubKx.length; k++) {
                                if (this.ubKx[k].index === xjPz.index) {
                                    rhKsE.xaKv[xjPz.index] = true;
                                    rhKsE.xbHz[j] = true;
                                }
                            }
                        }
                    }
                    for (var l = 0; l < this.wjKx.length; l++) {
                        xjPz = this.wjKx[l];
                        if (rhKsE.xbHz[l]) {
                            continue;
                        }
                        if (this.ubKx.length < 1) {
                            xjPz.xeNy();
                        }
                        for (var m = 0; m < this.ubKx.length; m++) {
                            if (rhKsE.xbHz[l]) {
                                break;
                            }
                            var thNs = this.ubKx[m];
                            if (thNs) {
                                if (rhKsE.xaKv[thNs.index]) {
                                    xjPz.xeNy();
                                    continue;
                                } else {
                                    xjPz.connect(thNs);
                                    rhKsE.xaKv[thNs.index] = true;
                                    rhKsE.xbHz[l] = true;
                                }
                            } else {
                                xjPz.xeNy();
                            }
                        }
                    }
                }
            }
        },
        zcIv: function(value) {
            for (var i = 0; i < this.wjKx.length; i++) {
                this.wjKx[i].viPw = value;
            }
        },
        stop: function() {
            this.tePu = false;
            window.removeEventListener('gamepadconnected', this.rgOsB);
            window.removeEventListener('gamepaddisconnected', this.rgJuJ);
        },
        reset: function() {
            this.update();
            for (var i = 0; i < this.wjKx.length; i++) {
                this.wjKx[i].reset();
            }
        },
        ycNu: function(xgGv, duration) {
            for (var i = 0; i < this.wjKx.length; i++) {
                if (this.wjKx[i].ycNu(xgGv, duration) === true) {
                    return true;
                }
            }
            return false;
        },
        zeMq: function(xgGv, duration) {
            for (var i = 0; i < this.wjKx.length; i++) {
                if (this.wjKx[i].zeMq(xgGv, duration) === true) {
                    return true;
                }
            }
            return false;
        },
        saLy: function(xgGv) {
            for (var i = 0; i < this.wjKx.length; i++) {
                if (this.wjKx[i].saLy(xgGv) === true) {
                    return true;
                }
            }
            return false;
        },
        tbPr: function() {
            this.stop();
            for (var i = 0; i < this.wjKx.length; i++) {
                this.wjKx[i].tbPr();
            }
        }
    };
    rfjwh.tamx.prototype.constructor = rfjwh.tamx;
    Object.defineProperty(rfjwh.tamx.prototype, "seOx", {
        get: function() {
            return this.tePu;
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "xjJy", {
        get: function() {
            return this.rgHsF;
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "rjLrE", {
        get: function() {
            return this.ubKx.length;
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "rgIu", {
        get: function() {
            return this.wjKx[0];
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "rgIv", {
        get: function() {
            return this.wjKx[1];
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "rgIw", {
        get: function() {
            return this.wjKx[2];
        }
    });
    Object.defineProperty(rfjwh.tamx.prototype, "rgIx", {
        get: function() {
            return this.wjKx[3];
        }
    });
    rfjwh.tamx.UAHQ = 0;
    rfjwh.tamx.UAHR = 1;
    rfjwh.tamx.UAHS = 2;
    rfjwh.tamx.UAHT = 3;
    rfjwh.tamx.UAHU = 4;
    rfjwh.tamx.UAHV = 5;
    rfjwh.tamx.UAHW = 6;
    rfjwh.tamx.UAHX = 7;
    rfjwh.tamx.UAHY = 8;
    rfjwh.tamx.UAHZ = 9;
    rfjwh.tamx.WHPY = 10;
    rfjwh.tamx.WHPZ = 11;
    rfjwh.tamx.WHOQ = 12;
    rfjwh.tamx.WHOR = 13;
    rfjwh.tamx.WHOS = 14;
    rfjwh.tamx.WHOT = 15;
    rfjwh.tamx.SEJX = 0;
    rfjwh.tamx.SEJY = 1;
    rfjwh.tamx.SEJZ = 2;
    rfjwh.tamx.SEIQ = 3;
    rfjwh.tamx.SEIR = 4;
    rfjwh.tamx.SEIS = 5;
    rfjwh.tamx.SEIT = 6;
    rfjwh.tamx.SEIU = 7;
    rfjwh.tamx.SEIV = 8;
    rfjwh.tamx.SEIW = 9;
    rfjwh.tamx.XHPZ = 0;
    rfjwh.tamx.XHOQ = 1;
    rfjwh.tamx.XHOR = 2;
    rfjwh.tamx.XHOS = 3;
    rfjwh.tamx.RGNZD = 4;
    rfjwh.tamx.RGLXD = 5;
    rfjwh.tamx.RGLXE = 6;
    rfjwh.tamx.RGJTK = 7;
    rfjwh.tamx.ZAOX = 8;
    rfjwh.tamx.RJJUD = 9;
    rfjwh.tamx.RGGRB = 10;
    rfjwh.tamx.RGGVG = 11;
    rfjwh.tamx.RHHTC = 14;
    rfjwh.tamx.RGOQK = 15;
    rfjwh.tamx.RHOXJ = 12;
    rfjwh.tamx.RHHTD = 13;
    rfjwh.tamx.RGLXC = 0;
    rfjwh.tamx.RGLXB = 1;
    rfjwh.tamx.RGJTJ = 2;
    rfjwh.tamx.RGJTH = 3;
    rfjwh.tamx.UGOZ = 0;
    rfjwh.tamx.ZCPZ = 1;
    rfjwh.tamx.ZCOR = 2;
    rfjwh.tamx.RIKYA = 3;
    rfjwh.tamx.VDHQ = 4;
    rfjwh.tamx.VDHS = 5;
    rfjwh.tamx.VDHR = 6;
    rfjwh.tamx.VDHT = 7;
    rfjwh.tamx.ZCOQ = 8;
    rfjwh.tamx.YAPW = 9;
    rfjwh.tamx.RGIZA = 10;
    rfjwh.tamx.RGHWK = 11;
    rfjwh.tamx.RJLVE = 12;
    rfjwh.tamx.RHPWG = 13;
    rfjwh.tamx.RHPWF = 14;
    rfjwh.tamx.RHLUB = 15;
    rfjwh.tamx.RGPSA = 0;
    rfjwh.tamx.RGPTK = 1;
    rfjwh.tamx.RGNVK = 2;
    rfjwh.tamx.RGNVJ = 3;
    rfjwh.xjpz = function(rfOyC, wbOs) {
        this.rfOyC = rfOyC;
        this.index = null;
        this.whJu = false;
        this.riHrD = this;
        this.rhItD = null;
        this.rgLsE = null;
        this.riKtB = null;
        this.zdJr = null;
        this.riKtC = null;
        this.rhPrB = null;
        this.viPw = 0.26;
        this.xhIz = wbOs;
        this.teLt = null;
        this.rjIqJ = null;
        this.ubNr = [];
        this.yhIs = 0;
        this.rdLu = [];
        this.ubNq = 0;
    };
    rfjwh.xjpz.prototype = {
        zhLq: function(tcLv, whOy) {
            if (typeof whOy !== 'undefined') {
                this.rhItD = (typeof whOy.wcIr === 'function') ? whOy.wcIr : this.rhItD;
                this.rgLsE = (typeof whOy.zdKs === 'function') ? whOy.zdKs : this.rgLsE;
                this.riKtB = (typeof whOy.tiOx === 'function') ? whOy.tiOx : this.riKtB;
                this.zdJr = (typeof whOy.rgJt === 'function') ? whOy.rgJt : this.zdJr;
                this.riKtC = (typeof whOy.tiOv === 'function') ? whOy.tiOv : this.riKtC;
                this.rhPrB = (typeof whOy.uhMq === 'function') ? whOy.uhMq : this.rhPrB;
            }
        },
        wfJy: function(xgGv) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv];
            } else {
                return null;
            }
        },
        xaOy: function() {
            if (!this.whJu || this.rfOyC.input.viMz || this.rfOyC.input.taMx.viMz || (this.teLt.timestamp && (this.teLt.timestamp === this.rjIqJ))) {
                return;
            }
            for (var i = 0; i < this.yhIs; i++) {
                var zcOx = isNaN(this.teLt.buttons[i]) ? this.teLt.buttons[i].value : this.teLt.buttons[i];
                if (zcOx !== this.ubNr[i].value) {
                    if (zcOx === 1) {
                        this.rhIwH(i, zcOx);
                    } else if (zcOx === 0) {
                        this.rhPvD(i, zcOx);
                    } else {
                        this.rgPsF(i, zcOx);
                    }
                }
            }
            for (var index = 0; index < this.ubNq; index++) {
                var value = this.teLt.qaHs[index];
                if ((value > 0 && value > this.viPw) || (value < 0 && value < -this.viPw)) {
                    this.rhIwJ(index, value);
                } else {
                    this.rhIwJ(index, 0);
                }
            }
            this.rjIqJ = this.teLt.timestamp;
        },
        connect: function(thNs) {
            var rhOtK = !this.whJu;
            this.whJu = true;
            this.index = thNs.index;
            this.teLt = thNs;
            this.ubNr = [];
            this.yhIs = thNs.buttons.length;
            this.rdLu = [];
            this.ubNq = thNs.qaHs.length;
            for (var a = 0; a < this.ubNq; a++) {
                this.rdLu[a] = thNs.qaHs[a];
            }
            for (var xgGv in thNs.buttons) {
                xgGv = parseInt(xgGv, 10);
                this.ubNr[xgGv] = new rfjwh.rjnsc(this, xgGv);
            }
            if (rhOtK && this.xhIz.rhItD) {
                this.xhIz.rhItD.call(this.xhIz.riHrD, this.index);
            }
            if (rhOtK && this.rhItD) {
                this.rhItD.call(this.riHrD);
            }
        },
        xeNy: function() {
            var rhOtK = this.whJu;
            var rhGsE = this.index;
            this.whJu = false;
            this.index = null;
            this.teLt = undefined;
            for (var i = 0; i < this.yhIs; i++) {
                this.ubNr[i].tbPr();
            }
            this.ubNr = [];
            this.yhIs = 0;
            this.rdLu = [];
            this.ubNq = 0;
            if (rhOtK && this.xhIz.rgLsE) {
                this.xhIz.rgLsE.call(this.xhIz.riHrD, rhGsE);
            }
            if (rhOtK && this.rgLsE) {
                this.rgLsE.call(this.riHrD);
            }
        },
        tbPr: function() {
            this.teLt = undefined;
            for (var i = 0; i < this.yhIs; i++) {
                this.ubNr[i].tbPr();
            }
            this.ubNr = [];
            this.yhIs = 0;
            this.rdLu = [];
            this.ubNq = 0;
            this.rhItD = null;
            this.rgLsE = null;
            this.riKtB = null;
            this.zdJr = null;
            this.riKtC = null;
            this.rhPrB = null;
        },
        rhIwJ: function(index, value) {
            if (this.rdLu[index] === value) {
                return;
            }
            this.rdLu[index] = value;
            if (this.xhIz.riKtC) {
                this.xhIz.riKtC.call(this.xhIz.riHrD, this, index, value);
            }
            if (this.riKtC) {
                this.riKtC.call(this.riHrD, this, index, value);
            }
        },
        rhIwH: function(xgGv, value) {
            if (this.xhIz.riKtB) {
                this.xhIz.riKtB.call(this.xhIz.riHrD, xgGv, value, this.index);
            }
            if (this.riKtB) {
                this.riKtB.call(this.riHrD, xgGv, value);
            }
            if (this.ubNr[xgGv]) {
                this.ubNr[xgGv].rhIwH(value);
            }
        },
        rhPvD: function(xgGv, value) {
            if (this.xhIz.zdJr) {
                this.xhIz.zdJr.call(this.xhIz.riHrD, xgGv, value, this.index);
            }
            if (this.zdJr) {
                this.zdJr.call(this.riHrD, xgGv, value);
            }
            if (this.ubNr[xgGv]) {
                this.ubNr[xgGv].rhPvD(value);
            }
        },
        rgPsF: function(xgGv, value) {
            if (this.xhIz.rhPrB) {
                this.xhIz.rhPrB.call(this.xhIz.riHrD, xgGv, value, this.index);
            }
            if (this.rhPrB) {
                this.rhPrB.call(this.riHrD, xgGv, value);
            }
            if (this.ubNr[xgGv]) {
                this.ubNr[xgGv].rgPsF(value);
            }
        },
        qaHt: function(uaMy) {
            if (this.rdLu[uaMy]) {
                return this.rdLu[uaMy];
            }
            return false;
        },
        saLy: function(xgGv) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv].saLy;
            }
            return false;
        },
        rhMs: function(xgGv) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv].rhMs;
            }
            return false;
        },
        zeMq: function(xgGv, duration) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv].zeMq(duration);
            }
        },
        ycNu: function(xgGv, duration) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv].ycNu(duration);
            }
        },
        yfMt: function(xgGv) {
            if (this.ubNr[xgGv]) {
                return this.ubNr[xgGv].value;
            }
            return null;
        },
        reset: function() {
            for (var j = 0; j < this.rdLu.length; j++) {
                this.rdLu[j] = 0;
            }
        }
    };
    rfjwh.xjpz.prototype.constructor = rfjwh.xjpz;
    rfjwh.rjnsc = function(qcMx, xgGv) {
        this.qcMx = qcMx;
        this.rfOyC = qcMx.rfOyC;
        this.saLy = false;
        this.rhMs = true;
        this.vaNu = 0;
        this.duration = 0;
        this.tfPx = 0;
        this.ugIt = 0;
        this.value = 0;
        this.xgGv = xgGv;
        this.tiOx = new rfjwh.tgot();
        this.rgJt = new rfjwh.tgot();
        this.uhMq = new rfjwh.tgot();
    };
    rfjwh.rjnsc.prototype = {
        rhIwH: function(value) {
            this.saLy = true;
            this.rhMs = false;
            this.vaNu = this.rfOyC.time.now;
            this.duration = 0;
            this.ugIt = 0;
            this.value = value;
            this.tiOx.viLt(this, value);
        },
        rhPvD: function(value) {
            this.saLy = false;
            this.rhMs = true;
            this.tfPx = this.rfOyC.time.now;
            this.value = value;
            this.rgJt.viLt(this, value);
        },
        rgPsF: function(value) {
            this.value = value;
            this.uhMq.viLt(this, value);
        },
        ycNu: function(duration) {
            duration = duration || 250;
            return (this.saLy === true && (this.vaNu + duration) > this.rfOyC.time.now);
        },
        zeMq: function(duration) {
            duration = duration || 250;
            return (this.rhMs === true && (this.tfPx + duration) > this.rfOyC.time.now);
        },
        reset: function() {
            this.saLy = false;
            this.rhMs = true;
            this.vaNu = this.rfOyC.time.now;
            this.duration = 0;
            this.ugIt = 0;
        },
        tbPr: function() {
            this.tiOx.tbOw();
            this.rgJt.tbOw();
            this.uhMq.tbOw();
            this.qcMx = null;
            this.rfOyC = null;
        }
    };
    rfjwh.rjnsc.prototype.constructor = rfjwh.rjnsc;
    rfjwh.zept = function(rfIsB) {
        this.rfIsB = rfIsB;
        this.rfOyC = rfIsB.rfOyC;
        this.tbMy = false;
        this.tcPq = false;
        this.xaMz = 0;
        this.rjJrE = false;
        this.rjIqF = false;
        this.weGr = false;
        this.rgOuH = true;
        this.rhKyD = true;
        this.xgHz = false;
        this.yjIx = null;
        this.yjIy = false;
        this.rjKuH = false;
        this.shHq = 0;
        this.shHr = 0;
        this.zjPy = 0;
        this.zjPz = 0;
        this.rhLtB = false;
        this.rhIvF = false;
        this.rhIvG = 255;
        this.wgKs = false;
        this.xgHw = null;
        this.zhGr = null;
        this.rgOwH = false;
        this.yjOy = false;
        this.xhLr = false;
        this.ygLz = false;
        this.xhGx = new rfjwh.Point();
        this.zhPy = [];
        this.zhPy.push({
            id: 0,
            x: 0,
            y: 0,
            saLy: false,
            rhMs: false,
            saKv: false,
            sjPy: false,
            vaNx: 0,
            ueLw: 0,
            vaNu: 0,
            tfPx: 0,
            zgGz: 0,
            weGr: false
        });
    };
    rfjwh.zept.prototype = {
        rfIsA: function(vdJw, rjJrE) {
            vdJw = vdJw || 0;
            if (typeof rjJrE === 'undefined') {
                rjJrE = false;
            }
            if (this.tbMy === false) {
                this.rfOyC.input.rhMuD.add(this);
                this.rjJrE = rjJrE;
                this.xaMz = vdJw;
                for (var i = 0; i < 10; i++) {
                    this.zhPy[i] = {
                        id: i,
                        x: 0,
                        y: 0,
                        saLy: false,
                        rhMs: false,
                        saKv: false,
                        sjPy: false,
                        vaNx: 0,
                        ueLw: 0,
                        vaNu: 0,
                        tfPx: 0,
                        zgGz: 0,
                        weGr: false
                    };
                }
                this.yjIx = new rfjwh.Point();
                this.tbMy = true;
                this.ygLz = true;
                if (this.rfIsB.scHr && this.rfIsB.scHr.ybMq === null) {
                    this.rfIsB.scHr.ybMq = new rfjwh.tgot();
                    this.rfIsB.scHr.xbKw = new rfjwh.tgot();
                    this.rfIsB.scHr.ybNz = new rfjwh.tgot();
                    this.rfIsB.scHr.wcIw = new rfjwh.tgot();
                    this.rfIsB.scHr.onDragStart = new rfjwh.tgot();
                    this.rfIsB.scHr.xbKv = new rfjwh.tgot();
                }
            }
            this.rfIsB.scHr.riKtD.add(this.zhLt, this);
            this.rfIsB.scHr.rgPqK.add(this.rhLvA, this);
            this.taPq = false;
            return this.rfIsB;
        },
        zhLt: function() {
            if (this.xhLr) {
                return;
            }
            if (this.ygLz && !this.tbMy) {
                this.rfIsA();
            }
        },
        rhLvA: function() {
            if (this.xhLr) {
                return;
            }
            if (this.tbMy) {
                this.ygLz = true;
                this.stop();
            } else {
                this.ygLz = false;
            }
        },
        reset: function() {
            this.tbMy = false;
            this.taPq = false;
            for (var i = 0; i < 10; i++) {
                this.zhPy[i] = {
                    id: i,
                    x: 0,
                    y: 0,
                    saLy: false,
                    rhMs: false,
                    saKv: false,
                    sjPy: false,
                    vaNx: 0,
                    ueLw: 0,
                    vaNu: 0,
                    tfPx: 0,
                    zgGz: 0,
                    weGr: false
                };
            }
        },
        stop: function() {
            if (this.tbMy === false) {
                return;
            } else {
                this.tbMy = false;
                this.rfOyC.input.rhMuD.thMz(this);
            }
        },
        tbPr: function() {
            if (this.rfIsB) {
                if (this.rjIqF) {
                    this.rfOyC.canvas.style.cursor = "default";
                    this.rjIqF = false;
                }
                this.tbMy = false;
                this.rfOyC.input.rhMuD.thMz(this);
                this.zhPy.length = 0;
                this.xgHw = null;
                this.zhGr = null;
                this.rfIsB = null;
            }
        },
        rjJsF: function(wePx, riGtG, rgOzB) {
            if (typeof rgOzB === 'undefined') {
                rgOzB = true;
            }
            if (this.rfIsB.scale.x === 0 || this.rfIsB.scale.y === 0 || this.xaMz < this.rfOyC.input.rjMwJ) {
                return false;
            }
            if (!rgOzB && (this.rhIvF || this.rhLtB)) {
                return false;
            }
            if (this.xaMz > wePx || (this.xaMz === wePx && this.rfIsB.sfIr[3] < riGtG)) {
                return true;
            }
            return false;
        },
        riLxJ: function() {
            return (this.rhIvF || this.rhLtB);
        },
        vdMy: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].x;
        },
        vdMz: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].y;
        },
        ybIu: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].saLy;
        },
        wbLu: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].rhMs;
        },
        rhPuF: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].vaNu;
        },
        rjLtD: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].tfPx;
        },
        ybIx: function(index) {
            if (this.tbMy) {
                if (typeof index === 'undefined') {
                    for (var i = 0; i < 10; i++) {
                        if (this.zhPy[i].saKv) {
                            return true;
                        }
                    }
                } else {
                    return this.zhPy[index].saKv;
                }
            }
            return false;
        },
        xaOv: function(index) {
            if (this.tbMy) {
                if (typeof index === 'undefined') {
                    for (var i = 0; i < 10; i++) {
                        if (this.zhPy[i].sjPy) {
                            return true;
                        }
                    }
                } else {
                    return this.zhPy[index].sjPy;
                }
            }
            return false;
        },
        rhPuE: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].vaNx;
        },
        riKxF: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].ueLw;
        },
        riKxH: function(uhHt) {
            uhHt = uhHt || 0;
            return this.zhPy[uhHt].weGr;
        },
        rhNuD: function(uhHt, vhOz) {
            if (!uhHt.saLy || !this.tbMy || !this.rfIsB || !this.rfIsB.parent || !this.rfIsB.rfIxE || !this.rfIsB.parent.rfIxE) {
                return false;
            }
            if (this.rfOyC.input.taGw(this.rfIsB, uhHt, this.xhGx)) {
                if (typeof vhOz === 'undefined') {
                    vhOz = false;
                }
                if (!vhOz && this.rhIvF) {
                    return this.xfOz(this.xhGx.x, this.xhGx.y);
                } else {
                    return true;
                }
            }
            return false;
        },
        rhNuC: function(uhHt, vhOz) {
            if (!this.tbMy || !this.rfIsB || !this.rfIsB.parent || !this.rfIsB.rfIxE || !this.rfIsB.parent.rfIxE) {
                return false;
            }
            if (this.rfOyC.input.taGw(this.rfIsB, uhHt, this.xhGx)) {
                if (typeof vhOz === 'undefined') {
                    vhOz = false;
                }
                if (!vhOz && this.rhLtB) {
                    return this.xfOz(this.xhGx.x, this.xhGx.y);
                } else {
                    return true;
                }
            }
            return false;
        },
        xfOz: function(x, y, uhHt) {
            if (this.rfIsB.ueMt.yfPx.source) {
                if (x === null && y === null) {
                    this.rfOyC.input.rhMrA(this.rfIsB, uhHt, this.xhGx);
                    var x = this.xhGx.x;
                    var y = this.xhGx.y;
                }
                if (this.rfIsB.anchor.x !== 0) {
                    x -= -this.rfIsB.ueMt.frame.width * this.rfIsB.anchor.x;
                }
                if (this.rfIsB.anchor.y !== 0) {
                    y -= -this.rfIsB.ueMt.frame.height * this.rfIsB.anchor.y;
                }
                x += this.rfIsB.ueMt.frame.x;
                y += this.rfIsB.ueMt.frame.y;
                if (this.rfIsB.ueMt.trim) {
                    x -= this.rfIsB.ueMt.trim.x;
                    y -= this.rfIsB.ueMt.trim.y;
                    if (x < this.rfIsB.ueMt.rjKu.x || x > this.rfIsB.ueMt.rjKu.right || y < this.rfIsB.ueMt.rjKu.y || y > this.rfIsB.ueMt.rjKu.bottom) {
                        this.qgIw = x;
                        this.qgIx = y;
                        return false;
                    }
                }
                this.qgIw = x;
                this.qgIx = y;
                this.rfOyC.input.xcPy.clearRect(0, 0, 1, 1);
                this.rfOyC.input.xcPy.drawImage(this.rfIsB.ueMt.yfPx.source, x, y, 1, 1, 0, 0, 1, 1);
                var qcIx = this.rfOyC.input.xcPy.getImageData(0, 0, 1, 1);
                if (qcIx.data[3] >= this.rhIvG) {
                    return true;
                }
            }
            return false;
        },
        update: function(uhHt) {
            if (this.rfIsB === null || this.rfIsB.parent === undefined) {
                return;
            }
            if (!this.tbMy || !this.rfIsB.rfIxE || !this.rfIsB.parent.rfIxE) {
                this.rhHwK(uhHt);
                return false;
            }
            if (this.wgKs && this.rhKuA === uhHt.id) {
                return this.yhOx(uhHt);
            } else if (this.zhPy[uhHt.id].saKv) {
                if (this.rhNuC(uhHt)) {
                    this.zhPy[uhHt.id].x = uhHt.x - this.rfIsB.x;
                    this.zhPy[uhHt.id].y = uhHt.y - this.rfIsB.y;
                    return true;
                } else {
                    this.rhHwK(uhHt);
                    return false;
                }
            }
        },
        rgOtJ: function(uhHt) {
            if (this.rfIsB === null) {
                return;
            }
            if (this.zhPy[uhHt.id].saKv === false || uhHt.rbLu) {
                this.zhPy[uhHt.id].saKv = true;
                this.zhPy[uhHt.id].sjPy = false;
                this.zhPy[uhHt.id].vaNx = this.rfOyC.time.now;
                this.zhPy[uhHt.id].x = uhHt.x - this.rfIsB.x;
                this.zhPy[uhHt.id].y = uhHt.y - this.rfIsB.y;
                if (this.rjJrE && this.zhPy[uhHt.id].weGr === false) {
                    this.rfOyC.canvas.style.cursor = "pointer";
                    this.rjIqF = true;
                }
                if (this.rfIsB && this.rfIsB.scHr) {
                    this.rfIsB.scHr.ybMq.viLt(this.rfIsB, uhHt);
                }
            }
        },
        rhHwK: function(uhHt) {
            if (this.rfIsB === null) {
                return;
            }
            this.zhPy[uhHt.id].saKv = false;
            this.zhPy[uhHt.id].sjPy = true;
            this.zhPy[uhHt.id].ueLw = this.rfOyC.time.now;
            if (this.rjJrE && this.zhPy[uhHt.id].weGr === false) {
                this.rfOyC.canvas.style.cursor = "default";
                this.rjIqF = false;
            }
            if (this.rfIsB && this.rfIsB.scHr) {
                this.rfIsB.scHr.xbKw.viLt(this.rfIsB, uhHt);
            }
        },
        riIwD: function(uhHt) {
            if (this.rfIsB === null) {
                return;
            }
            if (this.zhPy[uhHt.id].saLy === false && this.zhPy[uhHt.id].saKv === true) {
                if (this.rhIvF && !this.xfOz(null, null, uhHt)) {
                    return;
                }
                this.zhPy[uhHt.id].saLy = true;
                this.zhPy[uhHt.id].rhMs = false;
                this.zhPy[uhHt.id].vaNu = this.rfOyC.time.now;
                if (this.rfIsB && this.rfIsB.scHr) {
                    this.rfIsB.scHr.ybNz.viLt(this.rfIsB, uhHt);
                }
                uhHt.rbLu = true;
                if (this.wgKs && this.weGr === false) {
                    this.xjMz(uhHt);
                }
                if (this.xgHz) {
                    this.rfIsB.xgHz();
                }
            }
            return this.rgOwH;
        },
        rhNqE: function(uhHt) {
            if (this.rfIsB === null) {
                return;
            }
            if (this.zhPy[uhHt.id].saLy && uhHt.rhMs) {
                this.zhPy[uhHt.id].saLy = false;
                this.zhPy[uhHt.id].rhMs = true;
                this.zhPy[uhHt.id].tfPx = this.rfOyC.time.now;
                this.zhPy[uhHt.id].zgGz = this.zhPy[uhHt.id].tfPx - this.zhPy[uhHt.id].vaNu;
                if (this.rhNuC(uhHt)) {
                    if (this.rfIsB && this.rfIsB.scHr) {
                        this.rfIsB.scHr.wcIw.viLt(this.rfIsB, uhHt, true);
                    }
                } else {
                    if (this.rfIsB && this.rfIsB.scHr) {
                        this.rfIsB.scHr.wcIw.viLt(this.rfIsB, uhHt, false);
                    }
                    if (this.rjJrE) {
                        this.rfOyC.canvas.style.cursor = "default";
                        this.rjIqF = false;
                    }
                }
                uhHt.rbLu = true;
                if (this.wgKs && this.weGr && this.rhKuA === uhHt.id) {
                    this.vbIt(uhHt);
                }
            }
        },
        yhOx: function(uhHt) {
            if (uhHt.rhMs) {
                this.vbIt(uhHt);
                return false;
            }
            var qhNv = this.riLtH(uhHt.x) + this.xhLs.x + this.xeLv.x;
            var qhNw = this.riLtG(uhHt.y) + this.xhLs.y + this.xeLv.y;
            if (this.rfIsB.rjNrH) {
                if (this.rgOuH) {
                    this.rfIsB.zgPr.x = qhNv;
                }
                if (this.rhKyD) {
                    this.rfIsB.zgPr.y = qhNw;
                }
                if (this.xgHw) {
                    this.riHsG();
                }
                if (this.zhGr) {
                    this.rhJqA();
                }
                if (this.yjIy) {
                    this.rfIsB.zgPr.x = Math.round((this.rfIsB.zgPr.x - (this.zjPy % this.shHq)) / this.shHq) * this.shHq + (this.zjPy % this.shHq);
                    this.rfIsB.zgPr.y = Math.round((this.rfIsB.zgPr.y - (this.zjPz % this.shHr)) / this.shHr) * this.shHr + (this.zjPz % this.shHr);
                }
            } else {
                if (this.rgOuH) {
                    this.rfIsB.x = qhNv;
                }
                if (this.rhKyD) {
                    this.rfIsB.y = qhNw;
                }
                if (this.xgHw) {
                    this.riHsG();
                }
                if (this.zhGr) {
                    this.rhJqA();
                }
                if (this.yjIy) {
                    this.rfIsB.x = Math.round((this.rfIsB.x - (this.zjPy % this.shHq)) / this.shHq) * this.shHq + (this.zjPy % this.shHq);
                    this.rfIsB.y = Math.round((this.rfIsB.y - (this.zjPz % this.shHr)) / this.shHr) * this.shHr + (this.zjPz % this.shHr);
                }
            }
            return true;
        },
        vfOr: function(uhHt, rbMr) {
            uhHt = uhHt || 0;
            rbMr = rbMr || 500;
            return (this.zhPy[uhHt].saKv && this.zdIq(uhHt) < rbMr);
        },
        ujIv: function(uhHt, rbMr) {
            uhHt = uhHt || 0;
            rbMr = rbMr || 500;
            return (this.zhPy[uhHt].sjPy && (this.rfOyC.time.now - this.zhPy[uhHt].ueLw < rbMr));
        },
        ycNu: function(uhHt, rbMr) {
            uhHt = uhHt || 0;
            rbMr = rbMr || 500;
            return (this.zhPy[uhHt].saLy && this.zgGz(uhHt) < rbMr);
        },
        zeMq: function(uhHt, rbMr) {
            uhHt = uhHt || 0;
            rbMr = rbMr || 500;
            return (this.zhPy[uhHt].rhMs && (this.rfOyC.time.now - this.zhPy[uhHt].tfPx < rbMr));
        },
        zdIq: function(uhHt) {
            uhHt = uhHt || 0;
            if (this.zhPy[uhHt].saKv) {
                return this.rfOyC.time.now - this.zhPy[uhHt].vaNx;
            }
            return -1;
        },
        zgGz: function(uhHt) {
            uhHt = uhHt || 0;
            if (this.zhPy[uhHt].saLy) {
                return this.rfOyC.time.now - this.zhPy[uhHt].vaNu;
            }
            return -1;
        },
        xeJq: function(xcGx, xgHz, zdHs, riNvK, xgHw, zhGr) {
            if (typeof xcGx === 'undefined') {
                xcGx = false;
            }
            if (typeof xgHz === 'undefined') {
                xgHz = false;
            }
            if (typeof zdHs === 'undefined') {
                zdHs = false;
            }
            if (typeof riNvK === 'undefined') {
                riNvK = 255;
            }
            if (typeof xgHw === 'undefined') {
                xgHw = null;
            }
            if (typeof zhGr === 'undefined') {
                zhGr = null;
            }
            this.xhLs = new rfjwh.Point();
            this.wgKs = true;
            this.xgHz = xgHz;
            this.xeLv = new rfjwh.Point();
            this.riMvD = xcGx;
            this.rhIvF = zdHs;
            this.rhIvG = riNvK;
            if (xgHw) {
                this.xgHw = xgHw;
            }
            if (zhGr) {
                this.zhGr = zhGr;
            }
        },
        yeLv: function() {
            if (this.zhPy) {
                for (var i = 0; i < 10; i++) {
                    this.zhPy[i].weGr = false;
                }
            }
            this.wgKs = false;
            this.weGr = false;
            this.rhKuA = -1;
        },
        xjMz: function(uhHt) {
            this.weGr = true;
            this.rhKuA = uhHt.id;
            this.zhPy[uhHt.id].weGr = true;
            if (this.rfIsB.rjNrH) {
                if (this.riMvD) {
                    this.rfIsB.vjOw(uhHt.x, uhHt.y);
                    this.xhLs.shMy(this.rfIsB.zgPr.x - uhHt.x, this.rfIsB.zgPr.y - uhHt.y);
                } else {
                    this.xhLs.shMy(this.rfIsB.zgPr.x - uhHt.x, this.rfIsB.zgPr.y - uhHt.y);
                }
            } else {
                if (this.riMvD) {
                    var sdPv = this.rfIsB.wfJx();
                    this.rfIsB.x = this.riLtH(uhHt.x) + (this.rfIsB.x - sdPv.tdGs);
                    this.rfIsB.y = this.riLtG(uhHt.y) + (this.rfIsB.y - sdPv.tdGt);
                }
                this.xhLs.shMy(this.rfIsB.x - this.riLtH(uhHt.x), this.rfIsB.y - this.riLtG(uhHt.y));
            }
            this.yhOx(uhHt);
            if (this.xgHz) {
                this.xhLr = true;
                this.rfIsB.xgHz();
            }
            this.rfIsB.scHr.onDragStart.viLt(this.rfIsB, uhHt);
        },
        riLtH: function(x) {
            if (this.yjOy) {
                x -= this.rfOyC.scale.riIv.yfNw.x;
                x *= this.rfOyC.scale.riIv.rgPuJ.x;
            }
            return x;
        },
        riLtG: function(y) {
            if (this.yjOy) {
                y -= this.rfOyC.scale.riIv.yfNw.y;
                y *= this.rfOyC.scale.riIv.rgPuJ.y;
            }
            return y;
        },
        vbIt: function(uhHt) {
            this.weGr = false;
            this.rhKuA = -1;
            this.zhPy[uhHt.id].weGr = false;
            this.xhLr = false;
            if (this.rjKuH) {
                if (this.rfIsB.rjNrH) {
                    this.rfIsB.zgPr.x = Math.round((this.rfIsB.zgPr.x - (this.zjPy % this.shHq)) / this.shHq) * this.shHq + (this.zjPy % this.shHq);
                    this.rfIsB.zgPr.y = Math.round((this.rfIsB.zgPr.y - (this.zjPz % this.shHr)) / this.shHr) * this.shHr + (this.zjPz % this.shHr);
                } else {
                    this.rfIsB.x = Math.round((this.rfIsB.x - (this.zjPy % this.shHq)) / this.shHq) * this.shHq + (this.zjPy % this.shHq);
                    this.rfIsB.y = Math.round((this.rfIsB.y - (this.zjPz % this.shHr)) / this.shHr) * this.shHr + (this.zjPz % this.shHr);
                }
            }
            this.rfIsB.scHr.xbKv.viLt(this.rfIsB, uhHt);
            if (this.rhNuC(uhHt) === false) {
                this.rhHwK(uhHt);
            }
        },
        yaHq: function(riIxB, rjPvG) {
            if (typeof riIxB === 'undefined') {
                riIxB = true;
            }
            if (typeof rjPvG === 'undefined') {
                rjPvG = true;
            }
            this.rgOuH = riIxB;
            this.rhKyD = rjPvG;
        },
        xeJr: function(shHq, shHr, onDrag, wcHr, zjPy, zjPz) {
            if (typeof onDrag === 'undefined') {
                onDrag = true;
            }
            if (typeof wcHr === 'undefined') {
                wcHr = false;
            }
            if (typeof zjPy === 'undefined') {
                zjPy = 0;
            }
            if (typeof zjPz === 'undefined') {
                zjPz = 0;
            }
            this.shHq = shHq;
            this.shHr = shHr;
            this.zjPy = zjPy;
            this.zjPz = zjPz;
            this.yjIy = onDrag;
            this.rjKuH = wcHr;
        },
        yeLw: function() {
            this.yjIy = false;
            this.rjKuH = false;
        },
        riHsG: function() {
            if (this.rfIsB.rjNrH) {
                if (this.rfIsB.zgPr.x < this.xgHw.left) {
                    this.rfIsB.zgPr.x = this.xgHw.left;
                } else if ((this.rfIsB.zgPr.x + this.rfIsB.width) > this.xgHw.right) {
                    this.rfIsB.zgPr.x = this.xgHw.right - this.rfIsB.width;
                }
                if (this.rfIsB.zgPr.y < this.xgHw.top) {
                    this.rfIsB.zgPr.y = this.xgHw.top;
                } else if ((this.rfIsB.zgPr.y + this.rfIsB.height) > this.xgHw.bottom) {
                    this.rfIsB.zgPr.y = this.xgHw.bottom - this.rfIsB.height;
                }
            } else {
                if (this.rfIsB.x < this.xgHw.left) {
                    this.rfIsB.x = this.xgHw.x;
                } else if ((this.rfIsB.x + this.rfIsB.width) > this.xgHw.right) {
                    this.rfIsB.x = this.xgHw.right - this.rfIsB.width;
                }
                if (this.rfIsB.y < this.xgHw.top) {
                    this.rfIsB.y = this.xgHw.top;
                } else if ((this.rfIsB.y + this.rfIsB.height) > this.xgHw.bottom) {
                    this.rfIsB.y = this.xgHw.bottom - this.rfIsB.height;
                }
            }
        },
        rhJqA: function() {
            if (this.rfIsB.rjNrH && this.zhGr.rjNrH) {
                if (this.rfIsB.zgPr.x < this.zhGr.yfMw.x) {
                    this.rfIsB.zgPr.x = this.zhGr.yfMw.x;
                } else if ((this.rfIsB.zgPr.x + this.rfIsB.width) > (this.zhGr.yfMw.x + this.zhGr.width)) {
                    this.rfIsB.zgPr.x = (this.zhGr.yfMw.x + this.zhGr.width) - this.rfIsB.width;
                }
                if (this.rfIsB.zgPr.y < this.zhGr.yfMw.y) {
                    this.rfIsB.zgPr.y = this.zhGr.yfMw.y;
                } else if ((this.rfIsB.zgPr.y + this.rfIsB.height) > (this.zhGr.yfMw.y + this.zhGr.height)) {
                    this.rfIsB.zgPr.y = (this.zhGr.yfMw.y + this.zhGr.height) - this.rfIsB.height;
                }
            } else {
                if (this.rfIsB.x < this.zhGr.x) {
                    this.rfIsB.x = this.zhGr.x;
                } else if ((this.rfIsB.x + this.rfIsB.width) > (this.zhGr.x + this.zhGr.width)) {
                    this.rfIsB.x = (this.zhGr.x + this.zhGr.width) - this.rfIsB.width;
                }
                if (this.rfIsB.y < this.zhGr.y) {
                    this.rfIsB.y = this.zhGr.y;
                } else if ((this.rfIsB.y + this.rfIsB.height) > (this.zhGr.y + this.zhGr.height)) {
                    this.rfIsB.y = (this.zhGr.y + this.zhGr.height) - this.rfIsB.height;
                }
            }
        }
    };
    rfjwh.zept.prototype.constructor = rfjwh.zept;
    rfjwh.schr = function(rfIsB) {
        this.parent = rfIsB;
        this.riKtD = new rfjwh.tgot();
        this.rgPqK = new rfjwh.tgot();
        this.wcIt = new rfjwh.tgot();
        this.veIw = new rfjwh.tgot();
        this.wcHt = new rfjwh.tgot();
        this.rjMzA = new rfjwh.tgot();
        this.rjMzD = new rfjwh.tgot();
        this.ybMq = null;
        this.xbKw = null;
        this.ybNz = null;
        this.wcIw = null;
        this.onDragStart = null;
        this.xbKv = null;
        this.rhLrG = null;
        this.rgNtK = null;
        this.rhPrE = null;
    };
    rfjwh.schr.prototype = {
        tbPr: function() {
            this.parent = null;
            this.wcIt.tbOw();
            this.riKtD.tbOw();
            this.rgPqK.tbOw();
            this.veIw.tbOw();
            this.wcHt.tbOw();
            this.rjMzA.tbOw();
            if (this.ybMq) {
                this.ybMq.tbOw();
                this.xbKw.tbOw();
                this.ybNz.tbOw();
                this.wcIw.tbOw();
                this.onDragStart.tbOw();
                this.xbKv.tbOw();
            }
            if (this.rhLrG) {
                this.rhLrG.tbOw();
                this.rgNtK.tbOw();
                this.rhPrE.tbOw();
            }
        }
    };
    rfjwh.schr.prototype.constructor = rfjwh.schr;
    rfjwh.rhjwe = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.world = this.rfOyC.world;
    };
    rfjwh.rhjwe.prototype = {
        viGx: function(object) {
            return this.world.add(object);
        },
        image: function(x, y, key, frame, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.Image(this.rfOyC, x, y, key, frame));
        },
        rfIsB: function(x, y, key, frame, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.create(x, y, key, frame);
        },
        sgIs: function(obj) {
            return this.rfOyC.tfNw.create(obj);
        },
        group: function(parent, name, xgNz, xeKz, rhPtC) {
            return new rfjwh.Group(this.rfOyC, parent, name, xgNz, xeKz, rhPtC);
        },
        zdHr: function(rhPtC, parent, name, xgNz) {
            return new rfjwh.Group(this.rfOyC, parent, name, xgNz, true, rhPtC);
        },
        zjNt: function(parent, name, xgNz) {
            if (typeof parent === 'undefined') {
                parent = null;
            }
            if (typeof name === 'undefined') {
                name = 'group';
            }
            if (typeof xgNz === 'undefined') {
                xgNz = false;
            }
            return new rfjwh.zjnt(this.rfOyC, parent, name, xgNz);
        },
        audio: function(key, volume, loop, connect) {
            return this.rfOyC.rfHvH.add(key, volume, loop, connect);
        },
        rfHvH: function(key, volume, loop, connect) {
            return this.rfOyC.rfHvH.add(key, volume, loop, connect);
        },
        yfPs: function(key) {
            return this.rfOyC.rfHvH.wiOt(key);
        },
        yiJu: function(x, y, width, height, key, frame, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.yiju(this.rfOyC, x, y, width, height, key, frame));
        },
        rfLw: function(x, y, key, frame, tiHx, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.rflw(this.rfOyC, x, y, key, frame, tiHx));
        },
        text: function(x, y, text, style, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.Text(this.rfOyC, x, y, text, style));
        },
        button: function(x, y, key, uaGu, riHrD, wbPu, veGz, wgLz, ueGq, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.Button(this.rfOyC, x, y, key, uaGu, riHrD, wbPu, veGz, wgLz, ueGq));
        },
        vgOs: function(x, y, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.vgos(this.rfOyC, x, y));
        },
        tbMv: function(x, y, zeHu) {
            return this.rfOyC.wbNs.add(new rfjwh.wbns.Arcade.tbmv(this.rfOyC, x, y, zeHu));
        },
        waMu: function(font, riNzB, riHsK, rcHx, yfLt, wjNz, wjMr, ubPt, ubPz) {
            return new rfjwh.wamu(this.rfOyC, font, riNzB, riHsK, rcHx, yfLt, wjNz, wjMr, ubPt, ubPz);
        },
        xgIs: function(x, y, font, text, size, group) {
            if (typeof group === 'undefined') {
                group = this.world;
            }
            return group.add(new rfjwh.xgis(this.rfOyC, x, y, font, text, size));
        },
        ueLs: function(key, reNrF, reNqC, width, height) {
            return new rfjwh.uels(this.rfOyC, key, reNrF, reNqC, width, height);
        },
        rjLyK: function(width, height, key, xgNy) {
            if (typeof key === 'undefined' || key === '') {
                key = this.rfOyC.qcHr.reIw();
            }
            if (typeof xgNy === 'undefined') {
                xgNy = false;
            }
            var ueMt = new rfjwh.rjlyk(this.rfOyC, width, height, key);
            if (xgNy) {
                this.rfOyC.rcIy.rhNsG(key, ueMt);
            }
            return ueMt;
        },
        xgIq: function(width, height, key, xgNy) {
            if (typeof xgNy === 'undefined') {
                xgNy = false;
            }
            if (typeof key === 'undefined' || key === '') {
                key = this.rfOyC.qcHr.reIw();
            }
            var ueMt = new rfjwh.xgiq(this.rfOyC, key, width, height);
            if (xgNy) {
                this.rfOyC.rcIy.rjPuG(key, ueMt);
            }
            return ueMt;
        },
        filter: function(filter) {
            var rePuH = Array.prototype.splice.call(arguments, 1);
            var filter = new rfjwh.Filter[filter](this.rfOyC);
            filter.rhNr.apply(filter, rePuH);
            return filter;
        },
        plugin: function(plugin) {
            return this.rfOyC.uhHs.add(plugin);
        }
    };
    rfjwh.rhjwe.prototype.constructor = rfjwh.rhjwe;
    rfjwh.rhjwf = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.world = this.rfOyC.world;
    };
    rfjwh.rhjwf.prototype = {
        image: function(x, y, key, frame) {
            return new rfjwh.Image(this.rfOyC, x, y, key, frame);
        },
        rfIsB: function(x, y, key, frame) {
            return new rfjwh.rfisb(this.rfOyC, x, y, key, frame);
        },
        sgIs: function(obj) {
            return new rfjwh.sgis(obj, this.rfOyC);
        },
        group: function(parent, name, xgNz, xeKz, rhPtC) {
            return new rfjwh.Group(this.rfOyC, null, name, xgNz, xeKz, rhPtC);
        },
        zjNt: function(parent, name, xgNz) {
            if (typeof name === 'undefined') {
                name = 'group';
            }
            if (typeof xgNz === 'undefined') {
                xgNz = false;
            }
            return new rfjwh.zjnt(this.rfOyC, parent, name, xgNz);
        },
        audio: function(key, volume, loop, connect) {
            return this.rfOyC.rfHvH.add(key, volume, loop, connect);
        },
        yfPs: function(key) {
            return this.rfOyC.rfHvH.wiOt(key);
        },
        rfHvH: function(key, volume, loop, connect) {
            return this.rfOyC.rfHvH.add(key, volume, loop, connect);
        },
        yiJu: function(x, y, width, height, key, frame) {
            return new rfjwh.yiju(this.rfOyC, x, y, width, height, key, frame);
        },
        rfLw: function(x, y, key, frame, tiHx) {
            return new rfjwh.rflw(this.rfOyC, x, y, key, frame, tiHx);
        },
        text: function(x, y, text, style) {
            return new rfjwh.Text(this.rfOyC, x, y, text, style);
        },
        button: function(x, y, key, uaGu, riHrD, wbPu, veGz, wgLz, ueGq) {
            return new rfjwh.Button(this.rfOyC, x, y, key, uaGu, riHrD, wbPu, veGz, wgLz, ueGq);
        },
        vgOs: function(x, y) {
            return new rfjwh.vgos(this.rfOyC, x, y);
        },
        tbMv: function(x, y, zeHu) {
            return new rfjwh.wbns.Arcade.tbmv(this.rfOyC, x, y, zeHu);
        },
        waMu: function(font, riNzB, riHsK, rcHx, yfLt, wjNz, wjMr, ubPt, ubPz) {
            return new rfjwh.wamu(this.rfOyC, font, riNzB, riHsK, rcHx, yfLt, wjNz, wjMr, ubPt, ubPz);
        },
        xgIs: function(x, y, font, text, size) {
            return new rfjwh.xgis(this.rfOyC, x, y, font, text, size);
        },
        ueLs: function(key, reNrF, reNqC, width, height) {
            return new rfjwh.uels(this.rfOyC, key, reNrF, reNqC, width, height);
        },
        rjLyK: function(width, height, key, xgNy) {
            if (typeof key === 'undefined' || key === '') {
                key = this.rfOyC.qcHr.reIw();
            }
            if (typeof xgNy === 'undefined') {
                xgNy = false;
            }
            var ueMt = new rfjwh.rjlyk(this.rfOyC, width, height, key);
            if (xgNy) {
                this.rfOyC.rcIy.rhNsG(key, ueMt);
            }
            return ueMt;
        },
        xgIq: function(width, height, key, xgNy) {
            if (typeof xgNy === 'undefined') {
                xgNy = false;
            }
            if (typeof key === 'undefined' || key === '') {
                key = this.rfOyC.qcHr.reIw();
            }
            var ueMt = new rfjwh.xgiq(this.rfOyC, key, width, height);
            if (xgNy) {
                this.rfOyC.rcIy.rjPuG(key, ueMt);
            }
            return ueMt;
        },
        filter: function(filter) {
            var rePuH = Array.prototype.splice.call(arguments, 1);
            var filter = new rfjwh.Filter[filter](this.rfOyC);
            filter.rhNr.apply(filter, rePuH);
            return filter;
        }
    };
    rfjwh.rhjwf.prototype.constructor = rfjwh.rhjwf;
    rfjwh.xgiq = function(rfOyC, key, width, height) {
        if (typeof width === 'undefined') {
            width = 256;
        }
        if (typeof height === 'undefined') {
            height = 256;
        }
        this.rfOyC = rfOyC;
        this.key = key;
        this.width = width;
        this.height = height;
        this.canvas = rfjwh.Canvas.create(width, height, '', true);
        this.tcLv = this.canvas.getContext('2d');
        this.qePx = this.tcLv;
        this.weNw = this.tcLv.getImageData(0, 0, width, height);
        this.data = this.weNw.data;
        this.tiIu = null;
        if (this.weNw.data.buffer) {
            this.buffer = this.weNw.data.buffer;
            this.tiIu = new Uint32Array(this.buffer);
        } else {
            if (window['ArrayBuffer']) {
                this.buffer = new yghz(this.weNw.data.length);
                this.tiIu = new Uint32Array(this.buffer);
            } else {
                this.tiIu = this.weNw.data;
            }
        }
        this.yfPx = new RGGW.yfpx(this.canvas);
        this.ueMt = new RGGW.uemt(this.yfPx);
        this.zbLx = new rfjwh.Frame(0, 0, 0, width, height, 'bitmapData', rfOyC.qcHr.reIw());
        this.ueMt.frame = this.zbLx;
        this.type = rfjwh.XGIQ;
        this.rgMwD = false;
        this.rbLu = false;
        this.qfGr = this.clear;
        this.sfHq = null;
        this.qaLs = new rfjwh.Point();
        this.rdIt = new rfjwh.Point();
        this.sfGq = new rfjwh.Point();
        this.teLx = 0;
        this.sfJv = {
            rfOu: 1,
            tcIq: 1
        };
        this.tePw = new rfjwh.Point();
        this.sePq = 0;
        this.sfGz = 0;
        this.sfGy = 0;
        this.teOt = new rfjwh.sdku();
    };
    rfjwh.xgiq.prototype = {
        add: function(object) {
            if (Array.isArray(object)) {
                for (var i = 0; i < object.length; i++) {
                    if (object[i]['loadTexture']) {
                        object[i].ycKr(this);
                    }
                }
            } else {
                object.ycKr(this);
            }
            return this;
        },
        load: function(source) {
            if (typeof source === 'string') {
                source = this.rfOyC.rcIy.vhGs(source);
            }
            if (source) {
                this.resize(source.width, source.height);
                this.qfGr();
            } else {
                return;
            }
            this.rjHz(source);
            this.update();
            return this;
        },
        clear: function() {
            this.tcLv.clearRect(0, 0, this.width, this.height);
            this.rbLu = true;
            return this;
        },
        fill: function(r, g, b, a) {
            if (typeof a === 'undefined') {
                a = 1;
            }
            this.tcLv.fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';
            this.tcLv.fillRect(0, 0, this.width, this.height);
            this.rbLu = true;
            return this;
        },
        resize: function(width, height) {
            if (width !== this.width || height !== this.height) {
                this.width = width;
                this.height = height;
                this.canvas.width = width;
                this.canvas.height = height;
                this.yfPx.width = width;
                this.yfPx.height = height;
                this.zbLx.width = width;
                this.zbLx.height = height;
                this.ueMt.width = width;
                this.ueMt.height = height;
                this.ueMt.rjKu.width = width;
                this.ueMt.rjKu.height = height;
                this.update();
                this.rbLu = true;
            }
            return this;
        },
        update: function(x, y, width, height) {
            if (typeof x === 'undefined') {
                x = 0;
            }
            if (typeof y === 'undefined') {
                y = 0;
            }
            if (typeof width === 'undefined') {
                width = this.width;
            }
            if (typeof height === 'undefined') {
                height = this.height;
            }
            this.weNw = this.tcLv.getImageData(x, y, width, height);
            this.data = this.weNw.data;
            if (this.weNw.data.buffer) {
                this.buffer = this.weNw.data.buffer;
                this.tiIu = new Uint32Array(this.buffer);
            } else {
                if (window['ArrayBuffer']) {
                    this.buffer = new yghz(this.weNw.data.length);
                    this.tiIu = new Uint32Array(this.buffer);
                } else {
                    this.tiIu = this.weNw.data;
                }
            }
            return this;
        },
        rhPvA: function(uaGu, riHrD, x, y, width, height) {
            if (typeof x === 'undefined') {
                x = 0;
            }
            if (typeof y === 'undefined') {
                y = 0;
            }
            if (typeof width === 'undefined') {
                width = this.width;
            }
            if (typeof height === 'undefined') {
                height = this.height;
            }
            var w = x + width;
            var h = y + height;
            var siIt = rfjwh.Color.yfGu();
            var thLx = {
                r: 0,
                g: 0,
                b: 0,
                a: 0
            };
            var rbLu = false;
            for (var qhHy = y; qhHy < h; qhHy++) {
                for (var qhHx = x; qhHx < w; qhHx++) {
                    rfjwh.Color.ziOr(this.xdIq(qhHx, qhHy), siIt);
                    thLx = uaGu.call(riHrD, siIt, qhHx, qhHy);
                    if (thLx !== false && thLx !== null && thLx !== undefined) {
                        this.yjLv(qhHx, qhHy, thLx.r, thLx.g, thLx.b, thLx.a, false);
                        rbLu = true;
                    }
                }
            }
            if (rbLu) {
                this.tcLv.putImageData(this.weNw, 0, 0);
                this.rbLu = true;
            }
            return this;
        },
        zcPx: function(uaGu, riHrD, x, y, width, height) {
            if (typeof x === 'undefined') {
                x = 0;
            }
            if (typeof y === 'undefined') {
                y = 0;
            }
            if (typeof width === 'undefined') {
                width = this.width;
            }
            if (typeof height === 'undefined') {
                height = this.height;
            }
            var w = x + width;
            var h = y + height;
            var siIt = 0;
            var thLx = 0;
            var rbLu = false;
            for (var qhHy = y; qhHy < h; qhHy++) {
                for (var qhHx = x; qhHx < w; qhHx++) {
                    siIt = this.xdIq(qhHx, qhHy);
                    thLx = uaGu.call(riHrD, siIt, qhHx, qhHy);
                    if (thLx !== siIt) {
                        this.tiIu[qhHy * this.width + qhHx] = thLx;
                        rbLu = true;
                    }
                }
            }
            if (rbLu) {
                this.tcLv.putImageData(this.weNw, 0, 0);
                this.rbLu = true;
            }
            return this;
        },
        xaHz: function(qhMz, qiPw, qjNz, qjOq, qhLq, qiPx, qjMq, qjOr, thMu) {
            var qhIs = 0;
            var qhIt = 0;
            var w = this.width;
            var h = this.height;
            var source = rfjwh.Color.wbOr(qhMz, qiPw, qjNz, qjOq);
            if (thMu !== undefined && thMu instanceof rfjwh.wbgy) {
                qhIs = thMu.x;
                qhIt = thMu.y;
                w = thMu.width;
                h = thMu.height;
            }
            for (var y = 0; y < h; y++) {
                for (var x = 0; x < w; x++) {
                    if (this.xdIq(qhIs + x, qhIt + y) === source) {
                        this.yjLv(qhIs + x, qhIt + y, qhLq, qiPx, qjMq, qjOr, false);
                    }
                }
            }
            this.tcLv.putImageData(this.weNw, 0, 0);
            this.rbLu = true;
            return this;
        },
        thGw: function(h, s, l, thMu) {
            if (typeof h === 'undefined' || h === null) {
                h = false;
            }
            if (typeof s === 'undefined' || s === null) {
                s = false;
            }
            if (typeof l === 'undefined' || l === null) {
                l = false;
            }
            if (!h && !s && !l) {
                return;
            }
            if (typeof thMu === 'undefined') {
                thMu = new rfjwh.wbgy(0, 0, this.width, this.height);
            }
            var siIt = rfjwh.Color.yfGu();
            for (var y = thMu.y; y < thMu.bottom; y++) {
                for (var x = thMu.x; x < thMu.right; x++) {
                    rfjwh.Color.ziOr(this.xdIq(x, y), siIt, true);
                    if (h) {
                        siIt.h = h;
                    }
                    if (s) {
                        siIt.s = s;
                    }
                    if (l) {
                        siIt.l = l;
                    }
                    rfjwh.Color.vgmw(siIt.h, siIt.s, siIt.l, siIt);
                    this.yjLv(x, y, siIt.r, siIt.g, siIt.b, siIt.a, false);
                }
            }
            this.tcLv.putImageData(this.weNw, 0, 0);
            this.rbLu = true;
            return this;
        },
        vbNs: function(h, s, l, thMu) {
            if (typeof h === 'undefined' || h === null) {
                h = false;
            }
            if (typeof s === 'undefined' || s === null) {
                s = false;
            }
            if (typeof l === 'undefined' || l === null) {
                l = false;
            }
            if (!h && !s && !l) {
                return;
            }
            if (typeof thMu === 'undefined') {
                thMu = new rfjwh.wbgy(0, 0, this.width, this.height);
            }
            var siIt = rfjwh.Color.yfGu();
            for (var y = thMu.y; y < thMu.bottom; y++) {
                for (var x = thMu.x; x < thMu.right; x++) {
                    rfjwh.Color.ziOr(this.xdIq(x, y), siIt, true);
                    if (h) {
                        siIt.h = this.rfOyC.math.rdNv(siIt.h + h, 0, 1);
                    }
                    if (s) {
                        siIt.s = this.rfOyC.math.xcHt(siIt.s + s, 0, 1);
                    }
                    if (l) {
                        siIt.l = this.rfOyC.math.xcHt(siIt.l + l, 0, 1);
                    }
                    rfjwh.Color.vgmw(siIt.h, siIt.s, siIt.l, siIt);
                    this.yjLv(x, y, siIt.r, siIt.g, siIt.b, siIt.a, false);
                }
            }
            this.tcLv.putImageData(this.weNw, 0, 0);
            this.rbLu = true;
            return this;
        },
        yjLv: function(x, y, rfJzH, rfNrE, blue, alpha, weMq) {
            if (typeof weMq === 'undefined') {
                weMq = true;
            }
            if (x >= 0 && x <= this.width && y >= 0 && y <= this.height) {
                if (rfjwh.sclr.RJMTK) {
                    this.tiIu[y * this.width + x] = (alpha << 24) | (blue << 16) | (rfNrE << 8) | rfJzH;
                } else {
                    this.tiIu[y * this.width + x] = (rfJzH << 24) | (rfNrE << 16) | (blue << 8) | alpha;
                }
                if (weMq) {
                    this.tcLv.putImageData(this.weNw, 0, 0);
                    this.rbLu = true;
                }
            }
            return this;
        },
        vbOu: function(x, y, rfJzH, rfNrE, blue, weMq) {
            return this.yjLv(x, y, rfJzH, rfNrE, blue, 255, weMq);
        },
        vhGw: function(x, y, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu();
            }
            var index = ~~(x + (y * this.width));
            index *= 4;
            qcNz.r = this.data[index];
            qcNz.g = this.data[++index];
            qcNz.b = this.data[++index];
            qcNz.a = this.data[++index];
            return qcNz;
        },
        xdIq: function(x, y) {
            if (x >= 0 && x <= this.width && y >= 0 && y <= this.height) {
                return this.tiIu[y * this.width + x];
            }
        },
        ydLq: function(x, y, qcNz, qdPu, qdPv) {
            return rfjwh.Color.ziOr(this.xdIq(x, y), qcNz, qdPu, qdPv);
        },
        wfIv: function(rect) {
            return this.tcLv.getImageData(rect.x, rect.y, rect.width, rect.height);
        },
        rjNuG: function(direction) {
            if (typeof direction === 'undefined') {
                direction = 0;
            }
            var siIt = rfjwh.Color.yfGu();
            var x = 0;
            var y = 0;
            var v = 1;
            var rfJq = false;
            if (direction === 1) {
                v = -1;
                y = this.height;
            } else if (direction === 3) {
                v = -1;
                x = this.width;
            }
            do {
                rfjwh.Color.ziOr(this.xdIq(x, y), siIt);
                if (direction === 0 || direction === 1) {
                    x++;
                    if (x === this.width) {
                        x = 0;
                        y += v;
                        if (y >= this.height || y <= 0) {
                            rfJq = true;
                        }
                    }
                } else if (direction === 2 || direction === 3) {
                    y++;
                    if (y === this.height) {
                        y = 0;
                        x += v;
                        if (x >= this.width || x <= 0) {
                            rfJq = true;
                        }
                    }
                }
            } while (siIt.a === 0 && !rfJq);
            siIt.x = x;
            siIt.y = y;
            return siIt;
        },
        wfJx: function(rect) {
            if (typeof rect === 'undefined') {
                rect = new rfjwh.wbgy();
            }
            rect.x = this.rjNuG(2).x;
            if (rect.x === this.width) {
                return rect.shMy(0, 0, 0, 0);
            }
            rect.y = this.rjNuG(0).y;
            rect.width = (this.rjNuG(3).x - rect.x) + 1;
            rect.height = (this.rjNuG(1).y - rect.y) + 1;
            return rect;
        },
        xgMq: function(x, y, rfPwF, rfPwE, rfIqA, rfIrK) {
            rfIqA = rfIqA || 1;
            rfIrK = rfIrK || 1;
            var image = this.rfOyC.add.image(x, y, this);
            image.anchor.set(rfPwF, rfPwE);
            image.scale.set(rfIqA, rfIrK);
            return image;
        },
        rjLt: function(source, x, y, width, height, qhHx, qhHy, veNz, wcLq, rotate, rfPwF, rfPwE, rfIqA, rfIrK, alpha, wiGr, ufPs) {
            if (typeof source === 'undefined' || source === null) {
                source = this;
            }
            this.sfHq = source;
            if (source instanceof rfjwh.rfisb || source instanceof rfjwh.Image || source instanceof rfjwh.Text) {
                this.qaLs.set(source.ueMt.rjKu.x, source.ueMt.rjKu.y);
                this.rdIt.set(source.ueMt.rjKu.width, source.ueMt.rjKu.height);
                this.sfGq.set(source.scale.x, source.scale.y);
                this.tePw.set(source.anchor.x, source.anchor.y);
                this.teLx = source.rfIqD;
                this.sfJv.tcIq = source.alpha;
                this.sfHq = source.ueMt.yfPx.source;
                if (source.ueMt.trim) {
                    qhHx += source.ueMt.trim.x - source.anchor.x * source.ueMt.trim.width;
                    qhHy += source.ueMt.trim.y - source.anchor.y * source.ueMt.trim.height;
                }
                if (source.reKr !== 0xFFFFFF) {
                    if (source.xgGz !== source.reKr) {
                        source.xgGz = source.reKr;
                        source.rjKyB = RGGW.zgpx.rhMsA(source, source.reKr);
                    }
                    this.sfHq = source.rjKyB;
                }
            } else {
                this.qaLs.set(0);
                this.sfGq.set(1);
                this.tePw.set(0);
                this.teLx = 0;
                this.sfJv.tcIq = 1;
                if (source instanceof rfjwh.xgiq) {
                    this.sfHq = source.canvas;
                } else if (typeof source === 'string') {
                    source = this.rfOyC.rcIy.vhGs(source);
                    if (source === null) {
                        return;
                    } else {
                        this.sfHq = source;
                    }
                }
                this.rdIt.set(this.sfHq.width, this.sfHq.height);
            }
            if (typeof x === 'undefined' || x === null) {
                x = 0;
            }
            if (typeof y === 'undefined' || y === null) {
                y = 0;
            }
            if (width) {
                this.rdIt.x = width;
            }
            if (height) {
                this.rdIt.y = height;
            }
            if (typeof qhHx === 'undefined' || qhHx === null) {
                qhHx = x;
            }
            if (typeof qhHy === 'undefined' || qhHy === null) {
                qhHy = y;
            }
            if (typeof veNz === 'undefined' || veNz === null) {
                veNz = this.rdIt.x;
            }
            if (typeof wcLq === 'undefined' || wcLq === null) {
                wcLq = this.rdIt.y;
            }
            if (typeof rotate === 'number') {
                this.teLx = rotate;
            }
            if (typeof rfPwF === 'number') {
                this.tePw.x = rfPwF;
            }
            if (typeof rfPwE === 'number') {
                this.tePw.y = rfPwE;
            }
            if (typeof rfIqA === 'number') {
                this.sfGq.x = rfIqA;
            }
            if (typeof rfIrK === 'number') {
                this.sfGq.y = rfIrK;
            }
            if (typeof alpha === 'number') {
                this.sfJv.tcIq = alpha;
            }
            if (typeof wiGr === 'undefined') {
                wiGr = null;
            }
            if (typeof ufPs === 'undefined') {
                ufPs = false;
            }
            if (this.sfJv.tcIq <= 0 || this.sfGq.x === 0 || this.sfGq.y === 0 || this.rdIt.x === 0 || this.rdIt.y === 0) {
                return;
            }
            this.sfJv.rfOu = this.tcLv.globalAlpha;
            this.tcLv.save();
            this.tcLv.globalAlpha = this.sfJv.tcIq;
            if (wiGr) {
                this.tcLv.globalCompositeOperation = wiGr;
            }
            if (ufPs) {
                qhHx |= 0;
                qhHy |= 0;
            }
            this.tcLv.translate(qhHx, qhHy);
            this.tcLv.scale(this.sfGq.x, this.sfGq.y);
            this.tcLv.rotate(this.teLx);
            this.tcLv.drawImage(this.sfHq, this.qaLs.x + x, this.qaLs.y + y, this.rdIt.x, this.rdIt.y, -veNz * this.tePw.x, -wcLq * this.tePw.y, veNz, wcLq);
            this.tcLv.restore();
            this.tcLv.globalAlpha = this.sfJv.rfOu;
            this.rbLu = true;
            return this;
        },
        vjIx: function(source, area, x, y, alpha, wiGr, ufPs) {
            return this.rjLt(source, area.x, area.y, area.width, area.height, x, y, area.width, area.height, 0, 0, 0, 1, 1, alpha, wiGr, ufPs);
        },
        rjHz: function(source, x, y, width, height, wiGr, ufPs) {
            return this.rjLt(source, null, null, null, null, x, y, width, height, null, null, null, null, null, null, wiGr, ufPs);
        },
        reOwE: function(color, blur, x, y) {
            if (typeof color === 'undefined' || color === null) {
                this.tcLv.shadowColor = 'rgba(0,0,0,0)';
            } else {
                this.tcLv.shadowColor = color;
                this.tcLv.shadowBlur = blur || 5;
                this.tcLv.shadowOffsetX = x || 10;
                this.tcLv.shadowOffsetY = y || 10;
            }
        },
        wiNx: function(source, rhGs, yjHu, vfIw) {
            if (typeof vfIw === 'undefined' || vfIw === null) {
                this.rjHz(rhGs).riHqB();
            } else {
                this.rjHz(rhGs, vfIw.x, vfIw.y, vfIw.width, vfIw.height).riHqB();
            }
            if (typeof yjHu === 'undefined' || yjHu === null) {
                this.rjHz(source).xgIw();
            } else {
                this.rjHz(source, yjHu.x, yjHu.y, yjHu.width, yjHu.height).xgIw();
            }
            return this;
        },
        tbIv: function(destination, r, g, b, a, resize, qhLq, qiPx, qjMq) {
            if (typeof a === 'undefined') {
                a = 255;
            }
            if (typeof resize === 'undefined') {
                resize = false;
            }
            if (typeof qhLq === 'undefined') {
                qhLq = r;
            }
            if (typeof qiPx === 'undefined') {
                qiPx = g;
            }
            if (typeof qjMq === 'undefined') {
                qjMq = b;
            }
            if (resize) {
                destination.resize(this.width, this.height);
            }
            this.rhPvA(function(siIt, x, y) {
                if (siIt.r === r && siIt.g === g && siIt.b === b) {
                    destination.yjLv(x, y, qhLq, qiPx, qjMq, a, false);
                }
                return false;
            }, this);
            destination.tcLv.putImageData(destination.weNw, 0, 0);
            destination.rbLu = true;
            return destination;
        },
        rect: function(x, y, width, height, fillStyle) {
            if (typeof fillStyle !== 'undefined') {
                this.tcLv.fillStyle = fillStyle;
            }
            this.tcLv.fillRect(x, y, width, height);
            return this;
        },
        sdKu: function(x, y, thOs, fillStyle) {
            if (typeof fillStyle !== 'undefined') {
                this.tcLv.fillStyle = fillStyle;
            }
            this.tcLv.beginPath();
            this.tcLv.arc(x, y, thOs, 0, Math.PI * 2, false);
            this.tcLv.closePath();
            this.tcLv.fill();
            return this;
        },
        zjJt: function(rhJz, image, repeat) {
            if (typeof repeat === 'undefined') {
                repeat = 'repeat-x';
            }
            if (typeof image === 'string') {
                image = this.rfOyC.rcIy.vhGs(image);
                if (!image) {
                    return;
                }
            }
            var width = rhJz.length;
            if (repeat === 'no-repeat' && width > image.width) {
                width = image.width;
            }
            this.tcLv.fillStyle = this.tcLv.createPattern(image, repeat);
            this.teOt = new rfjwh.sdku(rhJz.rfIsA.x, rhJz.rfIsA.y, image.height);
            this.teOt.rhHzJ(rhJz.rcOr - 1.5707963267948966, false, this.qaLs);
            this.tcLv.save();
            this.tcLv.translate(this.qaLs.x, this.qaLs.y);
            this.tcLv.rotate(rhJz.rcOr);
            this.tcLv.fillRect(0, 0, width, image.height);
            this.tcLv.restore();
            this.rbLu = true;
            return this;
        },
        render: function() {
            if (!this.rgMwD && this.rbLu) {
                this.yfPx.rbLu();
                this.rbLu = false;
            }
            return this;
        },
        xgIw: function() {
            this.tcLv.globalCompositeOperation = 'source-over';
            return this;
        },
        riHqA: function() {
            this.tcLv.globalCompositeOperation = 'source-over';
            return this;
        },
        rjPxB: function() {
            this.tcLv.globalCompositeOperation = 'source-in';
            return this;
        },
        riNyJ: function() {
            this.tcLv.globalCompositeOperation = 'source-out';
            return this;
        },
        riHqB: function() {
            this.tcLv.globalCompositeOperation = 'source-atop';
            return this;
        },
        rgMtD: function() {
            this.tcLv.globalCompositeOperation = 'destination-over';
            return this;
        },
        rhHyK: function() {
            this.tcLv.globalCompositeOperation = 'destination-in';
            return this;
        },
        rgOuA: function() {
            this.tcLv.globalCompositeOperation = 'destination-out';
            return this;
        },
        rgMtE: function() {
            this.tcLv.globalCompositeOperation = 'destination-atop';
            return this;
        },
        uaJr: function() {
            this.tcLv.globalCompositeOperation = 'xor';
            return this;
        },
        uaKw: function() {
            this.tcLv.globalCompositeOperation = 'lighter';
            return this;
        },
        rjPxC: function() {
            this.tcLv.globalCompositeOperation = 'multiply';
            return this;
        },
        yfOv: function() {
            this.tcLv.globalCompositeOperation = 'screen';
            return this;
        },
        zhHq: function() {
            this.tcLv.globalCompositeOperation = 'overlay';
            return this;
        },
        yfOu: function() {
            this.tcLv.globalCompositeOperation = 'darken';
            return this;
        },
        zhIz: function() {
            this.tcLv.globalCompositeOperation = 'lighten';
            return this;
        },
        riHqG: function() {
            this.tcLv.globalCompositeOperation = 'color-dodge';
            return this;
        },
        riNxD: function() {
            this.tcLv.globalCompositeOperation = 'color-burn';
            return this;
        },
        riNxB: function() {
            this.tcLv.globalCompositeOperation = 'hard-light';
            return this;
        },
        riNyK: function() {
            this.tcLv.globalCompositeOperation = 'soft-light';
            return this;
        },
        riHqF: function() {
            this.tcLv.globalCompositeOperation = 'difference';
            return this;
        },
        riNxC: function() {
            this.tcLv.globalCompositeOperation = 'exclusion';
            return this;
        },
        uaKy: function() {
            this.tcLv.globalCompositeOperation = 'hue';
            return this;
        },
        riHqC: function() {
            this.tcLv.globalCompositeOperation = 'saturation';
            return this;
        },
        xgIu: function() {
            this.tcLv.globalCompositeOperation = 'color';
            return this;
        },
        riHqE: function() {
            this.tcLv.globalCompositeOperation = 'luminosity';
            return this;
        }
    };
    Object.defineProperty(rfjwh.xgiq.prototype, "vbLv", {
        get: function() {
            rfjwh.Canvas.rgOzK(this.tcLv);
        },
        set: function(value) {
            rfjwh.Canvas.rgNwC(this.tcLv, value);
        }
    });
    rfjwh.xgiq.zfIv = function(yiHt, yiHu, rfIqA, rfIrK, shJw, shJx) {
        if (typeof yiHt !== 'number') {
            yiHt = 0;
        }
        if (typeof yiHu !== 'number') {
            yiHu = 0;
        }
        if (typeof rfIqA !== 'number') {
            rfIqA = 1;
        }
        if (typeof rfIrK !== 'number') {
            rfIrK = 1;
        }
        if (typeof shJw !== 'number') {
            shJw = 0;
        }
        if (typeof shJx !== 'number') {
            shJx = 0;
        }
        return {
            qhIs: rfIqA,
            qhIt: rfIrK,
            rfIqA: rfIqA,
            rfIrK: rfIrK,
            shJw: shJw,
            shJx: shJx,
            yiHt: yiHt,
            yiHu: yiHu,
            qhHx: yiHt,
            qhHy: yiHu
        };
    };
    rfjwh.xgiq.prototype.constructor = rfjwh.xgiq;
    rfjwh.rfisb = function(rfOyC, x, y, key, frame) {
        x = x || 0;
        y = y || 0;
        key = key || null;
        frame = frame || null;
        this.rfOyC = rfOyC;
        this.name = '';
        this.type = rfjwh.RFISB;
        this.z = 0;
        this.scHr = new rfjwh.schr(this);
        this.animations = new rfjwh.rhnsd(this);
        this.key = key;
        RGGW.rfisb.call(this, RGGW.zblv['__default']);
        this.position.set(x, y);
        this.world = new rfjwh.Point(x, y);
        this.uaMu = false;
        this.input = null;
        this.body = null;
        this.rcPt = true;
        this.rePzF = 1;
        this.vfLt = 0;
        this.rhNuB = false;
        this.rhPsA = false;
        this.rbNy = false;
        this.zgPr = new rfjwh.Point();
        this.vjHx = null;
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0];
        this.rdLw = null;
        this.sfIz = null;
        this.tePz = new rfjwh.wbgy();
        this.ycKr(key, frame);
    };
    rfjwh.rfisb.prototype = Object.create(RGGW.rfisb.prototype);
    rfjwh.rfisb.prototype.constructor = rfjwh.rfisb;
    rfjwh.rfisb.prototype.wbJt = function() {
        if (this.sfIr[4] === 1 && this.scHu) {
            this.world.shMy(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.riIrK.qhHx = this.world.x;
            this.riIrK.qhHy = this.world.y;
            this.sfIr[0] = this.world.x;
            this.sfIr[1] = this.world.y;
            this.sfIr[2] = this.rfIqD;
            if (this.body) {
                this.body.wbJt();
            }
            this.sfIr[4] = 0;
            return false;
        }
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.sfIr[3] = -1;
            return false;
        }
        if (this.vfLt > 0) {
            this.vfLt -= this.rfOyC.time.tbMq;
            if (this.vfLt <= 0) {
                this.rhLy();
                return false;
            }
        }
        if (this.uaMu || this.rhNuB) {
            this.tePz.vjIw(this.wfJx());
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.tePz);
        }
        if (this.rhNuB) {
            if (this.sfIr[5] === 1 && this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 0;
                this.scHr.rjMzD.viLt(this);
            } else if (this.sfIr[5] === 0 && !this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 1;
                this.scHr.rjMzA.viLt(this);
                if (this.rhPsA) {
                    this.rhLy();
                    return false;
                }
            }
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        this.animations.update();
        if (this.body) {
            this.body.wbJt();
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.rfisb.prototype.update = function() {};
    rfjwh.rfisb.prototype.xaNx = function() {
        if (this.key instanceof rfjwh.xgiq) {
            this.key.render();
        }
        if (this.scHu && this.body) {
            this.body.xaNx();
        }
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].xaNx();
        }
    };
    rfjwh.rfisb.prototype.ycKr = function(key, frame, rjKwG) {
        frame = frame || 0;
        if (rjKwG || typeof rjKwG === 'undefined') {
            this.animations.stop();
        }
        this.key = key;
        var vbOq = true;
        var vbLv = this.vbLv;
        if (key instanceof rfjwh.rjlyk) {
            this.key = key.key;
            this.yjKq(key);
        } else if (key instanceof rfjwh.xgiq) {
            this.yjKq(key.ueMt);
            if (this.rfOyC.rcIy.zfKt(key.key, rfjwh.rciy.XGIQ)) {
                vbOq = !this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key.key, rfjwh.rciy.XGIQ), frame);
            }
        } else if (key instanceof RGGW.uemt) {
            this.yjKq(key);
        } else {
            if (key === null || typeof key === 'undefined') {
                this.key = '__default';
                this.yjKq(RGGW.zblv[this.key]);
            } else if (typeof key === 'string' && !this.rfOyC.rcIy.rjPzG(key)) {
                console.warn("Texture with key '" + key + "' not found.");
                this.key = '__missing';
                this.yjKq(RGGW.zblv[this.key]);
            } else {
                this.yjKq(new RGGW.uemt(RGGW.rhnsa[key]));
                vbOq = !this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key), frame);
            }
        }
        this.ueMt.yfPx.rbLu();
        if (vbOq) {
            this.sfIz = rfjwh.wbgy.rbPq(this.ueMt.frame);
        }
        if (!vbLv) {
            this.vbLv = false;
        }
    };
    rfjwh.rfisb.prototype.vbOq = function(frame) {
        this.sfIz = frame;
        this.ueMt.frame.x = frame.x;
        this.ueMt.frame.y = frame.y;
        this.ueMt.frame.width = frame.width;
        this.ueMt.frame.height = frame.height;
        this.ueMt.rjKu.x = frame.x;
        this.ueMt.rjKu.y = frame.y;
        this.ueMt.rjKu.width = frame.width;
        this.ueMt.rjKu.height = frame.height;
        if (frame.rfGwJ) {
            if (this.ueMt.trim) {
                this.ueMt.trim.x = frame.rhHqE;
                this.ueMt.trim.y = frame.rhHqD;
                this.ueMt.trim.width = frame.zjOw;
                this.ueMt.trim.height = frame.zjOv;
            } else {
                this.ueMt.trim = {
                    x: frame.rhHqE,
                    y: frame.rhHqD,
                    width: frame.zjOw,
                    height: frame.zjOv
                };
            }
            this.ueMt.width = frame.zjOw;
            this.ueMt.height = frame.zjOv;
            this.ueMt.frame.width = frame.zjOw;
            this.ueMt.frame.height = frame.zjOv;
        } else if (!frame.rfGwJ && this.ueMt.trim) {
            this.ueMt.trim = null;
        }
        if (this.vjHx) {
            this.yhOw();
        }
        this.ueMt.xgPr();
    };
    rfjwh.rfisb.prototype.xaGs = function() {
        if (this.sfIz) {
            this.vbOq(this.sfIz);
        }
    };
    rfjwh.rfisb.prototype.rjKu = function(rect, rjLt) {
        if (typeof rjLt === 'undefined') {
            rjLt = false;
        }
        if (rect) {
            if (rjLt && this.vjHx !== null) {
                this.vjHx.shMy(rect.x, rect.y, rect.width, rect.height);
            } else if (rjLt && this.vjHx === null) {
                this.vjHx = new rfjwh.wbgy(rect.x, rect.y, rect.width, rect.height);
            } else {
                this.vjHx = rect;
            }
            this.yhOw();
        } else {
            this.rdLw = null;
            this.vjHx = null;
            this.xaGs();
        }
    };
    rfjwh.rfisb.prototype.yhOw = function() {
        if (!this.vjHx) {
            return;
        }
        this.rdLw = rfjwh.wbgy.rbPq(this.vjHx, this.rdLw);
        this.rdLw.x += this.sfIz.x;
        this.rdLw.y += this.sfIz.y;
        var qjKz = Math.max(this.sfIz.x, this.rdLw.x);
        var qjJq = Math.max(this.sfIz.y, this.rdLw.y);
        var qjKy = Math.min(this.sfIz.right, this.rdLw.right) - qjKz;
        var qjKs = Math.min(this.sfIz.bottom, this.rdLw.bottom) - qjJq;
        this.ueMt.rjKu.x = qjKz;
        this.ueMt.rjKu.y = qjJq;
        this.ueMt.rjKu.width = qjKy;
        this.ueMt.rjKu.height = qjKs;
        this.ueMt.frame.width = Math.min(qjKy, this.vjHx.width);
        this.ueMt.frame.height = Math.min(qjKs, this.vjHx.height);
        this.ueMt.width = this.ueMt.frame.width;
        this.ueMt.height = this.ueMt.frame.height;
        this.ueMt.xgPr();
    };
    rfjwh.rfisb.prototype.thKs = function(rePzF) {
        if (typeof rePzF === 'undefined') {
            rePzF = 1;
        }
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.rePzF = rePzF;
        if (this.scHr) {
            this.scHr.wcHt.viLt(this);
        }
        return this;
    };
    rfjwh.rfisb.prototype.rhLy = function() {
        this.rcPt = false;
        this.scHu = false;
        this.rfIxE = false;
        if (this.scHr) {
            this.scHr.veIw.viLt(this);
        }
        return this;
    };
    rfjwh.rfisb.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.sfIr[8] === 1) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.scHr) {
            this.scHr.wcIt.viLt(this);
        }
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        if (this.input) {
            this.input.tbPr();
        }
        if (this.animations) {
            this.animations.tbPr();
        }
        if (this.body) {
            this.body.tbPr();
        }
        if (this.scHr) {
            this.scHr.tbPr();
        }
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        if (this.rdLw) {
            this.rdLw = null;
        }
        if (this.sfIz) {
            this.sfIz = null;
        }
        this.rcPt = false;
        this.scHu = false;
        this.rfIxE = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.rfisb.prototype.scOr = function(seMy) {
        if (this.rcPt) {
            this.rePzF -= seMy;
            if (this.rePzF <= 0) {
                this.rhLy();
            }
        }
        return this;
    };
    rfjwh.rfisb.prototype.reset = function(x, y, rePzF) {
        if (typeof rePzF === 'undefined') {
            rePzF = 1;
        }
        this.world.shMy(x, y);
        this.position.x = x;
        this.position.y = y;
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.xaHq = true;
        this.rhKwE = false;
        this.rePzF = rePzF;
        if (this.body) {
            this.body.reset(x, y, false, false);
        }
        this.sfIr[4] = 1;
        return this;
    };
    rfjwh.rfisb.prototype.xgHz = function() {
        if (this.parent) {
            this.parent.xgHz(this);
        }
        return this;
    };
    rfjwh.rfisb.prototype.play = function(name, frameRate, loop, riLxC) {
        if (this.animations) {
            return this.animations.play(name, frameRate, loop, riLxC);
        }
    };
    rfjwh.rfisb.prototype.uhKt = function(rjOxC) {
        return rfjwh.wbgy.xcLy(this.wfJx(), rjOxC.wfJx());
    };
    Object.defineProperty(rfjwh.rfisb.prototype, "rcOr", {
        get: function() {
            return rfjwh.Math.xhPr(rfjwh.Math.vdHy(this.rfIqD));
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(rfjwh.Math.xhPr(value));
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "deltaX", {
        get: function() {
            return this.world.x - this.sfIr[0];
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "deltaY", {
        get: function() {
            return this.world.y - this.sfIr[1];
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "deltaZ", {
        get: function() {
            return this.rfIqD - this.sfIr[2];
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "ujLw", {
        get: function() {
            return this.rfOyC.world.sdPv.xcLy(this.wfJx());
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "vgLx", {
        get: function() {
            return this.rfOyC.world.sdNw.yjNy.xcLy(this.wfJx());
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "frame", {
        get: function() {
            return this.animations.frame;
        },
        set: function(value) {
            this.animations.frame = value;
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "wfMt", {
        get: function() {
            return this.animations.wfMt;
        },
        set: function(value) {
            this.animations.wfMt = value;
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "rjLxB", {
        get: function() {
            return this.sfIr[3];
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "scHu", {
        get: function() {
            return !!this.sfIr[6];
        },
        set: function(value) {
            if (value) {
                this.sfIr[6] = 1;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.xgMq();
                }
                this.rfIxE = true;
            } else {
                this.sfIr[6] = 0;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.rhPxE();
                }
                this.rfIxE = false;
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "vbLv", {
        get: function() {
            return !this.ueMt.yfPx.waKq;
        },
        set: function(value) {
            if (value) {
                if (this.ueMt) {
                    this.ueMt.yfPx.waKq = 0;
                }
            } else {
                if (this.ueMt) {
                    this.ueMt.yfPx.waKq = 1;
                }
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "x", {
        get: function() {
            return this.position.x;
        },
        set: function(value) {
            this.position.x = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "y", {
        get: function() {
            return this.position.y;
        },
        set: function(value) {
            this.position.y = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.rfisb.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.Image = function(rfOyC, x, y, key, frame) {
        x = x || 0;
        y = y || 0;
        key = key || null;
        frame = frame || null;
        this.rfOyC = rfOyC;
        this.scHu = true;
        this.name = '';
        this.type = rfjwh.IMAGE;
        this.z = 0;
        this.scHr = new rfjwh.schr(this);
        this.animations = new rfjwh.rhnsd(this);
        this.key = key;
        RGGW.rfisb.call(this, RGGW.zblv['__default']);
        this.position.set(x, y);
        this.world = new rfjwh.Point(x, y);
        this.rcPt = true;
        this.uaMu = false;
        this.input = null;
        this.rbNy = false;
        this.zgPr = new rfjwh.Point();
        this.vjHx = null;
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
        this.rdLw = null;
        this.sfIz = null;
        this.tePz = new rfjwh.wbgy();
        this.ycKr(key, frame);
    };
    rfjwh.Image.prototype = Object.create(RGGW.rfisb.prototype);
    rfjwh.Image.prototype.constructor = rfjwh.Image;
    rfjwh.Image.prototype.wbJt = function() {
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.sfIr[3] = -1;
            return false;
        }
        if (this.uaMu) {
            this.tePz.vjIw(this.wfJx());
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.tePz);
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.Image.prototype.update = function() {};
    rfjwh.Image.prototype.xaNx = function() {
        if (this.key instanceof rfjwh.xgiq) {
            this.key.render();
        }
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].xaNx();
        }
    };
    rfjwh.Image.prototype.ycKr = function(key, frame) {
        frame = frame || 0;
        this.key = key;
        var vbOq = true;
        var vbLv = this.vbLv;
        if (key instanceof rfjwh.rjlyk) {
            this.key = key.key;
            this.yjKq(key);
        } else if (key instanceof rfjwh.xgiq) {
            this.yjKq(key.ueMt);
            if (this.rfOyC.rcIy.zfKt(key.key, rfjwh.rciy.XGIQ)) {
                vbOq = !this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key.key, rfjwh.rciy.XGIQ), frame);
            }
        } else if (key instanceof RGGW.uemt) {
            this.yjKq(key);
        } else {
            if (key === null || typeof key === 'undefined') {
                this.key = '__default';
                this.yjKq(RGGW.zblv[this.key]);
            } else if (typeof key === 'string' && !this.rfOyC.rcIy.rjPzG(key)) {
                console.warn("Texture with key '" + key + "' not found.");
                this.key = '__missing';
                this.yjKq(RGGW.zblv[this.key]);
            } else {
                this.yjKq(new RGGW.uemt(RGGW.rhnsa[key]));
                vbOq = !this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key), frame);
            }
        }
        this.ueMt.yfPx.rbLu();
        if (vbOq) {
            this.sfIz = rfjwh.wbgy.rbPq(this.ueMt.frame);
        }
        if (!vbLv) {
            this.vbLv = false;
        }
    };
    rfjwh.Image.prototype.vbOq = function(frame) {
        this.sfIz = frame;
        this.ueMt.frame.x = frame.x;
        this.ueMt.frame.y = frame.y;
        this.ueMt.frame.width = frame.width;
        this.ueMt.frame.height = frame.height;
        this.ueMt.rjKu.x = frame.x;
        this.ueMt.rjKu.y = frame.y;
        this.ueMt.rjKu.width = frame.width;
        this.ueMt.rjKu.height = frame.height;
        if (frame.rfGwJ) {
            if (this.ueMt.trim) {
                this.ueMt.trim.x = frame.rhHqE;
                this.ueMt.trim.y = frame.rhHqD;
                this.ueMt.trim.width = frame.zjOw;
                this.ueMt.trim.height = frame.zjOv;
            } else {
                this.ueMt.trim = {
                    x: frame.rhHqE,
                    y: frame.rhHqD,
                    width: frame.zjOw,
                    height: frame.zjOv
                };
            }
            this.ueMt.width = frame.zjOw;
            this.ueMt.height = frame.zjOv;
            this.ueMt.frame.width = frame.zjOw;
            this.ueMt.frame.height = frame.zjOv;
        } else if (!frame.rfGwJ && this.ueMt.trim) {
            this.ueMt.trim = null;
        }
        if (this.vjHx) {
            this.yhOw();
        }
        this.ueMt.xgPr();
    };
    rfjwh.Image.prototype.xaGs = function() {
        if (this.sfIz) {
            this.vbOq(this.sfIz);
        }
    };
    rfjwh.Image.prototype.rjKu = function(rect, rjLt) {
        if (typeof rjLt === 'undefined') {
            rjLt = false;
        }
        if (rect) {
            if (rjLt && this.vjHx !== null) {
                this.vjHx.shMy(rect.x, rect.y, rect.width, rect.height);
            } else if (rjLt && this.vjHx === null) {
                this.vjHx = new rfjwh.wbgy(rect.x, rect.y, rect.width, rect.height);
            } else {
                this.vjHx = rect;
            }
            this.yhOw();
        } else {
            this.rdLw = null;
            this.vjHx = null;
            this.xaGs();
        }
    };
    rfjwh.Image.prototype.yhOw = function() {
        if (!this.vjHx) {
            return;
        }
        this.rdLw = rfjwh.wbgy.rbPq(this.vjHx, this.rdLw);
        this.rdLw.x += this.sfIz.x;
        this.rdLw.y += this.sfIz.y;
        var qjKz = Math.max(this.sfIz.x, this.rdLw.x);
        var qjJq = Math.max(this.sfIz.y, this.rdLw.y);
        var qjKy = Math.min(this.sfIz.right, this.rdLw.right) - qjKz;
        var qjKs = Math.min(this.sfIz.bottom, this.rdLw.bottom) - qjJq;
        this.ueMt.rjKu.x = qjKz;
        this.ueMt.rjKu.y = qjJq;
        this.ueMt.rjKu.width = qjKy;
        this.ueMt.rjKu.height = qjKs;
        this.ueMt.frame.width = Math.min(qjKy, this.vjHx.width);
        this.ueMt.frame.height = Math.min(qjKs, this.vjHx.height);
        this.ueMt.width = this.ueMt.frame.width;
        this.ueMt.height = this.ueMt.frame.height;
        this.ueMt.xgPr();
    };
    rfjwh.Image.prototype.thKs = function() {
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        if (this.scHr) {
            this.scHr.wcHt.viLt(this);
        }
        return this;
    };
    rfjwh.Image.prototype.rhLy = function() {
        this.rcPt = false;
        this.scHu = false;
        this.rfIxE = false;
        if (this.scHr) {
            this.scHr.veIw.viLt(this);
        }
        return this;
    };
    rfjwh.Image.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.scHr) {
            this.scHr.wcIt.viLt(this);
        }
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        if (this.scHr) {
            this.scHr.tbPr();
        }
        if (this.input) {
            this.input.tbPr();
        }
        if (this.animations) {
            this.animations.tbPr();
        }
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.rcPt = false;
        this.scHu = false;
        this.rfIxE = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.Image.prototype.reset = function(x, y) {
        this.world.shMy(x, y);
        this.position.x = x;
        this.position.y = y;
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.xaHq = true;
        return this;
    };
    rfjwh.Image.prototype.xgHz = function() {
        if (this.parent) {
            this.parent.xgHz(this);
        }
        return this;
    };
    Object.defineProperty(rfjwh.Image.prototype, "rcOr", {
        get: function() {
            return rfjwh.Math.xhPr(rfjwh.Math.vdHy(this.rfIqD));
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(rfjwh.Math.xhPr(value));
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "deltaX", {
        get: function() {
            return this.world.x - this.sfIr[0];
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "deltaY", {
        get: function() {
            return this.world.y - this.sfIr[1];
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "deltaZ", {
        get: function() {
            return this.rfIqD - this.sfIr[2];
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "ujLw", {
        get: function() {
            return this.rfOyC.world.sdPv.xcLy(this.wfJx());
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "vgLx", {
        get: function() {
            return this.rfOyC.world.sdNw.yjNy.xcLy(this.wfJx());
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "frame", {
        get: function() {
            return this.sfIz;
        },
        set: function(value) {
            if (value !== this.frame) {
                var wfMs = this.rfOyC.rcIy.zfKt(this.key);
                if (wfMs && value < wfMs.sgJq && wfMs.vhHy(value)) {
                    this.yjKq(RGGW.zblv[wfMs.vhHy(value).reIw]);
                    this.sfIz = value;
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "wfMt", {
        get: function() {
            return this.xhLz;
        },
        set: function(value) {
            if (value !== this.wfMt) {
                var wfMs = this.rfOyC.rcIy.zfKt(this.key);
                if (wfMs && wfMs.riLrJ(value)) {
                    this.yjKq(RGGW.zblv[wfMs.riLrJ(value).reIw]);
                    this.xhLz = value;
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "rjLxB", {
        get: function() {
            return this.sfIr[3];
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "vbLv", {
        get: function() {
            return !this.ueMt.yfPx.waKq;
        },
        set: function(value) {
            if (value) {
                if (this.ueMt) {
                    this.ueMt.yfPx.waKq = 0;
                }
            } else {
                if (this.ueMt) {
                    this.ueMt.yfPx.waKq = 1;
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Image.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.yiju = function(rfOyC, x, y, width, height, key, frame) {
        x = x || 0;
        y = y || 0;
        width = width || 256;
        height = height || 256;
        key = key || null;
        frame = frame || null;
        this.rfOyC = rfOyC;
        this.name = '';
        this.type = rfjwh.YIJU;
        this.z = 0;
        this.scHr = new rfjwh.schr(this);
        this.animations = new rfjwh.rhnsd(this);
        this.key = key;
        this.sfIz = 0;
        this.xhLz = '';
        this.teKq = new rfjwh.Point();
        RGGW.zbkw.call(this, RGGW.zblv['__default'], width, height);
        this.position.set(x, y);
        this.input = null;
        this.world = new rfjwh.Point(x, y);
        this.uaMu = false;
        this.rhNuB = false;
        this.zgPr = new rfjwh.Point();
        this.body = null;
        this.rcPt = true;
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
        this.ycKr(key, frame);
    };
    rfjwh.yiju.prototype = Object.create(RGGW.zbkw.prototype);
    rfjwh.yiju.prototype.constructor = rfjwh.yiju;
    rfjwh.yiju.prototype.wbJt = function() {
        if (this.sfIr[4] === 1 && this.scHu) {
            this.world.shMy(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.riIrK.qhHx = this.world.x;
            this.riIrK.qhHy = this.world.y;
            this.sfIr[0] = this.world.x;
            this.sfIr[1] = this.world.y;
            this.sfIr[2] = this.rfIqD;
            if (this.body) {
                this.body.wbJt();
            }
            this.sfIr[4] = 0;
            return false;
        }
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.sfIr[3] = -1;
            return false;
        }
        if (this.uaMu || this.rhNuB) {
            this.tePz.vjIw(this.wfJx());
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.tePz);
        }
        if (this.rhNuB) {
            if (this.sfIr[5] === 1 && this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 0;
                this.scHr.rjMzD.viLt(this);
            } else if (this.sfIr[5] === 0 && !this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 1;
                this.scHr.rjMzA.viLt(this);
            }
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        this.animations.update();
        if (this.teKq.x !== 0) {
            this.zbKv.x += this.teKq.x * this.rfOyC.time.riKwB;
        }
        if (this.teKq.y !== 0) {
            this.zbKv.y += this.teKq.y * this.rfOyC.time.riKwB;
        }
        if (this.body) {
            this.body.wbJt();
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.yiju.prototype.update = function() {};
    rfjwh.yiju.prototype.xaNx = function() {
        if (this.scHu && this.body) {
            this.body.xaNx();
        }
        if (this.sfIr[7] === 1) {
            this.position.x = this.rfOyC.sdNw.view.x + this.zgPr.x;
            this.position.y = this.rfOyC.sdNw.view.y + this.zgPr.y;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].xaNx();
        }
    };
    rfjwh.yiju.prototype.xgKz = function(x, y) {
        this.teKq.set(x, y);
    };
    rfjwh.yiju.prototype.yiOt = function() {
        this.teKq.set(0, 0);
    };
    rfjwh.yiju.prototype.ycKr = function(key, frame) {
        frame = frame || 0;
        this.key = key;
        if (key instanceof rfjwh.rjlyk) {
            this.key = key.key;
            this.yjKq(key);
        } else if (key instanceof rfjwh.xgiq) {
            this.yjKq(key.ueMt);
        } else if (key instanceof RGGW.uemt) {
            this.yjKq(key);
        } else {
            if (key === null || typeof key === 'undefined') {
                this.key = '__default';
                this.yjKq(RGGW.zblv[this.key]);
            } else if (typeof key === 'string' && !this.rfOyC.rcIy.rjPzG(key)) {
                console.warn("Texture with key '" + key + "' not found.");
                this.key = '__missing';
                this.yjKq(RGGW.zblv[this.key]);
            } else {
                this.yjKq(new RGGW.uemt(RGGW.rhnsa[key]));
                this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key), frame);
            }
        }
        this.ueMt.yfPx.rbLu();
    };
    rfjwh.yiju.prototype.vbOq = function(frame) {
        this.ueMt.frame.x = frame.x;
        this.ueMt.frame.y = frame.y;
        this.ueMt.frame.width = frame.width;
        this.ueMt.frame.height = frame.height;
        this.ueMt.rjKu.x = frame.x;
        this.ueMt.rjKu.y = frame.y;
        this.ueMt.rjKu.width = frame.width;
        this.ueMt.rjKu.height = frame.height;
        if (frame.rfGwJ) {
            if (this.ueMt.trim) {
                this.ueMt.trim.x = frame.rhHqE;
                this.ueMt.trim.y = frame.rhHqD;
                this.ueMt.trim.width = frame.zjOw;
                this.ueMt.trim.height = frame.zjOv;
            } else {
                this.ueMt.trim = {
                    x: frame.rhHqE,
                    y: frame.rhHqD,
                    width: frame.zjOw,
                    height: frame.zjOv
                };
            }
            this.ueMt.width = frame.zjOw;
            this.ueMt.height = frame.zjOv;
            this.ueMt.frame.width = frame.zjOw;
            this.ueMt.frame.height = frame.zjOv;
        } else if (!frame.rfGwJ && this.ueMt.trim) {
            this.ueMt.trim = null;
        }
        this.ueMt.xgPr();
    };
    rfjwh.yiju.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.scHr) {
            this.scHr.wcIt.viLt(this);
        }
        if (this.tbGs) {
            this.tbGs = null;
        }
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.animations.tbPr();
        this.scHr.tbPr();
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.scHu = false;
        this.rfIxE = false;
        this.rcPt = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.yiju.prototype.play = function(name, frameRate, loop, riLxC) {
        return this.animations.play(name, frameRate, loop, riLxC);
    };
    rfjwh.yiju.prototype.reset = function(x, y) {
        this.world.shMy(x, y);
        this.position.x = x;
        this.position.y = y;
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.xaHq = true;
        this.rhKwE = false;
        this.zbKv.x = 0;
        this.zbKv.y = 0;
        if (this.body) {
            this.body.reset(x, y, false, false);
        }
        this.sfIr[4] = 1;
        return this;
    };
    Object.defineProperty(rfjwh.yiju.prototype, "rcOr", {
        get: function() {
            return rfjwh.Math.xhPr(rfjwh.Math.vdHy(this.rfIqD));
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(rfjwh.Math.xhPr(value));
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "frame", {
        get: function() {
            return this.animations.frame;
        },
        set: function(value) {
            if (value !== this.animations.frame) {
                this.animations.frame = value;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "wfMt", {
        get: function() {
            return this.animations.wfMt;
        },
        set: function(value) {
            if (value !== this.animations.wfMt) {
                this.animations.wfMt = value;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "scHu", {
        get: function() {
            return !!this.sfIr[6];
        },
        set: function(value) {
            if (value) {
                this.sfIr[6] = 1;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.xgMq();
                }
                this.rfIxE = true;
            } else {
                this.sfIr[6] = 0;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.yjOt = true;
                }
                this.rfIxE = false;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "x", {
        get: function() {
            return this.position.x;
        },
        set: function(value) {
            this.position.x = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "y", {
        get: function() {
            return this.position.y;
        },
        set: function(value) {
            this.position.y = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.yiju.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.rflw = function(rfOyC, x, y, key, frame, tiHx) {
        this.tiHx = [];
        this.tiHx = tiHx;
        this.rgOrA = false;
        this.rgHtJ = null;
        x = x || 0;
        y = y || 0;
        key = key || null;
        frame = frame || null;
        this.rfOyC = rfOyC;
        this.name = '';
        this.type = rfjwh.RFLW;
        this.z = 0;
        this.scHr = new rfjwh.schr(this);
        this.animations = new rfjwh.rhnsd(this);
        this.key = key;
        this.sfIz = 0;
        this.xhLz = '';
        this.teKq = new rfjwh.Point();
        RGGW.rflw.call(this, key, this.tiHx);
        this.position.set(x, y);
        this.input = null;
        this.world = new rfjwh.Point(x, y);
        this.uaMu = false;
        this.rhNuB = false;
        this.zgPr = new rfjwh.Point();
        this.body = null;
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
        this.ycKr(key, frame);
    };
    rfjwh.rflw.prototype = Object.create(RGGW.rflw.prototype);
    rfjwh.rflw.prototype.constructor = rfjwh.rflw;
    rfjwh.rflw.prototype.wbJt = function() {
        if (this.sfIr[4] === 1 && this.scHu) {
            this.world.shMy(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.riIrK.qhHx = this.world.x;
            this.riIrK.qhHy = this.world.y;
            this.sfIr[0] = this.world.x;
            this.sfIr[1] = this.world.y;
            this.sfIr[2] = this.rfIqD;
            if (this.body) {
                this.body.wbJt();
            }
            this.sfIr[4] = 0;
            return false;
        }
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.sfIr[3] = -1;
            return false;
        }
        if (this.uaMu || this.rhNuB) {
            this.tePz.vjIw(this.wfJx());
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.tePz);
        }
        if (this.rhNuB) {
            if (this.sfIr[5] === 1 && this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 0;
                this.scHr.rjMzD.viLt(this);
            } else if (this.sfIr[5] === 0 && !this.rfOyC.world.sdPv.xcLy(this.tePz)) {
                this.sfIr[5] = 1;
                this.scHr.rjMzA.viLt(this);
            }
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        this.animations.update();
        if (this.teKq.x !== 0) {
            this.zbKv.x += this.teKq.x * this.rfOyC.time.riKwB;
        }
        if (this.teKq.y !== 0) {
            this.zbKv.y += this.teKq.y * this.rfOyC.time.riKwB;
        }
        if (this.body) {
            this.body.wbJt();
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.rflw.prototype.update = function() {
        if (this.rgOrA) {
            this.rhOuG.call(this);
        }
    };
    rfjwh.rflw.prototype.xaNx = function() {
        if (this.scHu && this.body) {
            this.body.xaNx();
        }
        if (this.sfIr[7] === 1) {
            this.position.x = this.rfOyC.sdNw.view.x + this.zgPr.x;
            this.position.y = this.rfOyC.sdNw.view.y + this.zgPr.y;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].xaNx();
        }
    };
    rfjwh.rflw.prototype.ycKr = function(key, frame) {
        frame = frame || 0;
        this.key = key;
        if (key instanceof rfjwh.rjlyk) {
            this.key = key.key;
            this.yjKq(key);
        } else if (key instanceof rfjwh.xgiq) {
            this.yjKq(key.ueMt);
        } else if (key instanceof RGGW.uemt) {
            this.yjKq(key);
        } else {
            if (key === null || typeof key === 'undefined') {
                this.key = '__default';
                this.yjKq(RGGW.zblv[this.key]);
            } else if (typeof key === 'string' && !this.rfOyC.rcIy.rjPzG(key)) {
                console.warn("Texture with key '" + key + "' not found.");
                this.key = '__missing';
                this.yjKq(RGGW.zblv[this.key]);
            } else {
                this.yjKq(new RGGW.uemt(RGGW.rhnsa[key]));
                this.animations.rjMtH(this.rfOyC.rcIy.zfKt(key), frame);
            }
        }
    };
    rfjwh.rflw.prototype.vbOq = function(frame) {
        this.ueMt.frame.x = frame.x;
        this.ueMt.frame.y = frame.y;
        this.ueMt.frame.width = frame.width;
        this.ueMt.frame.height = frame.height;
        this.ueMt.rjKu.x = frame.x;
        this.ueMt.rjKu.y = frame.y;
        this.ueMt.rjKu.width = frame.width;
        this.ueMt.rjKu.height = frame.height;
        if (frame.rfGwJ) {
            if (this.ueMt.trim) {
                this.ueMt.trim.x = frame.rhHqE;
                this.ueMt.trim.y = frame.rhHqD;
                this.ueMt.trim.width = frame.zjOw;
                this.ueMt.trim.height = frame.zjOv;
            } else {
                this.ueMt.trim = {
                    x: frame.rhHqE,
                    y: frame.rhHqD,
                    width: frame.zjOw,
                    height: frame.zjOv
                };
            }
            this.ueMt.width = frame.zjOw;
            this.ueMt.height = frame.zjOv;
            this.ueMt.frame.width = frame.zjOw;
            this.ueMt.frame.height = frame.zjOv;
        } else if (!frame.rfGwJ && this.ueMt.trim) {
            this.ueMt.trim = null;
        }
        this.ueMt.xgPr();
    };
    rfjwh.rflw.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.scHr) {
            this.scHr.wcIt.viLt(this);
        }
        if (this.tbGs) {
            this.tbGs = null;
        }
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.animations.tbPr();
        this.scHr.tbPr();
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.scHu = false;
        this.rfIxE = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.rflw.prototype.play = function(name, frameRate, loop, riLxC) {
        return this.animations.play(name, frameRate, loop, riLxC);
    };
    rfjwh.rflw.prototype.reset = function(x, y) {
        this.world.shMy(x, y);
        this.position.x = x;
        this.position.y = y;
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.xaHq = true;
        this.rhKwE = false;
        this.zbKv.x = 0;
        this.zbKv.y = 0;
        if (this.body) {
            this.body.reset(x, y, false, false);
        }
        this.sfIr[4] = 1;
        return this;
    };
    Object.defineProperty(rfjwh.rflw.prototype, "rcOr", {
        get: function() {
            return rfjwh.Math.xhPr(rfjwh.Math.vdHy(this.rfIqD));
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(rfjwh.Math.xhPr(value));
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "frame", {
        get: function() {
            return this.animations.frame;
        },
        set: function(value) {
            if (value !== this.animations.frame) {
                this.animations.frame = value;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "wfMt", {
        get: function() {
            return this.animations.wfMt;
        },
        set: function(value) {
            if (value !== this.animations.wfMt) {
                this.animations.wfMt = value;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "scHu", {
        get: function() {
            return !!this.sfIr[6];
        },
        set: function(value) {
            if (value) {
                this.sfIr[6] = 1;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.xgMq();
                }
                this.rfIxE = true;
            } else {
                this.sfIr[6] = 0;
                if (this.body && this.body.type === rfjwh.reosh.RGIS) {
                    this.body.yjOt = true;
                }
                this.rfIxE = false;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "x", {
        get: function() {
            return this.position.x;
        },
        set: function(value) {
            this.position.x = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "y", {
        get: function() {
            return this.position.y;
        },
        set: function(value) {
            this.position.y = value;
            if (this.body && this.body.type === rfjwh.reosh.ARCADE && this.body.siJz === 2) {
                this.body.sfHy = 1;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "rhOuG", {
        get: function() {
            return this.rhNrD;
        },
        set: function(value) {
            if (value && typeof value === 'function') {
                this.rgOrA = true;
                this.rhNrD = value;
            } else {
                this.rgOrA = false;
                this.rhNrD = null;
            }
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "vcGy", {
        get: function() {
            var vcGy = [];
            var index, qgMv, qgKt, qgMw, qgKu, width, height, rect;
            for (var i = 0; i < this.tiHx.length; i++) {
                index = i * 4;
                qgMv = this.xiHv[index];
                qgKt = this.xiHv[index + 1];
                qgMw = this.xiHv[index + 4];
                qgKu = this.xiHv[index + 3];
                width = rfjwh.Math.xeNv(qgMv, qgMw);
                height = rfjwh.Math.xeNv(qgKt, qgKu);
                qgMv += this.world.x;
                qgKt += this.world.y;
                rect = new rfjwh.wbgy(qgMv, qgKt, width, height);
                vcGy.push(rect);
            }
            return vcGy;
        }
    });
    Object.defineProperty(rfjwh.rflw.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.Text = function(rfOyC, x, y, text, style) {
        x = x || 0;
        y = y || 0;
        text = text || ' ';
        style = style || {};
        if (text.length === 0) {
            text = ' ';
        } else {
            text = text.toString();
        }
        this.rfOyC = rfOyC;
        this.scHu = true;
        this.name = '';
        this.type = rfjwh.TEXT;
        this.z = 0;
        this.world = new rfjwh.Point(x, y);
        this.rdIv = text;
        this.rdKw = '';
        this.wjKv = 32;
        this.yhGv = 'normal';
        this.ziGq = 0;
        this.xhMs = 0;
        this.scHr = new rfjwh.schr(this);
        this.input = null;
        this.zgPr = new rfjwh.Point();
        this.sdIw = [];
        this.vbOy(style);
        RGGW.Text.call(this, text, this.style);
        this.position.set(x, y);
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
        if (text !== ' ') {
            this.yhNq();
        }
    };
    rfjwh.Text.prototype = Object.create(RGGW.Text.prototype);
    rfjwh.Text.prototype.constructor = rfjwh.Text;
    rfjwh.Text.prototype.wbJt = function() {
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.rjLxB = -1;
            return false;
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.wfJx());
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].wbJt();
        }
        return true;
    };
    rfjwh.Text.prototype.update = function() {};
    rfjwh.Text.prototype.xaNx = function() {
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
        for (var i = 0, qdMy = this.children.length; i < qdMy; i++) {
            this.children[i].xaNx();
        }
    };
    rfjwh.Text.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.scHr) {
            this.scHr.wcIt.viLt(this);
        }
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.ueMt.tbPr(true);
        if (this.canvas.parentNode) {
            this.canvas.parentNode.removeChild(this.canvas);
        } else {
            this.canvas = null;
            this.tcLv = null;
        }
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.scHu = false;
        this.rfIxE = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.Text.prototype.waHu = function(x, y, color, blur) {
        this.style.shadowOffsetX = x || 0;
        this.style.shadowOffsetY = y || 0;
        this.style.shadowColor = color || 'rgba(0,0,0,0)';
        this.style.shadowBlur = blur || 0;
        this.rbLu = true;
    };
    rfjwh.Text.prototype.vbOy = function(style) {
        style = style || {};
        style.font = style.font || 'bold 20pt Arial';
        style.fill = style.fill || 'black';
        style.align = style.align || 'left';
        style.stroke = style.stroke || 'black';
        style.rhOrB = style.rhOrB || 0;
        style.wordWrap = style.wordWrap || false;
        style.rjJuH = style.rjJuH || 100;
        style.shadowOffsetX = style.shadowOffsetX || 0;
        style.shadowOffsetY = style.shadowOffsetY || 0;
        style.shadowColor = style.shadowColor || 'rgba(0,0,0,0)';
        style.shadowBlur = style.shadowBlur || 0;
        this.style = style;
        this.rbLu = true;
    };
    rfjwh.Text.prototype.yhNq = function() {
        this.ueMt.yfPx.xaGu = this.xaGu;
        this.tcLv.font = this.style.font;
        var xbIz = this.text;
        if (this.style.wordWrap) {
            xbIz = this.yaJs(this.text);
        }
        var sjLz = xbIz.split(/(?:\r\n|\r|\n)/);
        var xcHy = [];
        var zeHt = 0;
        var riMyH = this.rgIxJ(this.style.font);
        for (var i = 0; i < sjLz.length; i++) {
            var lineWidth = this.tcLv.measureText(sjLz[i]).width;
            xcHy[i] = lineWidth;
            zeHt = Math.max(zeHt, lineWidth);
        }
        var width = zeHt + this.style.rhOrB;
        this.canvas.width = (width + this.tcLv.lineWidth) * this.xaGu;
        var lineHeight = riMyH.fontSize + this.style.rhOrB;
        var height = lineHeight * sjLz.length;
        this.canvas.height = height * this.xaGu;
        this.tcLv.scale(this.xaGu, this.xaGu);
        if (navigator.xcKt) {
            this.tcLv.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }
        this.tcLv.fillStyle = this.style.fill;
        this.tcLv.font = this.style.font;
        this.tcLv.strokeStyle = this.style.stroke;
        this.tcLv.textBaseline = 'alphabetic';
        this.tcLv.shadowOffsetX = this.style.shadowOffsetX;
        this.tcLv.shadowOffsetY = this.style.shadowOffsetY;
        this.tcLv.shadowColor = this.style.shadowColor;
        this.tcLv.shadowBlur = this.style.shadowBlur;
        this.tcLv.lineWidth = this.style.rhOrB;
        this.tcLv.lineCap = 'round';
        this.tcLv.lineJoin = 'round';
        var rjMsD;
        var rjMsC;
        this.xhMs = 0;
        for (i = 0; i < sjLz.length; i++) {
            rjMsD = this.style.rhOrB / 2;
            rjMsC = (this.style.rhOrB / 2 + i * lineHeight) + riMyH.seKu;
            if (this.style.align === 'right') {
                rjMsD += zeHt - xcHy[i];
            } else if (this.style.align === 'rfOsH') {
                rjMsD += (zeHt - xcHy[i]) / 2;
            }
            rjMsC += this.ziGq;
            if (this.sdIw.length > 0) {
                this.yhOy(sjLz[i], rjMsD, rjMsC);
            } else {
                if (this.style.stroke && this.style.rhOrB) {
                    this.tcLv.strokeText(sjLz[i], rjMsD, rjMsC);
                }
                if (this.style.fill) {
                    this.tcLv.fillText(sjLz[i], rjMsD, rjMsC);
                }
            }
        }
        this.rjJrK();
    };
    rfjwh.Text.prototype.yhOy = function(rhJz, x, y) {
        for (var i = 0; i < rhJz.length; i++) {
            var tjPq = rhJz[i];
            if (this.sdIw[this.xhMs]) {
                this.tcLv.fillStyle = this.sdIw[this.xhMs];
                this.tcLv.strokeStyle = this.sdIw[this.xhMs];
            }
            if (this.style.stroke && this.style.rhOrB) {
                this.tcLv.strokeText(tjPq, x, y);
            }
            if (this.style.fill) {
                this.tcLv.fillText(tjPq, x, y);
            }
            x += this.tcLv.measureText(tjPq).width;
            this.xhMs++;
        }
    };
    rfjwh.Text.prototype.yfKt = function() {
        this.sdIw = [];
        this.rbLu = true;
    };
    rfjwh.Text.prototype.ubHv = function(color, position) {
        this.sdIw[position] = color;
        this.rbLu = true;
    };
    rfjwh.Text.prototype.yaJs = function(text) {
        var thLx = '';
        var sjLz = text.split('\n');
        for (var i = 0; i < sjLz.length; i++) {
            var xjNw = this.style.rjJuH;
            var sfMq = sjLz[i].split(' ');
            for (var j = 0; j < sfMq.length; j++) {
                var xiGv = this.tcLv.measureText(sfMq[j]).width;
                var rgPzA = xiGv + this.tcLv.measureText(' ').width;
                if (rgPzA > xjNw) {
                    if (j > 0) {
                        thLx += '\n';
                    }
                    thLx += sfMq[j] + ' ';
                    xjNw = this.style.rjJuH - xiGv;
                } else {
                    xjNw -= rgPzA;
                    thLx += sfMq[j] + ' ';
                }
            }
            if (i < sjLz.length - 1) {
                thLx += '\n';
            }
        }
        return thLx;
    };
    Object.defineProperty(rfjwh.Text.prototype, 'rcOr', {
        get: function() {
            return rfjwh.Math.vdHy(this.rfIqD);
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(value);
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'text', {
        get: function() {
            return this.rdIv;
        },
        set: function(value) {
            if (value !== this.rdIv) {
                this.rdIv = value.toString() || ' ';
                this.rbLu = true;
                if (this.parent) {
                    this.rhOuC();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'font', {
        get: function() {
            return this.rdKw;
        },
        set: function(value) {
            if (value !== this.rdKw) {
                this.rdKw = value.trim();
                this.style.font = this.yhGv + ' ' + this.wjKv + "px '" + this.rdKw + "'";
                this.rbLu = true;
                if (this.parent) {
                    this.rhOuC();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'fontSize', {
        get: function() {
            return this.wjKv;
        },
        set: function(value) {
            value = parseInt(value, 10);
            if (value !== this.wjKv) {
                this.wjKv = value;
                this.style.font = this.yhGv + ' ' + this.wjKv + "px '" + this.rdKw + "'";
                this.rbLu = true;
                if (this.parent) {
                    this.rhOuC();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'fontWeight', {
        get: function() {
            return this.yhGv;
        },
        set: function(value) {
            if (value !== this.yhGv) {
                this.yhGv = value;
                this.style.font = this.yhGv + ' ' + this.wjKv + "px '" + this.rdKw + "'";
                this.rbLu = true;
                if (this.parent) {
                    this.rhOuC();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'fill', {
        get: function() {
            return this.style.fill;
        },
        set: function(value) {
            if (value !== this.style.fill) {
                this.style.fill = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'align', {
        get: function() {
            return this.style.align;
        },
        set: function(value) {
            if (value !== this.style.align) {
                this.style.align = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'stroke', {
        get: function() {
            return this.style.stroke;
        },
        set: function(value) {
            if (value !== this.style.stroke) {
                this.style.stroke = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'rhOrB', {
        get: function() {
            return this.style.rhOrB;
        },
        set: function(value) {
            if (value !== this.style.rhOrB) {
                this.style.rhOrB = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'wordWrap', {
        get: function() {
            return this.style.wordWrap;
        },
        set: function(value) {
            if (value !== this.style.wordWrap) {
                this.style.wordWrap = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'rjJuH', {
        get: function() {
            return this.style.rjJuH;
        },
        set: function(value) {
            if (value !== this.style.rjJuH) {
                this.style.rjJuH = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'ycLw', {
        get: function() {
            return this.ziGq;
        },
        set: function(value) {
            if (value !== this.ziGq) {
                this.ziGq = parseFloat(value);
                this.rbLu = true;
                if (this.parent) {
                    this.rhOuC();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'shadowOffsetX', {
        get: function() {
            return this.style.shadowOffsetX;
        },
        set: function(value) {
            if (value !== this.style.shadowOffsetX) {
                this.style.shadowOffsetX = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'shadowOffsetY', {
        get: function() {
            return this.style.shadowOffsetY;
        },
        set: function(value) {
            if (value !== this.style.shadowOffsetY) {
                this.style.shadowOffsetY = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'shadowColor', {
        get: function() {
            return this.style.shadowColor;
        },
        set: function(value) {
            if (value !== this.style.shadowColor) {
                this.style.shadowColor = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, 'shadowBlur', {
        get: function() {
            return this.style.shadowBlur;
        },
        set: function(value) {
            if (value !== this.style.shadowBlur) {
                this.style.shadowBlur = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.Text.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.xgis = function(rfOyC, x, y, font, text, size) {
        x = x || 0;
        y = y || 0;
        font = font || '';
        text = text || '';
        size = size || 32;
        this.rfOyC = rfOyC;
        this.scHu = true;
        this.name = '';
        this.type = rfjwh.XGIS;
        this.z = 0;
        this.world = new rfjwh.Point(x, y);
        this.rdIv = text;
        this.rdKw = font;
        this.wjKv = size;
        this.sfJu = 'left';
        this.rdIx = 0xFFFFFF;
        this.scHr = new rfjwh.schr(this);
        this.input = null;
        this.zgPr = new rfjwh.Point();
        RGGW.xgis.call(this, text);
        this.position.set(x, y);
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
    };
    rfjwh.xgis.prototype = Object.create(RGGW.xgis.prototype);
    rfjwh.xgis.prototype.constructor = rfjwh.xgis;
    rfjwh.xgis.prototype.vbOy = function() {
        this.style = {
            align: this.sfJu
        };
        this.rfOyJ = this.rdKw;
        this.fontSize = this.wjKv;
        this.rbLu = true;
    };
    rfjwh.xgis.prototype.wbJt = function() {
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.rjLxB = -1;
            return false;
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.wfJx());
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        return true;
    };
    rfjwh.xgis.prototype.update = function() {};
    rfjwh.xgis.prototype.xaNx = function() {
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
    };
    rfjwh.xgis.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                if (this.children[i].tbPr) {
                    this.children[i].tbPr(riHwC);
                } else {
                    this.removeChild(this.children[i]);
                }
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.scHu = false;
        this.rfIxE = false;
        this.tbGs = null;
        this.rhGs = null;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    Object.defineProperty(rfjwh.xgis.prototype, 'align', {
        get: function() {
            return this.sfJu;
        },
        set: function(value) {
            if (value !== this.sfJu) {
                this.sfJu = value;
                this.vbOy();
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, 'reKr', {
        get: function() {
            return this.rdIx;
        },
        set: function(value) {
            if (value !== this.rdIx) {
                this.rdIx = value;
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, 'rcOr', {
        get: function() {
            return rfjwh.Math.vdHy(this.rfIqD);
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(value);
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, 'font', {
        get: function() {
            return this.rdKw;
        },
        set: function(value) {
            if (value !== this.rdKw) {
                this.rdKw = value.trim();
                this.style.font = this.wjKv + "px '" + this.rdKw + "'";
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, 'fontSize', {
        get: function() {
            return this.wjKv;
        },
        set: function(value) {
            value = parseInt(value, 10);
            if (value !== this.wjKv) {
                this.wjKv = value;
                this.style.font = this.wjKv + "px '" + this.rdKw + "'";
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, 'text', {
        get: function() {
            return this.rdIv;
        },
        set: function(value) {
            if (value !== this.rdIv) {
                this.rdIv = value.toString() || ' ';
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, "zePs", {
        get: function() {
            return (this.input && this.input.tbMy);
        },
        set: function(value) {
            if (value) {
                if (this.input === null) {
                    this.input = new rfjwh.zept(this);
                    this.input.rfIsA();
                } else if (this.input && !this.input.tbMy) {
                    this.input.rfIsA();
                }
            } else {
                if (this.input && this.input.tbMy) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.xgis.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.Button = function(rfOyC, x, y, key, uaGu, riHrD, wbPu, veGz, wgLz, ueGq) {
        x = x || 0;
        y = y || 0;
        key = key || null;
        uaGu = uaGu || null;
        riHrD = riHrD || this;
        rfjwh.Image.call(this, rfOyC, x, y, key, veGz);
        this.type = rfjwh.BUTTON;
        this.rhNqJ = null;
        this.riIuE = null;
        this.rhOzD = null;
        this.rjJzD = null;
        this.rjJzG = null;
        this.zaIy = null;
        this.rjJyC = null;
        this.zhPv = null;
        this.rhPsJ = false;
        this.ybMv = null;
        this.xbJq = null;
        this.ybNt = null;
        this.wcHv = null;
        this.rhIuJ = '';
        this.rhLsJ = '';
        this.rhItC = '';
        this.rhPsD = '';
        this.ybMq = new rfjwh.tgot();
        this.xbKw = new rfjwh.tgot();
        this.ybNz = new rfjwh.tgot();
        this.wcIw = new rfjwh.tgot();
        this.zfMu = false;
        this.vhKr = false;
        this.zePs = true;
        this.input.rfIsA(0, true);
        this.waIz(wbPu, veGz, wgLz, ueGq);
        if (uaGu !== null) {
            this.wcIw.add(uaGu, riHrD);
        }
        this.scHr.ybMq.add(this.rhGzD, this);
        this.scHr.xbKw.add(this.rhItA, this);
        this.scHr.ybNz.add(this.rhGzE, this);
        this.scHr.wcIw.add(this.rhLrB, this);
    };
    rfjwh.Button.prototype = Object.create(rfjwh.Image.prototype);
    rfjwh.Button.prototype.constructor = rfjwh.Button;
    rfjwh.Button.prototype.yfKv = function() {
        this.rhNqJ = null;
        this.rjJzG = null;
        this.riIuE = null;
        this.zaIy = null;
        this.rhOzD = null;
        this.rjJyC = null;
        this.rjJzD = null;
        this.zhPv = null;
    };
    rfjwh.Button.prototype.waIz = function(wbPu, veGz, wgLz, ueGq) {
        this.yfKv();
        if (wbPu !== null) {
            if (typeof wbPu === 'string') {
                this.rhNqJ = wbPu;
                if (this.input.ybIx()) {
                    this.wfMt = wbPu;
                }
            } else {
                this.rjJzG = wbPu;
                if (this.input.ybIx()) {
                    this.frame = wbPu;
                }
            }
        }
        if (veGz !== null) {
            if (typeof veGz === 'string') {
                this.riIuE = veGz;
                if (this.input.ybIx() === false) {
                    this.wfMt = veGz;
                }
            } else {
                this.zaIy = veGz;
                if (this.input.ybIx() === false) {
                    this.frame = veGz;
                }
            }
        }
        if (wgLz !== null) {
            if (typeof wgLz === 'string') {
                this.rhOzD = wgLz;
                if (this.input.ybIu()) {
                    this.wfMt = wgLz;
                }
            } else {
                this.rjJyC = wgLz;
                if (this.input.ybIu()) {
                    this.frame = wgLz;
                }
            }
        }
        if (ueGq !== null) {
            if (typeof ueGq === 'string') {
                this.rjJzD = ueGq;
                if (this.input.wbLu()) {
                    this.wfMt = ueGq;
                }
            } else {
                this.zhPv = ueGq;
                if (this.input.wbLu()) {
                    this.frame = ueGq;
                }
            }
        }
    };
    rfjwh.Button.prototype.waHv = function(wbPx, xbHr, wgKq, xeLt, vdPr, wbPq, ueGs, vaIx) {
        this.zcHv(wbPx, xbHr);
        this.yaHv(vdPr, wbPq);
        this.zcIy(wgKq, xeLt);
        this.yjKu(ueGs, vaIx);
    };
    rfjwh.Button.prototype.zcHv = function(rfHvH, tjMz) {
        this.ybMv = null;
        this.rhIuJ = '';
        if (rfHvH instanceof rfjwh.rfhvh || rfHvH instanceof rfjwh.yfps) {
            this.ybMv = rfHvH;
        }
        if (typeof tjMz === 'string') {
            this.rhIuJ = tjMz;
        }
    };
    rfjwh.Button.prototype.yaHv = function(rfHvH, tjMz) {
        this.xbJq = null;
        this.rhLsJ = '';
        if (rfHvH instanceof rfjwh.rfhvh || rfHvH instanceof rfjwh.yfps) {
            this.xbJq = rfHvH;
        }
        if (typeof tjMz === 'string') {
            this.rhLsJ = tjMz;
        }
    };
    rfjwh.Button.prototype.zcIy = function(rfHvH, tjMz) {
        this.ybNt = null;
        this.rhItC = '';
        if (rfHvH instanceof rfjwh.rfhvh || rfHvH instanceof rfjwh.yfps) {
            this.ybNt = rfHvH;
        }
        if (typeof tjMz === 'string') {
            this.rhItC = tjMz;
        }
    };
    rfjwh.Button.prototype.yjKu = function(rfHvH, tjMz) {
        this.wcHv = null;
        this.rhPsD = '';
        if (rfHvH instanceof rfjwh.rfhvh || rfHvH instanceof rfjwh.yfps) {
            this.wcHv = rfHvH;
        }
        if (typeof tjMz === 'string') {
            this.rhPsD = tjMz;
        }
    };
    rfjwh.Button.prototype.rhGzD = function(rfIsB, uhHt) {
        if (uhHt.zeMq()) {
            return;
        }
        if (this.zfMu === false) {
            this.vbOx(1);
        }
        if (this.rhPsJ && !uhHt.ujJs) {
            return;
        }
        if (this.ybMv) {
            this.ybMv.play(this.rhIuJ);
        }
        if (this.ybMq) {
            this.ybMq.viLt(this, uhHt);
        }
    };
    rfjwh.Button.prototype.rhItA = function(rfIsB, uhHt) {
        if (this.zfMu === false) {
            this.vbOx(2);
        }
        if (this.xbJq) {
            this.xbJq.play(this.rhLsJ);
        }
        if (this.xbKw) {
            this.xbKw.viLt(this, uhHt);
        }
    };
    rfjwh.Button.prototype.rhGzE = function(rfIsB, uhHt) {
        if (this.zfMu === false) {
            this.vbOx(3);
        }
        if (this.ybNt) {
            this.ybNt.play(this.rhItC);
        }
        if (this.ybNz) {
            this.ybNz.viLt(this, uhHt);
        }
    };
    rfjwh.Button.prototype.rhLrB = function(rfIsB, uhHt, saKv) {
        if (this.wcHv) {
            this.wcHv.play(this.rhPsD);
        }
        if (this.wcIw) {
            this.wcIw.viLt(this, uhHt, saKv);
        }
        if (this.zfMu) {
            return;
        }
        if (this.vhKr) {
            this.vbOx(2);
        } else {
            if (this.rjJzD !== null || this.zhPv !== null) {
                this.vbOx(4);
            } else {
                if (saKv) {
                    this.vbOx(1);
                } else {
                    this.vbOx(2);
                }
            }
        }
    };
    rfjwh.Button.prototype.vbOx = function(veNx) {
        if (veNx === 1) {
            if (this.rhNqJ != null) {
                this.wfMt = this.rhNqJ;
            } else if (this.rjJzG != null) {
                this.frame = this.rjJzG;
            }
        } else if (veNx === 2) {
            if (this.riIuE != null) {
                this.wfMt = this.riIuE;
            } else if (this.zaIy != null) {
                this.frame = this.zaIy;
            }
        } else if (veNx === 3) {
            if (this.rhOzD != null) {
                this.wfMt = this.rhOzD;
            } else if (this.rjJyC != null) {
                this.frame = this.rjJyC;
            }
        } else if (veNx === 4) {
            if (this.rjJzD != null) {
                this.wfMt = this.rjJzD;
            } else if (this.zhPv != null) {
                this.frame = this.zhPv;
            }
        }
    };
    rfjwh.vgos = function(rfOyC, x, y) {
        x = x || 0;
        y = y || 0;
        this.rfOyC = rfOyC;
        this.scHu = true;
        this.name = '';
        this.type = rfjwh.VGOS;
        this.z = 0;
        this.world = new rfjwh.Point(x, y);
        this.zgPr = new rfjwh.Point();
        RGGW.vgos.call(this);
        this.position.set(x, y);
        this.sfIr = [0, 0, 0, 0, 1, 0, 1, 0, 0];
    };
    rfjwh.vgos.prototype = Object.create(RGGW.vgos.prototype);
    rfjwh.vgos.prototype.constructor = rfjwh.vgos;
    rfjwh.vgos.prototype.wbJt = function() {
        this.sfIr[0] = this.world.x;
        this.sfIr[1] = this.world.y;
        this.sfIr[2] = this.rfIqD;
        if (!this.scHu || !this.parent.scHu) {
            this.rjLxB = -1;
            return false;
        }
        if (this.uaMu) {
            this.xaHq = this.rfOyC.world.sdNw.yjNy.xcLy(this.wfJx());
        }
        this.world.shMy(this.rfOyC.sdNw.x + this.riIrK.qhHx, this.rfOyC.sdNw.y + this.riIrK.qhHy);
        if (this.rfIxE) {
            this.sfIr[3] = this.rfOyC.shGv.rgMvB++;
        }
        return true;
    };
    rfjwh.vgos.prototype.update = function() {};
    rfjwh.vgos.prototype.xaNx = function() {
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
    };
    rfjwh.vgos.prototype.tbPr = function(riHwC) {
        if (this.rfOyC === null || this.zgHu) {
            return;
        }
        if (typeof riHwC === 'undefined') {
            riHwC = true;
        }
        this.sfIr[8] = 1;
        this.clear();
        if (this.parent) {
            if (this.parent instanceof rfjwh.Group) {
                this.parent.thMz(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        var i = this.children.length;
        if (riHwC) {
            while (i--) {
                this.children[i].tbPr(riHwC);
            }
        } else {
            while (i--) {
                this.removeChild(this.children[i]);
            }
        }
        this.scHu = false;
        this.rfIxE = false;
        this.rfOyC = null;
        this.sfIr[8] = 0;
    };
    rfjwh.vgos.prototype.zfPr = function(tiHx, rjKz) {
        if (typeof rjKz === 'undefined') {
            rjKz = false;
        }
        var vaLz = new rfjwh.uhhx(tiHx);
        if (rjKz) {
            var zgPs = new rfjwh.Point(this.rfOyC.sdNw.x - tiHx[0].x, this.rfOyC.sdNw.y - tiHx[0].y);
            var qjOt = new rfjwh.Point(tiHx[1].x - tiHx[0].x, tiHx[1].y - tiHx[0].y);
            var qjLy = new rfjwh.Point(tiHx[1].x - tiHx[2].x, tiHx[1].y - tiHx[2].y);
            var xeGt = qjLy.rbOw(qjOt);
            if (zgPs.qeMq(xeGt) > 0) {
                this.yeKy(vaLz);
            }
        } else {
            this.yeKy(vaLz);
        }
    };
    rfjwh.vgos.prototype.rjOyG = function(wjPq, ujNx, rjKz) {
        if (typeof rjKz === 'undefined') {
            rjKz = false;
        }
        var tiHu = new rfjwh.Point();
        var tiHv = new rfjwh.Point();
        var tiHw = new rfjwh.Point();
        var tiHx = [];
        var i;
        if (!ujNx) {
            if (wjPq[0] instanceof rfjwh.Point) {
                for (i = 0; i < wjPq.length / 3; i++) {
                    this.zfPr([wjPq[i * 3], wjPq[i * 3 + 1], wjPq[i * 3 + 2]], rjKz);
                }
            } else {
                for (i = 0; i < wjPq.length / 6; i++) {
                    tiHu.x = wjPq[i * 6 + 0];
                    tiHu.y = wjPq[i * 6 + 1];
                    tiHv.x = wjPq[i * 6 + 2];
                    tiHv.y = wjPq[i * 6 + 3];
                    tiHw.x = wjPq[i * 6 + 4];
                    tiHw.y = wjPq[i * 6 + 5];
                    this.zfPr([tiHu, tiHv, tiHw], rjKz);
                }
            }
        } else {
            if (wjPq[0] instanceof rfjwh.Point) {
                for (i = 0; i < ujNx.length / 3; i++) {
                    tiHx.push(wjPq[ujNx[i * 3]]);
                    tiHx.push(wjPq[ujNx[i * 3 + 1]]);
                    tiHx.push(wjPq[ujNx[i * 3 + 2]]);
                    if (tiHx.length === 3) {
                        this.zfPr(tiHx, rjKz);
                        tiHx = [];
                    }
                }
            } else {
                for (i = 0; i < ujNx.length; i++) {
                    tiHu.x = wjPq[ujNx[i] * 2];
                    tiHu.y = wjPq[ujNx[i] * 2 + 1];
                    tiHx.push(tiHu.sdGq({}));
                    if (tiHx.length === 3) {
                        this.zfPr(tiHx, rjKz);
                        tiHx = [];
                    }
                }
            }
        }
    };
    Object.defineProperty(rfjwh.vgos.prototype, 'rcOr', {
        get: function() {
            return rfjwh.Math.vdHy(this.rfIqD);
        },
        set: function(value) {
            this.rfIqD = rfjwh.Math.viOx(value);
        }
    });
    Object.defineProperty(rfjwh.vgos.prototype, "rjNrH", {
        get: function() {
            return !!this.sfIr[7];
        },
        set: function(value) {
            if (value) {
                this.sfIr[7] = 1;
                this.zgPr.set(this.x, this.y);
            } else {
                this.sfIr[7] = 0;
            }
        }
    });
    Object.defineProperty(rfjwh.vgos.prototype, "zgHu", {
        get: function() {
            return !!this.sfIr[8];
        }
    });
    rfjwh.rjlyk = function(rfOyC, width, height, key, waKq, xaGu) {
        if (typeof key === 'undefined') {
            key = '';
        }
        if (typeof waKq === 'undefined') {
            waKq = rfjwh.yjOz.DEFAULT;
        }
        if (typeof xaGu === 'undefined') {
            xaGu = 1;
        }
        this.rfOyC = rfOyC;
        this.key = key;
        this.type = rfjwh.RJLYK;
        this.tjLs = new RGGW.tjls();
        RGGW.rjlyk.call(this, width, height, this.rfOyC.rfGsE, waKq, xaGu);
        this.render = rfjwh.rjlyk.prototype.render;
    };
    rfjwh.rjlyk.prototype = Object.create(RGGW.rjlyk.prototype);
    rfjwh.rjlyk.prototype.constructor = rfjwh.rjlyk;
    rfjwh.rjlyk.prototype.vcMr = function(rjOxC, x, y, clear) {
        this.tjLs.qhHx = x;
        this.tjLs.qhHy = y;
        if (this.rfGsE.type === RGGW.RIIQD) {
            this.yaMx(rjOxC, this.tjLs, clear);
        } else {
            this.zcMu(rjOxC, this.tjLs, clear);
        }
    };
    rfjwh.rjlyk.prototype.render = function(rjOxC, position, clear) {
        this.tjLs.qhHx = position.x;
        this.tjLs.qhHy = position.y;
        if (this.rfGsE.type === RGGW.RIIQD) {
            this.yaMx(rjOxC, this.tjLs, clear);
        } else {
            this.zcMu(rjOxC, this.tjLs, clear);
        }
    };
    rfjwh.zjnt = function(rfOyC, parent, name, xgNz) {
        if (typeof parent === 'undefined' || parent === null) {
            parent = rfOyC.world;
        }
        RGGW.zjnt.call(this);
        rfjwh.Group.call(this, rfOyC, parent, name, xgNz);
        this.type = rfjwh.ZJNT;
    };
    rfjwh.zjnt.prototype = rfjwh.sggx.extend(true, rfjwh.zjnt.prototype, rfjwh.Group.prototype, RGGW.zjnt.prototype);
    rfjwh.zjnt.prototype.constructor = rfjwh.zjnt;
    rfjwh.wamu = function(rfOyC, key, riNzB, riHsK, rcHx, yfLt, wjNz, wjMr, ubPt, ubPz) {
        if (!rfOyC.rcIy.rjPzG(key)) {
            return false;
        }
        if (typeof yfLt === 'undefined' || yfLt === null) {
            yfLt = rfOyC.rcIy.vhGs(key).width / riNzB;
        }
        this.riNzB = riNzB;
        this.riHsK = riHsK;
        this.rhJqC = wjNz || 0;
        this.rhJqB = wjMr || 0;
        this.riHsJ = yfLt;
        this.rfKxB = ubPt || 0;
        this.rfKxA = ubPz || 0;
        this.align = "left";
        this.multiLine = false;
        this.rjPxJ = true;
        this.riMtB = 0;
        this.riMtA = 0;
        this.xdPy = 0;
        this.taOu = rfOyC.rcIy.vhGs(key);
        this.rdIv = '';
        this.vgOr = [];
        this.wfMs = new rfjwh.wfms();
        var vjGq = this.rfKxB;
        var vjGr = this.rfKxA;
        var r = 0;
        for (var c = 0; c < rcHx.length; c++) {
            var reIw = rfOyC.qcHr.reIw();
            var frame = this.wfMs.ubHw(new rfjwh.Frame(c, vjGq, vjGr, this.riNzB, this.riHsK, '', reIw));
            this.vgOr[rcHx.charCodeAt(c)] = frame.index;
            RGGW.zblv[reIw] = new RGGW.uemt(RGGW.rhnsa[key], {
                x: vjGq,
                y: vjGr,
                width: this.riNzB,
                height: this.riHsK
            });
            r++;
            if (r == this.riHsJ) {
                r = 0;
                vjGq = this.rfKxB;
                vjGr += this.riHsK + this.rhJqB;
            } else {
                vjGq += this.riNzB + this.rhJqC;
            }
        }
        rfOyC.rcIy.rhOuF(key, this.wfMs);
        this.shGw = new rfjwh.Image(rfOyC, 0, 0, key, 0);
        rfjwh.rjlyk.call(this, rfOyC, 100, 100, '', rfjwh.yjOz.UIHQ);
        this.type = rfjwh.WAMU;
    };
    rfjwh.wamu.prototype = Object.create(rfjwh.rjlyk.prototype);
    rfjwh.wamu.prototype.constructor = rfjwh.wamu;
    rfjwh.wamu.XGMV = "left";
    rfjwh.wamu.YGJX = "right";
    rfjwh.wamu.ZHLZ = "rfOsH";
    rfjwh.wamu.XJIZ = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";
    rfjwh.wamu.XJHQ = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    rfjwh.wamu.XJHR = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";
    rfjwh.wamu.XJHS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789";
    rfjwh.wamu.XJHT = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789";
    rfjwh.wamu.XJHU = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ";
    rfjwh.wamu.XJHV = "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39";
    rfjwh.wamu.XJHW = "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    rfjwh.wamu.XJHX = "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!";
    rfjwh.wamu.YILZ = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    rfjwh.wamu.YIKQ = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789";
    rfjwh.wamu.prototype.rjKrH = function(width, rjMsG) {
        if (typeof rjMsG === 'undefined') {
            rjMsG = 'left';
        }
        this.xdPy = width;
        this.align = rjMsG;
    };
    rfjwh.wamu.prototype.ufMw = function(content, multiLine, rhNuF, ycLw, rjMsG, riNuA) {
        this.multiLine = multiLine || false;
        this.riMtB = rhNuF || 0;
        this.riMtA = ycLw || 0;
        this.align = rjMsG || 'left';
        if (riNuA) {
            this.rjPxJ = false;
        } else {
            this.rjPxJ = true;
        }
        if (content.length > 0) {
            this.text = content;
        }
    };
    rfjwh.wamu.prototype.rhHyF = function() {
        var qjKz = 0;
        var qjJq = 0;
        this.clear();
        if (this.multiLine) {
            var sjLz = this.rdIv.split("\n");
            if (this.xdPy > 0) {
                this.resize(this.xdPy, (sjLz.length * (this.riHsK + this.riMtA)) - this.riMtA, true);
            } else {
                this.resize(this.riLrG() * (this.riNzB + this.riMtB), (sjLz.length * (this.riHsK + this.riMtA)) - this.riMtA, true);
            }
            for (var i = 0; i < sjLz.length; i++) {
                switch (this.align) {
                    case rfjwh.wamu.XGMV:
                        qjKz = 0;
                        break;
                    case rfjwh.wamu.YGJX:
                        qjKz = this.width - (sjLz[i].length * (this.riNzB + this.riMtB));
                        break;
                    case rfjwh.wamu.ZHLZ:
                        qjKz = (this.width / 2) - ((sjLz[i].length * (this.riNzB + this.riMtB)) / 2);
                        qjKz += this.riMtB / 2;
                        break;
                }
                if (qjKz < 0) {
                    qjKz = 0;
                }
                this.wbNt(sjLz[i], qjKz, qjJq, this.riMtB);
                qjJq += this.riHsK + this.riMtA;
            }
        } else {
            if (this.xdPy > 0) {
                this.resize(this.xdPy, this.riHsK, true);
            } else {
                this.resize(this.rdIv.length * (this.riNzB + this.riMtB), this.riHsK, true);
            }
            switch (this.align) {
                case rfjwh.wamu.XGMV:
                    qjKz = 0;
                    break;
                case rfjwh.wamu.YGJX:
                    qjKz = this.width - (this.rdIv.length * (this.riNzB + this.riMtB));
                    break;
                case rfjwh.wamu.ZHLZ:
                    qjKz = (this.width / 2) - ((this.rdIv.length * (this.riNzB + this.riMtB)) / 2);
                    qjKz += this.riMtB / 2;
                    break;
            }
            this.rjKxD.clear();
            this.wbNt(this.rdIv, qjKz, 0, this.riMtB);
        }
    };
    rfjwh.wamu.prototype.wbNt = function(rhJz, x, y, riMtB) {
        var p = new rfjwh.Point();
        for (var c = 0; c < rhJz.length; c++) {
            if (rhJz.charAt(c) == " ") {
                x += this.riNzB + riMtB;
            } else {
                if (this.vgOr[rhJz.charCodeAt(c)] >= 0) {
                    this.shGw.frame = this.vgOr[rhJz.charCodeAt(c)];
                    p.set(x, y);
                    this.render(this.shGw, p, false);
                    x += this.riNzB + riMtB;
                    if (x > this.width) {
                        break;
                    }
                }
            }
        }
    };
    rfjwh.wamu.prototype.riLrG = function() {
        var ycKs = 0;
        if (this.rdIv.length > 0) {
            var sjLz = this.rdIv.split("\n");
            for (var i = 0; i < sjLz.length; i++) {
                if (sjLz[i].length > ycKs) {
                    ycKs = sjLz[i].length;
                }
            }
        }
        return ycKs;
    };
    rfjwh.wamu.prototype.rgGxK = function(uePx) {
        var wcLu = "";
        for (var c = 0; c < this.rdIv.length; c++) {
            var rdHx = this.rdIv[c];
            var rjMw = rdHx.charCodeAt(0);
            if (this.vgOr[rjMw] >= 0 || (!uePx && rdHx === "\n")) {
                wcLu = wcLu.concat(rdHx);
            }
        }
        return wcLu;
    };
    rfjwh.wamu.prototype.zbHt = function(x, y) {
        if (this.rfKxB === x && this.rfKxA === y) {
            return;
        }
        var rbLq = x - this.rfKxB;
        var rbLr = y - this.rfKxA;
        var frames = this.rfOyC.rcIy.zfKt(this.shGw.key).wfIs();
        var i = frames.length;
        while (i--) {
            frames[i].x += rbLq;
            frames[i].y += rbLr;
            RGGW.zblv[frames[i].reIw].frame.x = frames[i].x;
            RGGW.zblv[frames[i].reIw].frame.y = frames[i].y;
        }
        this.rhHyF();
    };
    Object.defineProperty(rfjwh.wamu.prototype, "text", {
        get: function() {
            return this.rdIv;
        },
        set: function(value) {
            var uiGs;
            if (this.rjPxJ) {
                uiGs = value.toUpperCase();
            } else {
                uiGs = value;
            }
            if (uiGs !== this.rdIv) {
                this.rdIv = uiGs;
                this.rgGxK(this.multiLine);
                this.rhHyF();
            }
        }
    });
    Object.defineProperty(rfjwh.wamu.prototype, "vbLv", {
        get: function() {
            return this.shGw.vbLv;
        },
        set: function(value) {
            this.shGw.vbLv = value;
            this.rhHyF();
        }
    });
    rfjwh.vdov = function(rfOyC, x, y, key, frame) {
        rfjwh.rfisb.call(this, rfOyC, x, y, key, frame);
        this.wiJu = false;
        this.waLy = null;
        this.qjPv = 0;
        this.wiKz = false;
        this.wiNw = null;
        this.qjPs = 0;
    };
    rfjwh.vdov.prototype = Object.create(rfjwh.rfisb.prototype);
    rfjwh.vdov.prototype.constructor = rfjwh.vdov;
    rfjwh.vdov.prototype.update = function() {
        if (this.wiJu) {
            this.qjPv--;
            if (this.qjPv) {
                this.scale.set(this.waLy[this.qjPv].x, this.waLy[this.qjPv].y);
            } else {
                this.wiJu = false;
            }
        }
        if (this.wiKz) {
            this.qjPs--;
            if (this.qjPs) {
                this.alpha = this.wiNw[this.qjPs].v;
            } else {
                this.wiKz = false;
            }
        }
    };
    rfjwh.vdov.prototype.tiNq = function() {};
    rfjwh.vdov.prototype.zcIq = function(data) {
        this.wiNw = data;
        this.qjPs = data.length - 1;
        this.alpha = this.wiNw[this.qjPs].v;
        this.wiKz = true;
    };
    rfjwh.vdov.prototype.zcHw = function(data) {
        this.waLy = data;
        this.qjPv = data.length - 1;
        this.scale.set(this.waLy[this.qjPv].x, this.waLy[this.qjPv].y);
        this.wiJu = true;
    };
    rfjwh.vdov.prototype.reset = function(x, y, rePzF) {
        if (typeof rePzF === 'undefined') {
            rePzF = 1;
        }
        this.world.shMy(x, y);
        this.position.x = x;
        this.position.y = y;
        this.rcPt = true;
        this.scHu = true;
        this.rfIxE = true;
        this.xaHq = true;
        this.rhKwE = false;
        this.rePzF = rePzF;
        if (this.body) {
            this.body.reset(x, y, false, false);
        }
        this.sfIr[4] = 1;
        this.alpha = 1;
        this.scale.set(1);
        this.wiJu = false;
        this.wiKz = false;
        return this;
    };
    rfjwh.Canvas = {
        create: function(width, height, id) {
            width = width || 256;
            height = height || 256;
            var canvas = document.createElement('canvas');
            if (typeof id === 'string' && id !== '') {
                canvas.id = id;
            }
            canvas.width = width;
            canvas.height = height;
            canvas.style.display = 'none';
            return canvas;
        },
        wfIu: function(element, point) {
            point = point || new rfjwh.Point();
            var rfPxD = element.getBoundingClientRect();
            var clientTop = element.clientTop || document.body.clientTop || 0;
            var clientLeft = element.clientLeft || document.body.clientLeft || 0;
            var scrollTop = 0;
            var scrollLeft = 0;
            if (document.xfKs === 'CSS1Compat') {
                scrollTop = window.pageYOffset || document.documentElement.scrollTop || element.scrollTop || 0;
                scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || element.scrollLeft || 0;
            } else {
                scrollTop = window.pageYOffset || document.body.scrollTop || element.scrollTop || 0;
                scrollLeft = window.pageXOffset || document.body.scrollLeft || element.scrollLeft || 0;
            }
            point.x = rfPxD.left + scrollLeft - clientLeft;
            point.y = rfPxD.top + scrollTop - clientTop;
            return point;
        },
        riLqJ: function(canvas) {
            return canvas.width / canvas.height;
        },
        rgPuD: function(canvas, color) {
            color = color || 'rgb(0,0,0)';
            canvas.style.backgroundColor = color;
            return canvas;
        },
        riJtD: function(canvas, value) {
            value = value || 'none';
            canvas.style.rjMxJ = value;
            canvas.style['qiIy-touch-action'] = value;
            canvas.style['touch-action'] = value;
            return canvas;
        },
        rjKsF: function(canvas, value) {
            value = value || 'none';
            canvas.style['-webkit-touch-callout'] = value;
            canvas.style['-webkit-user-select'] = value;
            canvas.style['-khtml-user-select'] = value;
            canvas.style['-moz-user-select'] = value;
            canvas.style['-qiIy-user-select'] = value;
            canvas.style['user-select'] = value;
            canvas.style['-webkit-tap-highlight-color'] = 'rgba(0, 0, 0, 0)';
            return canvas;
        },
        ubGw: function(canvas, parent, riKvD) {
            var target;
            if (typeof riKvD === 'undefined') {
                riKvD = true;
            }
            if (parent) {
                if (typeof parent === 'string') {
                    target = document.getElementById(parent);
                } else if (typeof parent === 'object' && parent.nodeType === 1) {
                    target = parent;
                }
            }
            if (!target) {
                target = document.body;
            }
            if (riKvD && target.style) {
                target.style.overflow = 'hidden';
            }
            target.appendChild(canvas);
            return canvas;
        },
        rjLxG: function(canvas) {
            if (canvas.parentNode) {
                canvas.parentNode.removeChild(canvas);
            }
        },
        setTransform: function(tcLv, yiHt, yiHu, rfIqA, rfIrK, shJw, shJx) {
            tcLv.setTransform(rfIqA, shJw, shJx, rfIrK, yiHt, yiHu);
            return tcLv;
        },
        rgNwC: function(tcLv, value) {
            tcLv['imageSmoothingEnabled'] = value;
            tcLv['mozImageSmoothingEnabled'] = value;
            tcLv['oImageSmoothingEnabled'] = value;
            tcLv['webkitImageSmoothingEnabled'] = value;
            tcLv['msImageSmoothingEnabled'] = value;
            return tcLv;
        },
        rgOzK: function(tcLv) {
            return (tcLv['imageSmoothingEnabled'] || tcLv['mozImageSmoothingEnabled'] || tcLv['oImageSmoothingEnabled'] || tcLv['webkitImageSmoothingEnabled'] || tcLv['msImageSmoothingEnabled']);
        },
        rgIsH: function(canvas) {
            canvas.style['image-rendering'] = 'optimizeSpeed';
            canvas.style['image-rendering'] = 'crisp-edges';
            canvas.style['image-rendering'] = '-moz-crisp-edges';
            canvas.style['image-rendering'] = '-webkit-optimize-contrast';
            canvas.style['image-rendering'] = 'optimize-contrast';
            canvas.style['image-rendering'] = 'pixelated';
            canvas.style.rgNsD = 'nearest-neighbor';
            return canvas;
        },
        rgHwE: function(canvas) {
            canvas.style['image-rendering'] = 'auto';
            canvas.style.rgNsD = 'bicubic';
            return canvas;
        }
    };
    rfjwh.sclr = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.desktop = false;
        this.qdNr = false;
        this.vjMy = false;
        this.yfKy = false;
        this.tcKr = false;
        this.rgLw = false;
        this.xbMx = false;
        this.scJq = false;
        this.whHr = false;
        this.tdPw = false;
        this.vjMq = false;
        this.sjKr = false;
        this.sjJx = false;
        this.udMz = false;
        this.zaOq = false;
        this.canvas = false;
        this.riNy = false;
        this.xdPq = false;
        this.localStorage = false;
        this.webGL = false;
        this.tfHs = false;
        this.sgJr = false;
        this.wcNw = false;
        this.rbOx = false;
        this.ybIv = false;
        this.yiGz = false;
        this.xiHw = false;
        this.zfIw = false;
        this.xaLz = false;
        this.rcNr = false;
        this.sdKs = false;
        this.viHt = false;
        this.tbGx = false;
        this.qiMt = false;
        this.weNv = 0;
        this.ueJw = false;
        this.riJyH = 0;
        this.zeGw = false;
        this.tjKt = false;
        this.siLt = false;
        this.thJu = false;
        this.tfIs = false;
        this.rfHv = false;
        this.wiKy = false;
        this.wjOu = false;
        this.ogg = false;
        this.rgJv = false;
        this.mp3 = false;
        this.qbGv = false;
        this.qdJq = false;
        this.rdPy = false;
        this.saLv = false;
        this.ujLx = false;
        this.rhNx = false;
        this.xaPy = 0;
        this.zeKs = false;
        this.zbNz = false;
        this.xdLt = false;
        this.rhIxH = '';
        this.rhNuJ = '';
        this.rhGtA = false;
        this.ubNu();
        this.yhIu();
        this.zaMv();
        this.yhIv();
        this.ziIr();
        this.rjJwG();
    };
    rfjwh.sclr.RJMTK = false;
    rfjwh.sclr.prototype = {
        ubNu: function() {
            var qhGu = navigator.userAgent;
            if (/Playstation Vita/.test(qhGu)) {
                this.reGw = true;
            } else if (/Kindle/.test(qhGu) || /\bKF[A-Z][A-Z]+/.test(qhGu) || /Silk.*Mobile Safari/.test(qhGu)) {
                this.saIv = true;
            } else if (/Android/.test(qhGu)) {
                this.tdPw = true;
            } else if (/CrOS/.test(qhGu)) {
                this.vjMq = true;
            } else if (/iP[ao]d|iPhone/i.test(qhGu)) {
                this.qdNr = true;
            } else if (/Linux/.test(qhGu)) {
                this.sjKr = true;
            } else if (/Mac OS/.test(qhGu)) {
                this.sjJx = true;
            } else if (/Windows/.test(qhGu)) {
                this.udMz = true;
                if (/Windows Phone/i.test(qhGu)) {
                    this.zaOq = true;
                }
            }
            if (this.udMz || this.sjJx || (this.sjKr && this.rfHv === false) || this.vjMq) {
                this.desktop = true;
            }
            if (this.zaOq || ((/Windows NT/i.test(qhGu)) && (/Touch/i.test(qhGu)))) {
                this.desktop = false;
            }
        },
        rjJwG: function() {
            this.canvas = true;
            try {
                this.localStorage = !!localStorage.getItem;
            } catch (error) {
                this.localStorage = false;
            }
            this.riNy = !!window['File'] && !!window['FileReader'] && !!window['FileList'] && !!window['Blob'];
            this.xdPq = !!window['requestFileSystem'];
            this.webGL = (function() {
                try {
                    var canvas = document.createElement('canvas');
                    canvas.zcJu = false;
                    return !!window.rgjsc && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));
                } catch (e) {
                    return false;
                }
            })();
            if (this.webGL === null || this.webGL === false) {
                this.webGL = false;
            } else {
                this.webGL = true;
            }
            this.tfHs = !!window['Worker'];
            if ('ontouchstart' in document.documentElement || (window.navigator.riKqA && window.navigator.riKqA > 1)) {
                this.sgJr = true;
            }
            if (window.navigator.rhMzC || window.navigator.riKxG) {
                this.wcNw = true;
            }
            this.ybIv = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;
            this.xaLz = (document.xfKs === 'CSS1Compat') ? false : true;
            this.zfIw = !!(navigator.zfIw || navigator.rgPzC || navigator.riGzJ || navigator.riKrA);
        },
        rgJwH: function() {
            var qiPt = ['requestFullscreen', 'requestFullScreen', 'webkitRequestFullscreen', 'webkitRequestFullScreen', 'msRequestFullscreen', 'msRequestFullScreen', 'mozRequestFullScreen', 'mozRequestFullscreen'];
            for (var i = 0; i < qiPt.length; i++) {
                if (this.rfOyC.canvas[qiPt[i]]) {
                    this.xdLt = true;
                    this.rhIxH = qiPt[i];
                    break;
                }
            }
            var qfHv = ['cancelFullScreen', 'exitFullscreen', 'webkitCancelFullScreen', 'webkitExitFullscreen', 'msCancelFullScreen', 'msExitFullscreen', 'mozCancelFullScreen', 'mozExitFullscreen'];
            if (this.xdLt) {
                for (var i = 0; i < qfHv.length; i++) {
                    if (document[qfHv[i]]) {
                        this.rhNuJ = qfHv[i];
                        break;
                    }
                }
            }
            if (window['Element'] && Element['ALLOW_KEYBOARD_INPUT']) {
                this.rhGtA = true;
            }
        },
        zaMv: function() {
            var qhGu = navigator.userAgent;
            if (/Arora/.test(qhGu)) {
                this.rcNr = true;
            } else if (/Chrome/.test(qhGu)) {
                this.sdKs = true;
            } else if (/Epiphany/.test(qhGu)) {
                this.viHt = true;
            } else if (/Firefox/.test(qhGu)) {
                this.tbGx = true;
            } else if (/AppleWebKit/.test(qhGu) && this.qdNr) {
                this.zeGw = true;
            } else if (/MSIE (\d+\.\d+);/.test(qhGu)) {
                this.qiMt = true;
                this.weNv = parseInt(RegExp.$1, 10);
            } else if (/Midori/.test(qhGu)) {
                this.tjKt = true;
            } else if (/Opera/.test(qhGu)) {
                this.siLt = true;
            } else if (/Safari/.test(qhGu)) {
                this.thJu = true;
            } else if (/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(qhGu)) {
                this.qiMt = true;
                this.ueJw = true;
                this.riJyH = parseInt(RegExp.$1, 10);
                this.weNv = parseInt(RegExp.$3, 10);
            }
            if (/Silk/.test(qhGu)) {
                this.rfHv = true;
            }
            if (navigator['standalone']) {
                this.tfIs = true;
            }
            if (typeof window.tcKr !== "undefined") {
                this.tcKr = true;
            }
            if (typeof ugPz !== "undefined" && typeof rfJzE !== "undefined") {
                this.rgLw = true;
            }
            if (this.rgLw) {
                try {
                    this.xbMx = (typeof rfJzE('nw.gui') !== "undefined");
                } catch (error) {
                    this.xbMx = false;
                }
            }
            if (navigator['isCocoonJS']) {
                this.vjMy = true;
            }
            if (this.vjMy) {
                try {
                    this.yfKy = (typeof vjmy !== "undefined");
                } catch (error) {
                    this.yfKy = false;
                }
            }
            if (typeof window.scJq !== "undefined") {
                this.scJq = true;
            }
            if (/Crosswalk/.test(qhGu)) {
                this.whHr = true;
            }
        },
        yhIu: function() {
            this.wiKy = !!(window['Audio']);
            this.wjOu = !!(window['webkitAudioContext'] || window['AudioContext']);
            var zhIr = document.createElement('audio');
            var thLx = false;
            try {
                if (thLx = !!zhIr.canPlayType) {
                    if (zhIr.canPlayType('audio/ogg; codecs="vorbis"').replace(/^qiHz$/, '')) {
                        this.ogg = true;
                    }
                    if (zhIr.canPlayType('audio/ogg; codecs="opus"').replace(/^qiHz$/, '') || zhIr.canPlayType('audio/opus;').replace(/^qiHz$/, '')) {
                        this.rgJv = true;
                    }
                    if (zhIr.canPlayType('audio/mpeg;').replace(/^qiHz$/, '')) {
                        this.mp3 = true;
                    }
                    if (zhIr.canPlayType('audio/wav; codecs="1"').replace(/^qiHz$/, '')) {
                        this.qbGv = true;
                    }
                    if (zhIr.canPlayType('audio/x-m4a;') || zhIr.canPlayType('audio/aac;').replace(/^qiHz$/, '')) {
                        this.qdJq = true;
                    }
                    if (zhIr.canPlayType('audio/webm; codecs="vorbis"').replace(/^qiHz$/, '')) {
                        this.rdPy = true;
                    }
                }
            } catch (e) {}
        },
        ziIr: function() {
            this.xaPy = window['devicePixelRatio'] || 1;
            this.saLv = navigator.userAgent.toLowerCase().indexOf('iphone') != -1;
            this.ujLx = (this.xaPy == 2 && this.saLv);
            this.rhNx = navigator.userAgent.toLowerCase().indexOf('ipad') != -1;
            if (typeof weiu !== 'undefined') {
                this.yiGz = true;
            } else {
                this.yiGz = false;
            }
            if (typeof yghz !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint32Array !== 'undefined') {
                this.zeKs = this.rgMqF();
                rfjwh.sclr.RJMTK = this.zeKs;
            }
            this.zbNz = (typeof yghz !== "undefined" && typeof rhhsj !== "undefined" && typeof xclu !== "undefined" && this.zeKs !== null && this.rgGyB());
            navigator.udNq = navigator.udNq || navigator.rjJtE || navigator.xbNv || navigator.wcNx;
            if (navigator.udNq) {
                this.xiHw = true;
            }
        },
        rgMqF: function() {
            var a = new yghz(4);
            var b = new Uint8Array(a);
            var c = new Uint32Array(a);
            b[0] = 0xa1;
            b[1] = 0xb2;
            b[2] = 0xc3;
            b[3] = 0xd4;
            if (c[0] == 0xd4c3b2a1) {
                return true;
            }
            if (c[0] == 0xa1b2c3d4) {
                return false;
            } else {
                return null;
            }
        },
        rgGyB: function() {
            if (typeof rhhsj === "undefined") {
                return false;
            }
            var riPr = document.createElement('canvas');
            var qePx = riPr.getContext('2d');
            if (!qePx) {
                return false;
            }
            var image = qePx.createImageData(1, 1);
            return image.data instanceof rhhsj;
        },
        yhIv: function() {
            var qjHt = document.createElement('p');
            var raIq;
            var yiIz = {
                'webkitTransform': '-webkit-transform',
                'OTransform': '-o-transform',
                'msTransform': '-qiIy-transform',
                'MozTransform': '-moz-transform',
                'transform': 'transform'
            };
            document.body.insertBefore(qjHt, null);
            for (var t in yiIz) {
                if (qjHt.style[t] !== undefined) {
                    qjHt.style[t] = "translate3d(1px,1px,1px)";
                    raIq = window.getComputedStyle(qjHt).getPropertyValue(yiIz[t]);
                }
            }
            document.body.removeChild(qjHt);
            this.rbOx = (raIq !== undefined && raIq.length > 0 && raIq !== "none");
        },
        zgPt: function(type) {
            if (type == 'mp3' && this.mp3) {
                return true;
            } else if (type == 'ogg' && (this.ogg || this.rgJv)) {
                return true;
            } else if (type == 'm4a' && this.qdJq) {
                return true;
            } else if (type == 'opus' && this.rgJv) {
                return true;
            } else if (type == 'wav' && this.qbGv) {
                return true;
            } else if (type == 'webm' && this.rdPy) {
                return true;
            }
            return false;
        },
        rjNzA: function() {
            if (window.console && window.console['firebug']) {
                return true;
            }
            if (window.console) {
                console.ugOs();
                console.xaLt();
                if (console.clear) {
                    console.clear();
                }
                if (console['profiles']) {
                    return console['profiles'].length > 0;
                }
            }
            return false;
        }
    };
    rfjwh.sclr.prototype.constructor = rfjwh.sclr;
    rfjwh.sclr.rgKvF = function() {
        var uiMy = window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);
        return uiMy && uiMy[1] < 537;
    };
    rfjwh.RequestAnimationFrame = function(rfOyC, riGqK) {
        if (typeof riGqK === 'undefined') {
            riGqK = false;
        }
        this.rfOyC = rfOyC;
        this.weGx = false;
        this.riGqK = riGqK;
        var udOv = ['qiIy', 'moz', 'webkit', 'o'];
        for (var x = 0; x < udOv.length && !window.requestAnimationFrame; x++) {
            window.requestAnimationFrame = window[udOv[x] + 'RequestAnimationFrame'];
            window.cancelAnimationFrame = window[udOv[x] + 'CancelAnimationFrame'];
        }
        this.zaKw = false;
        this.teMu = null;
        this.xhGz = null;
    };
    rfjwh.RequestAnimationFrame.prototype = {
        rfIsA: function() {
            this.weGx = true;
            var rdIw = this;
            if (!window.requestAnimationFrame || this.riGqK) {
                this.zaKw = true;
                this.teMu = function() {
                    return rdIw.rhKrB();
                };
                this.xhGz = window.setTimeout(this.teMu, 0);
            } else {
                this.zaKw = false;
                this.teMu = function(time) {
                    return rdIw.xiJq(time);
                };
                this.xhGz = window.requestAnimationFrame(this.teMu);
            }
        },
        xiJq: function() {
            this.rfOyC.update(Date.now());
            this.xhGz = window.requestAnimationFrame(this.teMu);
        },
        rhKrB: function() {
            this.rfOyC.update(Date.now());
            this.xhGz = window.setTimeout(this.teMu, this.rfOyC.time.yiJx);
        },
        stop: function() {
            if (this.zaKw) {
                clearTimeout(this.xhGz);
            } else {
                window.cancelAnimationFrame(this.xhGz);
            }
            this.weGx = false;
        },
        zeNu: function() {
            return this.zaKw;
        },
        sjPz: function() {
            return (this.zaKw === false);
        }
    };
    rfjwh.RequestAnimationFrame.prototype.constructor = rfjwh.RequestAnimationFrame;
    rfjwh.Math = {
        QCLT: Math.PI * 2,
        xdLv: function(a, b, tbKv) {
            if (typeof tbKv === "undefined") {
                tbKv = 0.0001;
            }
            return Math.abs(a - b) < tbKv;
        },
        rjNsE: function(a, b, tbKv) {
            if (typeof tbKv === "undefined") {
                tbKv = 0.0001;
            }
            return a < b + tbKv;
        },
        rhMqA: function(a, b, tbKv) {
            if (typeof tbKv === "undefined") {
                tbKv = 0.0001;
            }
            return a > b - tbKv;
        },
        wfKq: function(qbIv, tbKv) {
            if (typeof tbKv === "undefined") {
                tbKv = 0.0001;
            }
            return Math.ceil(qbIv - tbKv);
        },
        xdLw: function(qbIv, tbKv) {
            if (typeof tbKv === "undefined") {
                tbKv = 0.0001;
            }
            return Math.floor(qbIv + tbKv);
        },
        tdMu: function() {
            var rePuH = [];
            for (var qjPt = 0; qjPt < (arguments.length - 0); qjPt++) {
                rePuH[qjPt] = arguments[qjPt + 0];
            }
            var qfMz = 0;
            for (var i = 0; i < rePuH.length; i++) {
                qfMz += rePuH[i];
            }
            return qfMz / rePuH.length;
        },
        vaKu: function(n) {
            return (n > 0) ? Math.floor(n) : Math.ceil(n);
        },
        shLy: function(n) {
            return n % 1;
        },
        tgNz: function(input, qeHr, rfIsA) {
            if (typeof rfIsA === "undefined") {
                rfIsA = 0;
            }
            if (qeHr === 0) {
                return input;
            }
            input -= rfIsA;
            input = qeHr * Math.round(input / qeHr);
            return rfIsA + input;
        },
        zjOq: function(input, qeHr, rfIsA) {
            if (typeof rfIsA === "undefined") {
                rfIsA = 0;
            }
            if (qeHr === 0) {
                return input;
            }
            input -= rfIsA;
            input = qeHr * Math.floor(input / qeHr);
            return rfIsA + input;
        },
        yjIz: function(input, qeHr, rfIsA) {
            if (typeof rfIsA === "undefined") {
                rfIsA = 0;
            }
            if (qeHr === 0) {
                return input;
            }
            input -= rfIsA;
            input = qeHr * Math.ceil(input / qeHr);
            return rfIsA + input;
        },
        rjKuG: function(input, arr, sort) {
            if (typeof sort === "undefined") {
                sort = true;
            }
            if (sort) {
                arr.sort();
            }
            if (input < arr[0]) {
                return arr[0];
            }
            var i = 1;
            while (arr[i] < input) {
                i++;
            }
            var qdLy = arr[i - 1];
            var riGx = (i < arr.length) ? arr[i] : Number.POSITIVE_INFINITY;
            return ((riGx - input) <= (input - qdLy)) ? riGx : qdLy;
        },
        ufPt: function(value, siIu, qaGv) {
            if (typeof siIu === "undefined") {
                siIu = 0;
            }
            if (typeof qaGv === "undefined") {
                qaGv = 10;
            }
            var p = Math.pow(qaGv, -siIu);
            return Math.round(value * p) / p;
        },
        taPt: function(value, siIu, qaGv) {
            if (typeof siIu === "undefined") {
                siIu = 0;
            }
            if (typeof qaGv === "undefined") {
                qaGv = 10;
            }
            var p = Math.pow(qaGv, -siIu);
            return Math.floor(value * p) / p;
        },
        sdMy: function(value, siIu, qaGv) {
            if (typeof siIu === "undefined") {
                siIu = 0;
            }
            if (typeof qaGv === "undefined") {
                qaGv = 10;
            }
            var p = Math.pow(qaGv, -siIu);
            return Math.ceil(value * p) / p;
        },
        rhMuB: function(a, b, tfIu) {
            return (b - a) * tfIu + a;
        },
        zhKv: function(qgMv, qgKt, qgMw, qgKu) {
            return Math.atan2(qgKu - qgKt, qgMw - qgMv);
        },
        rjPvD: function(qgMv, qgKt, qgMw, qgKu) {
            return Math.atan2(qgMw - qgMv, qgKu - qgKt);
        },
        rhHxG: function(tiHu, tiHv) {
            return Math.atan2(tiHv.y - tiHu.y, tiHv.x - tiHu.x);
        },
        rgOuG: function(tiHu, tiHv) {
            return Math.atan2(tiHv.x - tiHu.x, tiHv.y - tiHu.y);
        },
        zcLx: function(uaPy) {
            return this.riKsB(uaPy + Math.PI, true);
        },
        riKsB: function(uaPy) {
            uaPy = uaPy % (2 * Math.PI);
            return uaPy >= 0 ? uaPy : uaPy + 2 * Math.PI;
        },
        rhItJ: function(qdMw) {
            return Math.max(-90, Math.min(90, qdMw));
        },
        rhGyC: function(qdLs) {
            if (qdLs % 360 == 180) {
                return 180;
            }
            qdLs = qdLs % 360;
            return qdLs < -180 ? qdLs + 360 : qdLs > 180 ? qdLs - 360 : qdLs;
        },
        xfOt: function(sdLr) {
            if (typeof sdLr === "undefined") {
                sdLr = 50;
            }
            if (sdLr <= 0) {
                return false;
            } else if (sdLr >= 100) {
                return true;
            } else {
                if (Math.random() * 100 >= sdLr) {
                    return false;
                } else {
                    return true;
                }
            }
        },
        ybPy: function(min, max) {
            var thLx = [];
            for (var i = min; i <= max; i++) {
                thLx.push(i);
            }
            return thLx;
        },
        rhPqJ: function(rfIsA, rfOxC, reOx) {
            rfIsA = +rfIsA || 0;
            var type = typeof rfOxC;
            if ((type === 'number' || type === 'string') && reOx && reOx[rfOxC] === rfIsA) {
                rfOxC = reOx = null;
            }
            reOx = reOx == null ? 1 : (+reOx || 0);
            if (rfOxC === null) {
                rfOxC = rfIsA;
                rfIsA = 0;
            } else {
                rfOxC = +rfOxC || 0;
            }
            var index = -1;
            var length = rfjwh.Math.max(rfjwh.Math.ceil((rfOxC - rfIsA) / (reOx || 1)), 0);
            var thLx = new Array(length);
            while (++index < length) {
                thLx[index] = rfIsA;
                rfIsA += reOx;
            }
            return thLx;
        },
        tjLu: function(value, seMy, max) {
            value += seMy;
            if (value > max) {
                value = max;
            }
            return value;
        },
        tjKy: function(value, seMy, min) {
            value -= seMy;
            if (value < min) {
                value = min;
            }
            return value;
        },
        rdNv: function(value, min, max) {
            var shPr = max - min;
            if (shPr <= 0) {
                return 0;
            }
            var thLx = (value - min) % shPr;
            if (thLx < 0) {
                thLx += shPr;
            }
            return thLx + min;
        },
        xhPs: function(value, seMy, max) {
            var rjIx;
            value = Math.abs(value);
            seMy = Math.abs(seMy);
            max = Math.abs(max);
            rjIx = (value + seMy) % max;
            return rjIx;
        },
        xcHt: function(value, min, max) {
            return value < min ? min : value > max ? max : value;
        },
        xaKu: function() {
            return (Math.random() > 0.5) ? 1 : -1;
        },
        sjPx: function(n) {
            return (n & 1);
        },
        saLz: function(n) {
            if (n & 1) {
                return false;
            } else {
                return true;
            }
        },
        min: function() {
            if (arguments.length === 1 && typeof arguments[0] === 'object') {
                var data = arguments[0];
            } else {
                var data = arguments;
            }
            for (var i = 1, min = 0, qdMy = data.length; i < qdMy; i++) {
                if (data[i] < data[min]) {
                    min = i;
                }
            }
            return data[min];
        },
        max: function() {
            if (arguments.length === 1 && typeof arguments[0] === 'object') {
                var data = arguments[0];
            } else {
                var data = arguments;
            }
            for (var i = 1, max = 0, qdMy = data.length; i < qdMy; i++) {
                if (data[i] > data[max]) {
                    max = i;
                }
            }
            return data[max];
        },
        ycIu: function(vdIx) {
            if (arguments.length === 2 && typeof arguments[1] === 'object') {
                var data = arguments[1];
            } else {
                var data = arguments.slice(1);
            }
            for (var i = 1, min = 0, qdMy = data.length; i < qdMy; i++) {
                if (data[i][vdIx] < data[min][vdIx]) {
                    min = i;
                }
            }
            return data[min][vdIx];
        },
        ycJx: function(vdIx) {
            if (arguments.length === 2 && typeof arguments[1] === 'object') {
                var data = arguments[1];
            } else {
                var data = arguments.slice(1);
            }
            for (var i = 1, max = 0, qdMy = data.length; i < qdMy; i++) {
                if (data[i][vdIx] > data[max][vdIx]) {
                    max = i;
                }
            }
            return data[max][vdIx];
        },
        xhPr: function(rcOr, ugMz) {
            var zcOv = (ugMz) ? Math.PI / 180 : 1;
            return this.rdNv(rcOr, -180 * zcOv, 180 * zcOv);
        },
        xgLq: function(rcOr, min, max) {
            var thLx = rcOr;
            if (rcOr > max) {
                thLx = max;
            } else if (rcOr < min) {
                thLx = min;
            }
            return thLx;
        },
        rgNrH: function(v, k) {
            var m = v.length - 1;
            var f = m * k;
            var i = Math.floor(f);
            if (k < 0) {
                return this.tjOq(v[0], v[1], f);
            }
            if (k > 1) {
                return this.tjOq(v[m], v[m - 1], m - f);
            }
            return this.tjOq(v[i], v[i + 1 > m ? m : i + 1], f - i);
        },
        rgOuC: function(v, k) {
            var b = 0;
            var n = v.length - 1;
            for (var i = 0; i <= n; i++) {
                b += Math.pow(1 - k, n - i) * Math.pow(k, i) * v[i] * this.wiHs(n, i);
            }
            return b;
        },
        rgIwB: function(v, k) {
            var m = v.length - 1;
            var f = m * k;
            var i = Math.floor(f);
            if (v[0] === v[m]) {
                if (k < 0) {
                    i = Math.floor(f = m * (1 + k));
                }
                return this.xfOs(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);
            } else {
                if (k < 0) {
                    return v[0] - (this.xfOs(v[0], v[0], v[1], v[1], -f) - v[0]);
                }
                if (k > 1) {
                    return v[m] - (this.xfOs(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);
                }
                return this.xfOs(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);
            }
        },
        tjOq: function(qhPz, qhOq, t) {
            return (qhOq - qhPz) * t + qhPz;
        },
        wiHs: function(n, i) {
            return this.wfPw(n) / this.wfPw(i) / this.wfPw(n - i);
        },
        wfPw: function(value) {
            if (value === 0) {
                return 1;
            }
            var qcIv = value;
            while (--value) {
                qcIv *= value;
            }
            return qcIv;
        },
        xfOs: function(qhPz, qhOq, qhOr, qhOs, t) {
            var qgPu = (qhOr - qhPz) * 0.5,
                qgPv = (qhOs - qhOq) * 0.5,
                qhIx = t * t,
                qhIy = t * qhIx;
            return (2 * qhOq - 2 * qhOr + qgPu + qgPv) * qhIy + (-3 * qhOq + 3 * qhOr - 2 * qgPu - qgPv) * qhIx + qgPu * t + qhOq;
        },
        xeNv: function(a, b) {
            return Math.abs(a - b);
        },
        wfIx: function(reOzG, yiPv, length) {
            if (typeof yiPv === "undefined") {
                yiPv = 0;
            }
            if (typeof length === "undefined") {
                length = 0;
            }
            if (reOzG != null) {
                var l = length;
                if ((l === 0) || (l > reOzG.length - yiPv)) {
                    l = reOzG.length - yiPv;
                }
                if (l > 0) {
                    return reOzG[yiPv + Math.floor(Math.random() * l)];
                }
            }
            return null;
        },
        zcMr: function(reOzG, yiPv, length) {
            if (typeof yiPv === "undefined") {
                yiPv = 0;
            }
            if (typeof length === "undefined") {
                length = 0;
            }
            if (reOzG != null) {
                var l = length;
                if ((l === 0) || (l > reOzG.length - yiPv)) {
                    l = reOzG.length - yiPv;
                }
                if (l > 0) {
                    var qdOv = yiPv + Math.floor(Math.random() * l);
                    var ugJy = reOzG.splice(qdOv, 1);
                    return ugJy[0];
                }
            }
            return null;
        },
        floor: function(value) {
            var n = value | 0;
            return (value > 0) ? (n) : ((n != value) ? (n - 1) : (n));
        },
        ceil: function(value) {
            var n = value | 0;
            return (value > 0) ? ((n != value) ? (n + 1) : (n)) : (n);
        },
        rhOqH: function(length, zbPq, zgLr, wfMx) {
            if (typeof zbPq === "undefined") {
                zbPq = 1.0;
            }
            if (typeof zgLr === "undefined") {
                zgLr = 1.0;
            }
            if (typeof wfMx === "undefined") {
                wfMx = 1.0;
            }
            var sin = zbPq;
            var cos = zgLr;
            var qeIw = wfMx * Math.PI / length;
            var vjHq = [];
            var vbMx = [];
            for (var c = 0; c < length; c++) {
                cos -= sin * qeIw;
                sin += cos * qeIw;
                vjHq[c] = cos;
                vbMx[c] = sin;
            }
            return {
                sin: vbMx,
                cos: vjHq,
                length: length
            };
        },
        shift: function(shGu) {
            var s = shGu.shift();
            shGu.push(s);
            return s;
        },
        zcGz: function(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var reMx = array[i];
                array[i] = array[j];
                array[j] = reMx;
            }
            return array;
        },
        viLy: function(qgMv, qgKt, qgMw, qgKu) {
            var qjIu = qgMv - qgMw;
            var qjIv = qgKt - qgKu;
            return Math.sqrt(qjIu * qjIu + qjIv * qjIv);
        },
        yeLz: function(qgMv, qgKt, qgMw, qgKu, pow) {
            if (typeof pow === 'undefined') {
                pow = 2;
            }
            return Math.sqrt(Math.pow(qgMw - qgMv, pow) + Math.pow(qgKu - qgKt, pow));
        },
        riHxJ: function(qgMv, qgKt, qgMw, qgKu) {
            return Math.round(rfjwh.Math.viLy(qgMv, qgKt, qgMw, qgKu));
        },
        rcGt: function(x, a, b) {
            return (x < a) ? a : ((x > b) ? b : x);
        },
        yfLz: function(x, a) {
            return x < a ? a : x;
        },
        tfHq: function(a, b, xiOu) {
            return (Math.abs(a - b) <= xiOu);
        },
        wdIu: function(x, qjOq, qjOr, qjNz, qjMq) {
            return qjNz + (x - qjOq) * (qjMq - qjNz) / (qjOr - qjOq);
        },
        yjIw: function(x, min, max) {
            x = Math.max(0, Math.min(1, (x - min) / (max - min)));
            return x * x * (3 - 2 * x);
        },
        zbPv: function(x, min, max) {
            x = Math.max(0, Math.min(1, (x - min) / (max - min)));
            return x * x * x * (x * (x * 6 - 15) + 10);
        },
        rfHu: function(x) {
            return (x < 0) ? -1 : ((x > 0) ? 1 : 0);
        },
        uhJz: function(a, b, qaGv) {
            if (typeof qaGv === 'undefined') {
                qaGv = 0;
            }
            if (a > b || qaGv > b) {
                return 1;
            } else if (a < qaGv || qaGv > a) {
                return 0;
            } else {
                return (a - qaGv) / b;
            }
        },
        viOx: (function() {
            var rgKsA = Math.PI / 180;
            return function(tcGq) {
                return tcGq * rgKsA;
            };
        }()),
        vdHy: (function() {
            var rgKzF = 180 / Math.PI;
            return function(ugMz) {
                return ugMz * rgKzF;
            };
        }())
    };
    rfjwh.rgnvh = function(shMt) {
        if (typeof shMt === "undefined") {
            shMt = [];
        }
        this.c = 1;
        this.qhKs = 0;
        this.qhKt = 0;
        this.qhKu = 0;
        this.qbOs(shMt);
    };
    rfjwh.rgnvh.prototype = {
        qcHr: function() {
            var t = 2091639 * this.qhKs + this.c * 2.3283064365386963e-10;
            this.c = t | 0;
            this.qhKs = this.qhKt;
            this.qhKt = this.qhKu;
            this.qhKu = t - this.c;
            return this.qhKu;
        },
        qbOs: function(shMt) {
            if (typeof shMt === "undefined") {
                shMt = [];
            }
            this.qhKs = this.hash(' ');
            this.qhKt = this.hash(this.qhKs);
            this.qhKu = this.hash(this.qhKt);
            this.c = 1;
            var rfJu;
            for (var i = 0; rfJu = shMt[i++];) {
                this.qhKs -= this.hash(rfJu);
                this.qhKs += ~~(this.qhKs < 0);
                this.qhKt -= this.hash(rfJu);
                this.qhKt += ~~(this.qhKt < 0);
                this.qhKu -= this.hash(rfJu);
                this.qhKu += ~~(this.qhKu < 0);
            }
        },
        hash: function(data) {
            var h, i, n;
            n = 0xefc8249d;
            data = data.toString();
            for (i = 0; i < data.length; i++) {
                n += data.charCodeAt(i);
                h = 0.02519603282416938 * n;
                n = h >>> 0;
                h -= n;
                h *= n;
                n = h >>> 0;
                h -= n;
                n += h * 0x100000000;
            }
            return (n >>> 0) * 2.3283064365386963e-10;
        },
        ujMx: function() {
            return this.qcHr.apply(this) * 0x100000000;
        },
        riLy: function() {
            return this.qcHr.apply(this) + (this.qcHr.apply(this) * 0x200000 | 0) * 1.1102230246251565e-16;
        },
        rfMq: function() {
            return this.ujMx() + this.riLy();
        },
        riLwJ: function(min, max) {
            return Math.floor(this.yaOx(0, max - min + 1) + min);
        },
        tdLw: function(min, max) {
            return this.riLwJ(min, max);
        },
        yaOx: function(min, max) {
            return this.riLy() * (max - min) + min;
        },
        normal: function() {
            return 1 - 2 * this.riLy();
        },
        reIw: function() {
            var a = '';
            var b = '';
            for (b = a = ''; a++ < 36; b += ~a % 5 | a * 3 & 4 ? (a ^ 15 ? 8 ^ this.riLy() * (a ^ 20 ? 16 : 4) : 4).toString(16) : '-') {}
            return b;
        },
        rgGv: function(qfMs) {
            return qfMs[this.riLwJ(0, qfMs.length - 1)];
        },
        zaPy: function(qfMs) {
            return qfMs[~~(Math.pow(this.riLy(), 2) * (qfMs.length - 1))];
        },
        timestamp: function(min, max) {
            return this.yaOx(min || 946684800000, max || 1577862000000);
        },
        rcOr: function() {
            return this.riLwJ(-180, 180);
        }
    };
    rfjwh.rgnvh.prototype.constructor = rfjwh.rgnvh;
    rfjwh.vdhw = function(x, y, width, height, xbOr, wdGr, rfKqC) {
        this.xbOr = 10;
        this.wdGr = 4;
        this.rfKqC = 0;
        this.sdPv = {};
        this.reOzG = [];
        this.siNs = [];
        this.sfIy = [];
        this.reset(x, y, width, height, xbOr, wdGr, rfKqC);
    };
    rfjwh.vdhw.prototype = {
        reset: function(x, y, width, height, xbOr, wdGr, rfKqC) {
            this.xbOr = xbOr || 10;
            this.wdGr = wdGr || 4;
            this.rfKqC = rfKqC || 0;
            this.sdPv = {
                x: Math.round(x),
                y: Math.round(y),
                width: width,
                height: height,
                vbHx: Math.floor(width / 2),
                xjKy: Math.floor(height / 2),
                right: Math.round(x) + Math.floor(width / 2),
                bottom: Math.round(y) + Math.floor(height / 2)
            };
            this.reOzG.length = 0;
            this.siNs.length = 0;
        },
        vdKr: function(group) {
            group.forEach(this.rhPuA, this, true);
        },
        rhPuA: function(rfIsB) {
            if (rfIsB.body && rfIsB.scHu) {
                this.saLq(rfIsB.body);
            }
        },
        split: function() {
            this.siNs[0] = new rfjwh.vdhw(this.sdPv.right, this.sdPv.y, this.sdPv.vbHx, this.sdPv.xjKy, this.xbOr, this.wdGr, (this.rfKqC + 1));
            this.siNs[1] = new rfjwh.vdhw(this.sdPv.x, this.sdPv.y, this.sdPv.vbHx, this.sdPv.xjKy, this.xbOr, this.wdGr, (this.rfKqC + 1));
            this.siNs[2] = new rfjwh.vdhw(this.sdPv.x, this.sdPv.bottom, this.sdPv.vbHx, this.sdPv.xjKy, this.xbOr, this.wdGr, (this.rfKqC + 1));
            this.siNs[3] = new rfjwh.vdhw(this.sdPv.right, this.sdPv.bottom, this.sdPv.vbHx, this.sdPv.xjKy, this.xbOr, this.wdGr, (this.rfKqC + 1));
        },
        saLq: function(body) {
            var i = 0;
            var index;
            if (this.siNs[0] != null) {
                index = this.vhGt(body);
                if (index !== -1) {
                    this.siNs[index].saLq(body);
                    return;
                }
            }
            this.reOzG.push(body);
            if (this.reOzG.length > this.xbOr && this.rfKqC < this.wdGr) {
                if (this.siNs[0] == null) {
                    this.split();
                }
                while (i < this.reOzG.length) {
                    index = this.vhGt(this.reOzG[i]);
                    if (index !== -1) {
                        this.siNs[index].saLq(this.reOzG.splice(i, 1)[0]);
                    } else {
                        i++;
                    }
                }
            }
        },
        vhGt: function(rect) {
            var index = -1;
            if (rect.x < this.sdPv.right && rect.right < this.sdPv.right) {
                if (rect.y < this.sdPv.bottom && rect.bottom < this.sdPv.bottom) {
                    index = 1;
                } else if (rect.y > this.sdPv.bottom) {
                    index = 2;
                }
            } else if (rect.x > this.sdPv.right) {
                if (rect.y < this.sdPv.bottom && rect.bottom < this.sdPv.bottom) {
                    index = 0;
                } else if (rect.y > this.sdPv.bottom) {
                    index = 3;
                }
            }
            return index;
        },
        vcKw: function(source) {
            if (source instanceof rfjwh.wbgy) {
                var rjLyD = this.reOzG;
                var index = this.vhGt(source);
            } else {
                if (!source.body) {
                    return this.sfIy;
                }
                var rjLyD = this.reOzG;
                var index = this.vhGt(source.body);
            }
            if (this.siNs[0]) {
                if (index !== -1) {
                    rjLyD = rjLyD.concat(this.siNs[index].vcKw(source));
                } else {
                    rjLyD = rjLyD.concat(this.siNs[0].vcKw(source));
                    rjLyD = rjLyD.concat(this.siNs[1].vcKw(source));
                    rjLyD = rjLyD.concat(this.siNs[2].vcKw(source));
                    rjLyD = rjLyD.concat(this.siNs[3].vcKw(source));
                }
            }
            return rjLyD;
        },
        clear: function() {
            this.reOzG.length = 0;
            var i = this.siNs.length;
            while (i--) {
                this.siNs[i].clear();
                this.siNs.splice(i, 1);
            }
            this.siNs.length = 0;
        }
    };
    rfjwh.vdhw.prototype.constructor = rfjwh.vdhw;
    rfjwh.qcot = function(rfOyC) {
        this.rfOyC = rfOyC;
    };
    rfjwh.qcot.prototype = {
        ydMv: function() {
            if (window.location && window.location.hostname) {
                return window.location.hostname;
            }
            return null;
        },
        riHsE: function(domain) {
            return window.location.hostname.indexOf(domain) !== -1;
        },
        rhHsF: function(key, value, vcOq, url) {
            if (typeof vcOq === "undefined") {
                vcOq = false;
            }
            if (typeof url === "undefined" || url === '') {
                url = window.location.href;
            }
            var tiMy = '';
            var qhLs = new RegExp("([?|&])" + key + "=.*?(&|#|$)(.*)", "gi");
            if (qhLs.test(url)) {
                if (typeof value !== 'undefined' && value !== null) {
                    tiMy = url.replace(qhLs, '$1' + key + "=" + value + '$2$3');
                } else {
                    tiMy = url.replace(qhLs, '$1$3').replace(/(&|\?)$/, '');
                }
            } else {
                if (typeof value !== 'undefined' && value !== null) {
                    var waIr = url.indexOf('?') !== -1 ? '&' : '?';
                    var hash = url.split('#');
                    url = hash[0] + waIr + key + '=' + value;
                    if (hash[1]) {
                        url += '#' + hash[1];
                    }
                    tiMy = url;
                } else {
                    tiMy = url;
                }
            }
            if (vcOq) {
                window.location.href = tiMy;
            } else {
                return tiMy;
            }
        },
        riLsH: function(wbOw) {
            if (typeof wbOw === "undefined") {
                wbOw = '';
            }
            var tiMy = {};
            var wdPy = location.search.substring(1).split('&');
            for (var i in wdPy) {
                var key = wdPy[i].split('=');
                if (key.length > 1) {
                    if (wbOw && wbOw == this.decodeURI(key[0])) {
                        return this.decodeURI(key[1]);
                    } else {
                        tiMy[this.decodeURI(key[0])] = this.decodeURI(key[1]);
                    }
                }
            }
            return tiMy;
        },
        decodeURI: function(value) {
            return decodeURIComponent(value.replace(/\+/g, " "));
        }
    };
    rfjwh.qcot.prototype.constructor = rfjwh.qcot;
    rfjwh.zbir = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.teKw = [];
        this.qaMw = [];
        this.rfOyC.onPause.add(this.wjIu, this);
        this.rfOyC.veHq.add(this.xhHt, this);
    };
    rfjwh.zbir.prototype = {
        sbJx: function() {
            return this.teKw;
        },
        waOu: function() {
            for (var i = 0; i < this.teKw.length; i++) {
                this.teKw[i].rjLsB = true;
            }
            this.qaMw = [];
        },
        add: function(sgIs) {
            sgIs.ubLu = this;
            this.qaMw.push(sgIs);
        },
        create: function(object) {
            return new rfjwh.sgis(object, this.rfOyC, this);
        },
        thMz: function(sgIs) {
            var i = this.teKw.indexOf(sgIs);
            if (i !== -1) {
                this.teKw[i].rjLsB = true;
            } else {
                i = this.qaMw.indexOf(sgIs);
                if (i !== -1) {
                    this.qaMw[i].rjLsB = true;
                }
            }
        },
        update: function() {
            var wiOv = this.qaMw.length;
            var wcKv = this.teKw.length;
            if (wcKv === 0 && wiOv === 0) {
                return false;
            }
            var i = 0;
            while (i < wcKv) {
                if (this.teKw[i].update(this.rfOyC.time.now)) {
                    i++;
                } else {
                    this.teKw.splice(i, 1);
                    wcKv--;
                }
            }
            if (wiOv > 0) {
                this.teKw = this.teKw.concat(this.qaMw);
                this.qaMw.length = 0;
            }
            return true;
        },
        xcKz: function(object) {
            return this.teKw.some(function(sgIs) {
                return sgIs.teNy === object;
            });
        },
        wjIu: function() {
            for (var i = this.teKw.length - 1; i >= 0; i--) {
                this.teKw[i].sfHx();
            }
        },
        xhHt: function() {
            for (var i = this.teKw.length - 1; i >= 0; i--) {
                this.teKw[i].teLw();
            }
        },
        vdOx: function() {
            for (var i = this.teKw.length - 1; i >= 0; i--) {
                this.teKw[i].pause();
            }
        },
        waMr: function() {
            for (var i = this.teKw.length - 1; i >= 0; i--) {
                this.teKw[i].rfHuF(true);
            }
        }
    };
    rfjwh.zbir.prototype.constructor = rfjwh.zbir;
    rfjwh.sgis = function(object, rfOyC, uiNy) {
        this.teNy = object;
        this.rfOyC = rfOyC;
        this.ubLu = uiNy;
        this.zhNy = {};
        this.xgPs = {};
        this.rhHwA = {};
        this.wjLy = 1000;
        this.teLu = 0;
        this.rdHq = false;
        this.wjHv = false;
        this.xhMy = 0;
        this.xhGu = null;
        this.riIsF = rfjwh.sckv.Default;
        this.rgJtC = rfjwh.Math.rgNrH;
        this.rjJwH = [];
        this.rgLzH = false;
        this.rhKwF = null;
        this.rgHsC = null;
        this.teMx = false;
        this.ygOz = 0;
        this.yhHr = false;
        this.rjLsB = false;
        this.uhMy = new rfjwh.tgot();
        this.tiNu = new rfjwh.tgot();
        this.xbKu = new rfjwh.tgot();
        this.weGx = false;
    };
    rfjwh.sgis.prototype = {
        to: function(reOzC, duration, rjGv, wiJv, rbMr, repeat, rdMv) {
            duration = duration || 1000;
            rjGv = rjGv || null;
            wiJv = wiJv || false;
            rbMr = rbMr || 0;
            repeat = repeat || 0;
            rdMv = rdMv || false;
            if (rdMv && repeat === 0) {
                repeat = 1;
            }
            var self;
            if (this.teMv) {
                self = this.ubLu.create(this.teNy);
                this.xhJu.rcHw(self);
                this.xhJu = self;
            } else {
                self = this;
                this.teMv = this;
                this.xhJu = this;
            }
            self.teLu = repeat;
            self.wjLy = duration;
            self.xgPs = reOzC;
            if (rjGv !== null) {
                self.riIsF = rjGv;
            }
            if (rbMr > 0) {
                self.xhMy = rbMr;
            }
            self.rdHq = rdMv;
            if (wiJv) {
                return this.rfIsA();
            } else {
                return this;
            }
        },
        from: function(reOzC, duration, rjGv, wiJv, rbMr, repeat, rdMv) {
            var sfIr = {};
            for (var rfOw in reOzC) {
                sfIr[rfOw] = this.teNy[rfOw];
                this.teNy[rfOw] = reOzC[rfOw];
            }
            return this.to(sfIr, duration, rjGv, wiJv, rbMr, repeat, rdMv);
        },
        rfIsA: function() {
            if (this.rfOyC === null || this.teNy === null) {
                return;
            }
            this.ubLu.add(this);
            this.weGx = true;
            this.rgLzH = false;
            this.xhGu = this.rfOyC.time.now + this.xhMy;
            for (var vdIx in this.xgPs) {
                if (Array.isArray(this.xgPs[vdIx])) {
                    if (this.xgPs[vdIx].length === 0) {
                        continue;
                    }
                    this.xgPs[vdIx] = [this.teNy[vdIx]].concat(this.xgPs[vdIx]);
                }
                this.zhNy[vdIx] = this.teNy[vdIx];
                if (!Array.isArray(this.zhNy[vdIx])) {
                    this.zhNy[vdIx] *= 1.0;
                }
                this.rhHwA[vdIx] = this.zhNy[vdIx] || 0;
            }
            return this;
        },
        zfLu: function(frameRate, data) {
            if (this.rfOyC === null || this.teNy === null) {
                return null;
            }
            this.xhGu = 0;
            for (var vdIx in this.xgPs) {
                if (Array.isArray(this.xgPs[vdIx])) {
                    if (this.xgPs[vdIx].length === 0) {
                        continue;
                    }
                    this.xgPs[vdIx] = [this.teNy[vdIx]].concat(this.xgPs[vdIx]);
                }
                this.zhNy[vdIx] = this.teNy[vdIx];
                if (!Array.isArray(this.zhNy[vdIx])) {
                    this.zhNy[vdIx] *= 1.0;
                }
                this.rhHwA[vdIx] = this.zhNy[vdIx] || 0;
            }
            var time = 0;
            var sgJq = Math.floor(frameRate * (this.wjLy / 1000));
            var reLx = this.wjLy / sgJq;
            var tiMy = [];
            while (sgJq--) {
                var vdIx;
                var tbMq = (time - this.xhGu) / this.wjLy;
                tbMq = tbMq > 1 ? 1 : tbMq;
                var value = this.riIsF(tbMq);
                var rjPw = {};
                for (vdIx in this.xgPs) {
                    var rfIsA = this.zhNy[vdIx] || 0;
                    var rfOxC = this.xgPs[vdIx];
                    if (rfOxC instanceof Array) {
                        rjPw[vdIx] = this.rgJtC(rfOxC, value);
                    } else {
                        if (typeof rfOxC === 'string') {
                            rfOxC = rfIsA + parseFloat(rfOxC, 10);
                        } else if (typeof rfOxC === 'number') {
                            rjPw[vdIx] = rfIsA + (rfOxC - rfIsA) * value;
                        }
                    }
                }
                tiMy.push(rjPw);
                time += reLx;
            }
            var rjPw = {};
            for (vdIx in this.xgPs) {
                rjPw[vdIx] = this.xgPs[vdIx];
            }
            tiMy.push(rjPw);
            if (this.rdHq) {
                var vcKy = tiMy.slice();
                vcKy.reverse();
                tiMy = tiMy.concat(vcKy);
            }
            if (typeof data !== 'undefined') {
                data = data.concat(tiMy);
                return data;
            } else {
                return tiMy;
            }
        },
        stop: function() {
            this.weGx = false;
            this.rhKwF = null;
            this.ubLu.thMz(this);
            return this;
        },
        rbMr: function(seMy) {
            this.xhMy = seMy;
            return this;
        },
        repeat: function(sgKr) {
            this.teLu = sgKr;
            return this;
        },
        rdMv: function(rdMv) {
            this.rdHq = rdMv;
            if (rdMv && this.teLu === 0) {
                this.teLu = 1;
            }
            return this;
        },
        scKv: function(scKv) {
            this.riIsF = scKv;
            return this;
        },
        rjNzH: function(rjNzH) {
            this.rgJtC = rjNzH;
            return this;
        },
        rcHw: function() {
            this.rjJwH = arguments;
            return this;
        },
        loop: function() {
            this.xhJu.rcHw(this);
            return this;
        },
        rhLsC: function(uaGu, riHrD) {
            this.rhKwF = uaGu;
            this.rgHsC = riHrD;
            return this;
        },
        pause: function() {
            this.yhHr = true;
            this.teMx = true;
            this.ygOz = this.rfOyC.time.now;
        },
        sfHx: function() {
            if (!this.yhHr) {
                this.teMx = true;
                this.ygOz = this.rfOyC.time.now;
            }
        },
        rfHuF: function() {
            if (this.teMx) {
                this.teMx = false;
                this.yhHr = false;
                this.xhGu += (this.rfOyC.time.now - this.ygOz);
            }
        },
        teLw: function() {
            if (this.yhHr) {
                return;
            } else {
                this.xhGu += this.rfOyC.time.rjLsC;
                this.teMx = false;
            }
        },
        update: function(time) {
            if (this.rjLsB) {
                return false;
            }
            if (this.teMx || time < this.xhGu) {
                return true;
            }
            var vdIx;
            if (time < this.xhGu) {
                return true;
            }
            if (this.rgLzH === false) {
                this.uhMy.viLt(this.teNy);
                this.rgLzH = true;
            }
            var tbMq = (time - this.xhGu) / this.wjLy;
            tbMq = tbMq > 1 ? 1 : tbMq;
            var value = this.riIsF(tbMq);
            for (vdIx in this.xgPs) {
                var rfIsA = this.zhNy[vdIx] || 0;
                var rfOxC = this.xgPs[vdIx];
                if (rfOxC instanceof Array) {
                    this.teNy[vdIx] = this.rgJtC(rfOxC, value);
                } else {
                    if (typeof(rfOxC) === 'string') {
                        rfOxC = rfIsA + parseFloat(rfOxC, 10);
                    }
                    if (typeof(rfOxC) === 'number') {
                        this.teNy[vdIx] = rfIsA + (rfOxC - rfIsA) * value;
                    }
                }
            }
            if (this.rhKwF !== null) {
                this.rhKwF.call(this.rgHsC, this, value);
                if (!this.weGx) {
                    return false;
                }
            }
            if (tbMq == 1) {
                if (this.teLu > 0) {
                    if (isFinite(this.teLu)) {
                        this.teLu--;
                    }
                    for (vdIx in this.rhHwA) {
                        if (typeof(this.xgPs[vdIx]) === 'string') {
                            this.rhHwA[vdIx] = this.rhHwA[vdIx] + parseFloat(this.xgPs[vdIx], 10);
                        }
                        if (this.rdHq) {
                            var qbMx = this.rhHwA[vdIx];
                            this.rhHwA[vdIx] = this.xgPs[vdIx];
                            this.xgPs[vdIx] = qbMx;
                        }
                        this.zhNy[vdIx] = this.rhHwA[vdIx];
                    }
                    if (this.rdHq) {
                        this.wjHv = !this.wjHv;
                    }
                    this.xhGu = time + this.xhMy;
                    this.tiNu.viLt(this.teNy);
                    return true;
                } else {
                    this.weGx = false;
                    this.xbKu.viLt(this.teNy);
                    for (var i = 0, rhLrK = this.rjJwH.length; i < rhLrK; i++) {
                        this.rjJwH[i].rfIsA(time);
                    }
                    return false;
                }
            }
            return true;
        }
    };
    rfjwh.sgis.prototype.constructor = rfjwh.sgis;
    rfjwh.sckv = {
        tjoq: {
            rglx: function(k) {
                return k;
            }
        },
        wbhv: {
            In: function(k) {
                return k * k;
            },
            qcnz: function(k) {
                return k * (2 - k);
            },
            ragv: function(k) {
                if ((k *= 2) < 1) return 0.5 * k * k;
                return -0.5 * (--k * (k - 2) - 1);
            }
        },
        rboy: {
            In: function(k) {
                return k * k * k;
            },
            qcnz: function(k) {
                return --k * k * k + 1;
            },
            ragv: function(k) {
                if ((k *= 2) < 1) return 0.5 * k * k * k;
                return 0.5 * ((k -= 2) * k * k + 2);
            }
        },
        ugmu: {
            In: function(k) {
                return k * k * k * k;
            },
            qcnz: function(k) {
                return 1 - (--k * k * k * k);
            },
            ragv: function(k) {
                if ((k *= 2) < 1) return 0.5 * k * k * k * k;
                return -0.5 * ((k -= 2) * k * k * k - 2);
            }
        },
        ugmx: {
            In: function(k) {
                return k * k * k * k * k;
            },
            qcnz: function(k) {
                return --k * k * k * k * k + 1;
            },
            ragv: function(k) {
                if ((k *= 2) < 1) return 0.5 * k * k * k * k * k;
                return 0.5 * ((k -= 2) * k * k * k * k + 2);
            }
        },
        yjjz: {
            In: function(k) {
                return 1 - Math.cos(k * Math.PI / 2);
            },
            qcnz: function(k) {
                return Math.sin(k * Math.PI / 2);
            },
            ragv: function(k) {
                return 0.5 * (1 - Math.cos(Math.PI * k));
            }
        },
        yehv: {
            In: function(k) {
                return k === 0 ? 0 : Math.pow(1024, k - 1);
            },
            qcnz: function(k) {
                return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
            },
            ragv: function(k) {
                if (k === 0) return 0;
                if (k === 1) return 1;
                if ((k *= 2) < 1) return 0.5 * Math.pow(1024, k - 1);
                return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
            }
        },
        vjmt: {
            In: function(k) {
                return 1 - Math.sqrt(1 - k * k);
            },
            qcnz: function(k) {
                return Math.sqrt(1 - (--k * k));
            },
            ragv: function(k) {
                if ((k *= 2) < 1) return -0.5 * (Math.sqrt(1 - k * k) - 1);
                return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
            }
        },
        tbmr: {
            In: function(k) {
                var s, a = 0.1,
                    p = 0.4;
                if (k === 0) return 0;
                if (k === 1) return 1;
                if (!a || a < 1) {
                    a = 1;
                    s = p / 4;
                } else s = p * Math.asin(1 / a) / (2 * Math.PI);
                return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
            },
            qcnz: function(k) {
                var s, a = 0.1,
                    p = 0.4;
                if (k === 0) return 0;
                if (k === 1) return 1;
                if (!a || a < 1) {
                    a = 1;
                    s = p / 4;
                } else s = p * Math.asin(1 / a) / (2 * Math.PI);
                return (a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);
            },
            ragv: function(k) {
                var s, a = 0.1,
                    p = 0.4;
                if (k === 0) return 0;
                if (k === 1) return 1;
                if (!a || a < 1) {
                    a = 1;
                    s = p / 4;
                } else s = p * Math.asin(1 / a) / (2 * Math.PI);
                if ((k *= 2) < 1) return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
                return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
            }
        },
        Back: {
            In: function(k) {
                var s = 1.70158;
                return k * k * ((s + 1) * k - s);
            },
            qcnz: function(k) {
                var s = 1.70158;
                return --k * k * ((s + 1) * k + s) + 1;
            },
            ragv: function(k) {
                var s = 1.70158 * 1.525;
                if ((k *= 2) < 1) return 0.5 * (k * k * ((s + 1) * k - s));
                return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
            }
        },
        sdpu: {
            In: function(k) {
                return 1 - rfjwh.sckv.sdpu.qcnz(1 - k);
            },
            qcnz: function(k) {
                if (k < (1 / 2.75)) {
                    return 7.5625 * k * k;
                } else if (k < (2 / 2.75)) {
                    return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;
                } else if (k < (2.5 / 2.75)) {
                    return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;
                } else {
                    return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;
                }
            },
            ragv: function(k) {
                if (k < 0.5) return rfjwh.sckv.sdpu.In(k * 2) * 0.5;
                return rfjwh.sckv.sdpu.qcnz(k * 2 - 1) * 0.5 + 0.5;
            }
        }
    };
    rfjwh.sckv.Default = rfjwh.sckv.tjoq.rglx;
    rfjwh.Time = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.time = 0;
        this.vdJt = 0;
        this.now = 0;
        this.tbMq = 0;
        this.xaPr = 0;
        this.riNuD = false;
        this.qeIv = 0;
        this.sbKr = 1000;
        this.sbKq = 0;
        this.siPt = 1000;
        this.siPs = 0;
        this.riKwB = 0;
        this.viNr = 0;
        this.ueLv = 1 / 60 * 1000;
        this.frames = 0;
        this.rjLsC = 0;
        this.yiJx = 0;
        this.vfNw = 0;
        this.scHr = new rfjwh.rfita(this.rfOyC, false);
        this.ubJr = 0;
        this.riIwF = 0;
        this.zaHy = 0;
        this.ziHx = false;
        this.teKv = [];
        this.qaMx = 0;
        this.qjPt = 0;
    };
    rfjwh.Time.prototype = {
        rjOw: function() {
            this.ubJr = Date.now();
            this.scHr.rfIsA();
        },
        add: function(rfItA) {
            this.teKv.push(rfItA);
            return rfItA;
        },
        create: function(yfPt) {
            if (typeof yfPt === 'undefined') {
                yfPt = true;
            }
            var rfItA = new rfjwh.rfita(this.rfOyC, yfPt);
            this.teKv.push(rfItA);
            return rfItA;
        },
        waOu: function() {
            for (var i = 0; i < this.teKv.length; i++) {
                this.teKv[i].tbPr();
            }
            this.teKv = [];
            this.scHr.waOu();
        },
        update: function(time) {
            this.vdJt = this.now;
            this.now = time;
            this.yiJx = this.rfOyC.math.max(0, 16 - (time - this.vfNw));
            this.tbMq = this.now - this.time;
            if (this.tbMq > this.ueLv) {
                this.tbMq = this.ueLv;
            }
            this.riKwB = this.tbMq / 1000 || 1 / 60;
            if (this.viNr > 0 && this.riKwB > this.viNr) {
                this.riKwB = this.viNr;
            }
            if (this.riNuD) {
                this.siPt = this.rfOyC.math.min(this.siPt, this.tbMq);
                this.siPs = this.rfOyC.math.max(this.siPs, this.tbMq);
                this.frames++;
                if (this.now > this.riIwF + 1000) {
                    this.qeIv = Math.round((this.frames * 1000) / (this.now - this.riIwF));
                    this.sbKr = this.rfOyC.math.min(this.sbKr, this.qeIv);
                    this.sbKq = this.rfOyC.math.max(this.sbKq, this.qeIv);
                    this.riIwF = this.now;
                    this.frames = 0;
                }
            }
            this.time = this.now;
            this.vfNw = time + this.yiJx;
            if (!this.rfOyC.paused) {
                this.scHr.update(this.now);
                this.qjPt = 0;
                this.qaMx = this.teKv.length;
                while (this.qjPt < this.qaMx) {
                    if (this.teKv[this.qjPt].update(this.now)) {
                        this.qjPt++;
                    } else {
                        this.teKv.splice(this.qjPt, 1);
                        this.qaMx--;
                    }
                }
            }
        },
        xdKq: function() {
            this.zaHy = this.now;
            this.scHr.pause();
            var i = this.teKv.length;
            while (i--) {
                this.teKv[i].sfHx();
            }
        },
        ydNq: function() {
            this.time = this.now = Date.now();
            this.rjLsC = this.time - this.zaHy;
            this.scHr.rfHuF();
            var i = this.teKv.length;
            while (i--) {
                this.teKv[i].teLw();
            }
        },
        rgNyJ: function() {
            return (this.now - this.ubJr) * 0.001;
        },
        zfPu: function(shJq) {
            return this.now - shJq;
        },
        rgOxG: function(shJq) {
            return (this.now - shJq) * 0.001;
        },
        reset: function() {
            this.ubJr = this.now;
            this.waOu();
        }
    };
    rfjwh.Time.prototype.constructor = rfjwh.Time;
    rfjwh.rfita = function(rfOyC, yfPt) {
        if (typeof yfPt === 'undefined') {
            yfPt = true;
        }
        this.rfOyC = rfOyC;
        this.ufPv = false;
        this.yfPt = yfPt;
        this.tbJx = false;
        this.tbMq = 0;
        this.scHr = [];
        this.xbKu = new rfjwh.tgot();
        this.veMu = 0;
        this.ueLv = 1000;
        this.paused = false;
        this.yhHr = false;
        this.ubJr = 0;
        this.zaHy = 0;
        this.ygNq = 0;
        this.qaLq = Date.now();
        this.qaMx = 0;
        this.teNx = 0;
        this.qjPt = 0;
        this.rdLz = 0;
        this.ubKr = 0;
    };
    rfjwh.rfita.TJKZ = 60000;
    rfjwh.rfita.THHQ = 1000;
    rfjwh.rfita.RIHS = 500;
    rfjwh.rfita.UGMT = 250;
    rfjwh.rfita.prototype = {
        create: function(rbMr, loop, yaMy, uaGu, riHrD, rePuH) {
            rbMr = Math.round(rbMr);
            var reLx = rbMr;
            if (this.qaLq === 0) {
                reLx += this.rfOyC.time.now;
            } else {
                reLx += this.qaLq;
            }
            var event = new rfjwh.yijw(this, rbMr, reLx, yaMy, loop, uaGu, riHrD, rePuH);
            this.scHr.push(event);
            this.order();
            this.tbJx = false;
            return event;
        },
        add: function(rbMr, uaGu, riHrD) {
            return this.create(rbMr, false, 0, uaGu, riHrD, Array.prototype.splice.call(arguments, 3));
        },
        repeat: function(rbMr, yaMy, uaGu, riHrD) {
            return this.create(rbMr, false, yaMy, uaGu, riHrD, Array.prototype.splice.call(arguments, 4));
        },
        loop: function(rbMr, uaGu, riHrD) {
            return this.create(rbMr, true, 0, uaGu, riHrD, Array.prototype.splice.call(arguments, 3));
        },
        rfIsA: function(rbMr) {
            if (this.ufPv) {
                return;
            }
            this.ubJr = this.rfOyC.time.now + (rbMr || 0);
            this.ufPv = true;
            for (var i = 0; i < this.scHr.length; i++) {
                this.scHr[i].reLx = this.scHr[i].rbMr + this.ubJr;
            }
        },
        stop: function(yfKu) {
            this.ufPv = false;
            if (typeof yfKu === 'undefined') {
                yfKu = true;
            }
            if (yfKu) {
                this.scHr.length = 0;
            }
        },
        thMz: function(event) {
            for (var i = 0; i < this.scHr.length; i++) {
                if (this.scHr[i] === event) {
                    this.scHr[i].rjLsB = true;
                    return true;
                }
            }
            return false;
        },
        order: function() {
            if (this.scHr.length > 0) {
                this.scHr.sort(this.zjOr);
                this.veMu = this.scHr[0].reLx;
            }
        },
        zjOr: function(a, b) {
            if (a.reLx < b.reLx) {
                return -1;
            } else if (a.reLx > b.reLx) {
                return 1;
            }
            return 0;
        },
        rhHzH: function() {
            this.qjPt = this.scHr.length;
            while (this.qjPt--) {
                if (this.scHr[this.qjPt].rjLsB) {
                    this.scHr.splice(this.qjPt, 1);
                }
            }
            this.qaMx = this.scHr.length;
            this.qjPt = 0;
        },
        update: function(time) {
            if (this.paused) {
                return true;
            }
            this.tbMq = time - this.qaLq;
            this.qaLq = time;
            if (this.tbMq > this.ueLv) {
                this.zhLx(time - this.tbMq);
            }
            this.teNx = 0;
            this.rhHzH();
            if (this.ufPv && this.qaLq >= this.veMu && this.qaMx > 0) {
                while (this.qjPt < this.qaMx && this.ufPv) {
                    if (this.qaLq >= this.scHr[this.qjPt].reLx) {
                        this.ubKr = (this.qaLq + this.scHr[this.qjPt].rbMr) - (this.qaLq - this.scHr[this.qjPt].reLx);
                        if (this.ubKr < 0) {
                            this.ubKr = this.qaLq + this.scHr[this.qjPt].rbMr;
                        }
                        if (this.scHr[this.qjPt].loop === true) {
                            this.scHr[this.qjPt].reLx = this.ubKr;
                            this.scHr[this.qjPt].uaGu.apply(this.scHr[this.qjPt].riHrD, this.scHr[this.qjPt].rePuH);
                        } else if (this.scHr[this.qjPt].yaMy > 0) {
                            this.scHr[this.qjPt].yaMy--;
                            this.scHr[this.qjPt].reLx = this.ubKr;
                            this.scHr[this.qjPt].uaGu.apply(this.scHr[this.qjPt].riHrD, this.scHr[this.qjPt].rePuH);
                        } else {
                            this.teNx++;
                            this.scHr[this.qjPt].rjLsB = true;
                            this.scHr[this.qjPt].uaGu.apply(this.scHr[this.qjPt].riHrD, this.scHr[this.qjPt].rePuH);
                        }
                        this.qjPt++;
                    } else {
                        break;
                    }
                }
                if (this.scHr.length > this.teNx) {
                    this.order();
                } else {
                    this.tbJx = true;
                    this.xbKu.viLt(this);
                }
            }
            if (this.tbJx && this.yfPt) {
                return false;
            } else {
                return true;
            }
        },
        pause: function() {
            if (!this.ufPv) {
                return;
            }
            this.yhHr = true;
            if (this.paused) {
                return;
            }
            this.zaHy = this.rfOyC.time.now;
            this.paused = true;
        },
        sfHx: function() {
            if (this.paused || !this.ufPv) {
                return;
            }
            this.zaHy = this.rfOyC.time.now;
            this.paused = true;
        },
        zhLx: function(uaLv) {
            for (var i = 0; i < this.scHr.length; i++) {
                if (!this.scHr[i].rjLsB) {
                    var t = this.scHr[i].reLx - uaLv;
                    if (t < 0) {
                        t = 0;
                    }
                    this.scHr[i].reLx = this.qaLq + t;
                }
            }
            var d = this.veMu - uaLv;
            if (d < 0) {
                this.veMu = this.qaLq;
            } else {
                this.veMu = this.qaLq + d;
            }
        },
        rfHuF: function() {
            if (!this.paused) {
                return;
            }
            var now = this.rfOyC.time.now;
            this.ygNq += now - this.qaLq;
            this.qaLq = now;
            this.zhLx(this.zaHy);
            this.paused = false;
            this.yhHr = false;
        },
        teLw: function() {
            if (this.yhHr) {
                return;
            } else {
                this.rfHuF();
            }
        },
        waOu: function() {
            this.xbKu.waOu();
            this.scHr.length = 0;
            this.qaMx = 0;
            this.qjPt = 0;
        },
        tbPr: function() {
            this.xbKu.waOu();
            this.ufPv = false;
            this.scHr = [];
            this.qaMx = 0;
            this.qjPt = 0;
        }
    };
    Object.defineProperty(rfjwh.rfita.prototype, "rfKvC", {
        get: function() {
            return this.veMu;
        }
    });
    Object.defineProperty(rfjwh.rfita.prototype, "duration", {
        get: function() {
            if (this.ufPv && this.veMu > this.qaLq) {
                return this.veMu - this.qaLq;
            } else {
                return 0;
            }
        }
    });
    Object.defineProperty(rfjwh.rfita.prototype, "length", {
        get: function() {
            return this.scHr.length;
        }
    });
    Object.defineProperty(rfjwh.rfita.prototype, "qiIy", {
        get: function() {
            if (this.ufPv) {
                return this.qaLq - this.ubJr - this.ygNq;
            } else {
                return 0;
            }
        }
    });
    Object.defineProperty(rfjwh.rfita.prototype, "ufNq", {
        get: function() {
            if (this.ufPv) {
                return this.qiIy * 0.001;
            } else {
                return 0;
            }
        }
    });
    rfjwh.rfita.prototype.constructor = rfjwh.rfita;
    rfjwh.yijw = function(rfItA, rbMr, reLx, yaMy, loop, uaGu, riHrD, rePuH) {
        this.rfItA = rfItA;
        this.rbMr = rbMr;
        this.reLx = reLx;
        this.yaMy = yaMy - 1;
        this.loop = loop;
        this.uaGu = uaGu;
        this.riHrD = riHrD;
        this.rePuH = rePuH;
        this.rjLsB = false;
    };
    rfjwh.yijw.prototype.constructor = rfjwh.yijw;
    rfjwh.rhnsd = function(rfIsB) {
        this.rfIsB = rfIsB;
        this.rfOyC = rfIsB.rfOyC;
        this.zgKz = null;
        this.yePq = null;
        this.rhOuE = true;
        this.vgGw = false;
        this.xhLx = null;
        this.sfJx = {};
        this.zaHv = [];
    };
    rfjwh.rhnsd.prototype = {
        rjMtH: function(wfMs, frame) {
            if (typeof wfMs === 'undefined') {
                return false;
            }
            if (this.vgGw) {
                for (var qaJu in this.sfJx) {
                    this.sfJx[qaJu].rhOuF(wfMs);
                }
            }
            this.xhLx = wfMs;
            if (typeof frame === 'undefined' || frame === null) {
                this.frame = 0;
            } else {
                if (typeof frame === 'string') {
                    this.wfMt = frame;
                } else {
                    this.frame = frame;
                }
            }
            this.vgGw = true;
            return true;
        },
        rjOsH: function(wfMs, frame) {
            this.xhLx = wfMs.rbPq();
            if (this.vgGw) {
                for (var qaJu in this.sfJx) {
                    this.sfJx[qaJu].rhOuF(this.xhLx);
                }
            }
            if (typeof frame === 'undefined' || frame === null) {
                this.frame = 0;
            } else {
                if (typeof frame === 'string') {
                    this.wfMt = frame;
                } else {
                    this.frame = frame;
                }
            }
            this.vgGw = true;
            return true;
        },
        add: function(name, frames, frameRate, loop, rhOvK) {
            frames = frames || [];
            frameRate = frameRate || 60;
            if (typeof loop === 'undefined') {
                loop = false;
            }
            if (typeof rhOvK === 'undefined') {
                if (frames && typeof frames[0] === 'number') {
                    rhOvK = true;
                } else {
                    rhOvK = false;
                }
            }
            if (this.rfIsB.scHr.rhLrG === null) {
                this.rfIsB.scHr.rhLrG = new rfjwh.tgot();
                this.rfIsB.scHr.rgNtK = new rfjwh.tgot();
                this.rfIsB.scHr.rhPrE = new rfjwh.tgot();
            }
            this.zaHv.length = 0;
            this.xhLx.riGrB(frames, rhOvK, this.zaHv);
            this.sfJx[name] = new rfjwh.Animation(this.rfOyC, this.rfIsB, name, this.xhLx, this.zaHv, frameRate, loop);
            this.yePq = this.sfJx[name];
            this.zgKz = this.yePq.zgKz;
            if (this.rfIsB.zaNu) {
                this.rfIsB.zaNu = false;
                this.rjKyC = false;
            }
            return this.sfJx[name];
        },
        riJzB: function(frames, rhOvK) {
            if (typeof rhOvK === 'undefined') {
                rhOvK = true;
            }
            for (var i = 0; i < frames.length; i++) {
                if (rhOvK === true) {
                    if (frames[i] > this.xhLx.sgJq) {
                        return false;
                    }
                } else {
                    if (this.xhLx.riMqG(frames[i]) === false) {
                        return false;
                    }
                }
            }
            return true;
        },
        play: function(name, frameRate, loop, riLxC) {
            if (this.sfJx[name]) {
                if (this.yePq === this.sfJx[name]) {
                    if (this.yePq.weGv === false) {
                        this.yePq.paused = false;
                        return this.yePq.play(frameRate, loop, riLxC);
                    }
                    return this.yePq;
                } else {
                    if (this.yePq && this.yePq.weGv) {
                        this.yePq.stop();
                    }
                    this.yePq = this.sfJx[name];
                    this.yePq.paused = false;
                    this.zgKz = this.yePq.zgKz;
                    return this.yePq.play(frameRate, loop, riLxC);
                }
            }
        },
        stop: function(name, xaGs) {
            if (typeof xaGs === 'undefined') {
                xaGs = false;
            }
            if (typeof name === 'string') {
                if (this.sfJx[name]) {
                    this.yePq = this.sfJx[name];
                    this.yePq.stop(xaGs);
                }
            } else {
                if (this.yePq) {
                    this.yePq.stop(xaGs);
                }
            }
        },
        update: function() {
            if (this.rhOuE && !this.rfIsB.rfIxE) {
                return false;
            }
            if (this.yePq && this.yePq.update() === true) {
                this.zgKz = this.yePq.zgKz;
                return true;
            }
            return false;
        },
        rfKvC: function(vdHx) {
            if (this.yePq) {
                this.yePq.rfKvC(vdHx);
                this.zgKz = this.yePq.zgKz;
            }
        },
        vdJs: function(vdHx) {
            if (this.yePq) {
                this.yePq.vdJs(vdHx);
                this.zgKz = this.yePq.zgKz;
            }
        },
        zfLw: function(name) {
            if (typeof name === 'string') {
                if (this.sfJx[name]) {
                    return this.sfJx[name];
                }
            }
            return null;
        },
        zcNu: function() {
            this.rfIsB.yjKq(RGGW.zblv[this.zgKz.reIw]);
            if (this.rfIsB.zaNu) {
                this.zaNu = false;
                this.rjKyC = false;
            }
        },
        tbPr: function() {
            var qaJu = null;
            for (var qaJu in this.sfJx) {
                if (this.sfJx.hasOwnProperty(qaJu)) {
                    this.sfJx[qaJu].tbPr();
                }
            }
            this.sfJx = {};
            this.xhLx = null;
            this.yhGx = 0;
            this.yePq = null;
            this.zgKz = null;
        }
    };
    rfjwh.rhnsd.prototype.constructor = rfjwh.rhnsd;
    Object.defineProperty(rfjwh.rhnsd.prototype, 'wfMs', {
        get: function() {
            return this.xhLx;
        }
    });
    Object.defineProperty(rfjwh.rhnsd.prototype, 'xdMu', {
        get: function() {
            return this.xhLx.sgJq;
        }
    });
    Object.defineProperty(rfjwh.rhnsd.prototype, 'paused', {
        get: function() {
            return this.yePq.vfPr;
        },
        set: function(value) {
            this.yePq.paused = value;
        }
    });
    Object.defineProperty(rfjwh.rhnsd.prototype, 'name', {
        get: function() {
            if (this.yePq) {
                return this.yePq.name;
            }
        }
    });
    Object.defineProperty(rfjwh.rhnsd.prototype, 'frame', {
        get: function() {
            if (this.zgKz) {
                return this.yhGx;
            }
        },
        set: function(value) {
            if (typeof value === 'number' && this.xhLx.vhHy(value) !== null) {
                this.zgKz = this.xhLx.vhHy(value);
                if (this.zgKz) {
                    this.yhGx = value;
                    this.rfIsB.vbOq(this.zgKz);
                    if (this.rfIsB.zaNu) {
                        this.zaNu = false;
                        this.rjKyC = false;
                    }
                }
            }
        }
    });
    Object.defineProperty(rfjwh.rhnsd.prototype, 'wfMt', {
        get: function() {
            if (this.zgKz) {
                return this.zgKz.name;
            }
        },
        set: function(value) {
            if (typeof value === 'string' && this.xhLx.riLrJ(value) !== null) {
                this.zgKz = this.xhLx.riLrJ(value);
                if (this.zgKz) {
                    this.yhGx = this.zgKz.index;
                    this.rfIsB.vbOq(this.zgKz);
                    if (this.rfIsB.zaNu) {
                        this.zaNu = false;
                        this.rjKyC = false;
                    }
                }
            } else {
                console.warn('Cannot set frameName: ' + value);
            }
        }
    });
    rfjwh.Animation = function(rfOyC, parent, name, wfMs, frames, frameRate, loop) {
        if (typeof loop === 'undefined') {
            loop = false;
        }
        this.rfOyC = rfOyC;
        this.teMv = parent;
        this.xhLx = wfMs;
        this.name = name;
        this.teNq = [];
        this.teNq = this.teNq.concat(frames);
        this.rbMr = 1000 / frameRate;
        this.loop = loop;
        this.wdKx = 0;
        this.riLxC = false;
        this.xcKw = false;
        this.weGv = false;
        this.vfPr = false;
        this.riIuA = 0;
        this.yhGx = 0;
        this.xhLy = 0;
        this.xhKq = 1;
        this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
        this.uhMy = new rfjwh.tgot();
        this.veHr = null;
        this.xbKu = new rfjwh.tgot();
        this.tiNu = new rfjwh.tgot();
        this.rfOyC.onPause.add(this.onPause, this);
        this.rfOyC.veHq.add(this.veHq, this);
    };
    rfjwh.Animation.prototype = {
        play: function(frameRate, loop, riLxC) {
            if (typeof frameRate === 'number') {
                this.rbMr = 1000 / frameRate;
            }
            if (typeof loop === 'boolean') {
                this.loop = loop;
            }
            if (typeof riLxC !== 'undefined') {
                this.riLxC = riLxC;
            }
            this.weGv = true;
            this.xcKw = false;
            this.paused = false;
            this.wdKx = 0;
            this.rjIrE = this.rfOyC.time.now;
            this.rjIrD = this.rfOyC.time.now + this.rbMr;
            this.yhGx = 0;
            this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
            this.teMv.vbOq(this.zgKz);
            if (this.teMv.zaNu) {
                this.teMv.zaNu = false;
                this.teMv.rjKyC = false;
            }
            this.teMv.scHr.rhLrG.viLt(this.teMv, this);
            this.uhMy.viLt(this.teMv, this);
            return this;
        },
        ugHr: function() {
            this.weGv = true;
            this.xcKw = false;
            this.paused = false;
            this.wdKx = 0;
            this.rjIrE = this.rfOyC.time.now;
            this.rjIrD = this.rfOyC.time.now + this.rbMr;
            this.yhGx = 0;
            this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
            this.teMv.vbOq(this.zgKz);
            this.uhMy.viLt(this.teMv, this);
        },
        vbOq: function(taNs, rgPzJ) {
            var xdMs;
            if (typeof rgPzJ === 'undefined') {
                rgPzJ = false;
            }
            if (typeof taNs === "string") {
                for (var i = 0; i < this.teNq.length; i++) {
                    if (this.xhLx.vhHy(this.teNq[i]).name === taNs) {
                        xdMs = i;
                    }
                }
            } else if (typeof taNs === "number") {
                if (rgPzJ) {
                    xdMs = taNs;
                } else {
                    for (var i = 0; i < this.teNq.length; i++) {
                        if (this.frames[i] === xdMs) {
                            xdMs = i;
                        }
                    }
                }
            }
            if (xdMs) {
                this.yhGx = xdMs - 1;
                this.rjIrD = this.rfOyC.time.now;
                this.update();
            }
        },
        stop: function(xaGs, rhNyF) {
            if (typeof xaGs === 'undefined') {
                xaGs = false;
            }
            if (typeof rhNyF === 'undefined') {
                rhNyF = false;
            }
            this.weGv = false;
            this.xcKw = true;
            this.paused = false;
            if (xaGs) {
                this.zgKz = this.xhLx.vhHy(this.teNq[0]);
                this.teMv.vbOq(this.zgKz);
            }
            if (rhNyF) {
                this.teMv.scHr.rgNtK.viLt(this.teMv, this);
                this.xbKu.viLt(this.teMv, this);
            }
        },
        onPause: function() {
            if (this.weGv) {
                this.xhLy = this.rjIrD - this.rfOyC.time.now;
            }
        },
        veHq: function() {
            if (this.weGv) {
                this.rjIrD = this.rfOyC.time.now + this.xhLy;
            }
        },
        update: function() {
            if (this.vfPr) {
                return false;
            }
            if (this.weGv && this.rfOyC.time.now >= this.rjIrD) {
                this.xhKq = 1;
                this.xhLy = this.rfOyC.time.now - this.rjIrD;
                this.rjIrE = this.rfOyC.time.now;
                if (this.xhLy > this.rbMr) {
                    this.xhKq = Math.floor(this.xhLy / this.rbMr);
                    this.xhLy -= (this.xhKq * this.rbMr);
                }
                this.rjIrD = this.rfOyC.time.now + (this.rbMr - this.xhLy);
                this.yhGx += this.xhKq;
                if (this.yhGx >= this.teNq.length) {
                    if (this.loop) {
                        this.yhGx %= this.teNq.length;
                        this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
                        this.wdKx++;
                        this.teMv.scHr.rhPrE.viLt(this.teMv, this);
                        this.tiNu.viLt(this.teMv, this);
                    } else {
                        this.complete();
                    }
                }
                this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
                if (this.zgKz) {
                    this.teMv.vbOq(this.zgKz);
                    if (this.teMv.zaNu) {
                        this.teMv.zaNu = false;
                        this.teMv.rjKyC = false;
                    }
                    if (this.veHr) {
                        this.veHr.viLt(this, this.zgKz);
                    }
                }
                return true;
            }
            return false;
        },
        rfKvC: function(vdHx) {
            if (typeof vdHx === 'undefined') {
                vdHx = 1;
            }
            var frame = this.yhGx + vdHx;
            if (frame >= this.teNq.length) {
                if (this.loop) {
                    frame %= this.teNq.length;
                } else {
                    frame = this.teNq.length - 1;
                }
            }
            if (frame !== this.yhGx) {
                this.yhGx = frame;
                this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
                if (this.zgKz) {
                    this.teMv.vbOq(this.zgKz);
                    if (this.teMv.zaNu) {
                        this.teMv.zaNu = false;
                        this.teMv.rjKyC = false;
                    }
                }
                if (this.veHr) {
                    this.veHr.viLt(this, this.zgKz);
                }
            }
        },
        vdJs: function(vdHx) {
            if (typeof vdHx === 'undefined') {
                vdHx = 1;
            }
            var frame = this.yhGx - vdHx;
            if (frame < 0) {
                if (this.loop) {
                    frame = this.teNq.length + frame;
                } else {
                    frame++;
                }
            }
            if (frame !== this.yhGx) {
                this.yhGx = frame;
                this.zgKz = this.xhLx.vhHy(this.teNq[this.yhGx]);
                if (this.zgKz) {
                    this.teMv.vbOq(this.zgKz);
                    if (this.teMv.zaNu) {
                        this.teMv.zaNu = false;
                        this.teMv.rjKyC = false;
                    }
                }
                if (this.veHr) {
                    this.veHr.viLt(this, this.zgKz);
                }
            }
        },
        rhOuF: function(wfMs) {
            this.xhLx = wfMs;
            this.zgKz = this.xhLx ? this.xhLx.vhHy(this.teNq[this.yhGx % this.teNq.length]) : null;
        },
        tbPr: function() {
            this.rfOyC.onPause.thMz(this.onPause, this);
            this.rfOyC.veHq.thMz(this.veHq, this);
            this.rfOyC = null;
            this.teMv = null;
            this.teNq = null;
            this.xhLx = null;
            this.zgKz = null;
            this.weGv = false;
            this.uhMy.tbOw();
            this.tiNu.tbOw();
            this.xbKu.tbOw();
            if (this.veHr) {
                this.veHr.tbOw();
            }
        },
        complete: function() {
            this.weGv = false;
            this.xcKw = true;
            this.paused = false;
            this.teMv.scHr.rgNtK.viLt(this.teMv, this);
            this.xbKu.viLt(this.teMv, this);
            if (this.riLxC) {
                this.teMv.rhLy();
            }
        }
    };
    rfjwh.Animation.prototype.constructor = rfjwh.Animation;
    Object.defineProperty(rfjwh.Animation.prototype, 'paused', {
        get: function() {
            return this.vfPr;
        },
        set: function(value) {
            this.vfPr = value;
            if (value) {
                this.riIuA = this.rfOyC.time.now;
            } else {
                if (this.weGv) {
                    this.rjIrD = this.rfOyC.time.now + this.rbMr;
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Animation.prototype, 'xdMu', {
        get: function() {
            return this.teNq.length;
        }
    });
    Object.defineProperty(rfjwh.Animation.prototype, 'frame', {
        get: function() {
            if (this.zgKz !== null) {
                return this.zgKz.index;
            } else {
                return this.yhGx;
            }
        },
        set: function(value) {
            this.zgKz = this.xhLx.vhHy(this.teNq[value]);
            if (this.zgKz !== null) {
                this.yhGx = value;
                this.teMv.vbOq(this.zgKz);
                if (this.veHr) {
                    this.veHr.viLt(this, this.zgKz);
                }
            }
        }
    });
    Object.defineProperty(rfjwh.Animation.prototype, 'shHz', {
        get: function() {
            return Math.round(1000 / this.rbMr);
        },
        set: function(value) {
            if (value >= 1) {
                this.rbMr = 1000 / value;
            }
        }
    });
    Object.defineProperty(rfjwh.Animation.prototype, 'zfPy', {
        get: function() {
            return (this.veHr !== null);
        },
        set: function(value) {
            if (value && this.veHr === null) {
                this.veHr = new rfjwh.tgot();
            } else if (!value && this.veHr !== null) {
                this.veHr.tbOw();
                this.veHr = null;
            }
        }
    });
    rfjwh.Animation.rhGuK = function(tiGv, rfIsA, stop, tgIw, ubOt) {
        if (typeof tgIw === 'undefined') {
            tgIw = '';
        }
        var tiMy = [];
        var frame = '';
        if (rfIsA < stop) {
            for (var i = rfIsA; i <= stop; i++) {
                if (typeof ubOt === 'number') {
                    frame = rfjwh.sggx.qcMx(i.toString(), ubOt, '0', 1);
                } else {
                    frame = i.toString();
                }
                frame = tiGv + frame + tgIw;
                tiMy.push(frame);
            }
        } else {
            for (var i = rfIsA; i >= stop; i--) {
                if (typeof ubOt === 'number') {
                    frame = rfjwh.sggx.qcMx(i.toString(), ubOt, '0', 1);
                } else {
                    frame = i.toString();
                }
                frame = tiGv + frame + tgIw;
                tiMy.push(frame);
            }
        }
        return tiMy;
    };
    rfjwh.Frame = function(index, x, y, width, height, name, reIw) {
        this.index = index;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.name = name;
        this.reIw = reIw;
        this.tdGs = Math.floor(width / 2);
        this.tdGt = Math.floor(height / 2);
        this.viLy = rfjwh.Math.viLy(0, 0, width, height);
        this.rfGwK = false;
        this.rhIxD = 'cw';
        this.rfGwJ = false;
        this.zjOw = width;
        this.zjOv = height;
        this.rhHqE = 0;
        this.rhHqD = 0;
        this.rhHqF = 0;
        this.rhHqG = 0;
        this.right = this.x + this.width;
        this.bottom = this.y + this.height;
    };
    rfjwh.Frame.prototype = {
        ufMz: function(rfGwJ, ygKw, zhMx, rbMx, rbMy, wgOy, xeNq) {
            this.rfGwJ = rfGwJ;
            if (rfGwJ) {
                this.zjOw = ygKw;
                this.zjOv = zhMx;
                this.tdGs = Math.floor(ygKw / 2);
                this.tdGt = Math.floor(zhMx / 2);
                this.rhHqE = rbMx;
                this.rhHqD = rbMy;
                this.rhHqF = wgOy;
                this.rhHqG = xeNq;
            }
        },
        rbPq: function() {
            var tiMy = new rfjwh.Frame(this.index, this.x, this.y, this.width, this.height, this.name, this.reIw);
            for (var rfOw in this) {
                if (this.hasOwnProperty(rfOw)) {
                    tiMy[rfOw] = this[rfOw];
                }
            }
            return tiMy;
        },
        taKr: function(qcNz) {
            if (typeof qcNz === 'undefined') {
                qcNz = new rfjwh.wbgy(this.x, this.y, this.width, this.height);
            } else {
                qcNz.shMy(this.x, this.y, this.width, this.height);
            }
            return qcNz;
        }
    };
    rfjwh.Frame.prototype.constructor = rfjwh.Frame;
    rfjwh.wfms = function() {
        this.teNq = [];
        this.yhGy = [];
    };
    rfjwh.wfms.prototype = {
        ubHw: function(frame) {
            frame.index = this.teNq.length;
            this.teNq.push(frame);
            if (frame.name !== '') {
                this.yhGy[frame.name] = frame.index;
            }
            return frame;
        },
        vhHy: function(index) {
            if (index > this.teNq.length) {
                index = 0;
            }
            return this.teNq[index];
        },
        riLrJ: function(name) {
            if (typeof this.yhGy[name] === 'number') {
                return this.teNq[this.yhGy[name]];
            }
            return null;
        },
        riMqG: function(name) {
            if (this.yhGy[name] == null) {
                return false;
            }
            return true;
        },
        rbPq: function() {
            var tiMy = new rfjwh.wfms();
            for (var i = 0; i < this.teNq.length; i++) {
                tiMy.teNq.push(this.teNq[i].rbPq());
            }
            for (var i = 0; i < this.yhGy.length; i++) {
                tiMy.yhGy.push(this.yhGy[i]);
            }
            return tiMy;
        },
        rjNuE: function(rfIsA, rfOxC, tiMy) {
            if (typeof tiMy === "undefined") {
                tiMy = [];
            }
            for (var i = rfIsA; i <= rfOxC; i++) {
                tiMy.push(this.teNq[i]);
            }
            return tiMy;
        },
        wfIs: function(frames, rhOvK, tiMy) {
            if (typeof rhOvK === "undefined") {
                rhOvK = true;
            }
            if (typeof tiMy === "undefined") {
                tiMy = [];
            }
            if (typeof frames === "undefined" || frames.length === 0) {
                for (var i = 0; i < this.teNq.length; i++) {
                    tiMy.push(this.teNq[i]);
                }
            } else {
                for (var i = 0, qdMy = frames.length; i < qdMy; i++) {
                    if (rhOvK) {
                        tiMy.push(this.vhHy(frames[i]));
                    } else {
                        tiMy.push(this.riLrJ(frames[i]));
                    }
                }
            }
            return tiMy;
        },
        riGrB: function(frames, rhOvK, tiMy) {
            if (typeof rhOvK === "undefined") {
                rhOvK = true;
            }
            if (typeof tiMy === "undefined") {
                tiMy = [];
            }
            if (typeof frames === "undefined" || frames.length === 0) {
                for (var i = 0, qdMy = this.teNq.length; i < qdMy; i++) {
                    tiMy.push(this.teNq[i].index);
                }
            } else {
                for (var i = 0, qdMy = frames.length; i < qdMy; i++) {
                    if (rhOvK) {
                        tiMy.push(frames[i]);
                    } else {
                        if (this.riLrJ(frames[i])) {
                            tiMy.push(this.riLrJ(frames[i]).index);
                        }
                    }
                }
            }
            return tiMy;
        }
    };
    rfjwh.wfms.prototype.constructor = rfjwh.wfms;
    Object.defineProperty(rfjwh.wfms.prototype, "sgJq", {
        get: function() {
            return this.teNq.length;
        }
    });
    rfjwh.riiyj = {
        zjNv: function(rfOyC, key, xdMv, ydOr, vhKx, margin, reNrH) {
            var qdOy = rfOyC.rcIy.vhGs(key);
            if (qdOy == null) {
                return null;
            }
            var width = qdOy.width;
            var height = qdOy.height;
            if (xdMv <= 0) {
                xdMv = Math.floor(-width / Math.min(-1, xdMv));
            }
            if (ydOr <= 0) {
                ydOr = Math.floor(-height / Math.min(-1, ydOr));
            }
            var qcHu = Math.floor((width - margin) / (xdMv + reNrH));
            var sdIy = Math.floor((height - margin) / (ydOr + reNrH));
            var sgJq = qcHu * sdIy;
            if (vhKx !== -1) {
                sgJq = vhKx;
            }
            if (width === 0 || height === 0 || width < xdMv || height < ydOr || sgJq === 0) {
                console.warn("Mygame.AnimationParser.spriteSheet: '" + key + "'s width/height zero or width/height < given frameWidth/frameHeight");
                return null;
            }
            var data = new rfjwh.wfms();
            var x = margin;
            var y = margin;
            for (var i = 0; i < sgJq; i++) {
                var reIw = rfOyC.qcHr.reIw();
                data.ubHw(new rfjwh.Frame(i, x, y, xdMv, ydOr, '', reIw));
                RGGW.zblv[reIw] = new RGGW.uemt(RGGW.rhnsa[key], {
                    x: x,
                    y: y,
                    width: xdMv,
                    height: ydOr
                });
                x += xdMv + reNrH;
                if (x + xdMv > width) {
                    x = margin;
                    y += ydOr + reNrH;
                }
            }
            return data;
        },
        vfpz: function(rfOyC, json, uaGr) {
            if (!json['frames']) {
                console.warn("Mygame.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array");
                console.log(json);
                return;
            }
            var data = new rfjwh.wfms();
            var frames = json['frames'];
            var veNt;
            for (var i = 0; i < frames.length; i++) {
                var reIw = rfOyC.qcHr.reIw();
                veNt = data.ubHw(new rfjwh.Frame(i, frames[i].frame.x, frames[i].frame.y, frames[i].frame.w, frames[i].frame.h, frames[i].rfGvB, reIw));
                RGGW.zblv[reIw] = new RGGW.uemt(RGGW.rhnsa[uaGr], {
                    x: frames[i].frame.x,
                    y: frames[i].frame.y,
                    width: frames[i].frame.w,
                    height: frames[i].frame.h
                });
                if (frames[i].rfGwJ) {
                    veNt.ufMz(frames[i].rfGwJ, frames[i].rfGwG.w, frames[i].rfGwG.h, frames[i].rfGwH.x, frames[i].rfGwH.y, frames[i].rfGwH.w, frames[i].rfGwH.h);
                }
            }
            return data;
        },
        zenx: function(rfOyC, json, uaGr) {
            if (!json['frames']) {
                console.warn("Mygame.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object");
                console.log(json);
                return;
            }
            var data = new rfjwh.wfms();
            var frames = json['frames'];
            var veNt;
            var i = 0;
            for (var key in frames) {
                var reIw = rfOyC.qcHr.reIw();
                veNt = data.ubHw(new rfjwh.Frame(i, frames[key].frame.x, frames[key].frame.y, frames[key].frame.w, frames[key].frame.h, key, reIw));
                RGGW.zblv[reIw] = new RGGW.uemt(RGGW.rhnsa[uaGr], {
                    x: frames[key].frame.x,
                    y: frames[key].frame.y,
                    width: frames[key].frame.w,
                    height: frames[key].frame.h
                });
                if (frames[key].rfGwJ) {
                    veNt.ufMz(frames[key].rfGwJ, frames[key].rfGwG.w, frames[key].rfGwG.h, frames[key].rfGwH.x, frames[key].rfGwH.y, frames[key].rfGwH.w, frames[key].rfGwH.h);
                }
                i++;
            }
            return data;
        },
        ubpr: function(rfOyC, qaOz, uaGr) {
            if (!qaOz.getElementsByTagName('TextureAtlas')) {
                console.warn("Mygame.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag");
                return;
            }
            var data = new rfjwh.wfms();
            var frames = qaOz.getElementsByTagName('SubTexture');
            var veNt;
            var reIw;
            var name;
            var frame;
            var x;
            var y;
            var width;
            var height;
            var sbKt;
            var sbKu;
            var xdMv;
            var ydOr;
            for (var i = 0; i < frames.length; i++) {
                reIw = rfOyC.qcHr.reIw();
                frame = frames[i].attributes;
                name = frame.name.value;
                x = parseInt(frame.x.value, 10);
                y = parseInt(frame.y.value, 10);
                width = parseInt(frame.width.value, 10);
                height = parseInt(frame.height.value, 10);
                sbKt = null;
                sbKu = null;
                if (frame.sbKt) {
                    sbKt = Math.abs(parseInt(frame.sbKt.value, 10));
                    sbKu = Math.abs(parseInt(frame.sbKu.value, 10));
                    xdMv = parseInt(frame.xdMv.value, 10);
                    ydOr = parseInt(frame.ydOr.value, 10);
                }
                veNt = data.ubHw(new rfjwh.Frame(i, x, y, width, height, name, reIw));
                RGGW.zblv[reIw] = new RGGW.uemt(RGGW.rhnsa[uaGr], {
                    x: x,
                    y: y,
                    width: width,
                    height: height
                });
                if (sbKt !== null || sbKu !== null) {
                    veNt.ufMz(true, width, height, sbKt, sbKu, xdMv, ydOr);
                }
            }
            return data;
        }
    };
    rfjwh.rciy = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.wjLu = {};
        this.teNs = {};
        this.wjGu = {};
        this.teKs = {};
        this.rdIv = {};
        this.rdJr = {};
        this.qaLw = {};
        this.ubKv = {};
        this.wjGv = {};
        this.tePy = {};
        this.ziIq = {};
        this.yhIq = {};
        this.teJq = {};
        this.zhNv = new Image();
        this.ubJw = null;
        this.riIxK();
        this.riIxJ();
        this.rjLqG = new rfjwh.tgot();
        this.wjLs = [];
        this.wjLs[rfjwh.rciy.CANVAS] = this.wjLu;
        this.wjLs[rfjwh.rciy.IMAGE] = this.teNs;
        this.wjLs[rfjwh.rciy.UEMT] = this.wjGu;
        this.wjLs[rfjwh.rciy.RFHVH] = this.teKs;
        this.wjLs[rfjwh.rciy.TEXT] = this.rdIv;
        this.wjLs[rfjwh.rciy.REOSH] = this.ubKv;
        this.wjLs[rfjwh.rciy.UELS] = this.wjGv;
        this.wjLs[rfjwh.rciy.SEGR] = this.tePy;
        this.wjLs[rfjwh.rciy.XGIQ] = this.ziIq;
        this.wjLs[rfjwh.rciy.XGIR] = this.yhIq;
        this.wjLs[rfjwh.rciy.JSON] = this.rdJr;
        this.wjLs[rfjwh.rciy.QAOZ] = this.qaLw;
    };
    rfjwh.rciy.CANVAS = 1;
    rfjwh.rciy.IMAGE = 2;
    rfjwh.rciy.UEMT = 3;
    rfjwh.rciy.RFHVH = 4;
    rfjwh.rciy.TEXT = 5;
    rfjwh.rciy.REOSH = 6;
    rfjwh.rciy.UELS = 7;
    rfjwh.rciy.SEGR = 8;
    rfjwh.rciy.XGIQ = 9;
    rfjwh.rciy.XGIR = 10;
    rfjwh.rciy.JSON = 11;
    rfjwh.rciy.QAOZ = 12;
    rfjwh.rciy.prototype = {
        wiPx: function(key, canvas, tcLv) {
            this.wjLu[key] = {
                canvas: canvas,
                tcLv: tcLv
            };
        },
        wiPu: function(key, xgJx) {
            this.tePy[key] = xgJx;
        },
        rjPuG: function(key, xgIq, wfMs) {
            xgIq.key = key;
            this.ziIq[key] = {
                data: xgIq,
                wfMs: wfMs
            };
            return xgIq;
        },
        rhNsG: function(key, ueMt) {
            var frame = new rfjwh.Frame(0, 0, 0, ueMt.width, ueMt.height, '', '');
            this.wjGu[key] = {
                ueMt: ueMt,
                frame: frame
            };
        },
        riNuE: function(key, url, data, xdMv, ydOr, vhKx, margin, reNrH) {
            this.teNs[key] = {
                url: url,
                data: data,
                xdMv: xdMv,
                ydOr: ydOr,
                margin: margin,
                reNrH: reNrH
            };
            RGGW.rhnsa[key] = new RGGW.yfpx(data);
            RGGW.zblv[key] = new RGGW.uemt(RGGW.rhnsa[key]);
            this.teNs[key].wfMs = rfjwh.riiyj.zjNv(this.rfOyC, key, xdMv, ydOr, vhKx, margin, reNrH);
            this.teJq[this.ygNz(url)] = this.teNs[key];
        },
        xgNx: function(key, url, uiMr, format) {
            this.wjGv[key] = {
                url: url,
                data: uiMr,
                format: format
            };
            this.teJq[this.ygNz(url)] = this.wjGv[key];
        },
        riIxG: function(key, url, data, wiKv, format) {
            this.teNs[key] = {
                url: url,
                data: data
            };
            RGGW.rhnsa[key] = new RGGW.yfpx(data);
            RGGW.zblv[key] = new RGGW.uemt(RGGW.rhnsa[key]);
            if (format == rfjwh.rfkse.RGHWA) {
                this.teNs[key].wfMs = rfjwh.riiyj.vfpz(this.rfOyC, wiKv, key);
            } else if (format == rfjwh.rfkse.RGHRJ) {
                this.teNs[key].wfMs = rfjwh.riiyj.zenx(this.rfOyC, wiKv, key);
            } else if (format == rfjwh.rfkse.RGGVK) {
                this.teNs[key].wfMs = rfjwh.riiyj.ubpr(this.rfOyC, wiKv, key);
            }
            this.teJq[this.ygNz(url)] = this.teNs[key];
        },
        rjPuF: function(key, url, data, ubPr, wjNz, wjMr) {
            this.teNs[key] = {
                url: url,
                data: data
            };
            RGGW.rhnsa[key] = new RGGW.yfpx(data);
            RGGW.zblv[key] = new RGGW.uemt(RGGW.rhnsa[key]);
            rfjwh.zejq.xgIr(this.rfOyC, ubPr, key, wjNz, wjMr);
            this.yhIq[key] = RGGW.xgis.fonts[key];
            this.teJq[this.ygNz(url)] = this.yhIq[key];
        },
        riNuG: function(key, url, vfpz, format) {
            this.ubKv[key] = {
                url: url,
                data: vfpz,
                format: format
            };
            this.teJq[this.ygNz(url)] = this.ubKv[key];
        },
        riIxK: function() {
            var qdOy = new Image();
            qdOy.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==";
            this.teNs['__default'] = {
                url: null,
                data: qdOy
            };
            this.teNs['__default'].frame = new rfjwh.Frame(0, 0, 0, 32, 32, '', '');
            this.teNs['__default'].wfMs = new rfjwh.wfms();
            this.teNs['__default'].wfMs.ubHw(new rfjwh.Frame(0, 0, 0, 32, 32, null, this.rfOyC.qcHr.reIw()));
            RGGW.rhnsa['__default'] = new RGGW.yfpx(qdOy);
            RGGW.zblv['__default'] = new RGGW.uemt(RGGW.rhnsa['__default']);
        },
        riIxJ: function() {
            var qdOy = new Image();
            qdOy.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==";
            this.teNs['__missing'] = {
                url: null,
                data: qdOy
            };
            this.teNs['__missing'].frame = new rfjwh.Frame(0, 0, 0, 32, 32, '', '');
            this.teNs['__missing'].wfMs = new rfjwh.wfms();
            this.teNs['__missing'].wfMs.ubHw(new rfjwh.Frame(0, 0, 0, 32, 32, null, this.rfOyC.qcHr.reIw()));
            RGGW.rhnsa['__missing'] = new RGGW.yfpx(qdOy);
            RGGW.zblv['__missing'] = new RGGW.uemt(RGGW.rhnsa['__missing']);
        },
        teHq: function(key, url, data) {
            this.rdIv[key] = {
                url: url,
                data: data
            };
            this.teJq[this.ygNz(url)] = this.rdIv[key];
        },
        teIv: function(key, url, data) {
            this.rdJr[key] = {
                url: url,
                data: data
            };
            this.teJq[this.ygNz(url)] = this.rdJr[key];
        },
        seNt: function(key, url, data) {
            this.qaLw[key] = {
                url: url,
                data: data
            };
        },
        ubHy: function(key, url, data) {
            this.teNs[key] = {
                url: url,
                data: data
            };
            this.teNs[key].frame = new rfjwh.Frame(0, 0, 0, data.width, data.height, key, this.rfOyC.qcHr.reIw());
            this.teNs[key].wfMs = new rfjwh.wfms();
            this.teNs[key].wfMs.ubHw(new rfjwh.Frame(0, 0, 0, data.width, data.height, url, this.rfOyC.qcHr.reIw()));
            RGGW.rhnsa[key] = new RGGW.yfpx(data);
            RGGW.zblv[key] = new RGGW.uemt(RGGW.rhnsa[key]);
            this.teJq[this.ygNz(url)] = this.teNs[key];
        },
        ubGv: function(key, url, data, wjOu, uaMt) {
            wjOu = wjOu || true;
            uaMt = uaMt || false;
            var tcHu = false;
            if (uaMt) {
                tcHu = true;
            }
            this.teKs[key] = {
                url: url,
                data: data,
                xcKv: false,
                tcHu: tcHu,
                wjOu: wjOu,
                uaMt: uaMt,
                tjOz: this.rfOyC.rfHvH.zjHw
            };
            this.teJq[this.ygNz(url)] = this.teKs[key];
        },
        yaNw: function(key) {
            var rdIw = this;
            if (this.teKs[key]) {
                this.teKs[key].data.src = this.teKs[key].url;
                this.teKs[key].data.addEventListener('canplaythrough', function() {
                    return rdIw.rgNvE(key);
                }, false);
                this.teKs[key].data.load();
            }
        },
        rgNvE: function(key) {
            if (this.teKs[key]) {
                this.teKs[key].tjOz = false;
                this.rjLqG.viLt(key);
            }
        },
        ziNq: function(key, vdIx, value) {
            if (this.teKs[key]) {
                this.teKs[key][vdIx] = value;
            }
        },
        zgIw: function(key, data) {
            this.teKs[key].data = data;
            this.teKs[key].tcHu = true;
            this.teKs[key].xcKv = false;
        },
        wfJz: function(key) {
            if (this.wjLu[key]) {
                return this.wjLu[key].canvas;
            } else {
                console.warn('Mygame.Cache.getCanvas: Invalid key: "' + key + '"');
            }
        },
        rjNtF: function(key) {
            if (this.ziIq[key]) {
                return this.ziIq[key].data;
            } else {
                console.warn('Mygame.Cache.getBitmapData: Invalid key: "' + key + '"');
            }
        },
        rjNtE: function(key) {
            if (this.yhIq[key]) {
                return this.yhIq[key];
            } else {
                console.warn('Mygame.Cache.getBitmapFont: Invalid key: "' + key + '"');
            }
        },
        riLrB: function(key, object, xdPz) {
            if (typeof object === 'undefined' || object === null) {
                if (this.ubKv[key]) {
                    return this.ubKv[key].data;
                } else {
                    console.warn('Mygame.Cache.getPhysicsData: Invalid key: "' + key + '"');
                }
            } else {
                if (this.ubKv[key] && this.ubKv[key].data[object]) {
                    var vhMz = this.ubKv[key].data[object];
                    if (vhMz && xdPz) {
                        for (var tbGz in vhMz) {
                            tbGz = vhMz[tbGz];
                            if (tbGz.xdPz === xdPz) {
                                return tbGz;
                            }
                        }
                        console.warn('Mygame.Cache.getPhysicsData: Could not find given fixtureKey: "' + xdPz + ' in ' + key + '"');
                    } else {
                        return vhMz;
                    }
                } else {
                    console.warn('Mygame.Cache.getPhysicsData: Invalid key/object: "' + key + ' / ' + object + '"');
                }
            }
            return null;
        },
        vjNw: function(type, key) {
            if (this.wjLs[type][key]) {
                return true;
            }
            return false;
        },
        riMqJ: function(key) {
            return this.vjNw(rfjwh.rciy.CANVAS, key);
        },
        rjPzG: function(key) {
            return this.vjNw(rfjwh.rciy.IMAGE, key);
        },
        riHsA: function(key) {
            return this.vjNw(rfjwh.rciy.UEMT, key);
        },
        rjPzE: function(key) {
            return this.vjNw(rfjwh.rciy.RFHVH, key);
        },
        zgOs: function(key) {
            return this.vjNw(rfjwh.rciy.TEXT, key);
        },
        riHsD: function(key) {
            return this.vjNw(rfjwh.rciy.REOSH, key);
        },
        riHtK: function(key) {
            return this.vjNw(rfjwh.rciy.UELS, key);
        },
        riMqK: function(key) {
            return this.vjNw(rfjwh.rciy.SEGR, key);
        },
        rhHyA: function(key) {
            return this.vjNw(rfjwh.rciy.XGIQ, key);
        },
        rhHzK: function(key) {
            return this.vjNw(rfjwh.rciy.XGIR, key);
        },
        zgOr: function(key) {
            return this.vjNw(rfjwh.rciy.JSON, key);
        },
        yfLx: function(key) {
            return this.vjNw(rfjwh.rciy.QAOZ, key);
        },
        vjNx: function(url) {
            if (this.teJq[this.ygNz(url)]) {
                return true;
            }
            return false;
        },
        vhGs: function(key) {
            if (this.teNs[key]) {
                return this.teNs[key].data;
            } else {
                console.warn('Mygame.Cache.getImage: Invalid key: "' + key + '"');
                return null;
            }
        },
        riLsE: function(key) {
            if (this.wjGv[key]) {
                return this.wjGv[key];
            } else {
                console.warn('Mygame.Cache.getTilemapData: Invalid key: "' + key + '"');
            }
        },
        zfKt: function(key, map) {
            if (typeof map === 'undefined') {
                map = rfjwh.rciy.IMAGE;
            }
            if (this.wjLs[map][key]) {
                return this.wjLs[map][key].wfMs;
            }
            return null;
        },
        rhOuF: function(key, wfMs) {
            if (this.teNs[key]) {
                this.teNs[key].wfMs = wfMs;
            }
        },
        riGrC: function(key, frame) {
            if (this.teNs[key]) {
                return this.teNs[key].wfMs.vhHy(frame);
            }
            return null;
        },
        riLrJ: function(key, frame) {
            if (this.teNs[key]) {
                return this.teNs[key].wfMs.riLrJ(frame);
            }
            return null;
        },
        vhHy: function(key) {
            if (this.teNs[key]) {
                return this.teNs[key].frame;
            }
            return null;
        },
        riGsE: function(key) {
            if (this.wjGu[key]) {
                return this.wjGu[key].frame;
            }
            return null;
        },
        xdIw: function(key) {
            if (this.wjGu[key]) {
                return this.wjGu[key];
            } else {
                console.warn('Mygame.Cache.getTexture: Invalid key: "' + key + '"');
            }
        },
        vhGz: function(key) {
            if (this.teKs[key]) {
                return this.teKs[key];
            } else {
                console.warn('Mygame.Cache.getSound: Invalid key: "' + key + '"');
            }
        },
        zfJw: function(key) {
            if (this.teKs[key]) {
                return this.teKs[key].data;
            } else {
                console.warn('Mygame.Cache.getSoundData: Invalid key: "' + key + '"');
            }
        },
        riLxG: function(key) {
            if (this.teKs[key]) {
                return this.teKs[key].tcHu;
            }
        },
        zeNv: function(key) {
            return (this.teKs[key] && this.teKs[key].tcHu && this.rfOyC.rfHvH.zjHw === false);
        },
        rjNuF: function(key) {
            if (this.teNs[key]) {
                return this.teNs[key].wfMs.sgJq;
            }
            return 0;
        },
        taKu: function(key) {
            if (this.rdIv[key]) {
                return this.rdIv[key].data;
            } else {
                console.warn('Mygame.Cache.getText: Invalid key: "' + key + '"');
            }
        },
        taLy: function(key) {
            if (this.rdJr[key]) {
                return this.rdJr[key].data;
            } else {
                console.warn('Mygame.Cache.getJSON: Invalid key: "' + key + '"');
            }
        },
        sbIx: function(key) {
            if (this.qaLw[key]) {
                return this.qaLw[key].data;
            } else {
                console.warn('Mygame.Cache.getXML: Invalid key: "' + key + '"');
            }
        },
        wfJv: function(key) {
            if (this.tePy[key]) {
                return this.tePy[key];
            } else {
                console.warn('Mygame.Cache.getBinary: Invalid key: "' + key + '"');
            }
        },
        sbIw: function(url) {
            if (this.teJq[this.ygNz(url)]) {
                return this.teJq[this.ygNz(url)];
            } else {
                console.warn('Mygame.Cache.getUrl: Invalid url: "' + url + '"');
            }
        },
        taLz: function(type) {
            var array = null;
            switch (type) {
                case rfjwh.rciy.CANVAS:
                    array = this.wjLu;
                    break;
                case rfjwh.rciy.IMAGE:
                    array = this.teNs;
                    break;
                case rfjwh.rciy.UEMT:
                    array = this.wjGu;
                    break;
                case rfjwh.rciy.RFHVH:
                    array = this.teKs;
                    break;
                case rfjwh.rciy.TEXT:
                    array = this.rdIv;
                    break;
                case rfjwh.rciy.REOSH:
                    array = this.ubKv;
                    break;
                case rfjwh.rciy.UELS:
                    array = this.wjGv;
                    break;
                case rfjwh.rciy.SEGR:
                    array = this.tePy;
                    break;
                case rfjwh.rciy.XGIQ:
                    array = this.ziIq;
                    break;
                case rfjwh.rciy.XGIR:
                    array = this.yhIq;
                    break;
                case rfjwh.rciy.JSON:
                    array = this.rdJr;
                    break;
                case rfjwh.rciy.QAOZ:
                    array = this.qaLw;
                    break;
            }
            if (!array) {
                return;
            }
            var tiMy = [];
            for (var item in array) {
                if (item !== '__default' && item !== '__missing') {
                    tiMy.push(item);
                }
            }
            return tiMy;
        },
        zcNx: function(key) {
            delete this.wjLu[key];
        },
        yaMq: function(key, riJqK) {
            if (typeof riJqK === 'undefined') {
                riJqK = true;
            }
            delete this.teNs[key];
            if (riJqK) {
                RGGW.rhnsa[key].tbPr();
            }
        },
        yaMr: function(key) {
            delete this.teKs[key];
        },
        xaIx: function(key) {
            delete this.rdIv[key];
        },
        xaIw: function(key) {
            delete this.rdJr[key];
        },
        waOw: function(key) {
            delete this.qaLw[key];
        },
        rjLxE: function(key) {
            delete this.ubKv[key];
        },
        rjLxD: function(key) {
            delete this.wjGv[key];
        },
        zcNw: function(key) {
            delete this.tePy[key];
        },
        rhLvC: function(key) {
            delete this.ziIq[key];
        },
        rhLvB: function(key) {
            delete this.yhIq[key];
        },
        ygNz: function(url) {
            this.zhNv.src = this.rfOyC.load.tdLq + url;
            this.ubJw = this.zhNv.src;
            this.zhNv.src = '';
            return this.ubJw;
        },
        tbPr: function() {
            for (var item in this.wjLu) {
                delete this.wjLu[item];
            }
            for (var item in this.teNs) {
                if (item !== '__default' && item !== '__missing') {
                    delete this.teNs[item];
                }
            }
            for (var item in this.teKs) {
                delete this.teKs[item];
            }
            for (var item in this.rdIv) {
                delete this.rdIv[item];
            }
            for (var item in this.rdJr) {
                delete this.rdJr[item];
            }
            for (var item in this.qaLw) {
                delete this.qaLw[item];
            }
            for (var item in this.wjGu) {
                delete this.wjGu[item];
            }
            for (var item in this.ubKv) {
                delete this.ubKv[item];
            }
            for (var item in this.wjGv) {
                delete this.wjGv[item];
            }
            for (var item in this.tePy) {
                delete this.tePy[item];
            }
            for (var item in this.ziIq) {
                delete this.ziIq[item];
            }
            for (var item in this.yhIq) {
                delete this.yhIq[item];
            }
            this.teJq = null;
            this.zhNv = null;
            this.ubJw = null;
        }
    };
    rfjwh.rciy.prototype.constructor = rfjwh.rciy;
    rfjwh.rfkse = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.weGu = false;
        this.wfGx = false;
        this.rfJyB = 0;
        this.rjLvH = 0;
        this.rjLuB = null;
        this.crossOrigin = false;
        this.tdLq = '';
        this.onLoadStart = new rfjwh.tgot();
        this.ybNw = new rfjwh.tgot();
        this.riKuK = new rfjwh.tgot();
        this.ybNv = new rfjwh.tgot();
        this.riKuG = new rfjwh.tgot();
        this.riKuE = new rfjwh.tgot();
        this.rhHsC = (this.rfOyC.scLr.weNv === 9);
        this.wjIt = [];
        this.xhIy = 0;
        this.wjKs = [];
        this.xhLv = 0;
        this.rjIqH = 0;
        this.qaLv = new XMLHttpRequest();
        this.rdLs = null;
    };
    rfjwh.rfkse.RGHWA = 0;
    rfjwh.rfkse.RGHRJ = 1;
    rfjwh.rfkse.RGGVK = 2;
    rfjwh.rfkse.RGHVA = 3;
    rfjwh.rfkse.RGNUJ = 4;
    rfjwh.rfkse.prototype = {
        rhLxJ: function(rfIsB, direction) {
            direction = direction || 0;
            this.rjLuB = {
                rfIsB: rfIsB,
                direction: direction,
                width: rfIsB.width,
                height: rfIsB.height,
                rect: null
            };
            if (direction === 0) {
                this.rjLuB.rect = new rfjwh.wbgy(0, 0, 1, rfIsB.height);
            } else {
                this.rjLuB.rect = new rfjwh.wbgy(0, 0, rfIsB.width, 1);
            }
            rfIsB.rjKu(this.rjLuB.rect);
            rfIsB.rfIxE = true;
        },
        riMqF: function(type, key) {
            if (this.wjKs.length > 0) {
                for (var i = 0; i < this.wjKs.length; i++) {
                    if (this.wjKs[i].type === type && this.wjKs[i].key === key) {
                        return true;
                    }
                }
            }
            return false;
        },
        rjNtG: function(type, key) {
            if (this.wjKs.length > 0) {
                for (var i = 0; i < this.wjKs.length; i++) {
                    if (this.wjKs[i].type === type && this.wjKs[i].key === key) {
                        return i;
                    }
                }
            }
            return -1;
        },
        vhHt: function(type, key) {
            if (this.wjKs.length > 0) {
                for (var i = 0; i < this.wjKs.length; i++) {
                    if (this.wjKs[i].type === type && this.wjKs[i].key === key) {
                        return {
                            index: i,
                            riNy: this.wjKs[i]
                        };
                    }
                }
            }
            return false;
        },
        reset: function() {
            this.rjLuB = null;
            this.weGu = false;
            this.wjIt.length = 0;
            this.xhIy = 0;
            this.wjKs.length = 0;
            this.xhLv = 0;
        },
        rjPuC: function(type, key, url, reOzC) {
            var rbIz = {
                type: type,
                key: key,
                url: url,
                data: null,
                error: false,
                tjOx: false
            };
            if (typeof reOzC !== "undefined") {
                for (var rfOw in reOzC) {
                    rbIz[rfOw] = reOzC[rfOw];
                }
            }
            if (this.riMqF(type, key) === false) {
                this.wjKs.push(rbIz);
            }
        },
        rhIxK: function(type, key, url, reOzC) {
            var rbIz = {
                type: type,
                key: key,
                url: url,
                data: null,
                error: false,
                tjOx: false
            };
            if (typeof reOzC !== "undefined") {
                for (var rfOw in reOzC) {
                    rbIz[rfOw] = reOzC[rfOw];
                }
            }
            var index = this.rjNtG(type, key);
            if (index === -1) {
                this.wjKs.push(rbIz);
            } else {
                this.wjKs[index] = rbIz;
            }
        },
        rgIt: function(key, url, data, riHrD) {
            if (typeof url === "undefined") {
                url = null;
            }
            if (typeof data === "undefined") {
                data = null;
            }
            if (typeof riHrD === "undefined") {
                riHrD = this;
            }
            if (url === null && data === null) {
                console.warn('Mygame.Loader.pack - Both url and data are null. One must be set.');
                return this;
            }
            if (data) {
                if (typeof data === 'string') {
                    data = JSON.parse(data);
                }
            }
            this.wjIt.push({
                key: key,
                url: url,
                data: data,
                tjOx: false,
                error: false,
                riHrD: riHrD
            });
            return this;
        },
        image: function(key, url, wbPy) {
            if (typeof wbPy === "undefined") {
                wbPy = false;
            }
            if (wbPy) {
                this.rhIxK('image', key, url);
            } else {
                this.rjPuC('image', key, url);
            }
            return this;
        },
        text: function(key, url, wbPy) {
            if (typeof wbPy === "undefined") {
                wbPy = false;
            }
            if (wbPy) {
                this.rhIxK('text', key, url);
            } else {
                this.rjPuC('text', key, url);
            }
            return this;
        },
        json: function(key, url, wbPy) {
            if (typeof wbPy === "undefined") {
                wbPy = false;
            }
            if (wbPy) {
                this.rhIxK('json', key, url);
            } else {
                this.rjPuC('json', key, url);
            }
            return this;
        },
        qaOz: function(key, url, wbPy) {
            if (typeof wbPy === "undefined") {
                wbPy = false;
            }
            if (wbPy) {
                this.rhIxK('xml', key, url);
            } else {
                this.rjPuC('xml', key, url);
            }
            return this;
        },
        thIw: function(key, url, uaGu, riHrD) {
            if (typeof uaGu === 'undefined') {
                uaGu = false;
            }
            if (uaGu !== false && typeof riHrD === 'undefined') {
                riHrD = uaGu;
            }
            this.rjPuC('script', key, url, {
                uaGu: uaGu,
                riHrD: riHrD
            });
            return this;
        },
        seGr: function(key, url, uaGu, riHrD) {
            if (typeof uaGu === 'undefined') {
                uaGu = false;
            }
            if (uaGu !== false && typeof riHrD === 'undefined') {
                riHrD = uaGu;
            }
            this.rjPuC('binary', key, url, {
                uaGu: uaGu,
                riHrD: riHrD
            });
            return this;
        },
        zjNv: function(key, url, xdMv, ydOr, vhKx, margin, reNrH) {
            if (typeof vhKx === "undefined") {
                vhKx = -1;
            }
            if (typeof margin === "undefined") {
                margin = 0;
            }
            if (typeof reNrH === "undefined") {
                reNrH = 0;
            }
            this.rjPuC('spritesheet', key, url, {
                xdMv: xdMv,
                ydOr: ydOr,
                vhKx: vhKx,
                margin: margin,
                reNrH: reNrH
            });
            return this;
        },
        audio: function(key, reIr, xgKy) {
            if (typeof xgKy === "undefined") {
                xgKy = true;
            }
            this.rjPuC('audio', key, reIr, {
                buffer: null,
                xgKy: xgKy
            });
            return this;
        },
        yfPs: function(key, reIr, uaNy) {
            this.audio(key, reIr);
            this.json(key + '-audioatlas', uaNy);
            return this;
        },
        ueLs: function(key, url, data, format) {
            if (typeof url === "undefined") {
                url = null;
            }
            if (typeof data === "undefined") {
                data = null;
            }
            if (typeof format === "undefined") {
                format = rfjwh.uels.QEPW;
            }
            if (url == null && data == null) {
                console.warn('Mygame.Loader.tilemap - Both url and data are null. One must be set.');
                return this;
            }
            if (data) {
                switch (format) {
                    case rfjwh.uels.QEPW:
                        break;
                    case rfjwh.uels.YIJR:
                        if (typeof data === 'string') {
                            data = JSON.parse(data);
                        }
                        break;
                }
                this.rfOyC.rcIy.xgNx(key, null, data, format);
            } else {
                this.rjPuC('tilemap', key, url, {
                    format: format
                });
            }
            return this;
        },
        reOsH: function(key, url, data, format) {
            if (typeof url === "undefined") {
                url = null;
            }
            if (typeof data === "undefined") {
                data = null;
            }
            if (typeof format === "undefined") {
                format = rfjwh.reosh.RHMWH;
            }
            if (url == null && data == null) {
                console.warn('Mygame.Loader.physics - Both url and data are null. One must be set.');
                return this;
            }
            if (data) {
                if (typeof data === 'string') {
                    data = JSON.parse(data);
                }
                this.rfOyC.rcIy.riNuG(key, null, data, format);
            } else {
                this.rjPuC('reOsH', key, url, {
                    format: format
                });
            }
            return this;
        },
        xgIr: function(key, yiKv, tfHz, ubPr, wjNz, wjMr) {
            if (typeof tfHz === "undefined") {
                tfHz = null;
            }
            if (typeof ubPr === "undefined") {
                ubPr = null;
            }
            if (typeof wjNz === "undefined") {
                wjNz = 0;
            }
            if (typeof wjMr === "undefined") {
                wjMr = 0;
            }
            if (tfHz) {
                this.rjPuC('bitmapfont', key, yiKv, {
                    tfHz: tfHz,
                    wjNz: wjNz,
                    wjMr: wjMr
                });
            } else {
                if (typeof ubPr === 'string') {
                    var qaOz;
                    try {
                        if (window['DOMParser']) {
                            var wgLv = new wglv();
                            qaOz = wgLv.rhPtG(ubPr, "text/xml");
                        } else {
                            qaOz = new rjpuh("Microsoft.XMLDOM");
                            qaOz.async = 'false';
                            qaOz.uiOv(ubPr);
                        }
                    } catch (e) {
                        qaOz = undefined;
                    }
                    if (!qaOz || !qaOz.documentElement || qaOz.getElementsByTagName("parsererror").length) {
                        throw new Error("rfjwh.rfkse. Invalid Bitmap Font XML given");
                    } else {
                        this.rjPuC('bitmapfont', key, yiKv, {
                            tfHz: null,
                            ubPr: qaOz,
                            wjNz: wjNz,
                            wjMr: wjMr
                        });
                    }
                }
            }
            return this;
        },
        riNwH: function(key, yiKv, uaNy, wiKv) {
            return this.rcNy(key, yiKv, uaNy, wiKv, rfjwh.rfkse.RGHWA);
        },
        rjPwD: function(key, yiKv, uaNy, wiKv) {
            return this.rcNy(key, yiKv, uaNy, wiKv, rfjwh.rfkse.RGHRJ);
        },
        uaNz: function(key, yiKv, uaNy, wiKv) {
            return this.rcNy(key, yiKv, uaNy, wiKv, rfjwh.rfkse.RGGVK);
        },
        rcNy: function(key, yiKv, uaNy, wiKv, format) {
            if (typeof uaNy === "undefined") {
                uaNy = null;
            }
            if (typeof wiKv === "undefined") {
                wiKv = null;
            }
            if (typeof format === "undefined") {
                format = rfjwh.rfkse.RGHWA;
            }
            if (uaNy) {
                this.rjPuC('textureatlas', key, yiKv, {
                    uaNy: uaNy,
                    format: format
                });
            } else {
                switch (format) {
                    case rfjwh.rfkse.RGHWA:
                        if (typeof wiKv === 'string') {
                            wiKv = JSON.parse(wiKv);
                        }
                        break;
                    case rfjwh.rfkse.RGGVK:
                        if (typeof wiKv === 'string') {
                            var qaOz;
                            try {
                                if (window['DOMParser']) {
                                    var wgLv = new wglv();
                                    qaOz = wgLv.rhPtG(wiKv, "text/xml");
                                } else {
                                    qaOz = new rjpuh("Microsoft.XMLDOM");
                                    qaOz.async = 'false';
                                    qaOz.uiOv(wiKv);
                                }
                            } catch (e) {
                                qaOz = undefined;
                            }
                            if (!qaOz || !qaOz.documentElement || qaOz.getElementsByTagName("parsererror").length) {
                                throw new Error("rfjwh.rfkse. Invalid Texture Atlas XML given");
                            } else {
                                wiKv = qaOz;
                            }
                        }
                        break;
                }
                this.rjPuC('textureatlas', key, yiKv, {
                    uaNy: null,
                    wiKv: wiKv,
                    format: format
                });
            }
            return this;
        },
        xaIu: function(type, key) {
            var riNy = this.vhHt(type, key);
            if (riNy !== false) {
                this.wjKs.splice(riNy.index, 1);
            }
        },
        waOu: function() {
            this.wjKs.length = 0;
        },
        rfIsA: function() {
            if (this.weGu) {
                return;
            }
            if (this.wjIt.length > 0) {
                this.xhIy = 0;
                this.vfKu();
            } else {
                this.wiIw();
            }
        },
        wiIw: function() {
            this.rfJyB = 0;
            this.rjLvH = 0;
            this.wfGx = false;
            this.weGu = true;
            this.onLoadStart.viLt(this.wjKs.length);
            if (this.wjKs.length > 0) {
                this.xhLv = 0;
                this.rjIqH = 100 / this.wjKs.length;
                this.vfKr();
            } else {
                this.rfJyB = 100;
                this.rjLvH = 100;
                this.wfGx = true;
                this.weGu = false;
                this.riKuG.viLt();
            }
        },
        vfKu: function() {
            if (!this.wjIt[this.xhIy]) {
                console.warn('Mygame.Loader loadPackList invalid index ' + this.xhIy);
                return;
            }
            var rgIt = this.wjIt[this.xhIy];
            if (rgIt.data !== null) {
                this.rhLtJ(this.xhIy, false);
            } else {
                this.ubPq(this.xhIy, this.tdLq + rgIt.url, 'text', 'packLoadComplete', 'packLoadError');
            }
        },
        rhLtJ: function(index, parse) {
            if (typeof parse === 'undefined') {
                parse = true;
            }
            if (!this.wjIt[index]) {
                console.warn('Mygame.Loader packLoadComplete invalid index ' + index);
                return;
            }
            var rgIt = this.wjIt[index];
            rgIt.tjOx = true;
            if (parse) {
                var data = JSON.parse(this.qaLv.zcLt);
            } else {
                var data = this.wjIt[index].data;
            }
            if (data[rgIt.key]) {
                var riNy;
                for (var i = 0; i < data[rgIt.key].length; i++) {
                    riNy = data[rgIt.key][i];
                    switch (riNy.type) {
                        case "image":
                            this.image(riNy.key, riNy.url, riNy.wbPy);
                            break;
                        case "text":
                            this.text(riNy.key, riNy.url, riNy.wbPy);
                            break;
                        case "json":
                            this.json(riNy.key, riNy.url, riNy.wbPy);
                            break;
                        case "xml":
                            this.qaOz(riNy.key, riNy.url, riNy.wbPy);
                            break;
                        case "script":
                            this.thIw(riNy.key, riNy.url, riNy.uaGu, rgIt.riHrD);
                            break;
                        case "binary":
                            this.seGr(riNy.key, riNy.url, riNy.uaGu, rgIt.riHrD);
                            break;
                        case "spritesheet":
                            this.zjNv(riNy.key, riNy.url, riNy.xdMv, riNy.ydOr, riNy.vhKx, riNy.margin, riNy.reNrH);
                            break;
                        case "audio":
                            this.audio(riNy.key, riNy.reIr, riNy.xgKy);
                            break;
                        case "tilemap":
                            this.ueLs(riNy.key, riNy.url, riNy.data, rfjwh.uels[riNy.format]);
                            break;
                        case "reOsH":
                            this.reOsH(riNy.key, riNy.url, riNy.data, rfjwh.rfkse[riNy.format]);
                            break;
                        case "bitmapFont":
                            this.xgIr(riNy.key, riNy.yiKv, riNy.tfHz, riNy.ubPr, riNy.wjNz, riNy.wjMr);
                            break;
                        case "atlasJSONArray":
                            this.riNwH(riNy.key, riNy.yiKv, riNy.uaNy, riNy.wiKv);
                            break;
                        case "atlasJSONHash":
                            this.rjPwD(riNy.key, riNy.yiKv, riNy.uaNy, riNy.wiKv);
                            break;
                        case "atlasXML":
                            this.uaNz(riNy.key, riNy.yiKv, riNy.uaNy, riNy.wiKv);
                            break;
                        case "atlas":
                            this.rcNy(riNy.key, riNy.yiKv, riNy.uaNy, riNy.wiKv, rfjwh.rfkse[riNy.format]);
                            break;
                    }
                }
            }
            this.veMt(index, true);
        },
        wbOq: function(index) {
            this.wjIt[index].tjOx = true;
            this.wjIt[index].error = true;
            this.ybNv.viLt(this.wjIt[index].key, this.wjIt[index]);
            console.warn("Mygame.Loader error loading pack file: " + this.wjIt[index].key + ' from URL ' + this.wjIt[index].url);
            this.veMt(index, false);
        },
        veMt: function(index, ueOr) {
            this.riKuE.viLt(this.wjIt[index].key, ueOr, this.rhKqG(), this.wjIt.length);
            this.xhIy++;
            if (this.xhIy < this.wjIt.length) {
                this.vfKu();
            } else {
                this.wiIw();
            }
        },
        vfKr: function() {
            if (!this.wjKs[this.xhLv]) {
                console.warn('Mygame.Loader loadFile invalid index ' + this.xhLv);
                return;
            }
            var riNy = this.wjKs[this.xhLv];
            var rdIw = this;
            this.ybNw.viLt(this.rfJyB, riNy.key, riNy.url);
            switch (riNy.type) {
                case 'image':
                case 'spritesheet':
                case 'textureatlas':
                case 'bitmapfont':
                    riNy.data = new Image();
                    riNy.data.name = riNy.key;
                    riNy.data.onload = function() {
                        return rdIw.zfOz(rdIw.xhLv);
                    };
                    riNy.data.onerror = function() {
                        return rdIw.wfPz(rdIw.xhLv);
                    };
                    if (this.crossOrigin) {
                        riNy.data.crossOrigin = this.crossOrigin;
                    }
                    riNy.data.src = this.tdLq + riNy.url;
                    break;
                case 'audio':
                    riNy.url = this.ydNx(riNy.url);
                    if (riNy.url !== null) {
                        if (this.rfOyC.rfHvH.rjJrA) {
                            this.ubPq(this.xhLv, this.tdLq + riNy.url, 'arraybuffer', 'zfOz', 'fileError');
                        } else if (this.rfOyC.rfHvH.rjJrB) {
                            if (this.rfOyC.rfHvH.zjHw) {
                                riNy.data = new Audio();
                                riNy.data.name = riNy.key;
                                riNy.data.preload = 'auto';
                                riNy.data.src = this.tdLq + riNy.url;
                                this.zfOz(this.xhLv);
                            } else {
                                riNy.data = new Audio();
                                riNy.data.name = riNy.key;
                                riNy.data.onerror = function() {
                                    return rdIw.wfPz(rdIw.xhLv);
                                };
                                riNy.data.preload = 'auto';
                                riNy.data.src = this.tdLq + riNy.url;
                                riNy.data.addEventListener('canplaythrough', function() {
                                    rfjwh.RAMX[rdIw.rfOyC.id].load.zfOz(rdIw.xhLv);
                                }, false);
                                riNy.data.load();
                            }
                        }
                    } else {
                        this.wfPz(this.xhLv);
                    }
                    break;
                case 'json':
                    if (this.rhHsC && window.riirj) {
                        this.rdLs = new window.riirj();
                        this.rdLs.ueLw = 3000;
                        this.rdLs.onerror = function() {
                            return rdIw.rjOuD(rdIw.xhLv);
                        };
                        this.rdLs.wcHu = function() {
                            return rdIw.rjOuD(rdIw.xhLv);
                        };
                        this.rdLs.onprogress = function() {};
                        this.rdLs.onload = function() {
                            return rdIw.rhMvD(rdIw.xhLv);
                        };
                        this.rdLs.open('GET', this.tdLq + riNy.url, true);
                        setTimeout(function() {
                            this.rdLs.rfIq();
                        }, 0);
                    } else {
                        this.ubPq(this.xhLv, this.tdLq + riNy.url, 'text', 'rhMvD', 'dataLoadError');
                    }
                    break;
                case 'xml':
                    this.ubPq(this.xhLv, this.tdLq + riNy.url, 'text', 'xmlLoadComplete', 'dataLoadError');
                    break;
                case 'tilemap':
                    if (riNy.format === rfjwh.uels.YIJR) {
                        this.ubPq(this.xhLv, this.tdLq + riNy.url, 'text', 'rhMvD', 'dataLoadError');
                    } else if (riNy.format === rfjwh.uels.QEPW) {
                        this.ubPq(this.xhLv, this.tdLq + riNy.url, 'text', 'csvLoadComplete', 'dataLoadError');
                    } else {
                        throw new Error("rfjwh.rfkse. Invalid Tilemap format: " + riNy.format);
                    }
                    break;
                case 'text':
                case 'script':
                case 'reOsH':
                    this.ubPq(this.xhLv, this.tdLq + riNy.url, 'text', 'zfOz', 'fileError');
                    break;
                case 'binary':
                    this.ubPq(this.xhLv, this.tdLq + riNy.url, 'arraybuffer', 'zfOz', 'fileError');
                    break;
            }
        },
        ubPq: function(index, url, type, onload, onerror) {
            this.qaLv.open("GET", url, true);
            this.qaLv.zcLu = type;
            var rdIw = this;
            this.qaLv.onload = function() {
                return rdIw[onload](index);
            };
            this.qaLv.onerror = function() {
                return rdIw[onerror](index);
            };
            this.qaLv.rfIq();
        },
        ydNx: function(reIr) {
            var wgGy;
            if (typeof reIr === 'string') {
                reIr = [reIr];
            }
            for (var i = 0; i < reIr.length; i++) {
                wgGy = reIr[i].toLowerCase();
                wgGy = wgGy.substr((Math.max(0, wgGy.lastIndexOf(".")) || Infinity) + 1);
                if (wgGy.indexOf("?") >= 0) {
                    wgGy = wgGy.substr(0, wgGy.indexOf("?"));
                }
                if (this.rfOyC.scLr.zgPt(wgGy)) {
                    return reIr[i];
                }
            }
            return null;
        },
        wfPz: function(index) {
            this.wjKs[index].tjOx = true;
            this.wjKs[index].error = true;
            this.ybNv.viLt(this.wjKs[index].key, this.wjKs[index]);
            console.warn("Mygame.Loader error loading file: " + this.wjKs[index].key + ' from URL ' + this.wjKs[index].url);
            this.veMq(index, false);
        },
        zfOz: function(index) {
            if (!this.wjKs[index]) {
                console.warn('Mygame.Loader fileComplete invalid index ' + index);
                return;
            }
            var riNy = this.wjKs[index];
            riNy.tjOx = true;
            var vfKt = true;
            switch (riNy.type) {
                case 'image':
                    this.rfOyC.rcIy.ubHy(riNy.key, riNy.url, riNy.data);
                    break;
                case 'spritesheet':
                    this.rfOyC.rcIy.riNuE(riNy.key, riNy.url, riNy.data, riNy.xdMv, riNy.ydOr, riNy.vhKx, riNy.margin, riNy.reNrH);
                    break;
                case 'textureatlas':
                    if (riNy.uaNy == null) {
                        this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, riNy.wiKv, riNy.format);
                    } else {
                        vfKt = false;
                        if (riNy.format == rfjwh.rfkse.RGHWA || riNy.format == rfjwh.rfkse.RGHRJ) {
                            this.ubPq(this.xhLv, this.tdLq + riNy.uaNy, 'text', 'rhMvD', 'dataLoadError');
                        } else if (riNy.format == rfjwh.rfkse.RGGVK) {
                            this.ubPq(this.xhLv, this.tdLq + riNy.uaNy, 'text', 'xmlLoadComplete', 'dataLoadError');
                        } else {
                            throw new Error("rfjwh.rfkse. Invalid Texture Atlas format: " + riNy.format);
                        }
                    }
                    break;
                case 'bitmapfont':
                    if (riNy.tfHz == null) {
                        this.rfOyC.rcIy.rjPuF(riNy.key, riNy.url, riNy.data, riNy.ubPr, riNy.wjNz, riNy.wjMr);
                    } else {
                        vfKt = false;
                        this.ubPq(this.xhLv, this.tdLq + riNy.tfHz, 'text', 'xmlLoadComplete', 'dataLoadError');
                    }
                    break;
                case 'audio':
                    if (this.rfOyC.rfHvH.rjJrA) {
                        riNy.data = this.qaLv.vcLy;
                        this.rfOyC.rcIy.ubGv(riNy.key, riNy.url, riNy.data, true, false);
                        if (riNy.xgKy) {
                            var reLr = this;
                            var key = riNy.key;
                            this.rfOyC.rcIy.ziNq(key, 'xcKv', true);
                            this.rfOyC.rfHvH.tcLv.decodeAudioData(riNy.data, function(buffer) {
                                if (buffer) {
                                    reLr.rfOyC.rcIy.zgIw(key, buffer);
                                    reLr.rfOyC.rfHvH.rjLqH.viLt(key, reLr.rfOyC.rcIy.vhGz(key));
                                }
                            });
                        }
                    } else {
                        riNy.data.removeEventListener('canplaythrough', rfjwh.RAMX[this.rfOyC.id].load.zfOz);
                        this.rfOyC.rcIy.ubGv(riNy.key, riNy.url, riNy.data, false, true);
                    }
                    break;
                case 'text':
                    riNy.data = this.qaLv.zcLt;
                    this.rfOyC.rcIy.teHq(riNy.key, riNy.url, riNy.data);
                    break;
                case 'reOsH':
                    var data = JSON.parse(this.qaLv.zcLt);
                    this.rfOyC.rcIy.riNuG(riNy.key, riNy.url, data, riNy.format);
                    break;
                case 'script':
                    riNy.data = document.createElement('script');
                    riNy.data.language = 'javascript';
                    riNy.data.type = 'text/javascript';
                    riNy.data.defer = false;
                    riNy.data.text = this.qaLv.zcLt;
                    document.head.appendChild(riNy.data);
                    if (riNy.uaGu) {
                        riNy.data = riNy.uaGu.call(riNy.riHrD, riNy.key, this.qaLv.zcLt);
                    }
                    break;
                case 'binary':
                    if (riNy.uaGu) {
                        riNy.data = riNy.uaGu.call(riNy.riHrD, riNy.key, this.qaLv.vcLy);
                    } else {
                        riNy.data = this.qaLv.vcLy;
                    }
                    this.rfOyC.rcIy.wiPu(riNy.key, riNy.data);
                    break;
            }
            if (vfKt) {
                this.veMq(index, true);
            }
        },
        rhMvD: function(index) {
            if (!this.wjKs[index]) {
                console.warn('Mygame.Loader jsonLoadComplete invalid index ' + index);
                return;
            }
            var riNy = this.wjKs[index];
            if (this.rdLs && this.rdLs.zcLt) {
                var data = JSON.parse(this.rdLs.zcLt);
            } else {
                var data = JSON.parse(this.qaLv.zcLt);
            }
            riNy.tjOx = true;
            if (riNy.type === 'tilemap') {
                this.rfOyC.rcIy.xgNx(riNy.key, riNy.url, data, riNy.format);
            } else if (riNy.type === 'json') {
                this.rfOyC.rcIy.teIv(riNy.key, riNy.url, data);
            } else {
                this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, data, riNy.format);
            }
            this.veMq(index, true);
        },
        riHvK: function(index) {
            if (!this.wjKs[index]) {
                console.warn('Mygame.Loader csvLoadComplete invalid index ' + index);
                return;
            }
            var riNy = this.wjKs[index];
            var data = this.qaLv.zcLt;
            riNy.tjOx = true;
            this.rfOyC.rcIy.xgNx(riNy.key, riNy.url, data, riNy.format);
            this.veMq(index, true);
        },
        rjOuD: function(index) {
            var riNy = this.wjKs[index];
            riNy.tjOx = true;
            riNy.error = true;
            console.warn("Mygame.Loader dataLoadError: " + riNy.key);
            this.veMq(index, true);
        },
        rhOxG: function(index) {
            if (this.qaLv.zcLu !== '' && this.qaLv.zcLu !== 'text') {
                console.warn('Invalid XML Response Type', this.wjKs[index]);
                console.warn(this.qaLv);
            }
            var data = this.qaLv.zcLt;
            var qaOz;
            try {
                if (window['DOMParser']) {
                    var wgLv = new wglv();
                    qaOz = wgLv.rhPtG(data, "text/xml");
                } else {
                    qaOz = new rjpuh("Microsoft.XMLDOM");
                    qaOz.async = 'false';
                    qaOz.uiOv(data);
                }
            } catch (e) {
                qaOz = undefined;
            }
            if (!qaOz || !qaOz.documentElement || qaOz.getElementsByTagName("parsererror").length) {
                throw new Error("rfjwh.rfkse. Invalid XML given");
            }
            var riNy = this.wjKs[index];
            riNy.tjOx = true;
            if (riNy.type === 'bitmapfont') {
                this.rfOyC.rcIy.rjPuF(riNy.key, riNy.url, riNy.data, qaOz, riNy.wjNz, riNy.wjMr);
            } else if (riNy.type === 'textureatlas') {
                this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, qaOz, riNy.format);
            } else if (riNy.type === 'xml') {
                this.rfOyC.rcIy.seNt(riNy.key, riNy.url, qaOz);
            }
            this.veMq(index, true);
        },
        veMq: function(rjLvK, ueOr) {
            this.rjLvH += this.rjIqH;
            this.rfJyB = Math.round(this.rjLvH);
            if (this.rfJyB > 100) {
                this.rfJyB = 100;
            }
            if (this.rjLuB !== null) {
                if (this.rjLuB.direction === 0) {
                    this.rjLuB.rect.width = Math.floor((this.rjLuB.width / 100) * this.rfJyB);
                } else {
                    this.rjLuB.rect.height = Math.floor((this.rjLuB.height / 100) * this.rfJyB);
                }
                this.rjLuB.rfIsB.yhOw();
            }
            this.riKuK.viLt(this.rfJyB, this.wjKs[rjLvK].key, ueOr, this.rhKqH(), this.wjKs.length);
            if (this.rhKqF() > 0) {
                this.xhLv++;
                this.vfKr();
            } else {
                this.wfGx = true;
                this.weGu = false;
                this.waOu();
                this.riKuG.viLt();
            }
        },
        rhKqH: function() {
            var sgJq = 0;
            for (var i = 0; i < this.wjKs.length; i++) {
                if (this.wjKs[i].tjOx) {
                    sgJq++;
                }
            }
            return sgJq;
        },
        rhKqF: function() {
            var sgJq = 0;
            for (var i = 0; i < this.wjKs.length; i++) {
                if (this.wjKs[i].tjOx === false) {
                    sgJq++;
                }
            }
            return sgJq;
        },
        rhKqG: function() {
            var sgJq = 0;
            for (var i = 0; i < this.wjIt.length; i++) {
                if (this.wjIt[i].tjOx) {
                    sgJq++;
                }
            }
            return sgJq;
        },
        rhKqE: function() {
            var sgJq = 0;
            for (var i = 0; i < this.wjIt.length; i++) {
                if (this.wjIt[i].tjOx === false) {
                    sgJq++;
                }
            }
            return sgJq;
        }
    };
    rfjwh.rfkse.prototype.constructor = rfjwh.rfkse;
    rfjwh.zejq = {
        xgIr: function(rfOyC, qaOz, uaGr, wjNz, wjMr) {
            var data = {};
            var info = qaOz.getElementsByTagName('info')[0];
            var sdHq = qaOz.getElementsByTagName('sdHq')[0];
            data.font = info.getAttribute('face');
            data.size = parseInt(info.getAttribute('size'), 10);
            data.lineHeight = parseInt(sdHq.getAttribute('lineHeight'), 10) + wjMr;
            data.rcHx = {};
            var ujGy = qaOz.getElementsByTagName('char');
            for (var i = 0; i < ujGy.length; i++) {
                var charCode = parseInt(ujGy[i].getAttribute('id'), 10);
                var zjJx = new RGGW.wbgy(parseInt(ujGy[i].getAttribute('x'), 10), parseInt(ujGy[i].getAttribute('y'), 10), parseInt(ujGy[i].getAttribute('width'), 10), parseInt(ujGy[i].getAttribute('height'), 10));
                data.rcHx[charCode] = {
                    ubPt: parseInt(ujGy[i].getAttribute('xoffset'), 10),
                    ubPz: parseInt(ujGy[i].getAttribute('yoffset'), 10),
                    wjNy: parseInt(ujGy[i].getAttribute('xadvance'), 10) + wjNz,
                    ujIx: {},
                    ueMt: RGGW.zblv[uaGr] = new RGGW.uemt(RGGW.rhnsa[uaGr], zjJx)
                };
            }
            var vfOs = qaOz.getElementsByTagName('kerning');
            for (i = 0; i < vfOs.length; i++) {
                var raPz = parseInt(vfOs[i].getAttribute('raPz'), 10);
                var thHq = parseInt(vfOs[i].getAttribute('second'), 10);
                var seMy = parseInt(vfOs[i].getAttribute('amount'), 10);
                data.rcHx[thHq].ujIx[raPz] = seMy;
            }
            RGGW.xgis.fonts[uaGr] = data;
        }
    };
    rfjwh.yfps = function(rfOyC, key) {
        this.rfOyC = rfOyC;
        this.key = key;
        this.sdHt = this.rfOyC.rcIy.taLy(key + '-audioatlas');
        this.yfPu = null;
        this.autoplay = false;
        this.tgMw = {};
        for (var k in this.sdHt.rfGwD) {
            var tjMz = this.sdHt.rfGwD[k];
            var rfHvH = this.rfOyC.add.rfHvH(this.key);
            if (tjMz.loop) {
                rfHvH.wiOq(k, tjMz.rfIsA, (tjMz.rfOxC - tjMz.rfIsA), null, true);
            } else {
                rfHvH.wiOq(k, tjMz.rfIsA, (tjMz.rfOxC - tjMz.rfIsA), null, false);
            }
            this.tgMw[k] = rfHvH;
        }
        if (this.sdHt.autoplay) {
            this.yfPu = this.sdHt.autoplay;
            this.play(this.yfPu);
            this.autoplay = this.tgMw[this.yfPu];
        }
    };
    rfjwh.yfps.prototype = {
        play: function(tjMz, volume) {
            if (typeof volume === 'undefined') {
                volume = 1;
            }
            return this.tgMw[tjMz].play(tjMz, null, volume);
        },
        stop: function(tjMz) {
            if (!tjMz) {
                for (var key in this.tgMw) {
                    this.tgMw[key].stop();
                }
            } else {
                this.tgMw[tjMz].stop();
            }
        },
        get: function(tjMz) {
            return this.tgMw[tjMz];
        }
    };
    rfjwh.yfps.prototype.constructor = rfjwh.yfps;
    rfjwh.rfhvh = function(rfOyC, key, volume, loop, connect) {
        if (typeof volume === 'undefined') {
            volume = 1;
        }
        if (typeof loop === 'undefined') {
            loop = false;
        }
        if (typeof connect === 'undefined') {
            connect = rfOyC.rfHvH.riHuG;
        }
        this.rfOyC = rfOyC;
        this.name = key;
        this.key = key;
        this.loop = loop;
        this.volume = volume;
        this.uiMu = {};
        this.tcLv = null;
        this.autoplay = false;
        this.rjKzH = 0;
        this.xjLu = 0;
        this.currentTime = 0;
        this.duration = 0;
        this.xeKs = 0;
        this.position = 0;
        this.vbIv = 0;
        this.paused = false;
        this.riKwD = 0;
        this.xaPr = 0;
        this.weGv = false;
        this.rjOtG = '';
        this.rhPtD = false;
        this.override = false;
        this.rjPvJ = false;
        this.rjJrA = this.rfOyC.rfHvH.rjJrA;
        this.rjJrB = this.rfOyC.rfHvH.rjJrB;
        this.zfOu = null;
        this.riKqK = null;
        this.vhJz = null;
        if (this.rjJrA) {
            this.tcLv = this.rfOyC.rfHvH.tcLv;
            this.riKqK = this.rfOyC.rfHvH.xbPy;
            if (typeof this.tcLv.createGain === 'undefined') {
                this.vhJz = this.tcLv.riMsA();
            } else {
                this.vhJz = this.tcLv.createGain();
            }
            this.vhJz.gain.value = volume * this.rfOyC.rfHvH.volume;
            if (connect) {
                this.vhJz.connect(this.riKqK);
            }
        } else {
            if (this.rfOyC.rcIy.vhGz(key) && this.rfOyC.rcIy.zeNv(key)) {
                this.sfGs = this.rfOyC.rcIy.zfJw(key);
                this.rjKzH = 0;
                if (this.sfGs.duration) {
                    this.rjKzH = this.sfGs.duration;
                }
            } else {
                this.rfOyC.rcIy.rjLqG.add(this.rhLyF, this);
            }
        }
        this.wcIs = new rfjwh.tgot();
        this.onPlay = new rfjwh.tgot();
        this.onPause = new rfjwh.tgot();
        this.veHq = new rfjwh.tgot();
        this.tiNu = new rfjwh.tgot();
        this.tiNy = new rfjwh.tgot();
        this.tiNv = new rfjwh.tgot();
        this.rhLrA = new rfjwh.tgot();
        this.riKtA = new rfjwh.tgot();
        this.teJr = volume;
        this.teOq = null;
        this.sfHv = false;
        this.ygLr = 0;
        this.rjPrE = 0;
        this.ygLt = 0;
        this.ygOu = 0;
        this.wjGt = 0;
        this.teMx = false;
        this.rgHxB = false;
    };
    rfjwh.rfhvh.prototype = {
        rhLyF: function(key) {
            if (key === this.key) {
                this.sfGs = this.rfOyC.rcIy.zfJw(this.key);
                this.rjKzH = this.sfGs.duration;
            }
        },
        wiOq: function(name, rfIsA, duration, volume, loop) {
            if (typeof volume === 'undefined') {
                volume = 1;
            }
            if (typeof loop === 'undefined') {
                loop = false;
            }
            this.uiMu[name] = {
                name: name,
                rfIsA: rfIsA,
                stop: rfIsA + duration,
                volume: volume,
                duration: duration,
                xeKs: duration * 1000,
                loop: loop
            };
        },
        zcNz: function(name) {
            delete this.uiMu[name];
        },
        update: function() {
            if (this.weHz && !this.rgHxB) {
                this.wcIs.viLt(this);
                this.rgHxB = true;
            }
            if (this.rhPtD && this.rfOyC.rcIy.zeNv(this.key)) {
                this.rhPtD = false;
                this.play(this.ygLr, this.rjPrE, this.ygLt, this.wjGt);
            }
            if (this.weGv) {
                this.currentTime = this.rfOyC.time.now - this.xjLu;
                if (this.currentTime >= this.xeKs) {
                    if (this.rjJrA) {
                        if (this.loop) {
                            this.tiNu.viLt(this);
                            if (this.rjOtG === '') {
                                this.currentTime = 0;
                                this.xjLu = this.rfOyC.time.now;
                            } else {
                                this.rhLrA.viLt(this.rjOtG, this);
                                this.play(this.rjOtG, 0, this.volume, true, true);
                            }
                        } else {
                            this.stop();
                        }
                    } else {
                        if (this.loop) {
                            this.tiNu.viLt(this);
                            this.play(this.rjOtG, 0, this.volume, true, true);
                        } else {
                            this.stop();
                        }
                    }
                }
            }
        },
        play: function(tjMz, position, volume, loop, zfNz) {
            if (typeof tjMz === 'undefined') {
                tjMz = '';
            }
            if (typeof zfNz === 'undefined') {
                zfNz = true;
            }
            if (this.weGv && !this.rjPvJ && !zfNz && !this.override) {
                return this;
            }
            if (this.weGv && !this.rjPvJ && (this.override || zfNz)) {
                if (this.rjJrA) {
                    if (typeof this.sfGs.stop === 'undefined') {
                        this.sfGs.uhPw(0);
                    } else {
                        this.sfGs.stop(0);
                    }
                } else if (this.rjJrB) {
                    this.sfGs.pause();
                    this.sfGs.currentTime = 0;
                }
            }
            this.rjOtG = tjMz;
            if (tjMz !== '') {
                if (this.uiMu[tjMz]) {
                    this.position = this.uiMu[tjMz].rfIsA;
                    this.volume = this.uiMu[tjMz].volume;
                    this.loop = this.uiMu[tjMz].loop;
                    this.duration = this.uiMu[tjMz].duration;
                    this.xeKs = this.uiMu[tjMz].xeKs;
                    if (typeof volume !== 'undefined') {
                        this.volume = volume;
                    }
                    if (typeof loop !== 'undefined') {
                        this.loop = loop;
                    }
                    this.ygLr = tjMz;
                    this.rjPrE = this.position;
                    this.ygLt = this.volume;
                    this.wjGt = this.loop;
                } else {
                    console.warn("Mygame.Sound.play: audio marker " + tjMz + " doesn't exist");
                    return this;
                }
            } else {
                position = position || 0;
                if (typeof volume === 'undefined') {
                    volume = this.teJr;
                }
                if (typeof loop === 'undefined') {
                    loop = this.loop;
                }
                this.position = position;
                this.volume = volume;
                this.loop = loop;
                this.duration = 0;
                this.xeKs = 0;
                this.ygLr = tjMz;
                this.rjPrE = position;
                this.ygLt = volume;
                this.wjGt = loop;
            }
            if (this.rjJrA) {
                if (this.rfOyC.rcIy.riLxG(this.key)) {
                    if (this.teOq === null) {
                        this.teOq = this.rfOyC.rcIy.zfJw(this.key);
                    }
                    this.sfGs = this.tcLv.createBufferSource();
                    this.sfGs.buffer = this.teOq;
                    if (this.zfOu) {
                        this.sfGs.connect(this.zfOu);
                    } else {
                        this.sfGs.connect(this.vhJz);
                    }
                    this.rjKzH = this.sfGs.buffer.duration;
                    if (this.duration === 0) {
                        this.duration = this.rjKzH;
                        this.xeKs = this.rjKzH * 1000;
                    }
                    if (this.loop && tjMz === '') {
                        this.sfGs.loop = true;
                    }
                    if (typeof this.sfGs.rfIsA === 'undefined') {
                        this.sfGs.ybPx(0, this.position, this.duration);
                    } else {
                        this.sfGs.rfIsA(0, this.position, this.duration);
                    }
                    this.weGv = true;
                    this.xjLu = this.rfOyC.time.now;
                    this.currentTime = 0;
                    this.vbIv = this.xjLu + this.xeKs;
                    this.onPlay.viLt(this);
                } else {
                    this.rhPtD = true;
                    if (this.rfOyC.rcIy.vhGz(this.key) && this.rfOyC.rcIy.vhGz(this.key).xcKv === false) {
                        this.rfOyC.rfHvH.scNr(this.key, this);
                    }
                }
            } else {
                if (this.sfGs && (this.rfOyC.scLr.vjMy || this.sfGs.readyState === 2)) {
                    console.log("getsound", this.key, this.rfOyC.rcIy.vhGz(this.key), this.sfGs);
                    this.sfGs.play();
                    this.rjKzH = this.sfGs.duration;
                    if (this.duration === 0) {
                        this.duration = this.rjKzH;
                        this.xeKs = this.rjKzH * 1000;
                    }
                    this.sfGs.currentTime = this.position;
                    this.sfGs.muted = this.sfHv;
                    if (this.sfHv) {
                        this.sfGs.volume = 0;
                    } else {
                        this.sfGs.volume = this.teJr;
                    }
                    this.weGv = true;
                    this.xjLu = this.rfOyC.time.now;
                    this.currentTime = 0;
                    this.vbIv = this.xjLu + this.xeKs;
                    this.onPlay.viLt(this);
                } else {
                    this.rhPtD = true;
                }
            }
            return this;
        },
        ugHr: function(tjMz, position, volume, loop) {
            tjMz = tjMz || '';
            position = position || 0;
            volume = volume || 1;
            if (typeof loop === 'undefined') {
                loop = false;
            }
            this.play(tjMz, position, volume, loop, true);
        },
        pause: function() {
            if (this.weGv && this.sfGs) {
                this.paused = true;
                this.riKwD = this.currentTime;
                this.xaPr = this.rfOyC.time.now;
                this.onPause.viLt(this);
                this.stop();
            }
        },
        rfHuF: function() {
            if (this.paused && this.sfGs) {
                if (this.rjJrA) {
                    var p = this.position + (this.riKwD / 1000);
                    this.sfGs = this.tcLv.createBufferSource();
                    this.sfGs.buffer = this.teOq;
                    if (this.zfOu) {
                        this.sfGs.connect(this.zfOu);
                    } else {
                        this.sfGs.connect(this.vhJz);
                    }
                    if (this.loop) {
                        this.sfGs.loop = true;
                    }
                    if (typeof this.sfGs.rfIsA === 'undefined') {
                        this.sfGs.ybPx(0, p, this.duration);
                    } else {
                        this.sfGs.rfIsA(0, p, this.duration);
                    }
                } else {
                    this.sfGs.play();
                }
                this.weGv = true;
                this.paused = false;
                this.xjLu += (this.rfOyC.time.now - this.xaPr);
                this.veHq.viLt(this);
            }
        },
        stop: function() {
            if (this.weGv && this.sfGs) {
                if (this.rjJrA) {
                    if (typeof this.sfGs.stop === 'undefined') {
                        this.sfGs.uhPw(0);
                    } else {
                        try {
                            this.sfGs.stop(0);
                        } catch (e) {}
                    }
                } else if (this.rjJrB) {
                    this.sfGs.pause();
                    this.sfGs.currentTime = 0;
                }
            }
            this.weGv = false;
            var xaMw = this.rjOtG;
            if (this.rjOtG !== '') {
                this.rhLrA.viLt(this.rjOtG, this);
            }
            this.rjOtG = '';
            if (!this.paused) {
                this.tiNy.viLt(this, xaMw);
            }
        },
        sbPq: function(duration, loop) {
            if (typeof loop === 'undefined') {
                loop = false;
            }
            if (this.paused) {
                return;
            }
            this.play('', 0, 0, loop);
            this.sbPr(duration, 1);
        },
        tbHs: function(duration) {
            this.sbPr(duration, 0);
        },
        sbPr: function(duration, volume) {
            if (!this.weGv || this.paused || volume === this.volume) {
                return;
            }
            if (typeof duration === 'undefined') {
                duration = 1000;
            }
            if (typeof volume === 'undefined') {
                console.warn("Mygame.Sound.fadeTo: No Volume Specified.");
                return;
            }
            var sgIs = this.rfOyC.add.sgIs(this).to({
                volume: volume
            }, duration, rfjwh.sckv.tjoq.rglx, true);
            sgIs.xbKu.add(this.zfOy, this);
        },
        zfOy: function() {
            this.riKtA.viLt(this, this.volume);
            if (this.volume === 0) {
                this.stop();
            }
        },
        tbPr: function(thMz) {
            if (typeof thMz === 'undefined') {
                thMz = true;
            }
            this.stop();
            if (thMz) {
                this.rfOyC.rfHvH.thMz(this);
            } else {
                this.uiMu = {};
                this.tcLv = null;
                this.teOq = null;
                this.zfOu = null;
                this.wcIs.tbOw();
                this.onPlay.tbOw();
                this.onPause.tbOw();
                this.veHq.tbOw();
                this.tiNu.tbOw();
                this.tiNy.tbOw();
                this.tiNv.tbOw();
                this.rhLrA.tbOw();
            }
        }
    };
    rfjwh.rfhvh.prototype.constructor = rfjwh.rfhvh;
    Object.defineProperty(rfjwh.rfhvh.prototype, "xcKv", {
        get: function() {
            return this.rfOyC.rcIy.vhGz(this.key).xcKv;
        }
    });
    Object.defineProperty(rfjwh.rfhvh.prototype, "weHz", {
        get: function() {
            return this.rfOyC.rcIy.riLxG(this.key);
        }
    });
    Object.defineProperty(rfjwh.rfhvh.prototype, "rgMr", {
        get: function() {
            return (this.sfHv || this.rfOyC.rfHvH.rgMr);
        },
        set: function(value) {
            value = value || null;
            if (value) {
                this.sfHv = true;
                if (this.rjJrA) {
                    this.ygOu = this.vhJz.gain.value;
                    this.vhJz.gain.value = 0;
                } else if (this.rjJrB && this.sfGs) {
                    this.ygOu = this.sfGs.volume;
                    this.sfGs.volume = 0;
                }
            } else {
                this.sfHv = false;
                if (this.rjJrA) {
                    this.vhJz.gain.value = this.ygOu;
                } else if (this.rjJrB && this.sfGs) {
                    this.sfGs.volume = this.ygOu;
                }
            }
            this.tiNv.viLt(this);
        }
    });
    Object.defineProperty(rfjwh.rfhvh.prototype, "volume", {
        get: function() {
            return this.teJr;
        },
        set: function(value) {
            if (this.rjJrA) {
                this.teJr = value;
                this.vhJz.gain.value = value;
            } else if (this.rjJrB && this.sfGs) {
                if (value >= 0 && value <= 1) {
                    this.teJr = value;
                    this.sfGs.volume = value;
                }
            }
        }
    });
    rfjwh.zbpy = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.rjLqH = new rfjwh.tgot();
        this.xhMt = false;
        this.sfHv = false;
        this.rjPrC = null;
        this.teJr = 1;
        this.teKs = [];
        this.tcLv = null;
        this.rjJrA = true;
        this.rjJrB = false;
        this.uiGx = false;
        this.riHuG = true;
        this.zjHw = false;
        this.vjNr = 32;
    };
    rfjwh.zbpy.prototype = {
        rjOw: function() {
            if (this.rfOyC.scLr.qdNr && this.rfOyC.scLr.wjOu === false) {
                this.vjNr = 1;
            }
            if (!this.rfOyC.scLr.vjMy && this.rfOyC.scLr.qdNr || (window['MygameGlobal'] && window['MygameGlobal'].rhNzA)) {
                this.rfOyC.input.sgJr.riHrD = this;
                this.rfOyC.input.sgJr.rgPyK = this.tfMz;
                this.rfOyC.input.sjGy.riHrD = this;
                this.rfOyC.input.sjGy.rhIsG = this.tfMz;
                this.zjHw = true;
            } else {
                this.zjHw = false;
            }
            if (window['MygameGlobal']) {
                if (window['MygameGlobal'].zgGr === true) {
                    this.rjJrA = false;
                    this.uiGx = true;
                    return;
                }
                if (window['MygameGlobal'].riHwA === true) {
                    this.rjJrA = false;
                    this.rjJrB = true;
                    this.uiGx = false;
                    return;
                }
            }
            if (!!window['AudioContext']) {
                try {
                    this.tcLv = new window['AudioContext']();
                } catch (error) {
                    this.tcLv = null;
                    this.rjJrA = false;
                    this.uiGx = true;
                }
            } else if (!!window['webkitAudioContext']) {
                try {
                    this.tcLv = new window['webkitAudioContext']();
                } catch (error) {
                    this.tcLv = null;
                    this.rjJrA = false;
                    this.uiGx = true;
                }
            }
            if (!!window['Audio'] && this.tcLv === null) {
                this.rjJrA = false;
                this.rjJrB = true;
                this.uiGx = false;
            }
            if (this.tcLv !== null) {
                if (typeof this.tcLv.createGain === 'undefined') {
                    this.xbPy = this.tcLv.riMsA();
                } else {
                    this.xbPy = this.tcLv.createGain();
                }
                this.xbPy.gain.value = 1;
                this.xbPy.connect(this.tcLv.destination);
            }
        },
        tfMz: function() {
            if (this.zjHw === false) {
                return;
            }
            if (this.rfOyC.scLr.wjOu === false || (window['MygameGlobal'] && window['MygameGlobal'].riHwA === true)) {
                this.zjHw = false;
                this.rjPrC = null;
                this.rfOyC.input.sgJr.riHrD = null;
                this.rfOyC.input.sgJr.rgPyK = null;
                this.rfOyC.input.sjGy.riHrD = null;
                this.rfOyC.input.sjGy.rhIsG = null;
            } else {
                var buffer = this.tcLv.createBuffer(1, 1, 22050);
                this.rjPrC = this.tcLv.createBufferSource();
                this.rjPrC.buffer = buffer;
                this.rjPrC.connect(this.tcLv.destination);
                if (this.rjPrC.tiPs) {
                    this.rjPrC.tiPs(0);
                }
            }
        },
        uePq: function() {
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i]) {
                    this.teKs[i].stop();
                }
            }
        },
        vdOx: function() {
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i]) {
                    this.teKs[i].pause();
                }
            }
        },
        waMr: function() {
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i]) {
                    this.teKs[i].rfHuF();
                }
            }
        },
        scNr: function(key, rfHvH) {
            rfHvH = rfHvH || null;
            var xjNt = this.rfOyC.rcIy.zfJw(key);
            if (xjNt) {
                if (this.rfOyC.rcIy.riLxG(key) === false) {
                    this.rfOyC.rcIy.ziNq(key, 'xcKv', true);
                    var reLr = this;
                    this.tcLv.decodeAudioData(xjNt, function(buffer) {
                        reLr.rfOyC.rcIy.zgIw(key, buffer);
                        if (rfHvH) {
                            reLr.rjLqH.viLt(key, rfHvH);
                        }
                    });
                }
            }
        },
        update: function() {
            if (this.zjHw) {
                if (this.rfOyC.scLr.wjOu && this.rjPrC !== null) {
                    if ((this.rjPrC.rjLtG === this.rjPrC.RJLTF || this.rjPrC.rjLtG === this.rjPrC.RIMXB)) {
                        this.zjHw = false;
                        this.rjPrC = null;
                        this.rfOyC.input.sgJr.riHrD = null;
                        this.rfOyC.input.sgJr.rgPyK = null;
                    }
                }
            }
            for (var i = 0; i < this.teKs.length; i++) {
                this.teKs[i].update();
            }
        },
        add: function(key, volume, loop, connect) {
            if (typeof volume === 'undefined') {
                volume = 1;
            }
            if (typeof loop === 'undefined') {
                loop = false;
            }
            if (typeof connect === 'undefined') {
                connect = this.riHuG;
            }
            var rfHvH = new rfjwh.rfhvh(this.rfOyC, key, volume, loop, connect);
            this.teKs.push(rfHvH);
            return rfHvH;
        },
        wiOt: function(key) {
            var yfPs = new rfjwh.yfps(this.rfOyC, key);
            return yfPs;
        },
        thMz: function(rfHvH) {
            var i = this.teKs.length;
            while (i--) {
                if (this.teKs[i] === rfHvH) {
                    this.teKs[i].tbPr(false);
                    this.teKs.splice(i, 1);
                    return true;
                }
            }
            return false;
        },
        yaNx: function(key) {
            var i = this.teKs.length;
            var ugJy = 0;
            while (i--) {
                if (this.teKs[i].key === key) {
                    this.teKs[i].tbPr(false);
                    this.teKs.splice(i, 1);
                    ugJy++;
                }
            }
            return ugJy;
        },
        play: function(key, volume, loop) {
            var rfHvH = this.add(key, volume, loop);
            rfHvH.play();
            return rfHvH;
        },
        ufMt: function() {
            if (this.sfHv) {
                return;
            }
            this.sfHv = true;
            if (this.rjJrA) {
                this.ygOu = this.xbPy.gain.value;
                this.xbPy.gain.value = 0;
            }
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i].rjJrB) {
                    this.teKs[i].rgMr = true;
                }
            }
        },
        xiKw: function() {
            if (!this.sfHv || this.xhMt) {
                return;
            }
            this.sfHv = false;
            if (this.rjJrA) {
                this.xbPy.gain.value = this.ygOu;
            }
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i].rjJrB) {
                    this.teKs[i].rgMr = false;
                }
            }
        },
        tbPr: function() {
            this.uePq();
            for (var i = 0; i < this.teKs.length; i++) {
                if (this.teKs[i]) {
                    this.teKs[i].tbPr();
                }
            }
            this.teKs = [];
            this.rjLqH.tbOw();
        }
    };
    rfjwh.zbpy.prototype.constructor = rfjwh.zbpy;
    Object.defineProperty(rfjwh.zbpy.prototype, "rgMr", {
        get: function() {
            return this.sfHv;
        },
        set: function(value) {
            value = value || null;
            if (value) {
                if (this.sfHv) {
                    return;
                }
                this.xhMt = true;
                this.ufMt();
            } else {
                if (!this.sfHv) {
                    return;
                }
                this.xhMt = false;
                this.xiKw();
            }
        }
    });
    Object.defineProperty(rfjwh.zbpy.prototype, "volume", {
        get: function() {
            if (this.rjJrA) {
                return this.xbPy.gain.value;
            } else {
                return this.teJr;
            }
        },
        set: function(value) {
            this.teJr = value;
            if (this.rjJrA) {
                this.xbPy.gain.value = value;
            } else {
                for (var i = 0; i < this.teKs.length; i++) {
                    if (this.teKs[i].rjJrB) {
                        this.teKs[i].volume = this.teKs[i].volume * value;
                    }
                }
            }
        }
    });
    rfjwh.sggx.rbny = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.rfIsB = null;
        this.qfJx = null;
        this.canvas = null;
        this.tcLv = null;
        this.font = '14px Courier';
        this.columnWidth = 100;
        this.lineHeight = 16;
        this.zcMv = true;
        this.vjGq = 0;
        this.vjGr = 0;
        this.zgKx = 1;
        this.rbLu = false;
    };
    rfjwh.sggx.rbny.prototype = {
        rjOw: function() {
            if (this.rfOyC.xaHv === rfjwh.CANVAS) {
                this.tcLv = this.rfOyC.tcLv;
            } else {
                this.qfJx = this.rfOyC.rhHy.xgIq(this.rfOyC.width, this.rfOyC.height);
                this.rfIsB = this.rfOyC.rhHy.image(0, 0, this.qfJx);
                this.rfOyC.shGv.ubHt(this.rfIsB);
                this.canvas = rfjwh.Canvas.create(this.rfOyC.width, this.rfOyC.height, '', true);
                this.tcLv = this.canvas.getContext('2d');
            }
        },
        wbJt: function() {
            if (this.rbLu && this.rfIsB) {
                this.qfJx.clear();
                this.qfJx.rjHz(this.canvas, 0, 0);
                this.tcLv.clearRect(0, 0, this.rfOyC.width, this.rfOyC.height);
                this.rbLu = false;
            }
        },
        reset: function() {
            if (this.tcLv) {
                this.tcLv.clearRect(0, 0, this.rfOyC.width, this.rfOyC.height);
            }
            if (this.rfIsB) {
                this.qfJx.clear();
            }
        },
        rfIsA: function(x, y, color, columnWidth) {
            if (typeof x !== 'number') {
                x = 0;
            }
            if (typeof y !== 'number') {
                y = 0;
            }
            color = color || 'rgb(255,255,255)';
            if (typeof columnWidth === 'undefined') {
                columnWidth = 0;
            }
            this.vjGq = x;
            this.vjGr = y;
            this.zgKy = color;
            this.zgKx = this.tcLv.globalAlpha;
            this.columnWidth = columnWidth;
            this.rbLu = true;
            this.tcLv.save();
            this.tcLv.setTransform(1, 0, 0, 1, 0, 0);
            this.tcLv.strokeStyle = color;
            this.tcLv.fillStyle = color;
            this.tcLv.font = this.font;
            this.tcLv.globalAlpha = 1;
        },
        stop: function() {
            this.tcLv.restore();
            this.tcLv.globalAlpha = this.zgKx;
        },
        rhJz: function() {
            var x = this.vjGq;
            for (var i = 0; i < arguments.length; i++) {
                if (this.zcMv) {
                    this.tcLv.fillStyle = 'rgb(0,0,0)';
                    this.tcLv.fillText(arguments[i], x + 1, this.vjGr + 1);
                    this.tcLv.fillStyle = this.zgKy;
                }
                this.tcLv.fillText(arguments[i], x, this.vjGr);
                x += this.columnWidth;
            }
            this.vjGr += this.lineHeight;
        },
        xjNu: function(rfHvH, x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('rfhvh: ' + rfHvH.key + ' Locked: ' + rfHvH.rfOyC.rfHvH.zjHw);
            this.rhJz('Is Ready?: ' + this.rfOyC.rcIy.zeNv(rfHvH.key) + ' Pending Playback: ' + rfHvH.rhPtD);
            this.rhJz('Decoded: ' + rfHvH.weHz + ' Decoding: ' + rfHvH.xcKv);
            this.rhJz('sgjq Duration: ' + rfHvH.rjKzH + ' Playing: ' + rfHvH.weGv);
            this.rhJz('Time: ' + rfHvH.currentTime);
            this.rhJz('Volume: ' + rfHvH.volume + ' Muted: ' + rfHvH.rgMr);
            this.rhJz('WebAudio: ' + rfHvH.rjJrA + ' Audio: ' + rfHvH.rjJrB);
            if (rfHvH.rjOtG !== '') {
                this.rhJz('Marker: ' + rfHvH.rjOtG + ' Duration: ' + rfHvH.duration + ' (qiIy: ' + rfHvH.xeKs + ')');
                this.rhJz('rfisa: ' + rfHvH.uiMu[rfHvH.rjOtG].rfIsA + ' Stop: ' + rfHvH.uiMu[rfHvH.rjOtG].stop);
                this.rhJz('Position: ' + rfHvH.position);
            }
            this.stop();
        },
        xfPt: function(sdNw, x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('Camera (' + sdNw.width + ' x ' + sdNw.height + ')');
            this.rhJz('X: ' + sdNw.x + ' Y: ' + sdNw.y);
            if (sdNw.sdPv) {
                this.rhJz('Bounds x: ' + sdNw.sdPv.x + ' Y: ' + sdNw.sdPv.y + ' w: ' + sdNw.sdPv.width + ' h: ' + sdNw.sdPv.height);
            }
            this.rhJz('View x: ' + sdNw.view.x + ' Y: ' + sdNw.view.y + ' w: ' + sdNw.view.width + ' h: ' + sdNw.view.height);
            this.stop();
        },
        rfItA: function(rfItA, x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('rfita (running: ' + rfItA.ufPv + ' expired: ' + rfItA.tbJx + ')');
            this.rhJz('rfkvc Tick: ' + rfItA.rfKvC + ' Duration: ' + rfItA.duration);
            this.rhJz('Paused: ' + rfItA.paused + ' Length: ' + rfItA.length);
            this.stop();
        },
        uhHt: function(uhHt, vgNz, wgLy, ueHw, color) {
            if (uhHt == null) {
                return;
            }
            if (typeof vgNz === 'undefined') {
                vgNz = false;
            }
            wgLy = wgLy || 'rgba(0,255,0,0.5)';
            ueHw = ueHw || 'rgba(255,0,0,0.5)';
            if (vgNz === true && uhHt.rhMs === true) {
                return;
            }
            this.rfIsA(uhHt.x, uhHt.y - 100, color);
            this.tcLv.beginPath();
            this.tcLv.arc(uhHt.x, uhHt.y, uhHt.sdKu.thOs, 0, Math.PI * 2);
            if (uhHt.seOx) {
                this.tcLv.fillStyle = wgLy;
            } else {
                this.tcLv.fillStyle = ueHw;
            }
            this.tcLv.fill();
            this.tcLv.closePath();
            this.tcLv.beginPath();
            this.tcLv.moveTo(uhHt.zdGv.x, uhHt.zdGv.y);
            this.tcLv.lineTo(uhHt.position.x, uhHt.position.y);
            this.tcLv.lineWidth = 2;
            this.tcLv.stroke();
            this.tcLv.closePath();
            this.rhJz('ID: ' + uhHt.id + " seox: " + uhHt.seOx);
            this.rhJz('World X: ' + uhHt.tfHu + " World Y: " + uhHt.tfHv);
            this.rhJz('Screen X: ' + uhHt.x + " Screen Y: " + uhHt.y);
            this.rhJz('Duration: ' + uhHt.duration + " qiIy");
            this.rhJz('is rfhwc: ' + uhHt.saLy + " is Up: " + uhHt.rhMs);
            this.stop();
        },
        rhOrJ: function(rfIsB, x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('rfisb Input: (' + rfIsB.width + ' x ' + rfIsB.height + ')');
            this.rhJz('x: ' + rfIsB.input.vdMy().toFixed(1) + ' y: ' + rfIsB.input.vdMz().toFixed(1));
            this.rhJz('over: ' + rfIsB.input.ybIx() + ' duration: ' + rfIsB.input.zdIq().toFixed(0));
            this.rhJz('rfHwC: ' + rfIsB.input.ybIu() + ' duration: ' + rfIsB.input.zgGz().toFixed(0));
            this.rhJz('just over: ' + rfIsB.input.vfOr() + ' just out: ' + rfIsB.input.ujIv());
            this.stop();
        },
        key: function(key, x, y, color) {
            this.rfIsA(x, y, color, 150);
            this.rhJz('Key:', key.keyCode, 'isDown:', key.saLy);
            this.rhJz('justPressed:', key.ycNu(), 'justReleased:', key.zeMq());
            this.rhJz('Time rfhwc:', key.vaNu.toFixed(0), 'duration:', key.duration.toFixed(0));
            this.stop();
        },
        weJu: function(x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('Input');
            this.rhJz('X: ' + this.rfOyC.input.x + ' Y: ' + this.rfOyC.input.y);
            this.rhJz('World X: ' + this.rfOyC.input.tfHu + ' World Y: ' + this.rfOyC.input.tfHv);
            this.rhJz('Scale X: ' + this.rfOyC.input.scale.x.toFixed(1) + ' Scale Y: ' + this.rfOyC.input.scale.x.toFixed(1));
            this.rhJz('Screen X: ' + this.rfOyC.input.rjPuK.screenX + ' Screen Y: ' + this.rfOyC.input.rjPuK.screenY);
            this.stop();
        },
        zbOv: function(rfIsB, color, sbNv) {
            var sdPv = rfIsB.wfJx();
            sdPv.x += this.rfOyC.sdNw.x;
            sdPv.y += this.rfOyC.sdNw.y;
            this.wbGy(sdPv, color, sbNv);
        },
        zcKr: function(rfLw, color, sbNv) {
            var vcGy = rfLw.vcGy;
            vcGy.forEach(function(ufNw) {
                this.wbGy(ufNw, color, sbNv);
            }, this);
        },
        yjGw: function(rfIsB, x, y, color) {
            this.rfIsA(x, y, color);
            this.rhJz('rfisb: ' + ' (' + rfIsB.width + ' x ' + rfIsB.height + ') anchor: ' + rfIsB.anchor.x + ' x ' + rfIsB.anchor.y);
            this.rhJz('x: ' + rfIsB.x.toFixed(1) + ' y: ' + rfIsB.y.toFixed(1));
            this.rhJz('rcOr: ' + rfIsB.rcOr.toFixed(1) + ' rfIqD: ' + rfIsB.rfIqD.toFixed(1));
            this.rhJz('rfIxE: ' + rfIsB.rfIxE + ' in camera: ' + rfIsB.vgLx);
            this.stop();
        },
        zbOw: function(rfIsB, x, y, color) {
            this.rfIsA(x, y, color, 100);
            if (rfIsB.name) {
                this.rhJz(rfIsB.name);
            }
            this.rhJz('x:', rfIsB.x.toFixed(2), 'y:', rfIsB.y.toFixed(2));
            this.rhJz('pos x:', rfIsB.position.x.toFixed(2), 'pos y:', rfIsB.position.y.toFixed(2));
            this.rhJz('world x:', rfIsB.world.x.toFixed(2), 'world y:', rfIsB.world.y.toFixed(2));
            this.stop();
        },
        vfLx: function(rhJz, x, y, color) {
            this.rfIsA(x, y, color, 80);
            this.rhJz('rfIsA.x:', rhJz.rfIsA.x.toFixed(2), 'rfIsA.y:', rhJz.rfIsA.y.toFixed(2));
            this.rhJz('rfOxC.x:', rhJz.rfOxC.x.toFixed(2), 'rfOxC.y:', rhJz.rfOxC.y.toFixed(2));
            this.rhJz('length:', rhJz.length.toFixed(2), 'rcOr:', rhJz.rcOr);
            this.stop();
        },
        siIt: function(x, y, color, size) {
            size = size || 2;
            this.rfIsA();
            this.tcLv.fillStyle = color;
            this.tcLv.fillRect(x, y, size, size);
            this.stop();
        },
        riKy: function(object, color, sbNv, wfMr) {
            if (typeof sbNv === 'undefined') {
                sbNv = true;
            }
            if (typeof wfMr === 'undefined') {
                wfMr = 0;
            }
            color = color || 'rgba(0,255,0,0.4)';
            this.rfIsA();
            this.tcLv.fillStyle = color;
            this.tcLv.strokeStyle = color;
            if (object instanceof rfjwh.wbgy || wfMr === 1) {
                if (sbNv) {
                    this.tcLv.fillRect(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, object.width, object.height);
                } else {
                    this.tcLv.strokeRect(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, object.width, object.height);
                }
            } else if (object instanceof rfjwh.sdku || wfMr === 2) {
                this.tcLv.beginPath();
                this.tcLv.arc(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, object.thOs, 0, Math.PI * 2, false);
                this.tcLv.closePath();
                if (sbNv) {
                    this.tcLv.fill();
                } else {
                    this.tcLv.stroke();
                }
            } else if (object instanceof rfjwh.Point || wfMr === 3) {
                this.tcLv.fillRect(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, 4, 4);
            } else if (object instanceof rfjwh.rhjz || wfMr === 4) {
                this.tcLv.lineWidth = 1;
                this.tcLv.beginPath();
                this.tcLv.moveTo((object.rfIsA.x + 0.5) - this.rfOyC.sdNw.x, (object.rfIsA.y + 0.5) - this.rfOyC.sdNw.y);
                this.tcLv.lineTo((object.rfOxC.x + 0.5) - this.rfOyC.sdNw.x, (object.rfOxC.y + 0.5) - this.rfOyC.sdNw.y);
                this.tcLv.closePath();
                this.tcLv.stroke();
            }
            this.stop();
        },
        wbGy: function(object, color, sbNv) {
            if (typeof sbNv === 'undefined') {
                sbNv = true;
            }
            color = color || 'rgba(0, 255, 0, 0.4)';
            this.rfIsA();
            if (sbNv) {
                this.tcLv.fillStyle = color;
                this.tcLv.fillRect(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, object.width, object.height);
            } else {
                this.tcLv.strokeStyle = color;
                this.tcLv.strokeRect(object.x - this.rfOyC.sdNw.x, object.y - this.rfOyC.sdNw.y, object.width, object.height);
            }
            this.stop();
        },
        text: function(text, x, y, color, font) {
            color = color || 'rgb(255,255,255)';
            font = font || '16px Courier';
            this.rfIsA();
            this.tcLv.font = font;
            if (this.zcMv) {
                this.tcLv.fillStyle = 'rgb(0,0,0)';
                this.tcLv.fillText(text, x + 1, y + 1);
            }
            this.tcLv.fillStyle = color;
            this.tcLv.fillText(text, x, y);
            this.stop();
        },
        vdHw: function(vdHw, color) {
            color = color || 'rgba(255,0,0,0.3)';
            this.rfIsA();
            var sdPv = vdHw.sdPv;
            if (vdHw.siNs.length === 0) {
                this.tcLv.strokeStyle = color;
                this.tcLv.strokeRect(sdPv.x, sdPv.y, sdPv.width, sdPv.height);
                this.text('size: ' + vdHw.reOzG.length, sdPv.x + 4, sdPv.y + 16, 'rgb(0,200,0)', '12px Courier');
                this.tcLv.strokeStyle = 'rgb(0,255,0)';
                for (var i = 0; i < vdHw.reOzG.length; i++) {
                    this.tcLv.strokeRect(vdHw.reOzG[i].x, vdHw.reOzG[i].y, vdHw.reOzG[i].width, vdHw.reOzG[i].height);
                }
            } else {
                for (var i = 0; i < vdHw.siNs.length; i++) {
                    this.vdHw(vdHw.siNs[i]);
                }
            }
            this.stop();
        },
        body: function(rfIsB, color, sbNv) {
            if (rfIsB.body) {
                this.rfIsA();
                if (rfIsB.body.type === rfjwh.reosh.ARCADE) {
                    rfjwh.reosh.Arcade.Body.render(this.tcLv, rfIsB.body, color, sbNv);
                } else if (rfIsB.body.type === rfjwh.reosh.SINQ) {
                    rfjwh.reosh.sinq.Body.render(this.tcLv, rfIsB.body, color, sbNv);
                } else if (rfIsB.body.type === rfjwh.reosh.RCJW) {
                    rfjwh.reosh.rcjw.xaHr(this.tcLv, rfIsB.body, color);
                }
                this.stop();
            }
        },
        uaJu: function(rfIsB, x, y, color) {
            if (rfIsB.body) {
                this.rfIsA(x, y, color, 210);
                if (rfIsB.body.type === rfjwh.reosh.ARCADE) {
                    rfjwh.reosh.Arcade.Body.riJqJ(this, rfIsB.body);
                } else if (rfIsB.body.type === rfjwh.reosh.RCJW) {
                    this.rfOyC.reOsH.rcJw.riJqJ(this, rfIsB.body);
                }
                this.stop();
            }
        },
        xgHx: function() {
            this.rfIsA();
            this.tcLv.translate(-this.rfOyC.sdNw.view.x, -this.rfOyC.sdNw.view.y, 0);
            this.rfOyC.reOsH.rcJw.rhPxC(this.tcLv);
            this.stop();
        },
        wiGz: function(body, color) {
            this.rfIsA();
            rfjwh.reosh.rcjw.xaHr(this.tcLv, body, color);
            this.stop();
        }
    };
    rfjwh.sggx.rbny.prototype.constructor = rfjwh.sggx.rbny;
    rfjwh.Color = {
        wbOr: function(r, g, b, a) {
            if (rfjwh.sclr.RJMTK) {
                return ((a << 24) | (b << 16) | (g << 8) | r) >>> 0;
            } else {
                return ((r << 24) | (g << 16) | (b << 8) | a) >>> 0;
            }
        },
        ziOr: function(rfMv, qcNz, qdPu, qdPv) {
            if (typeof qcNz === 'undefined' || qcNz === null) {
                qcNz = rfjwh.Color.yfGu();
            }
            if (typeof qdPu === 'undefined' || qdPu === null) {
                qdPu = false;
            }
            if (typeof qdPv === 'undefined' || qdPv === null) {
                qdPv = false;
            }
            if (rfjwh.sclr.RJMTK) {
                qcNz.a = ((rfMv & 0xff000000) >>> 24);
                qcNz.b = ((rfMv & 0x00ff0000) >>> 16);
                qcNz.g = ((rfMv & 0x0000ff00) >>> 8);
                qcNz.r = ((rfMv & 0x000000ff));
            } else {
                qcNz.r = ((rfMv & 0xff000000) >>> 24);
                qcNz.g = ((rfMv & 0x00ff0000) >>> 16);
                qcNz.b = ((rfMv & 0x0000ff00) >>> 8);
                qcNz.a = ((rfMv & 0x000000ff));
            }
            qcNz.color = rfMv;
            qcNz.rfMv = 'rgba(' + qcNz.r + ',' + qcNz.g + ',' + qcNz.b + ',' + (qcNz.a / 255) + ')';
            if (qdPu) {
                rfjwh.Color.vcjr(qcNz.r, qcNz.g, qcNz.b, qcNz);
            }
            if (qdPv) {
                rfjwh.Color.vcjs(qcNz.r, qcNz.g, qcNz.b, qcNz);
            }
            return qcNz;
        },
        vhJr: function(rfMv, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu();
            }
            qcNz.r = ((rfMv & 0xff000000) >>> 24);
            qcNz.g = ((rfMv & 0x00ff0000) >>> 16);
            qcNz.b = ((rfMv & 0x0000ff00) >>> 8);
            qcNz.a = ((rfMv & 0x000000ff));
            qcNz.rfMv = 'rgba(' + qcNz.r + ',' + qcNz.g + ',' + qcNz.b + ',' + qcNz.a + ')';
            return qcNz;
        },
        tfOx: function(r, g, b, a) {
            return (r << 24) | (g << 16) | (b << 8) | a;
        },
        vcjr: function(r, g, b, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu(r, g, b, 1);
            }
            r /= 255;
            g /= 255;
            b /= 255;
            var min = Math.min(r, g, b);
            var max = Math.max(r, g, b);
            qcNz.h = 0;
            qcNz.s = 0;
            qcNz.l = (max + min) / 2;
            if (max !== min) {
                var d = max - min;
                qcNz.s = qcNz.l > 0.5 ? d / (2 - max - min) : d / (max + min);
                if (max === r) {
                    qcNz.h = (g - b) / d + (g < b ? 6 : 0);
                } else if (max === g) {
                    qcNz.h = (b - r) / d + 2;
                } else if (max === b) {
                    qcNz.h = (r - g) / d + 4;
                }
                qcNz.h /= 6;
            }
            return qcNz;
        },
        vgmw: function(h, s, l, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu(l, l, l);
            } else {
                qcNz.r = l;
                qcNz.g = l;
                qcNz.b = l;
            }
            if (s !== 0) {
                var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                var p = 2 * l - q;
                qcNz.r = rfjwh.Color.xcOt(p, q, h + 1 / 3);
                qcNz.g = rfjwh.Color.xcOt(p, q, h);
                qcNz.b = rfjwh.Color.xcOt(p, q, h - 1 / 3);
            }
            qcNz.r = Math.floor((qcNz.r * 255 | 0));
            qcNz.g = Math.floor((qcNz.g * 255 | 0));
            qcNz.b = Math.floor((qcNz.b * 255 | 0));
            rfjwh.Color.ziOw(qcNz);
            return qcNz;
        },
        vcjs: function(r, g, b, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu(r, g, b, 255);
            }
            r /= 255;
            g /= 255;
            b /= 255;
            var min = Math.min(r, g, b);
            var max = Math.max(r, g, b);
            var d = max - min;
            qcNz.h = 0;
            qcNz.s = max === 0 ? 0 : d / max;
            qcNz.v = max;
            if (max !== min) {
                if (max === r) {
                    qcNz.h = (g - b) / d + (g < b ? 6 : 0);
                } else if (max === g) {
                    qcNz.h = (b - r) / d + 2;
                } else if (max === b) {
                    qcNz.h = (r - g) / d + 4;
                }
                qcNz.h /= 6;
            }
            return qcNz;
        },
        vgmx: function(h, s, v, qcNz) {
            if (typeof qcNz === 'undefined') {
                qcNz = rfjwh.Color.yfGu(0, 0, 0, 1, h, s, 0, v);
            }
            var r, g, b;
            var i = Math.floor(h * 6);
            var f = h * 6 - i;
            var p = v * (1 - s);
            var q = v * (1 - f * s);
            var t = v * (1 - (1 - f) * s);
            switch (i % 6) {
                case 0:
                    r = v;
                    g = t;
                    b = p;
                    break;
                case 1:
                    r = q;
                    g = v;
                    b = p;
                    break;
                case 2:
                    r = p;
                    g = v;
                    b = t;
                    break;
                case 3:
                    r = p;
                    g = q;
                    b = v;
                    break;
                case 4:
                    r = t;
                    g = p;
                    b = v;
                    break;
                case 5:
                    r = v;
                    g = p;
                    b = q;
                    break;
            }
            qcNz.r = Math.floor(r * 255);
            qcNz.g = Math.floor(g * 255);
            qcNz.b = Math.floor(b * 255);
            rfjwh.Color.ziOw(qcNz);
            return qcNz;
        },
        xcOt: function(p, q, t) {
            if (t < 0) {
                t += 1;
            }
            if (t > 1) {
                t -= 1;
            }
            if (t < 1 / 6) {
                return p + (q - p) * 6 * t;
            }
            if (t < 1 / 2) {
                return q;
            }
            if (t < 2 / 3) {
                return p + (q - p) * (2 / 3 - t) * 6;
            }
            return p;
        },
        yfGu: function(r, g, b, a, h, s, l, v) {
            var qcNz = {
                r: r || 0,
                g: g || 0,
                b: b || 0,
                a: a || 1,
                h: h || 0,
                s: s || 0,
                l: l || 0,
                v: v || 0,
                color: 0,
                tcOz: 0,
                rfMv: ''
            };
            qcNz.color = rfjwh.Color.vhHv(qcNz.r, qcNz.g, qcNz.b);
            qcNz.tcOz = rfjwh.Color.xdJt(qcNz.a, qcNz.r, qcNz.g, qcNz.b);
            return rfjwh.Color.ziOw(qcNz);
        },
        ziOw: function(qcNz) {
            qcNz.rfMv = 'rgba(' + qcNz.r.toString() + ',' + qcNz.g.toString() + ',' + qcNz.b.toString() + ',' + qcNz.a.toString() + ')';
            return qcNz;
        },
        xdJt: function(a, r, g, b) {
            return a << 24 | r << 16 | g << 8 | b;
        },
        vhHv: function(r, g, b) {
            return r << 16 | g << 8 | b;
        },
        yaks: function(r, g, b, a, tiGv) {
            if (typeof a === 'undefined') {
                a = 255;
            }
            if (typeof tiGv === 'undefined') {
                tiGv = '#';
            }
            if (tiGv === '#') {
                return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
            } else {
                return '0x' + rfjwh.Color.riMrB(a) + rfjwh.Color.riMrB(r) + rfjwh.Color.riMrB(g) + rfjwh.Color.riMrB(b);
            }
        },
        vgNx: function(qeGy) {
            var qcIx = rfjwh.Color.xcPu(qeGy);
            if (qcIx) {
                return rfjwh.Color.xdJt(qcIx.a, qcIx.r, qcIx.g, qcIx.b);
            }
        },
        xcPu: function(qeGy, qcNz) {
            qeGy = qeGy.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(m, r, g, b) {
                return r + r + g + g + b + b;
            });
            var thLx = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(qeGy);
            if (thLx) {
                var r = parseInt(thLx[1], 16);
                var g = parseInt(thLx[2], 16);
                var b = parseInt(thLx[3], 16);
                if (!qcNz) {
                    qcNz = rfjwh.Color.yfGu(r, g, b);
                } else {
                    qcNz.r = r;
                    qcNz.g = g;
                    qcNz.b = b;
                }
            }
            return qcNz;
        },
        yhLu: function(qbGx, qcNz) {
            if (!qcNz) {
                qcNz = rfjwh.Color.yfGu();
            }
            var thLx = /^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(qbGx);
            if (thLx) {
                qcNz.r = parseInt(thLx[1], 10);
                qcNz.g = parseInt(thLx[2], 10);
                qcNz.b = parseInt(thLx[3], 10);
            }
            return qcNz;
        },
        riMrB: function(color) {
            var qeGy = color.toString(16);
            return qeGy.length == 1 ? "0" + qeGy : qeGy;
        },
        rjnxf: function(s, v) {
            if (typeof s === 'undefined') {
                s = 1.0;
            }
            if (typeof v === 'undefined') {
                v = 1.0;
            }
            var sdIw = [];
            for (var c = 0; c <= 359; c++) {
                sdIw.push(rfjwh.Color.vgmx(c / 359, s, v));
            }
            return sdIw;
        },
        rjnxg: function(s, l) {
            if (typeof s === 'undefined') {
                s = 0.5;
            }
            if (typeof l === 'undefined') {
                l = 0.5;
            }
            var sdIw = [];
            for (var c = 0; c <= 359; c++) {
                sdIw.push(rfjwh.Color.vgmw(c / 359, s, l));
            }
            return sdIw;
        },
        rhMuC: function(sdIu, sdIv, sgPs, yePu, alpha) {
            if (typeof alpha === "undefined") {
                alpha = 255;
            }
            var reOs = rfjwh.Color.sbIt(sdIu);
            var reOt = rfjwh.Color.sbIt(sdIv);
            var r = (((reOt.rfJzH - reOs.rfJzH) * yePu) / sgPs) + reOs.rfJzH;
            var g = (((reOt.rfNrE - reOs.rfNrE) * yePu) / sgPs) + reOs.rfNrE;
            var b = (((reOt.blue - reOs.blue) * yePu) / sgPs) + reOs.blue;
            return rfjwh.Color.xdJt(alpha, r, g, b);
        },
        rgIyF: function(color, r, g, b, sgPs, yePu) {
            var src = rfjwh.Color.sbIt(color);
            var qhPv = (((r - src.rfJzH) * yePu) / sgPs) + src.rfJzH;
            var qiGz = (((g - src.rfNrE) * yePu) / sgPs) + src.rfNrE;
            var qiGy = (((b - src.blue) * yePu) / sgPs) + src.blue;
            return rfjwh.Color.vhHv(qhPv, qiGz, qiGy);
        },
        riLwG: function(qhMz, qiPw, qjNz, qhLq, qiPx, qjMq, sgPs, yePu) {
            var r = (((qhLq - qhMz) * yePu) / sgPs) + qhMz;
            var g = (((qiPx - qiPw) * yePu) / sgPs) + qiPw;
            var b = (((qjMq - qjNz) * yePu) / sgPs) + qjNz;
            return rfjwh.Color.vhHv(r, g, b);
        },
        riLsG: function(min, max, alpha) {
            if (typeof min === "undefined") {
                min = 0;
            }
            if (typeof max === "undefined") {
                max = 255;
            }
            if (typeof alpha === "undefined") {
                alpha = 255;
            }
            if (max > 255 || min > max) {
                return rfjwh.Color.vhHv(255, 255, 255);
            }
            var rfJzH = min + Math.round(Math.random() * (max - min));
            var rfNrE = min + Math.round(Math.random() * (max - min));
            var blue = min + Math.round(Math.random() * (max - min));
            return rfjwh.Color.xdJt(alpha, rfJzH, rfNrE, blue);
        },
        sbIt: function(color) {
            if (color > 16777215) {
                return {
                    alpha: color >>> 24,
                    rfJzH: color >> 16 & 0xFF,
                    rfNrE: color >> 8 & 0xFF,
                    blue: color & 0xFF,
                    a: color >>> 24,
                    r: color >> 16 & 0xFF,
                    g: color >> 8 & 0xFF,
                    b: color & 0xFF
                };
            } else {
                return {
                    alpha: 255,
                    rfJzH: color >> 16 & 0xFF,
                    rfNrE: color >> 8 & 0xFF,
                    blue: color & 0xFF,
                    a: 255,
                    r: color >> 16 & 0xFF,
                    g: color >> 8 & 0xFF,
                    b: color & 0xFF
                };
            }
        },
        wfHr: function(color) {
            if (typeof color === 'object') {
                return 'rgba(' + color.r.toString() + ',' + color.g.toString() + ',' + color.b.toString() + ',' + (color.a / 255).toString() + ')';
            } else {
                var qcIx = rfjwh.Color.sbIt(color);
                return 'rgba(' + qcIx.r.toString() + ',' + qcIx.g.toString() + ',' + qcIx.b.toString() + ',' + (qcIx.a / 255).toString() + ')';
            }
        },
        vhHs: function(color) {
            return color >>> 24;
        },
        rjNtH: function(color) {
            return (color >>> 24) / 255;
        },
        sbIs: function(color) {
            return color >> 16 & 0xFF;
        },
        vhHz: function(color) {
            return color >> 8 & 0xFF;
        },
        taLu: function(color) {
            return color & 0xFF;
        }
    };
    rfjwh.reosh = function(rfOyC, sdHt) {
        sdHt = sdHt || {};
        this.rfOyC = rfOyC;
        this.sdHt = sdHt;
        this.arcade = null;
        this.qhOr = null;
        this.siNq = null;
        this.rcJw = null;
        this.vjNy = null;
        this.ybKt();
    };
    rfjwh.reosh.ARCADE = 0;
    rfjwh.reosh.RGIS = 1;
    rfjwh.reosh.SINQ = 2;
    rfjwh.reosh.RCJW = 3;
    rfjwh.reosh.VJNY = 4;
    rfjwh.reosh.prototype = {
        ybKt: function() {
            if ((!this.sdHt.hasOwnProperty('arcade') || this.sdHt['arcade'] === true) && rfjwh.reosh.hasOwnProperty('Arcade')) {
                this.arcade = new rfjwh.reosh.Arcade(this.rfOyC);
                this.rfOyC.time.viNr = 0.2;
            }
            if (this.sdHt.hasOwnProperty('ninja') && this.sdHt['ninja'] === true && rfjwh.reosh.hasOwnProperty('Ninja')) {
                this.siNq = new rfjwh.reosh.sinq(this.rfOyC);
            }
            if (this.sdHt.hasOwnProperty('p2') && this.sdHt['p2'] === true && rfjwh.reosh.hasOwnProperty('P2')) {
                this.qhOr = new rfjwh.reosh.QHOR(this.rfOyC, this.sdHt);
            }
            if (this.sdHt.hasOwnProperty('box2d') && this.sdHt['box2d'] === true && rfjwh.reosh.hasOwnProperty('BOX2D')) {
                this.rcJw = new rfjwh.reosh.RCJW(this.rfOyC, this.sdHt);
            }
        },
        zjNz: function(tgHs) {
            if (tgHs === rfjwh.reosh.ARCADE) {
                this.arcade = new rfjwh.reosh.Arcade(this.rfOyC);
            } else if (tgHs === rfjwh.reosh.RGIS) {
                this.qhOr = new rfjwh.reosh.QHOR(this.rfOyC, this.sdHt);
            }
            if (tgHs === rfjwh.reosh.SINQ) {
                this.siNq = new rfjwh.reosh.sinq(this.rfOyC);
            } else if (tgHs === rfjwh.reosh.RCJW && this.rcJw === null) {
                this.rcJw = new rfjwh.reosh.rcjw(this.rfOyC, this.sdHt);
            } else if (tgHs === rfjwh.reosh.VJNY && this.vjNy === null) {
                throw new Error('The Chipmunk reOsH system has rfKxG been implemented yet.');
            }
        },
        scJs: function(object, tgHs, rbNy) {
            if (typeof tgHs === 'undefined') {
                tgHs = rfjwh.reosh.ARCADE;
            }
            if (typeof rbNy === 'undefined') {
                rbNy = false;
            }
            if (tgHs === rfjwh.reosh.ARCADE) {
                this.arcade.scJs(object);
            } else if (tgHs === rfjwh.reosh.RGIS && this.qhOr) {
                this.qhOr.scJs(object, rbNy);
            } else if (tgHs === rfjwh.reosh.SINQ && this.siNq) {
                this.siNq.xeKy(object);
            } else if (tgHs === rfjwh.reosh.RCJW && this.rcJw) {
                this.rcJw.scJs(object);
            }
        },
        wbJt: function() {
            if (this.qhOr) {
                this.qhOr.wbJt();
            }
            if (this.rcJw) {
                this.rcJw.wbJt();
            }
        },
        update: function() {
            if (this.qhOr) {
                this.qhOr.update();
            }
            if (this.rcJw) {
                this.rcJw.update();
            }
        },
        rhLwC: function() {
            if (this.arcade) {
                this.arcade.rhLwC();
            }
            if (this.siNq) {
                this.siNq.rhLwC();
            }
            if (this.qhOr) {
                this.qhOr.rhLwC();
            }
            if (this.rcJw) {
                this.rcJw.rhLwC();
            }
        },
        clear: function() {
            if (this.qhOr) {
                this.qhOr.clear();
            }
            if (this.rcJw) {
                this.rcJw.clear();
            }
        },
        tbPr: function() {
            if (this.qhOr) {
                this.qhOr.tbPr();
            }
            if (this.rcJw) {
                this.rcJw.tbPr();
            }
            this.arcade = null;
            this.siNq = null;
            this.qhOr = null;
            this.rcJw = null;
        }
    };
    rfjwh.reosh.prototype.constructor = rfjwh.reosh;
    rfjwh.reosh.Arcade = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.taJw = new rfjwh.Point();
        this.sdPv = new rfjwh.wbgy(0, 0, rfOyC.world.width, rfOyC.world.height);
        this.riMqH = {
            up: true,
            rfHwC: true,
            left: true,
            right: true
        };
        this.xbOr = 10;
        this.wdGr = 4;
        this.ZDIR = 4;
        this.XJGZ = 16;
        this.sbLv = false;
        this.zbPt = false;
        this.vdHw = new rfjwh.vdhw(this.rfOyC.world.sdPv.x, this.rfOyC.world.sdPv.y, this.rfOyC.world.sdPv.width, this.rfOyC.world.sdPv.height, this.xbOr, this.wdGr);
        this.ubKu = 0;
        this.ygOt = 0;
        this.xgPt = 0;
        this.xgPu = 0;
        this.zaJw = 0;
        this.zaJx = 0;
        this.ubOz = 0;
        this.ubLw = [];
        this.teLv = false;
        this.sePs = 0;
        this.sfJw = 0;
        this.qgIw = 0;
        this.qgIx = 0;
        this.rhLwC();
    };
    rfjwh.reosh.Arcade.prototype.constructor = rfjwh.reosh.Arcade;
    rfjwh.reosh.Arcade.prototype = {
        waIw: function(x, y, width, height) {
            this.sdPv.shMy(x, y, width, height);
        },
        rhLwC: function() {
            this.sdPv.shMy(this.rfOyC.world.sdPv.x, this.rfOyC.world.sdPv.y, this.rfOyC.world.sdPv.width, this.rfOyC.world.sdPv.height);
        },
        scJs: function(object, children) {
            if (typeof children === 'undefined') {
                children = true;
            }
            var i = 1;
            if (Array.isArray(object)) {
                i = object.length;
                while (i--) {
                    if (object[i] instanceof rfjwh.Group) {
                        this.scJs(object[i].children, children);
                    } else {
                        this.xeKz(object[i]);
                        if (children && object[i].hasOwnProperty('children') && object[i].children.length > 0) {
                            this.scJs(object[i], true);
                        }
                    }
                }
            } else {
                if (object instanceof rfjwh.Group) {
                    this.scJs(object.children, children);
                } else {
                    this.xeKz(object);
                    if (children && object.hasOwnProperty('children') && object.children.length > 0) {
                        this.scJs(object.children, true);
                    }
                }
            }
        },
        xeKz: function(object) {
            if (object.hasOwnProperty('body') && object.body === null) {
                object.body = new rfjwh.reosh.Arcade.Body(object);
            }
        },
        zbHr: function(body) {
            this.rjIsK = this.riHuH(0, body, body.riIyK, body.rgOuF, body.ygIv, body.xbOq) - body.riIyK;
            body.riIyK += this.rjIsK;
            body.rfIqD += (body.riIyK * this.rfOyC.time.riKwB);
            body.vaGv.x = this.riHuH(1, body, body.vaGv.x, body.zhMt.x, body.rjHy.x, body.ycIq.x);
            body.vaGv.y = this.riHuH(2, body, body.vaGv.y, body.zhMt.y, body.rjHy.y, body.ycIq.y);
        },
        riHuH: function(qaHt, body, vaGv, zhMt, rjHy, max) {
            max = max || 10000;
            if (qaHt == 1 && body.zhKq) {
                vaGv += (this.taJw.x + body.taJw.x) * this.rfOyC.time.riKwB;
            } else if (qaHt == 2 && body.zhKq) {
                vaGv += (this.taJw.y + body.taJw.y) * this.rfOyC.time.riKwB;
            }
            if (zhMt) {
                vaGv += zhMt * this.rfOyC.time.riKwB;
            } else if (rjHy) {
                this.rdKq = rjHy * this.rfOyC.time.riKwB;
                if (vaGv - this.rdKq > 0) {
                    vaGv -= this.rdKq;
                } else if (vaGv + this.rdKq < 0) {
                    vaGv += this.rdKq;
                } else {
                    vaGv = 0;
                }
            }
            if (vaGv > max) {
                vaGv = max;
            } else if (vaGv < -max) {
                vaGv = -max;
            }
            return vaGv;
        },
        uhKt: function(uhOs, uhOt, rhPtK, rhPvC, riHrD) {
            rhPtK = rhPtK || null;
            rhPvC = rhPvC || null;
            riHrD = riHrD || rhPtK;
            this.teLv = false;
            this.sePs = 0;
            if (!Array.isArray(uhOs) && Array.isArray(uhOt)) {
                for (var i = 0, qdMy = uhOt.length; i < qdMy; i++) {
                    this.riMrK(uhOs, uhOt[i], rhPtK, rhPvC, riHrD, true);
                }
            } else if (Array.isArray(uhOs) && !Array.isArray(uhOt)) {
                for (var i = 0, qdMy = uhOs.length; i < qdMy; i++) {
                    this.riMrK(uhOs[i], uhOt, rhPtK, rhPvC, riHrD, true);
                }
            } else if (Array.isArray(uhOs) && Array.isArray(uhOt)) {
                for (var i = 0, qdMy = uhOs.length; i < qdMy; i++) {
                    for (var j = 0, rhKy = uhOt.length; j < rhKy; j++) {
                        this.riMrK(uhOs[i], uhOt[j], rhPtK, rhPvC, riHrD, true);
                    }
                }
            } else {
                this.riMrK(uhOs, uhOt, rhPtK, rhPvC, riHrD, true);
            }
            return (this.sePs > 0);
        },
        tcOy: function(uhOs, uhOt, riHtD, rhPvC, riHrD) {
            riHtD = riHtD || null;
            rhPvC = rhPvC || null;
            riHrD = riHrD || riHtD;
            this.teLv = false;
            this.sePs = 0;
            if (!Array.isArray(uhOs) && Array.isArray(uhOt)) {
                for (var i = 0, qdMy = uhOt.length; i < qdMy; i++) {
                    this.riMrK(uhOs, uhOt[i], riHtD, rhPvC, riHrD, false);
                }
            } else if (Array.isArray(uhOs) && !Array.isArray(uhOt)) {
                for (var i = 0, qdMy = uhOs.length; i < qdMy; i++) {
                    this.riMrK(uhOs[i], uhOt, riHtD, rhPvC, riHrD, false);
                }
            } else if (Array.isArray(uhOs) && Array.isArray(uhOt)) {
                for (var i = 0, rhKx = uhOs.length; i < rhKx; i++) {
                    for (var j = 0, rhKy = uhOt.length; j < rhKy; j++) {
                        this.riMrK(uhOs[i], uhOt[j], riHtD, rhPvC, riHrD, false);
                    }
                }
            } else {
                this.riMrK(uhOs, uhOt, riHtD, rhPvC, riHrD, false);
            }
            return (this.sePs > 0);
        },
        riMrK: function(uhOs, uhOt, riHtD, rhPvC, riHrD, ybLv) {
            if (typeof uhOt === 'undefined' && (uhOs.type === rfjwh.GROUP || uhOs.type === rfjwh.TBMV)) {
                this.rhHzB(uhOs, riHtD, rhPvC, riHrD, ybLv);
                return;
            }
            if (uhOs && uhOt && uhOs.scHu && uhOt.scHu) {
                if (uhOs.type == rfjwh.RFISB || uhOs.type == rfjwh.YIJU) {
                    if (uhOt.type == rfjwh.RFISB || uhOt.type == rfjwh.YIJU) {
                        this.rgKrA(uhOs, uhOt, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.GROUP || uhOt.type == rfjwh.TBMV) {
                        this.rgMuE(uhOs, uhOt, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.ZBKU) {
                        this.rgGwF(uhOs, uhOt, riHtD, rhPvC, riHrD);
                    }
                } else if (uhOs.type == rfjwh.GROUP) {
                    if (uhOt.type == rfjwh.RFISB || uhOt.type == rfjwh.YIJU) {
                        this.rgMuE(uhOt, uhOs, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.GROUP || uhOt.type == rfjwh.TBMV) {
                        this.rgOvD(uhOs, uhOt, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.ZBKU) {
                        this.rgGsC(uhOs, uhOt, riHtD, rhPvC, riHrD);
                    }
                } else if (uhOs.type == rfjwh.ZBKU) {
                    if (uhOt.type == rfjwh.RFISB || uhOt.type == rfjwh.YIJU) {
                        this.rgGwF(uhOt, uhOs, riHtD, rhPvC, riHrD);
                    } else if (uhOt.type == rfjwh.GROUP || uhOt.type == rfjwh.TBMV) {
                        this.rgGsC(uhOt, uhOs, riHtD, rhPvC, riHrD);
                    }
                } else if (uhOs.type == rfjwh.TBMV) {
                    if (uhOt.type == rfjwh.RFISB || uhOt.type == rfjwh.YIJU) {
                        this.rgMuE(uhOt, uhOs, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.GROUP || uhOt.type == rfjwh.TBMV) {
                        this.rgOvD(uhOs, uhOt, riHtD, rhPvC, riHrD, ybLv);
                    } else if (uhOt.type == rfjwh.ZBKU) {
                        this.rgGsC(uhOs, uhOt, riHtD, rhPvC, riHrD);
                    }
                }
            }
        },
        rgKrA: function(ufHw, ufHx, riHtD, rhPvC, riHrD, ybLv) {
            if (!ufHw.body || !ufHx.body) {
                return false;
            }
            if (this.vbPt(ufHw.body, ufHx.body, rhPvC, riHrD, ybLv)) {
                if (riHtD) {
                    riHtD.call(riHrD, ufHw, ufHx);
                }
                this.sePs++;
            }
            return true;
        },
        rgMuE: function(rfIsB, group, riHtD, rhPvC, riHrD, ybLv) {
            if (group.length === 0 || !rfIsB.body) {
                return;
            }
            if (rfIsB.body.zbPt || this.zbPt) {
                for (var i = 0, qdMy = group.children.length; i < qdMy; i++) {
                    if (group.children[i] && group.children[i].scHu) {
                        this.rgKrA(rfIsB, group.children[i], riHtD, rhPvC, riHrD, ybLv);
                    }
                }
            } else {
                this.vdHw.clear();
                this.vdHw.reset(this.rfOyC.world.sdPv.x, this.rfOyC.world.sdPv.y, this.rfOyC.world.sdPv.width, this.rfOyC.world.sdPv.height, this.xbOr, this.wdGr);
                this.vdHw.vdKr(group);
                this.ygNw = this.vdHw.vcKw(rfIsB);
                for (var i = 0, qdMy = this.ygNw.length; i < qdMy; i++) {
                    if (this.vbPt(rfIsB.body, this.ygNw[i], rhPvC, riHrD, ybLv)) {
                        if (riHtD) {
                            riHtD.call(riHrD, rfIsB, this.ygNw[i].rfIsB);
                        }
                        this.sePs++;
                    }
                }
            }
        },
        rhHzB: function(group, riHtD, rhPvC, riHrD, ybLv) {
            if (group.length === 0) {
                return;
            }
            var qdMy = group.children.length;
            for (var i = 0; i < qdMy; i++) {
                for (var j = i + 1; j <= qdMy; j++) {
                    if (group.children[i] && group.children[j] && group.children[i].scHu && group.children[j].scHu) {
                        this.rgKrA(group.children[i], group.children[j], riHtD, rhPvC, riHrD, ybLv);
                    }
                }
            }
        },
        rgOvD: function(sbGr, sbGs, riHtD, rhPvC, riHrD, ybLv) {
            if (sbGr.length === 0 || sbGs.length === 0) {
                return;
            }
            for (var i = 0, qdMy = sbGr.children.length; i < qdMy; i++) {
                if (sbGr.children[i].scHu) {
                    if (sbGr.children[i].type === rfjwh.GROUP) {
                        this.rgOvD(sbGr.children[i], sbGs, riHtD, rhPvC, riHrD, ybLv);
                    } else {
                        this.rgMuE(sbGr.children[i], sbGs, riHtD, rhPvC, riHrD, ybLv);
                    }
                }
            }
        },
        rgGwF: function(rfIsB, zbKu, riHtD, rhPvC, riHrD) {
            if (!rfIsB.body) {
                return;
            }
            this.ubLw = zbKu.vgPr(rfIsB.body.position.x - rfIsB.body.zjIt.x, rfIsB.body.position.y - rfIsB.body.zjIt.y, rfIsB.body.width + rfIsB.body.zjIt.x, rfIsB.body.height + rfIsB.body.zjIt.y, false, false);
            if (this.ubLw.length === 0) {
                return;
            }
            for (var i = 0; i < this.ubLw.length; i++) {
                if (rhPvC) {
                    if (rhPvC.call(riHrD, rfIsB, this.ubLw[i])) {
                        if (this.zcJy(i, rfIsB.body, this.ubLw[i])) {
                            this.sePs++;
                            if (riHtD) {
                                riHtD.call(riHrD, rfIsB, this.ubLw[i]);
                            }
                        }
                    }
                } else {
                    if (this.zcJy(i, rfIsB.body, this.ubLw[i])) {
                        this.sePs++;
                        if (riHtD) {
                            riHtD.call(riHrD, rfIsB, this.ubLw[i]);
                        }
                    }
                }
            }
        },
        rgGsC: function(group, zbKu, riHtD, rhPvC, riHrD) {
            if (group.length === 0) {
                return;
            }
            for (var i = 0, qdMy = group.children.length; i < qdMy; i++) {
                if (group.children[i].scHu) {
                    this.rgGwF(group.children[i], zbKu, riHtD, rhPvC, riHrD);
                }
            }
        },
        vbPt: function(rcKy, rcKz, rhPvC, riHrD, ybLv) {
            if (!rcKy.scJs || !rcKz.scJs || !this.xcLy(rcKy, rcKz)) {
                return false;
            }
            if (rhPvC && rhPvC.call(riHrD, rcKy.rfIsB, rcKz.rfIsB) === false) {
                return false;
            }
            if (this.sbLv || Math.abs(this.taJw.y + rcKy.taJw.y) < Math.abs(this.taJw.x + rcKy.taJw.x)) {
                this.teLv = (this.waJz(rcKy, rcKz, ybLv) || this.waIq(rcKy, rcKz, ybLv));
            } else {
                this.teLv = (this.waIq(rcKy, rcKz, ybLv) || this.waJz(rcKy, rcKz, ybLv));
            }
            if (ybLv) {
                return true;
            } else {
                return this.teLv;
            }
        },
        xcLy: function(rcKy, rcKz) {
            if (rcKy.right <= rcKz.position.x) {
                return false;
            }
            if (rcKy.bottom <= rcKz.position.y) {
                return false;
            }
            if (rcKy.position.x >= rcKz.right) {
                return false;
            }
            if (rcKy.position.y >= rcKz.bottom) {
                return false;
            }
            return true;
        },
        waJz: function(rcKy, rcKz, ybLv) {
            if (rcKy.weMr && rcKz.weMr) {
                return false;
            }
            this.ubKu = 0;
            if (this.xcLy(rcKy, rcKz)) {
                this.ygOt = rcKy.wgPs() + rcKz.wgPs() + this.ZDIR;
                if (rcKy.deltaX() === 0 && rcKz.deltaX() === 0) {
                    rcKy.viJt = true;
                    rcKz.viJt = true;
                } else if (rcKy.deltaX() > rcKz.deltaX()) {
                    this.ubKu = rcKy.right - rcKz.x;
                    if ((this.ubKu > this.ygOt) || rcKy.riMqH.right === false || rcKz.riMqH.left === false) {
                        this.ubKu = 0;
                    } else {
                        rcKy.vaLu.rgLx = false;
                        rcKy.vaLu.right = true;
                        rcKz.vaLu.rgLx = false;
                        rcKz.vaLu.left = true;
                    }
                } else if (rcKy.deltaX() < rcKz.deltaX()) {
                    this.ubKu = rcKy.x - rcKz.width - rcKz.x;
                    if ((-this.ubKu > this.ygOt) || rcKy.riMqH.left === false || rcKz.riMqH.right === false) {
                        this.ubKu = 0;
                    } else {
                        rcKy.vaLu.rgLx = false;
                        rcKy.vaLu.left = true;
                        rcKz.vaLu.rgLx = false;
                        rcKz.vaLu.right = true;
                    }
                }
                rcKy.vdPv = this.ubKu;
                rcKz.vdPv = this.ubKu;
                if (this.ubKu !== 0) {
                    if (ybLv || rcKy.riHwK || rcKz.riHwK) {
                        return true;
                    }
                    this.xgPt = rcKy.vaGv.x;
                    this.xgPu = rcKz.vaGv.x;
                    if (!rcKy.weMr && !rcKz.weMr) {
                        this.ubKu *= 0.5;
                        rcKy.x = rcKy.x - this.ubKu;
                        rcKz.x += this.ubKu;
                        this.zaJw = Math.sqrt((this.xgPu * this.xgPu * rcKz.rhGt) / rcKy.rhGt) * ((this.xgPu > 0) ? 1 : -1);
                        this.zaJx = Math.sqrt((this.xgPt * this.xgPt * rcKy.rhGt) / rcKz.rhGt) * ((this.xgPt > 0) ? 1 : -1);
                        this.ubOz = (this.zaJw + this.zaJx) * 0.5;
                        this.zaJw -= this.ubOz;
                        this.zaJx -= this.ubOz;
                        rcKy.vaGv.x = this.ubOz + this.zaJw * rcKy.sdPu.x;
                        rcKz.vaGv.x = this.ubOz + this.zaJx * rcKz.sdPu.x;
                    } else if (!rcKy.weMr) {
                        rcKy.x = rcKy.x - this.ubKu;
                        rcKy.vaGv.x = this.xgPu - this.xgPt * rcKy.sdPu.x;
                    } else if (!rcKz.weMr) {
                        rcKz.x += this.ubKu;
                        rcKz.vaGv.x = this.xgPt - this.xgPu * rcKz.sdPu.x;
                    }
                    return true;
                }
            }
            return false;
        },
        waIq: function(rcKy, rcKz, ybLv) {
            if (rcKy.weMr && rcKz.weMr) {
                return false;
            }
            this.ubKu = 0;
            if (this.xcLy(rcKy, rcKz)) {
                this.ygOt = rcKy.wgPt() + rcKz.wgPt() + this.ZDIR;
                if (rcKy.deltaY() === 0 && rcKz.deltaY() === 0) {
                    rcKy.viJt = true;
                    rcKz.viJt = true;
                } else if (rcKy.deltaY() > rcKz.deltaY()) {
                    this.ubKu = rcKy.bottom - rcKz.y;
                    if ((this.ubKu > this.ygOt) || rcKy.riMqH.rfHwC === false || rcKz.riMqH.up === false) {
                        this.ubKu = 0;
                    } else {
                        rcKy.vaLu.rgLx = false;
                        rcKy.vaLu.rfHwC = true;
                        rcKz.vaLu.rgLx = false;
                        rcKz.vaLu.up = true;
                    }
                } else if (rcKy.deltaY() < rcKz.deltaY()) {
                    this.ubKu = rcKy.y - rcKz.bottom;
                    if ((-this.ubKu > this.ygOt) || rcKy.riMqH.up === false || rcKz.riMqH.rfHwC === false) {
                        this.ubKu = 0;
                    } else {
                        rcKy.vaLu.rgLx = false;
                        rcKy.vaLu.up = true;
                        rcKz.vaLu.rgLx = false;
                        rcKz.vaLu.rfHwC = true;
                    }
                }
                rcKy.vdPw = this.ubKu;
                rcKz.vdPw = this.ubKu;
                if (this.ubKu !== 0) {
                    if (ybLv || rcKy.riHwJ || rcKz.riHwJ) {
                        return true;
                    }
                    this.xgPt = rcKy.vaGv.y;
                    this.xgPu = rcKz.vaGv.y;
                    if (!rcKy.weMr && !rcKz.weMr) {
                        this.ubKu *= 0.5;
                        rcKy.y = rcKy.y - this.ubKu;
                        rcKz.y += this.ubKu;
                        this.zaJw = Math.sqrt((this.xgPu * this.xgPu * rcKz.rhGt) / rcKy.rhGt) * ((this.xgPu > 0) ? 1 : -1);
                        this.zaJx = Math.sqrt((this.xgPt * this.xgPt * rcKy.rhGt) / rcKz.rhGt) * ((this.xgPt > 0) ? 1 : -1);
                        this.ubOz = (this.zaJw + this.zaJx) * 0.5;
                        this.zaJw -= this.ubOz;
                        this.zaJx -= this.ubOz;
                        rcKy.vaGv.y = this.ubOz + this.zaJw * rcKy.sdPu.y;
                        rcKz.vaGv.y = this.ubOz + this.zaJx * rcKz.sdPu.y;
                    } else if (!rcKy.weMr) {
                        rcKy.y = rcKy.y - this.ubKu;
                        rcKy.vaGv.y = this.xgPu - this.xgPt * rcKy.sdPu.y;
                        if (rcKz.siPq) {
                            rcKy.x += rcKz.x - rcKz.rfOu.x;
                        }
                    } else if (!rcKz.weMr) {
                        rcKz.y += this.ubKu;
                        rcKz.vaGv.y = this.xgPt - this.xgPu * rcKz.sdPu.y;
                        if (rcKy.siPq) {
                            rcKz.x += rcKy.x - rcKy.rfOu.x;
                        }
                    }
                    return true;
                }
            }
            return false;
        },
        zcJy: function(i, body, reLy) {
            if (!body.scJs || !reLy.xcLy(body.position.x, body.position.y, body.right, body.bottom)) {
                return false;
            }
            if (reLy.rhJrE && !reLy.rhJrE.call(reLy.rgHtD, body.rfIsB, reLy)) {
                return false;
            } else if (reLy.layer.whOy[reLy.index] && !reLy.layer.whOy[reLy.index].uaGu.call(reLy.layer.whOy[reLy.index].riHrD, body.rfIsB, reLy)) {
                return false;
            }
            if (!reLy.vhOu && !reLy.wfPv && !reLy.tbIz && !reLy.xeGr) {
                return false;
            }
            var qhPx = 0;
            var qhPy = 0;
            var rgOy = 0;
            var rgOz = 1;
            if (body.wgPs() > body.wgPt()) {
                rgOy = -1;
            } else if (body.wgPs() < body.wgPt()) {
                rgOz = -1;
            }
            if (body.deltaX() !== 0 && body.deltaY() !== 0 && (reLy.vhOu || reLy.wfPv) && (reLy.tbIz || reLy.xeGr)) {
                rgOy = Math.min(Math.abs(body.position.x - reLy.right), Math.abs(body.right - reLy.left));
                rgOz = Math.min(Math.abs(body.position.y - reLy.bottom), Math.abs(body.bottom - reLy.top));
            }
            if (rgOy < rgOz) {
                if (reLy.vhOu || reLy.wfPv) {
                    qhPx = this.yiKz(body, reLy);
                    if (qhPx !== 0 && !reLy.xcLy(body.position.x, body.position.y, body.right, body.bottom)) {
                        return true;
                    }
                }
                if (reLy.tbIz || reLy.xeGr) {
                    qhPy = this.yiJq(body, reLy);
                }
            } else {
                if (reLy.tbIz || reLy.xeGr) {
                    qhPy = this.yiJq(body, reLy);
                    if (qhPy !== 0 && !reLy.xcLy(body.position.x, body.position.y, body.right, body.bottom)) {
                        return true;
                    }
                }
                if (reLy.vhOu || reLy.wfPv) {
                    qhPx = this.yiKz(body, reLy);
                }
            }
            return (qhPx !== 0 || qhPy !== 0);
        },
        yiKz: function(body, reLy) {
            var qhPx = 0;
            if (body.deltaX() < 0 && !body.tdKs.left && reLy.zgNt && body.riMqH.left) {
                if (reLy.wfPv && body.x < reLy.right) {
                    qhPx = body.x - reLy.right;
                    if (qhPx < -this.XJGZ) {
                        qhPx = 0;
                    }
                }
            } else if (body.deltaX() > 0 && !body.tdKs.right && reLy.yfJs && body.riMqH.right) {
                if (reLy.vhOu && body.right > reLy.left) {
                    qhPx = body.right - reLy.left;
                    if (qhPx > this.XJGZ) {
                        qhPx = 0;
                    }
                }
            }
            if (qhPx !== 0) {
                this.rgIrG(body, qhPx);
            }
            return qhPx;
        },
        yiJq: function(body, reLy) {
            var qhPy = 0;
            if (body.deltaY() < 0 && !body.tdKs.up && reLy.yfJr && body.riMqH.up) {
                if (reLy.xeGr && body.y < reLy.bottom) {
                    qhPy = body.y - reLy.bottom;
                    if (qhPy < -this.XJGZ) {
                        qhPy = 0;
                    }
                }
            } else if (body.deltaY() > 0 && !body.tdKs.rfHwC && reLy.whLw && body.riMqH.rfHwC) {
                if (reLy.tbIz && body.bottom > reLy.top) {
                    qhPy = body.bottom - reLy.top;
                    if (qhPy > this.XJGZ) {
                        qhPy = 0;
                    }
                }
            }
            if (qhPy !== 0) {
                this.rgIrF(body, qhPy);
            }
            return qhPy;
        },
        rgIrG: function(body, x) {
            if (x < 0) {
                body.tdKs.left = true;
            } else if (x > 0) {
                body.tdKs.right = true;
            }
            body.position.x -= x;
            if (body.sdPu.x === 0) {
                body.vaGv.x = 0;
            } else {
                body.vaGv.x = -body.vaGv.x * body.sdPu.x;
            }
        },
        rgIrF: function(body, y) {
            if (y < 0) {
                body.tdKs.up = true;
            } else if (y > 0) {
                body.tdKs.rfHwC = true;
            }
            body.position.y -= y;
            if (body.sdPu.y === 0) {
                body.vaGv.y = 0;
            } else {
                body.vaGv.y = -body.vaGv.y * body.sdPu.y;
            }
        },
        rgJxA: function(uhHt, group, uaGu, riHrD) {
            if (group.length === 0 || !uhHt.scHu) {
                return;
            }
            this.vdHw.clear();
            this.vdHw.reset(this.rfOyC.world.sdPv.x, this.rfOyC.world.sdPv.y, this.rfOyC.world.sdPv.width, this.rfOyC.world.sdPv.height, this.xbOr, this.wdGr);
            this.vdHw.vdKr(group);
            var rect = new rfjwh.wbgy(uhHt.x, uhHt.y, 1, 1);
            var tiMy = [];
            this.ygNw = this.vdHw.vcKw(rect);
            for (var i = 0, qdMy = this.ygNw.length; i < qdMy; i++) {
                if (this.ygNw[i].taGw(uhHt.x, uhHt.y)) {
                    if (uaGu) {
                        uaGu.call(riHrD, uhHt, this.ygNw[i].rfIsB);
                    }
                    tiMy.push(this.ygNw[i].rfIsB);
                }
            }
            return tiMy;
        },
        zdOw: function(rjOxC, destination, shHz, uiLy) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            if (typeof uiLy === 'undefined') {
                uiLy = 0;
            }
            this.sfJw = Math.atan2(destination.y - rjOxC.y, destination.x - rjOxC.x);
            if (uiLy > 0) {
                shHz = this.riHxK(rjOxC, destination) / (uiLy / 1000);
            }
            rjOxC.body.vaGv.x = Math.cos(this.sfJw) * shHz;
            rjOxC.body.vaGv.y = Math.sin(this.sfJw) * shHz;
            return this.sfJw;
        },
        rjMwB: function(rjOxC, shHz, uhHt, uiLy) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            uhHt = uhHt || this.rfOyC.input.rjPuK;
            if (typeof uiLy === 'undefined') {
                uiLy = 0;
            }
            this.sfJw = this.riNvG(rjOxC, uhHt);
            if (uiLy > 0) {
                shHz = this.rhJuD(rjOxC, uhHt) / (uiLy / 1000);
            }
            rjOxC.body.vaGv.x = Math.cos(this.sfJw) * shHz;
            rjOxC.body.vaGv.y = Math.sin(this.sfJw) * shHz;
            return this.sfJw;
        },
        vePw: function(rjOxC, x, y, shHz, uiLy) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            if (typeof uiLy === 'undefined') {
                uiLy = 0;
            }
            this.sfJw = Math.atan2(y - rjOxC.y, x - rjOxC.x);
            if (uiLy > 0) {
                shHz = this.zgGu(rjOxC, x, y) / (uiLy / 1000);
            }
            rjOxC.body.vaGv.x = Math.cos(this.sfJw) * shHz;
            rjOxC.body.vaGv.y = Math.sin(this.sfJw) * shHz;
            return this.sfJw;
        },
        rhHsB: function(rcOr, shHz, point) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            point = point || new rfjwh.Point();
            return point.shMy((Math.cos(this.rfOyC.math.viOx(rcOr)) * shHz), (Math.sin(this.rfOyC.math.viOx(rcOr)) * shHz));
        },
        rgLwB: function(rfIqD, shHz, point) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            point = point || new rfjwh.Point();
            return point.shMy((Math.cos(rfIqD) * shHz), (Math.sin(rfIqD) * shHz));
        },
        rgHtG: function(rfIqD, shHz, point) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            point = point || new rfjwh.Point();
            return point.shMy((Math.cos(rfIqD) * shHz), (Math.sin(rfIqD) * shHz));
        },
        rhHxK: function(rjOxC, destination, shHz, xhOy, xhNs) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            if (typeof xhOy === 'undefined') {
                xhOy = 1000;
            }
            if (typeof xhNs === 'undefined') {
                xhNs = 1000;
            }
            this.sfJw = this.zhKv(rjOxC, destination);
            rjOxC.body.zhMt.shMy(Math.cos(this.sfJw) * shHz, Math.sin(this.sfJw) * shHz);
            rjOxC.body.ycIq.shMy(xhOy, xhNs);
            return this.sfJw;
        },
        rgOtA: function(rjOxC, uhHt, shHz, xhOy, xhNs) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            if (typeof uhHt === 'undefined') {
                uhHt = this.rfOyC.input.rjPuK;
            }
            if (typeof xhOy === 'undefined') {
                xhOy = 1000;
            }
            if (typeof xhNs === 'undefined') {
                xhNs = 1000;
            }
            this.sfJw = this.riNvG(rjOxC, uhHt);
            rjOxC.body.zhMt.shMy(Math.cos(this.sfJw) * shHz, Math.sin(this.sfJw) * shHz);
            rjOxC.body.ycIq.shMy(xhOy, xhNs);
            return this.sfJw;
        },
        riNtD: function(rjOxC, x, y, shHz, xhOy, xhNs) {
            if (typeof shHz === 'undefined') {
                shHz = 60;
            }
            if (typeof xhOy === 'undefined') {
                xhOy = 1000;
            }
            if (typeof xhNs === 'undefined') {
                xhNs = 1000;
            }
            this.sfJw = this.wiMw(rjOxC, x, y);
            rjOxC.body.zhMt.shMy(Math.cos(this.sfJw) * shHz, Math.sin(this.sfJw) * shHz);
            rjOxC.body.ycIq.shMy(xhOy, xhNs);
            return this.sfJw;
        },
        riHxK: function(source, target) {
            this.qgIw = source.x - target.x;
            this.qgIx = source.y - target.y;
            return Math.sqrt(this.qgIw * this.qgIw + this.qgIx * this.qgIx);
        },
        zgGu: function(rjOxC, x, y) {
            this.qgIw = rjOxC.x - x;
            this.qgIx = rjOxC.y - y;
            return Math.sqrt(this.qgIw * this.qgIw + this.qgIx * this.qgIx);
        },
        rhJuD: function(rjOxC, uhHt) {
            uhHt = uhHt || this.rfOyC.input.rjPuK;
            this.qgIw = rjOxC.x - uhHt.x;
            this.qgIx = rjOxC.y - uhHt.y;
            return Math.sqrt(this.qgIw * this.qgIw + this.qgIx * this.qgIx);
        },
        zhKv: function(source, target) {
            this.qgIw = target.x - source.x;
            this.qgIx = target.y - source.y;
            return Math.atan2(this.qgIx, this.qgIw);
        },
        wiMw: function(rjOxC, x, y) {
            this.qgIw = x - rjOxC.x;
            this.qgIx = y - rjOxC.y;
            return Math.atan2(this.qgIx, this.qgIw);
        },
        riNvG: function(rjOxC, uhHt) {
            uhHt = uhHt || this.rfOyC.input.rjPuK;
            this.qgIw = uhHt.tfHu - rjOxC.x;
            this.qgIx = uhHt.tfHv - rjOxC.y;
            return Math.atan2(this.qgIx, this.qgIw);
        }
    };
    rfjwh.reosh.Arcade.Body = function(rfIsB) {
        this.rfIsB = rfIsB;
        this.rfOyC = rfIsB.rfOyC;
        this.type = rfjwh.reosh.ARCADE;
        this.scJs = true;
        this.tiOt = new rfjwh.Point();
        this.position = new rfjwh.Point(rfIsB.x, rfIsB.y);
        this.rfOu = new rfjwh.Point(this.position.x, this.position.y);
        this.rjPvH = true;
        this.rfIqD = rfIsB.rfIqD;
        this.ybGw = rfIsB.rfIqD;
        this.zjOx = rfIsB.ueMt.frame.width;
        this.zbOq = rfIsB.ueMt.frame.height;
        this.width = rfIsB.width;
        this.height = rfIsB.height;
        this.wfGs = Math.abs(rfIsB.width / 2);
        this.xdHz = Math.abs(rfIsB.height / 2);
        this.rfOsH = new rfjwh.Point(rfIsB.x + this.wfGs, rfIsB.y + this.xdHz);
        this.vaGv = new rfjwh.Point();
        this.ycGy = new rfjwh.Point(0, 0);
        this.viNs = new rfjwh.Point(0, 0);
        this.zhMt = new rfjwh.Point();
        this.rjHy = new rfjwh.Point();
        this.zhKq = true;
        this.taJw = new rfjwh.Point(0, 0);
        this.sdPu = new rfjwh.Point();
        this.ycIq = new rfjwh.Point(10000, 10000);
        this.riIyK = 0;
        this.rgOuF = 0;
        this.ygIv = 0;
        this.xbOq = 1000;
        this.rhGt = 1;
        this.rcOr = 0;
        this.shHz = 0;
        this.scGy = rfjwh.RGLX;
        this.weMr = false;
        this.siPq = true;
        this.riHwK = false;
        this.riHwJ = false;
        this.vdPv = 0;
        this.vdPw = 0;
        this.viJt = false;
        this.rhGqK = false;
        this.riMqH = {
            rgLx: false,
            qfOz: true,
            up: true,
            rfHwC: true,
            left: true,
            right: true
        };
        this.vaLu = {
            rgLx: true,
            up: false,
            rfHwC: false,
            left: false,
            right: false
        };
        this.ziLu = {
            rgLx: true,
            up: false,
            rfHwC: false,
            left: false,
            right: false
        };
        this.tdKs = {
            up: false,
            rfHwC: false,
            left: false,
            right: false
        };
        this.zjIt = new rfjwh.Point();
        this.siJz = 0;
        this.zbPt = false;
        this.sfHy = true;
        this.qgHu = rfIsB.scale.x;
        this.qgHv = rfIsB.scale.y;
        this.qgIw = 0;
        this.qgIx = 0;
    };
    rfjwh.reosh.Arcade.Body.prototype = {
        zbIz: function() {
            var qfMw = Math.abs(this.rfIsB.scale.x);
            var qfMx = Math.abs(this.rfIsB.scale.y);
            if (qfMw !== this.qgHu || qfMx !== this.qgHv) {
                this.width = this.zjOx * qfMw;
                this.height = this.zbOq * qfMx;
                this.wfGs = Math.floor(this.width / 2);
                this.xdHz = Math.floor(this.height / 2);
                this.qgHu = qfMw;
                this.qgHv = qfMx;
                this.rfOsH.shMy(this.position.x + this.wfGs, this.position.y + this.xdHz);
                this.sfHy = true;
            }
        },
        wbJt: function() {
            if (!this.scJs) {
                return;
            }
            this.siJz = 1;
            this.ziLu.rgLx = this.vaLu.rgLx;
            this.ziLu.up = this.vaLu.up;
            this.ziLu.rfHwC = this.vaLu.rfHwC;
            this.ziLu.left = this.vaLu.left;
            this.ziLu.right = this.vaLu.right;
            this.vaLu.rgLx = true;
            this.vaLu.up = false;
            this.vaLu.rfHwC = false;
            this.vaLu.left = false;
            this.vaLu.right = false;
            this.tdKs.up = false;
            this.tdKs.rfHwC = false;
            this.tdKs.left = false;
            this.tdKs.right = false;
            this.viJt = false;
            this.zbIz();
            this.position.x = (this.rfIsB.world.x - (this.rfIsB.anchor.x * this.width)) + this.tiOt.x;
            this.position.y = (this.rfIsB.world.y - (this.rfIsB.anchor.y * this.height)) + this.tiOt.y;
            this.rfIqD = this.rfIsB.rcOr;
            this.ybGw = this.rfIqD;
            if (this.sfHy || this.rfIsB.sfIr[4] === 1) {
                this.rfOu.x = this.position.x;
                this.rfOu.y = this.position.y;
            }
            if (this.siPq) {
                this.rfOyC.reOsH.arcade.zbHr(this);
                this.ycGy.set(this.vaGv.x * this.rfOyC.time.riKwB, this.vaGv.y * this.rfOyC.time.riKwB);
                this.position.x += this.ycGy.x;
                this.position.y += this.ycGy.y;
                if (this.position.x !== this.rfOu.x || this.position.y !== this.rfOu.y) {
                    this.shHz = Math.sqrt(this.vaGv.x * this.vaGv.x + this.vaGv.y * this.vaGv.y);
                    this.rcOr = Math.atan2(this.vaGv.y, this.vaGv.x);
                }
                if (this.rhGqK) {
                    this.rhNuB();
                }
            }
            this.qgIw = this.deltaX();
            this.qgIx = this.deltaY();
            this.sfHy = false;
        },
        xaNx: function() {
            if (!this.scJs) {
                return;
            }
            if (this.siJz === 2) {
                return;
            }
            this.siJz = 2;
            if (this.deltaX() < 0) {
                this.scGy = rfjwh.LEFT;
            } else if (this.deltaX() > 0) {
                this.scGy = rfjwh.RIGHT;
            }
            if (this.deltaY() < 0) {
                this.scGy = rfjwh.UP;
            } else if (this.deltaY() > 0) {
                this.scGy = rfjwh.RFHWC;
            }
            if (this.siPq) {
                this.qgIw = this.deltaX();
                this.qgIx = this.deltaY();
                if (this.viNs.x !== 0 && this.qgIw !== 0) {
                    if (this.qgIw < 0 && this.qgIw < -this.viNs.x) {
                        this.qgIw = -this.viNs.x;
                    } else if (this.qgIw > 0 && this.qgIw > this.viNs.x) {
                        this.qgIw = this.viNs.x;
                    }
                }
                if (this.viNs.y !== 0 && this.qgIx !== 0) {
                    if (this.qgIx < 0 && this.qgIx < -this.viNs.y) {
                        this.qgIx = -this.viNs.y;
                    } else if (this.qgIx > 0 && this.qgIx > this.viNs.y) {
                        this.qgIx = this.viNs.y;
                    }
                }
                this.rfIsB.x += this.qgIw;
                this.rfIsB.y += this.qgIx;
            }
            this.rfOsH.shMy(this.position.x + this.wfGs, this.position.y + this.xdHz);
            if (this.rjPvH) {
                this.rfIsB.rcOr += this.deltaZ();
            }
            this.rfOu.x = this.position.x;
            this.rfOu.y = this.position.y;
        },
        tbPr: function() {
            this.rfIsB.body = null;
            this.rfIsB = null;
        },
        rhNuB: function() {
            if (this.position.x < this.rfOyC.reOsH.arcade.sdPv.x && this.rfOyC.reOsH.arcade.riMqH.left) {
                this.position.x = this.rfOyC.reOsH.arcade.sdPv.x;
                this.vaGv.x *= -this.sdPu.x;
                this.tdKs.left = true;
            } else if (this.right > this.rfOyC.reOsH.arcade.sdPv.right && this.rfOyC.reOsH.arcade.riMqH.right) {
                this.position.x = this.rfOyC.reOsH.arcade.sdPv.right - this.width;
                this.vaGv.x *= -this.sdPu.x;
                this.tdKs.right = true;
            }
            if (this.position.y < this.rfOyC.reOsH.arcade.sdPv.y && this.rfOyC.reOsH.arcade.riMqH.up) {
                this.position.y = this.rfOyC.reOsH.arcade.sdPv.y;
                this.vaGv.y *= -this.sdPu.y;
                this.tdKs.up = true;
            } else if (this.bottom > this.rfOyC.reOsH.arcade.sdPv.bottom && this.rfOyC.reOsH.arcade.riMqH.rfHwC) {
                this.position.y = this.rfOyC.reOsH.arcade.sdPv.bottom - this.height;
                this.vaGv.y *= -this.sdPu.y;
                this.tdKs.rfHwC = true;
            }
        },
        ufMu: function(width, height, rfKxB, rfKxA) {
            if (typeof rfKxB === 'undefined') {
                rfKxB = this.tiOt.x;
            }
            if (typeof rfKxA === 'undefined') {
                rfKxA = this.tiOt.y;
            }
            this.zjOx = width;
            this.zbOq = height;
            this.width = this.zjOx * this.qgHu;
            this.height = this.zbOq * this.qgHv;
            this.wfGs = Math.floor(this.width / 2);
            this.xdHz = Math.floor(this.height / 2);
            this.tiOt.shMy(rfKxB, rfKxA);
            this.rfOsH.shMy(this.position.x + this.wfGs, this.position.y + this.xdHz);
        },
        reset: function(x, y) {
            this.vaGv.set(0);
            this.zhMt.set(0);
            this.riIyK = 0;
            this.rgOuF = 0;
            this.position.x = (x - (this.rfIsB.anchor.x * this.width)) + this.tiOt.x;
            this.position.y = (y - (this.rfIsB.anchor.y * this.height)) + this.tiOt.y;
            this.rfOu.x = this.position.x;
            this.rfOu.y = this.position.y;
            this.rfIqD = this.rfIsB.rcOr;
            this.ybGw = this.rfIqD;
            this.qgHu = this.rfIsB.scale.x;
            this.qgHv = this.rfIsB.scale.y;
            this.rfOsH.shMy(this.position.x + this.wfGs, this.position.y + this.xdHz);
        },
        taGw: function(x, y) {
            return rfjwh.wbgy.contains(this, x, y);
        },
        uhMr: function() {
            return this.tdKs.rfHwC;
        },
        tiNz: function() {
            return (this.tdKs.left || this.tdKs.right);
        },
        wgPs: function() {
            return (this.deltaX() > 0 ? this.deltaX() : -this.deltaX());
        },
        wgPt: function() {
            return (this.deltaY() > 0 ? this.deltaY() : -this.deltaY());
        },
        deltaX: function() {
            return this.position.x - this.rfOu.x;
        },
        deltaY: function() {
            return this.position.y - this.rfOu.y;
        },
        deltaZ: function() {
            return this.rfIqD - this.ybGw;
        }
    };
    Object.defineProperty(rfjwh.reosh.Arcade.Body.prototype, "bottom", {
        get: function() {
            return this.position.y + this.height;
        }
    });
    Object.defineProperty(rfjwh.reosh.Arcade.Body.prototype, "right", {
        get: function() {
            return this.position.x + this.width;
        }
    });
    Object.defineProperty(rfjwh.reosh.Arcade.Body.prototype, "x", {
        get: function() {
            return this.position.x;
        },
        set: function(value) {
            this.position.x = value;
        }
    });
    Object.defineProperty(rfjwh.reosh.Arcade.Body.prototype, "y", {
        get: function() {
            return this.position.y;
        },
        set: function(value) {
            this.position.y = value;
        }
    });
    rfjwh.reosh.Arcade.Body.render = function(tcLv, body, color, sbNv) {
        if (typeof sbNv === 'undefined') {
            sbNv = true;
        }
        color = color || 'rgba(0,255,0,0.4)';
        if (sbNv) {
            tcLv.fillStyle = color;
            tcLv.fillRect(body.position.x - body.rfOyC.sdNw.x, body.position.y - body.rfOyC.sdNw.y, body.width, body.height);
        } else {
            tcLv.strokeStyle = color;
            tcLv.strokeRect(body.position.x - body.rfOyC.sdNw.x, body.position.y - body.rfOyC.sdNw.y, body.width, body.height);
        }
    };
    rfjwh.reosh.Arcade.Body.riJqJ = function(rbNy, body) {
        rbNy.rhJz('x: ' + body.x.toFixed(2), 'y: ' + body.y.toFixed(2), 'width: ' + body.width, 'height: ' + body.height);
        rbNy.rhJz('velocity x: ' + body.vaGv.x.toFixed(2), 'y: ' + body.vaGv.y.toFixed(2), 'deltaX: ' + body.qgIw.toFixed(2), 'deltaY: ' + body.qgIx.toFixed(2));
        rbNy.rhJz('acceleration x: ' + body.zhMt.x.toFixed(2), 'y: ' + body.zhMt.y.toFixed(2), 'shHz: ' + body.shHz.toFixed(2), 'rcOr: ' + body.rcOr.toFixed(2));
        rbNy.rhJz('gravity x: ' + body.taJw.x, 'y: ' + body.taJw.y, 'bounce x: ' + body.sdPu.x.toFixed(2), 'y: ' + body.sdPu.y.toFixed(2));
        rbNy.rhJz('touching left: ' + body.vaLu.left, 'right: ' + body.vaLu.right, 'up: ' + body.vaLu.up, 'rfHwC: ' + body.vaLu.rfHwC);
        rbNy.rhJz('blocked left: ' + body.tdKs.left, 'right: ' + body.tdKs.right, 'up: ' + body.tdKs.up, 'rfHwC: ' + body.tdKs.rfHwC);
    };
    rfjwh.reosh.Arcade.Body.prototype.constructor = rfjwh.reosh.Arcade.Body;
    rfjwh.wbns = function(rfOyC) {
        this.rfOyC = rfOyC;
        this.viJw = {};
        this.ID = 0;
    };
    rfjwh.wbns.prototype = {
        add: function(tbMv) {
            this.viJw[tbMv.name] = tbMv;
            return tbMv;
        },
        thMz: function(tbMv) {
            delete this.viJw[tbMv.name];
        },
        update: function() {
            for (var key in this.viJw) {
                if (this.viJw[key].scHu) {
                    this.viJw[key].update();
                }
            }
        }
    };
    rfjwh.wbns.prototype.constructor = rfjwh.wbns;
    rfjwh.wbns.Arcade = {};
    rfjwh.wbns.Arcade.tbmv = function(rfOyC, x, y, zeHu) {
        this.zeHu = zeHu || 50;
        rfjwh.Group.call(this, rfOyC);
        this.name = 'emitter' + this.rfOyC.wbNs.ID++;
        this.type = rfjwh.TBMV;
        this.area = new rfjwh.wbgy(x, y, 1, 1);
        this.rhMzF = new rfjwh.Point(-100, -100);
        this.rhMyC = new rfjwh.Point(100, 100);
        this.rhMzG = 1;
        this.rhMyD = 1;
        this.waLy = null;
        this.ycIv = -360;
        this.ycJz = 360;
        this.rhMzH = 1;
        this.rhMyE = 1;
        this.wiNw = null;
        this.taJw = 100;
        this.rjLsD = rfjwh.vdov;
        this.zdIt = new rfjwh.Point();
        this.ygIv = 0;
        this.wfMx = 100;
        this.vfLt = 2000;
        this.sdPu = new rfjwh.Point();
        this.on = false;
        this.riKwF = new rfjwh.Point(0.5, 0.5);
        this.wiGr = rfjwh.xgIv.NORMAL;
        this.rbIt = x;
        this.rbIu = y;
        this.wiJu = false;
        this.wiKz = false;
        this.rgPqB = false;
        this.rgPqA = false;
        this.rhKwK = new rfjwh.Point(1, 1);
        this.rhKvA = new rfjwh.Point(1, 1);
        this.wjHt = 0;
        this.sePr = 0;
        this.ubNw = 0;
        this.ubMv = true;
        this.teNq = null;
    };
    rfjwh.wbns.Arcade.tbmv.prototype = Object.create(rfjwh.Group.prototype);
    rfjwh.wbns.Arcade.tbmv.prototype.constructor = rfjwh.wbns.Arcade.tbmv;
    rfjwh.wbns.Arcade.tbmv.prototype.update = function() {
        if (this.on) {
            if (this.ubMv) {
                this.ubNw = 0;
                do {
                    this.zfPw();
                    this.ubNw++;
                } while (this.ubNw < this.wjHt);
                this.on = false;
            } else {
                if (this.rfOyC.time.now >= this.sePr) {
                    this.zfPw();
                    this.ubNw++;
                    if (this.wjHt > 0) {
                        if (this.ubNw >= this.wjHt) {
                            this.on = false;
                        }
                    }
                    this.sePr = this.rfOyC.time.now + this.wfMx;
                }
            }
        }
        var i = this.children.length;
        while (i--) {
            if (this.children[i].scHu) {
                this.children[i].update();
            }
        }
    };
    rfjwh.wbns.Arcade.tbmv.prototype.rjMtC = function(keys, frames, vdHx, tcOy, rhGqK) {
        if (typeof frames === 'undefined') {
            frames = 0;
        }
        if (typeof vdHx === 'undefined') {
            vdHx = this.zeHu;
        }
        if (typeof tcOy === 'undefined') {
            tcOy = false;
        }
        if (typeof rhGqK === 'undefined') {
            rhGqK = false;
        }
        var vdOv;
        var i = 0;
        var thKw = keys;
        var vcJt = frames;
        this.teNq = frames;
        while (i < vdHx) {
            if (Array.isArray(keys)) {
                thKw = this.rfOyC.qcHr.rgGv(keys);
            }
            if (Array.isArray(frames)) {
                vcJt = this.rfOyC.qcHr.rgGv(frames);
            }
            vdOv = new this.rjLsD(this.rfOyC, 0, 0, thKw, vcJt);
            this.rfOyC.reOsH.arcade.scJs(vdOv, false);
            if (tcOy) {
                vdOv.body.riMqH.qfOz = true;
                vdOv.body.riMqH.rgLx = false;
            } else {
                vdOv.body.riMqH.rgLx = true;
            }
            vdOv.body.rhGqK = rhGqK;
            vdOv.scHu = false;
            vdOv.rfIxE = false;
            vdOv.anchor.vjIw(this.riKwF);
            this.add(vdOv);
            i++;
        }
        return this;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.rhLy = function() {
        this.on = false;
        this.rcPt = false;
        this.scHu = false;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.thKs = function() {
        this.rcPt = true;
        this.scHu = true;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.tbJz = function(vfLt, vdHx) {
        this.rfIsA(true, vfLt, 0, vdHx, false);
    };
    rfjwh.wbns.Arcade.tbmv.prototype.riLr = function(vfLt, wfMx, vdHx) {
        this.rfIsA(false, vfLt, wfMx, vdHx, true);
    };
    rfjwh.wbns.Arcade.tbmv.prototype.rfIsA = function(tbJz, vfLt, wfMx, vdHx, rjNrE) {
        if (typeof tbJz === 'undefined') {
            tbJz = true;
        }
        if (typeof vfLt === 'undefined') {
            vfLt = 0;
        }
        if (typeof wfMx === 'undefined' || wfMx === null) {
            wfMx = 250;
        }
        if (typeof vdHx === 'undefined') {
            vdHx = 0;
        }
        if (typeof rjNrE === 'undefined') {
            rjNrE = false;
        }
        this.thKs();
        this.rfIxE = true;
        this.on = true;
        this.ubMv = tbJz;
        this.vfLt = vfLt;
        this.wfMx = wfMx;
        if (tbJz || rjNrE) {
            this.wjHt = vdHx;
        } else {
            this.wjHt += vdHx;
        }
        this.ubNw = 0;
        this.sePr = this.rfOyC.time.now + wfMx;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.zfPw = function() {
        var vdOv = this.riLqB(false);
        if (vdOv === null) {
            return;
        }
        if (this.width > 1 || this.height > 1) {
            vdOv.reset(this.rfOyC.qcHr.riLwJ(this.left, this.right), this.rfOyC.qcHr.riLwJ(this.top, this.bottom));
        } else {
            vdOv.reset(this.rbIt, this.rbIu);
        }
        vdOv.rcOr = 0;
        vdOv.vfLt = this.vfLt;
        if (this.rgPqB) {
            this.xgHz(vdOv);
        } else if (this.rgPqA) {
            this.yjMx(vdOv);
        }
        if (this.wiJu) {
            vdOv.zcHw(this.waLy);
        } else if (this.rhMzG !== 1 || this.rhMyD !== 1) {
            vdOv.scale.set(this.rfOyC.qcHr.yaOx(this.rhMzG, this.rhMyD));
        } else if ((this.rhKwK.x !== this.rhKvA.x) || (this.rhKwK.y !== this.rhKvA.y)) {
            vdOv.scale.set(this.rfOyC.qcHr.yaOx(this.rhKwK.x, this.rhKvA.x), this.rfOyC.qcHr.yaOx(this.rhKwK.y, this.rhKvA.y));
        }
        if (Array.isArray(this.teNq === 'object')) {
            vdOv.frame = this.rfOyC.qcHr.rgGv(this.teNq);
        } else {
            vdOv.frame = this.teNq;
        }
        if (this.wiKz) {
            vdOv.zcIq(this.wiNw);
        } else {
            vdOv.alpha = this.rfOyC.qcHr.yaOx(this.rhMzH, this.rhMyE);
        }
        vdOv.wiGr = this.wiGr;
        vdOv.body.zbIz();
        vdOv.body.sdPu.shMy(this.sdPu.x, this.sdPu.y);
        vdOv.body.vaGv.x = this.rfOyC.qcHr.riLwJ(this.rhMzF.x, this.rhMyC.x);
        vdOv.body.vaGv.y = this.rfOyC.qcHr.riLwJ(this.rhMzF.y, this.rhMyC.y);
        vdOv.body.riIyK = this.rfOyC.qcHr.riLwJ(this.ycIv, this.ycJz);
        vdOv.body.taJw.y = this.taJw;
        vdOv.body.rjHy.x = this.zdIt.x;
        vdOv.body.rjHy.y = this.zdIt.y;
        vdOv.body.ygIv = this.ygIv;
        vdOv.tiNq();
    };
    rfjwh.wbns.Arcade.tbmv.prototype.ufMu = function(width, height) {
        this.area.width = width;
        this.area.height = height;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.waGr = function(min, max) {
        min = min || 0;
        max = max || 0;
        this.rhMzF.x = min;
        this.rhMyC.x = max;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.waGs = function(min, max) {
        min = min || 0;
        max = max || 0;
        this.rhMzF.y = min;
        this.rhMyC.y = max;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.yaHy = function(min, max) {
        min = min || 0;
        max = max || 0;
        this.ycIv = min;
        this.ycJz = max;
    };
    rfjwh.wbns.Arcade.tbmv.prototype.vbPy = function(min, max, rfNx, rjGv, rdMv) {
        if (typeof min === 'undefined') {
            min = 1;
        }
        if (typeof max === 'undefined') {
            max = 1;
        }
        if (typeof rfNx === 'undefined') {
            rfNx = 0;
        }
        if (typeof rjGv === 'undefined') {
            rjGv = rfjwh.sckv.tjoq.rglx;
        }
        if (typeof rdMv === 'undefined') {
            rdMv = false;
        }
        this.rhMzH = min;
        this.rhMyE = max;
        this.wiKz = false;
        if (rfNx > 0 && min !== max) {
            var xiMv = {
                v: min
            };
            var sgIs = this.rfOyC.rhHy.sgIs(xiMv).to({
                v: max
            }, rfNx, rjGv);
            sgIs.rdMv(rdMv);
            this.wiNw = sgIs.zfLu(60);
            this.wiNw.reverse();
            this.wiKz = true;
        }
    };
    rfjwh.wbns.Arcade.tbmv.prototype.vbOw = function(rgOy, rgPq, rgOz, rgPr, rfNx, rjGv, rdMv) {
        if (typeof rgOy === 'undefined') {
            rgOy = 1;
        }
        if (typeof rgPq === 'undefined') {
            rgPq = 1;
        }
        if (typeof rgOz === 'undefined') {
            rgOz = 1;
        }
        if (typeof rgPr === 'undefined') {
            rgPr = 1;
        }
        if (typeof rfNx === 'undefined') {
            rfNx = 0;
        }
        if (typeof rjGv === 'undefined') {
            rjGv = rfjwh.sckv.tjoq.rglx;
        }
        if (typeof rdMv === 'undefined') {
            rdMv = false;
        }
        this.rhMzG = 1;
        this.rhMyD = 1;
        this.rhKwK.set(rgOy, rgOz);
        this.rhKvA.set(rgPq, rgPr);
        this.wiJu = false;
        if (rfNx > 0 && (rgOy !== rgPq) || (rgOz !== rgPr)) {
            var xiMv = {
                x: rgOy,
                y: rgOz
            };
            var sgIs = this.rfOyC.rhHy.sgIs(xiMv).to({
                x: rgPq,
                y: rgPr
            }, rfNx, rjGv);
            sgIs.rdMv(rdMv);
            this.waLy = sgIs.zfLu(60);
            this.waLy.reverse();
            this.wiJu = true;
        }
    };
    rfjwh.wbns.Arcade.tbmv.prototype.qjNu = function(object) {
        if (object.rfOsH) {
            this.rbIt = object.rfOsH.x;
            this.rbIu = object.rfOsH.y;
        } else {
            this.rbIt = object.world.x + (object.anchor.x * object.width);
            this.rbIu = object.world.y + (object.anchor.y * object.height);
        }
    };
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "width", {
        get: function() {
            return this.area.width;
        },
        set: function(value) {
            this.area.width = value;
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "height", {
        get: function() {
            return this.area.height;
        },
        set: function(value) {
            this.area.height = value;
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "x", {
        get: function() {
            return this.rbIt;
        },
        set: function(value) {
            this.rbIt = value;
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "y", {
        get: function() {
            return this.rbIu;
        },
        set: function(value) {
            this.rbIu = value;
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "left", {
        get: function() {
            return Math.floor(this.x - (this.area.width / 2));
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "right", {
        get: function() {
            return Math.floor(this.x + (this.area.width / 2));
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "top", {
        get: function() {
            return Math.floor(this.y - (this.area.height / 2));
        }
    });
    Object.defineProperty(rfjwh.wbns.Arcade.tbmv.prototype, "bottom", {
        get: function() {
            return Math.floor(this.y + (this.area.height / 2));
        }
    });
    rfjwh.rely = function(layer, index, x, y, width, height) {
        this.layer = layer;
        this.index = index;
        this.x = x;
        this.y = y;
        this.tfHu = x * width;
        this.tfHv = y * height;
        this.width = width;
        this.height = height;
        this.tdGs = Math.abs(width / 2);
        this.tdGt = Math.abs(height / 2);
        this.alpha = 1;
        this.reOzC = {};
        this.ufPz = false;
        this.tbIz = false;
        this.xeGr = false;
        this.vhOu = false;
        this.wfPv = false;
        this.yfJs = false;
        this.zgNt = false;
        this.whLw = false;
        this.yfJr = false;
        this.rhJrE = null;
        this.rgHtD = this;
    };
    rfjwh.rely.prototype = {
        rjOrC: function(x, y) {
            return !(x < this.tfHu || y < this.tfHv || x > this.right || y > this.bottom);
        },
        xcLy: function(x, y, right, bottom) {
            if (right <= this.tfHu) {
                return false;
            }
            if (bottom <= this.tfHv) {
                return false;
            }
            if (x >= this.tfHu + this.width) {
                return false;
            }
            if (y >= this.tfHv + this.height) {
                return false;
            }
            return true;
        },
        rgLvJ: function(uaGu, tcLv) {
            this.rhJrE = uaGu;
            this.rgHtD = tcLv;
        },
        tbPr: function() {
            this.rhJrE = null;
            this.rgHtD = null;
            this.reOzC = null;
        },
        zcIt: function(left, right, up, rfHwC) {
            this.yfJs = left;
            this.zgNt = right;
            this.whLw = up;
            this.yfJr = rfHwC;
            this.vhOu = left;
            this.wfPv = right;
            this.tbIz = up;
            this.xeGr = rfHwC;
        },
        riJqB: function() {
            this.yfJs = false;
            this.zgNt = false;
            this.whLw = false;
            this.yfJr = false;
            this.tbIz = false;
            this.xeGr = false;
            this.vhOu = false;
            this.wfPv = false;
        },
        rjMqH: function(vjLs, rbGu) {
            if (vjLs && rbGu) {
                return (this.yfJs || this.zgNt || this.whLw || this.yfJr || this.tbIz || this.xeGr || this.vhOu || this.wfPv || this.rhJrE);
            } else if (vjLs) {
                return (this.yfJs || this.zgNt || this.whLw || this.yfJr);
            } else if (rbGu) {
                return (this.tbIz || this.xeGr || this.vhOu || this.wfPv);
            }
            return false;
        },
        rjLt: function(reLy) {
            this.index = reLy.index;
            this.alpha = reLy.alpha;
            this.reOzC = reLy.reOzC;
            this.whLw = reLy.whLw;
            this.yfJr = reLy.yfJr;
            this.yfJs = reLy.yfJs;
            this.zgNt = reLy.zgNt;
            this.rhJrE = reLy.rhJrE;
            this.rgHtD = reLy.rgHtD;
        }
    };
    rfjwh.rely.prototype.constructor = rfjwh.rely;
    Object.defineProperty(rfjwh.rely.prototype, "vjLs", {
        get: function() {
            return (this.yfJs || this.zgNt || this.whLw || this.yfJr);
        }
    });
    Object.defineProperty(rfjwh.rely.prototype, "xfPw", {
        get: function() {
            return (this.yfJs || this.zgNt || this.whLw || this.yfJr || this.rhJrE);
        }
    });
    Object.defineProperty(rfjwh.rely.prototype, "left", {
        get: function() {
            return this.tfHu;
        }
    });
    Object.defineProperty(rfjwh.rely.prototype, "right", {
        get: function() {
            return this.tfHu + this.width;
        }
    });
    Object.defineProperty(rfjwh.rely.prototype, "top", {
        get: function() {
            return this.tfHv;
        }
    });
    Object.defineProperty(rfjwh.rely.prototype, "bottom", {
        get: function() {
            return this.tfHv + this.height;
        }
    });
    rfjwh.uels = function(rfOyC, key, reNrF, reNqC, width, height) {
        this.rfOyC = rfOyC;
        this.key = key;
        var data = rfjwh.rjkye.parse(this.rfOyC, key, reNrF, reNqC, width, height);
        if (data === null) {
            return;
        }
        this.width = data.width;
        this.height = data.height;
        this.reNrF = data.reNrF;
        this.reNqC = data.reNqC;
        this.reNqH = data.reNqH;
        this.format = data.format;
        this.reNrE = data.reNrE;
        this.reOzC = data.reOzC;
        this.rjJtD = data.rjJtD;
        this.riLuJ = data.riLuJ;
        this.layers = data.layers;
        this.reNqB = data.reNqB;
        this.reNrG = data.reNrG;
        this.reOzG = data.reOzG;
        this.riMrJ = [];
        this.whLz = data.whLz;
        this.images = data.images;
        this.zgJr = 0;
        this.viPz = [];
        this.ubKy = [];
        this.sfGx = 0;
        this.sfGy = 0;
    };
    rfjwh.uels.QEPW = 0;
    rfjwh.uels.YIJR = 1;
    rfjwh.uels.NORTH = 0;
    rfjwh.uels.EAST = 1;
    rfjwh.uels.SOUTH = 2;
    rfjwh.uels.WEST = 3;
    rfjwh.uels.prototype = {
        create: function(name, width, height, reNrF, reNqC, group) {
            if (typeof group === 'undefined') {
                group = this.rfOyC.world;
            }
            this.width = width;
            this.height = height;
            this.yaHz(reNrF, reNqC);
            this.layers.length = 0;
            return this.rhNvB(name, width, height, reNrF, reNqC, group);
        },
        yaHz: function(reNrF, reNqC) {
            this.reNrF = reNrF;
            this.reNqC = reNqC;
            this.rjJtD = this.width * reNrF;
            this.riLuJ = this.height * reNqC;
        },
        riIxF: function(ueLu, key, reNrF, reNqC, yiJs, zjIu, qeHu) {
            if (typeof reNrF === 'undefined') {
                reNrF = this.reNrF;
            }
            if (typeof reNqC === 'undefined') {
                reNqC = this.reNqC;
            }
            if (typeof yiJs === 'undefined') {
                yiJs = 0;
            }
            if (typeof zjIu === 'undefined') {
                zjIu = 0;
            }
            if (typeof qeHu === 'undefined') {
                qeHu = 0;
            }
            if (reNrF === 0) {
                reNrF = 32;
            }
            if (reNqC === 0) {
                reNqC = 32;
            }
            if (typeof key === 'undefined') {
                if (typeof ueLu === 'string') {
                    key = ueLu;
                    if (!this.rfOyC.rcIy.rjPzG(key)) {
                        console.warn('Mygame.Tilemap.addTilesetImage: Invalid image key given: "' + key + '"');
                        return null;
                    }
                } else {
                    return null;
                }
            }
            if (typeof ueLu === 'string') {
                ueLu = this.riGsC(ueLu);
                if (ueLu === null && this.format === rfjwh.uels.YIJR) {
                    console.warn('Mygame.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "' + key + '"');
                    return null;
                }
            }
            if (this.reNqB[ueLu]) {
                this.reNqB[ueLu].vbOr(this.rfOyC.rcIy.vhGs(key));
                return this.reNqB[ueLu];
            } else {
                var tjGv = new rfjwh.uelu(key, qeHu, reNrF, reNqC, yiJs, zjIu, {});
                tjGv.vbOr(this.rfOyC.rcIy.vhGs(key));
                this.reNqB.push(tjGv);
                var i = this.reNqB.length - 1;
                var x = yiJs;
                var y = yiJs;
                var count = 0;
                var sdGv = 0;
                var sdGw = 0;
                for (var t = qeHu; t < qeHu + tjGv.sgJq; t++) {
                    this.reNrG[t] = [x, y, i];
                    x += reNrF + zjIu;
                    count++;
                    if (count === tjGv.sgJq) {
                        break;
                    }
                    sdGv++;
                    if (sdGv === tjGv.columns) {
                        x = yiJs;
                        y += reNqC + zjIu;
                        sdGv = 0;
                        sdGw++;
                        if (sdGw === tjGv.rfLy) {
                            break;
                        }
                    }
                }
                return tjGv;
            }
            return null;
        },
        rhJsD: function(name, qeHu, key, frame, scHu, uaMu, group, yepw, teHt) {
            if (typeof scHu === 'undefined') {
                scHu = true;
            }
            if (typeof uaMu === 'undefined') {
                uaMu = false;
            }
            if (typeof group === 'undefined') {
                group = this.rfOyC.world;
            }
            if (typeof yepw === 'undefined') {
                yepw = rfjwh.rfisb;
            }
            if (typeof teHt === 'undefined') {
                teHt = true;
            }
            if (!this.reOzG[name]) {
                console.warn('Tilemap.createFromObjects: Invalid objectgroup name given: ' + name);
                return;
            }
            var rfIsB;
            for (var i = 0, qdMy = this.reOzG[name].length; i < qdMy; i++) {
                if (this.reOzG[name][i].qeHu === qeHu) {
                    rfIsB = new yepw(this.rfOyC, this.reOzG[name][i].x, this.reOzG[name][i].y, key, frame);
                    rfIsB.name = this.reOzG[name][i].name;
                    rfIsB.rfIxE = this.reOzG[name][i].rfIxE;
                    rfIsB.uaMu = uaMu;
                    rfIsB.scHu = scHu;
                    if (teHt) {
                        rfIsB.y -= rfIsB.height;
                    }
                    group.add(rfIsB);
                    for (var vdIx in this.reOzG[name][i].reOzC) {
                        group.set(rfIsB, vdIx, this.reOzG[name][i].reOzC[vdIx], false, false, 0, true);
                    }
                }
            }
        },
        yfGw: function(layer, width, height, group) {
            if (typeof width === 'undefined') {
                width = this.rfOyC.width;
            }
            if (typeof height === 'undefined') {
                height = this.rfOyC.height;
            }
            if (typeof group === 'undefined') {
                group = this.rfOyC.world;
            }
            var index = layer;
            if (typeof layer === 'string') {
                index = this.rjNuC(layer);
            }
            if (index === null || index > this.layers.length) {
                console.warn('Tilemap.createLayer: Invalid layer ID given: ' + index);
                return;
            }
            return group.add(new rfjwh.zbku(this.rfOyC, this, index, width, height));
        },
        rhNvB: function(name, width, height, reNrF, reNqC, group) {
            if (typeof group === 'undefined') {
                group = this.rfOyC.world;
            }
            if (this.rjNuC(name) !== null) {
                console.warn('Tilemap.createBlankLayer: Layer with matching name already exists');
                return;
            }
            var layer = {
                name: name,
                x: 0,
                y: 0,
                width: width,
                height: height,
                rjJtD: width * reNrF,
                riLuJ: height * reNqC,
                alpha: 1,
                rfIxE: true,
                reOzC: {},
                ujNu: [],
                whOy: [],
                seGy: [],
                data: null
            };
            var qcHu;
            var tiMy = [];
            for (var y = 0; y < height; y++) {
                qcHu = [];
                for (var x = 0; x < width; x++) {
                    qcHu.push(new rfjwh.rely(layer, -1, x, y, reNrF, reNqC));
                }
                tiMy.push(qcHu);
            }
            layer.data = tiMy;
            this.layers.push(layer);
            this.zgJr = this.layers.length - 1;
            var w = layer.rjJtD;
            var h = layer.riLuJ;
            if (w > this.rfOyC.width) {
                w = this.rfOyC.width;
            }
            if (h > this.rfOyC.height) {
                h = this.rfOyC.height;
            }
            var tiMy = new rfjwh.zbku(this.rfOyC, this, this.layers.length - 1, w, h);
            tiMy.name = name;
            return group.add(tiMy);
        },
        vhGt: function(location, name) {
            for (var i = 0; i < location.length; i++) {
                if (location[i].name === name) {
                    return i;
                }
            }
            return null;
        },
        rjNuC: function(name) {
            return this.vhGt(this.layers, name);
        },
        riGsC: function(name) {
            return this.vhGt(this.reNqB, name);
        },
        rjNuD: function(name) {
            return this.vhGt(this.images, name);
        },
        riLrC: function(name) {
            return this.vhGt(this.reOzG, name);
        },
        rgLvD: function(ujNu, uaGu, riHrD, layer) {
            layer = this.vhGu(layer);
            if (typeof ujNu === 'number') {
                this.layers[layer].whOy[ujNu] = {
                    uaGu: uaGu,
                    riHrD: riHrD
                };
            } else {
                for (var i = 0, qdMy = ujNu.length; i < qdMy; i++) {
                    this.layers[layer].whOy[ujNu[i]] = {
                        uaGu: uaGu,
                        riHrD: riHrD
                    };
                }
            }
        },
        rgHqC: function(x, y, width, height, uaGu, riHrD, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            for (var i = 1; i < this.ubKy.length; i++) {
                this.ubKy[i].rgLvJ(uaGu, riHrD);
            }
        },
        zcIt: function(ujNu, vjLs, layer, yaOy) {
            if (typeof vjLs === 'undefined') {
                vjLs = true;
            }
            if (typeof yaOy === 'undefined') {
                yaOy = true;
            }
            layer = this.vhGu(layer);
            if (typeof ujNu === 'number') {
                return this.rgNwF(ujNu, vjLs, layer, true);
            } else {
                for (var i = 0, qdMy = ujNu.length; i < qdMy; i++) {
                    this.rgNwF(ujNu[i], vjLs, layer, false);
                }
                if (yaOy) {
                    this.riNyA(layer);
                }
            }
        },
        rgNwG: function(rfIsA, stop, vjLs, layer, yaOy) {
            if (typeof vjLs === 'undefined') {
                vjLs = true;
            }
            if (typeof yaOy === 'undefined') {
                yaOy = true;
            }
            layer = this.vhGu(layer);
            if (rfIsA > stop) {
                return;
            }
            for (var index = rfIsA; index <= stop; index++) {
                this.rgNwF(index, vjLs, layer, false);
            }
            if (yaOy) {
                this.riNyA(layer);
            }
        },
        rgHqE: function(ujNu, vjLs, layer, yaOy) {
            if (typeof vjLs === 'undefined') {
                vjLs = true;
            }
            if (typeof yaOy === 'undefined') {
                yaOy = true;
            }
            layer = this.vhGu(layer);
            for (var i = 0, qdMy = this.reNrG.length; i < qdMy; i++) {
                if (ujNu.indexOf(i) === -1) {
                    this.rgNwF(i, vjLs, layer, false);
                }
            }
            if (yaOy) {
                this.riNyA(layer);
            }
        },
        rgNwF: function(index, vjLs, layer, yaOy) {
            if (typeof vjLs === 'undefined') {
                vjLs = true;
            }
            if (typeof layer === 'undefined') {
                layer = this.zgJr;
            }
            if (typeof yaOy === 'undefined') {
                yaOy = true;
            }
            if (vjLs) {
                this.riMrJ.push(index);
            } else {
                var i = this.riMrJ.indexOf(index);
                if (i > -1) {
                    this.riMrJ.splice(i, 1);
                }
            }
            for (var y = 0; y < this.layers[layer].height; y++) {
                for (var x = 0; x < this.layers[layer].width; x++) {
                    var reLy = this.layers[layer].data[y][x];
                    if (reLy && reLy.index === index) {
                        if (vjLs) {
                            reLy.zcIt(true, true, true, true);
                        } else {
                            reLy.riJqB();
                        }
                        reLy.tbIz = vjLs;
                        reLy.xeGr = vjLs;
                        reLy.vhOu = vjLs;
                        reLy.wfPv = vjLs;
                    }
                }
            }
            if (yaOy) {
                this.riNyA(layer);
            }
            return layer;
        },
        vhGu: function(layer) {
            if (typeof layer === 'undefined') {
                layer = this.zgJr;
            } else if (typeof layer === 'string') {
                layer = this.rjNuC(layer);
            } else if (layer instanceof rfjwh.zbku) {
                layer = layer.index;
            }
            return layer;
        },
        rgJrJ: function(value) {
            if ((value === true) && (this.rgKzK !== true)) {
                this.rgKzK = true;
                this.rhIsA = {};
            }
            if ((value === false) && (this.rgKzK === true)) {
                this.rgKzK = false;
                for (var i in this.rhIsA) {
                    this.riNyA(i);
                }
                this.rhIsA = false;
            }
        },
        riNyA: function(layer) {
            if (this.rgKzK) {
                this.rhIsA[layer] = true;
                return;
            }
            var rdHw = null;
            var rcLu = null;
            var left = null;
            var right = null;
            for (var y = 0, h = this.layers[layer].height; y < h; y++) {
                for (var x = 0, w = this.layers[layer].width; x < w; x++) {
                    var reLy = this.layers[layer].data[y][x];
                    if (reLy) {
                        rdHw = this.zfIq(layer, x, y);
                        rcLu = this.zfIr(layer, x, y);
                        left = this.ydLx(layer, x, y);
                        right = this.zfIs(layer, x, y);
                        if (reLy.vjLs) {
                            reLy.tbIz = true;
                            reLy.xeGr = true;
                            reLy.vhOu = true;
                            reLy.wfPv = true;
                        }
                        if (rdHw && rdHw.vjLs) {
                            reLy.tbIz = false;
                        }
                        if (rcLu && rcLu.vjLs) {
                            reLy.xeGr = false;
                        }
                        if (left && left.vjLs) {
                            reLy.vhOu = false;
                        }
                        if (right && right.vjLs) {
                            reLy.wfPv = false;
                        }
                    }
                }
            }
        },
        zfIq: function(layer, x, y) {
            if (y > 0) {
                return this.layers[layer].data[y - 1][x];
            }
            return null;
        },
        zfIr: function(layer, x, y) {
            if (y < this.layers[layer].height - 1) {
                return this.layers[layer].data[y + 1][x];
            }
            return null;
        },
        ydLx: function(layer, x, y) {
            if (x > 0) {
                return this.layers[layer].data[y][x - 1];
            }
            return null;
        },
        zfIs: function(layer, x, y) {
            if (x < this.layers[layer].width - 1) {
                return this.layers[layer].data[y][x + 1];
            }
            return null;
        },
        vbOs: function(layer) {
            layer = this.vhGu(layer);
            if (this.layers[layer]) {
                this.zgJr = layer;
            }
        },
        taHr: function(x, y, layer) {
            layer = this.vhGu(layer);
            return (this.layers[layer].data[y][x].index > -1);
        },
        xaIy: function(x, y, layer) {
            layer = this.vhGu(layer);
            if (x >= 0 && x < this.layers[layer].width && y >= 0 && y < this.layers[layer].height) {
                if (this.taHr(x, y, layer)) {
                    var reLy = this.layers[layer].data[y][x];
                    this.layers[layer].data[y][x] = new rfjwh.rely(this.layers[layer], -1, x, y, this.reNrF, this.reNqC);
                    this.layers[layer].rbLu = true;
                    this.riNyA(layer);
                    return reLy;
                }
            }
        },
        rhIwA: function(x, y, reNrF, reNqC, layer) {
            layer = this.vhGu(layer);
            x = this.rfOyC.math.zjOq(x, reNrF) / reNrF;
            y = this.rfOyC.math.zjOq(y, reNqC) / reNqC;
            return this.xaIy(x, y, layer);
        },
        ugNu: function(reLy, x, y, layer) {
            if (reLy === null) {
                return this.xaIy(x, y, layer);
            }
            layer = this.vhGu(layer);
            if (x >= 0 && x < this.layers[layer].width && y >= 0 && y < this.layers[layer].height) {
                var index;
                if (reLy instanceof rfjwh.rely) {
                    index = reLy.index;
                    if (this.taHr(x, y, layer)) {
                        this.layers[layer].data[y][x].rjLt(reLy);
                    } else {
                        this.layers[layer].data[y][x] = new rfjwh.rely(layer, index, x, y, reLy.width, reLy.height);
                    }
                } else {
                    index = reLy;
                    if (this.taHr(x, y, layer)) {
                        this.layers[layer].data[y][x].index = index;
                    } else {
                        this.layers[layer].data[y][x] = new rfjwh.rely(this.layers[layer], index, x, y, this.reNrF, this.reNqC);
                    }
                }
                if (this.riMrJ.indexOf(index) > -1) {
                    this.layers[layer].data[y][x].zcIt(true, true, true, true);
                } else {
                    this.layers[layer].data[y][x].riJqB();
                }
                this.layers[layer].rbLu = true;
                this.riNyA(layer);
                return this.layers[layer].data[y][x];
            }
            return null;
        },
        riKzJ: function(reLy, x, y, reNrF, reNqC, layer) {
            layer = this.vhGu(layer);
            x = this.rfOyC.math.zjOq(x, reNrF) / reNrF;
            y = this.rfOyC.math.zjOq(y, reNqC) / reNqC;
            return this.ugNu(reLy, x, y, layer);
        },
        rhPyF: function(index, reOwC, reverse, layer) {
            if (typeof reOwC === 'undefined') {
                reOwC = 0;
            }
            if (typeof reverse === 'undefined') {
                reverse = false;
            }
            layer = this.vhGu(layer);
            var c = 0;
            if (reverse) {
                for (var y = this.layers[layer].height - 1; y >= 0; y--) {
                    for (var x = this.layers[layer].width - 1; x >= 0; x--) {
                        if (this.layers[layer].data[y][x].index === index) {
                            if (c === reOwC) {
                                return this.layers[layer].data[y][x];
                            } else {
                                c++;
                            }
                        }
                    }
                }
            } else {
                for (var y = 0; y < this.layers[layer].height; y++) {
                    for (var x = 0; x < this.layers[layer].width; x++) {
                        if (this.layers[layer].data[y][x].index === index) {
                            if (c === reOwC) {
                                return this.layers[layer].data[y][x];
                            } else {
                                c++;
                            }
                        }
                    }
                }
            }
            return null;
        },
        taKw: function(x, y, layer, uhPs) {
            if (typeof uhPs === 'undefined') {
                uhPs = false;
            }
            layer = this.vhGu(layer);
            if (x >= 0 && x < this.layers[layer].width && y >= 0 && y < this.layers[layer].height) {
                if (this.layers[layer].data[y][x].index === -1) {
                    if (uhPs) {
                        return this.layers[layer].data[y][x];
                    } else {
                        return null;
                    }
                } else {
                    return this.layers[layer].data[y][x];
                }
            } else {
                return null;
            }
        },
        riLsD: function(x, y, reNrF, reNqC, layer) {
            if (typeof reNrF === 'undefined') {
                reNrF = this.reNrF;
            }
            if (typeof reNqC === 'undefined') {
                reNqC = this.reNqC;
            }
            layer = this.vhGu(layer);
            x = this.rfOyC.math.zjOq(x, reNrF) / reNrF;
            y = this.rfOyC.math.zjOq(y, reNqC) / reNqC;
            return this.taKw(x, y, layer);
        },
        rjLt: function(x, y, width, height, layer) {
            layer = this.vhGu(layer);
            if (!this.layers[layer]) {
                this.ubKy.length = 0;
                return;
            }
            if (typeof x === "undefined") {
                x = 0;
            }
            if (typeof y === "undefined") {
                y = 0;
            }
            if (typeof width === "undefined") {
                width = this.layers[layer].width;
            }
            if (typeof height === "undefined") {
                height = this.layers[layer].height;
            }
            if (x < 0) {
                x = 0;
            }
            if (y < 0) {
                y = 0;
            }
            if (width > this.layers[layer].width) {
                width = this.layers[layer].width;
            }
            if (height > this.layers[layer].height) {
                height = this.layers[layer].height;
            }
            this.ubKy.length = 0;
            this.ubKy.push({
                x: x,
                y: y,
                width: width,
                height: height,
                layer: layer
            });
            for (var qhHy = y; qhHy < y + height; qhHy++) {
                for (var qhHx = x; qhHx < x + width; qhHx++) {
                    this.ubKy.push(this.layers[layer].data[qhHy][qhHx]);
                }
            }
            return this.ubKy;
        },
        siJt: function(x, y, xiPq, layer) {
            if (typeof x === "undefined") {
                x = 0;
            }
            if (typeof y === "undefined") {
                y = 0;
            }
            layer = this.vhGu(layer);
            if (!xiPq || xiPq.length < 2) {
                return;
            }
            var rbLq = xiPq[1].x - x;
            var rbLr = xiPq[1].y - y;
            for (var i = 1; i < xiPq.length; i++) {
                this.layers[layer].data[rbLr + xiPq[i].y][rbLq + xiPq[i].x].rjLt(xiPq[i]);
            }
            this.layers[layer].rbLu = true;
            this.riNyA(layer);
        },
        reNw: function(sgLx, sgLy, x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            this.sfGx = sgLx;
            this.sfGy = sgLy;
            this.ubKy.forEach(this.zjLy, this);
            this.siJt(x, y, this.ubKy, layer);
        },
        zjLy: function(value) {
            if (value.index === this.sfGx) {
                value.index = this.sfGy;
            } else if (value.index === this.sfGy) {
                value.index = this.sfGx;
            }
        },
        forEach: function(uaGu, tcLv, x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            this.ubKy.forEach(uaGu, tcLv);
            this.siJt(x, y, this.ubKy, layer);
        },
        replace: function(source, rjIt, x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            for (var i = 1; i < this.ubKy.length; i++) {
                if (this.ubKy[i].index === source) {
                    this.ubKy[i].index = rjIt;
                }
            }
            this.siJt(x, y, this.ubKy, layer);
        },
        random: function(x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            var ujNu = [];
            for (var t = 1; t < this.ubKy.length; t++) {
                if (this.ubKy[t].index) {
                    var qdOv = this.ubKy[t].index;
                    if (ujNu.indexOf(qdOv) === -1) {
                        ujNu.push(qdOv);
                    }
                }
            }
            for (var i = 1; i < this.ubKy.length; i++) {
                this.ubKy[i].index = this.rfOyC.qcHr.rgGv(ujNu);
            }
            this.siJt(x, y, this.ubKy, layer);
        },
        ufKv: function(x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            var ujNu = [];
            for (var t = 1; t < this.ubKy.length; t++) {
                if (this.ubKy[t].index) {
                    ujNu.push(this.ubKy[t].index);
                }
            }
            rfjwh.sggx.ufKv(ujNu);
            for (var i = 1; i < this.ubKy.length; i++) {
                this.ubKy[i].index = ujNu[i - 1];
            }
            this.siJt(x, y, this.ubKy, layer);
        },
        fill: function(index, x, y, width, height, layer) {
            layer = this.vhGu(layer);
            this.rjLt(x, y, width, height, layer);
            if (this.ubKy.length < 2) {
                return;
            }
            for (var i = 1; i < this.ubKy.length; i++) {
                this.ubKy[i].index = index;
            }
            this.siJt(x, y, this.ubKy, layer);
        },
        rhPxH: function() {
            this.layers.length = 0;
            this.zgJr = 0;
        },
        rjGt: function() {
            var qbLy = '';
            var rePuH = [''];
            for (var y = 0; y < this.layers[this.zgJr].height; y++) {
                for (var x = 0; x < this.layers[this.zgJr].width; x++) {
                    qbLy += "%c  ";
                    if (this.layers[this.zgJr].data[y][x] > 1) {
                        if (this.viPz[this.layers[this.zgJr].data[y][x]]) {
                            rePuH.push("background: " + this.viPz[this.layers[this.zgJr].data[y][x]]);
                        } else {
                            rePuH.push("background: #ffffff");
                        }
                    } else {
                        rePuH.push("background: rgb(0, 0, 0)");
                    }
                }
                qbLy += "\n";
            }
            rePuH[0] = qbLy;
            console.log.apply(console, rePuH);
        },
        tbPr: function() {
            this.rhPxH();
            this.data = [];
            this.rfOyC = null;
        }
    };
    rfjwh.uels.prototype.constructor = rfjwh.uels;
    Object.defineProperty(rfjwh.uels.prototype, "layer", {
        get: function() {
            return this.layers[this.zgJr];
        },
        set: function(value) {
            if (value !== this.zgJr) {
                this.vbOs(value);
            }
        }
    });
    rfjwh.zbku = function(rfOyC, ueLs, index, width, height) {
        this.rfOyC = rfOyC;
        this.map = ueLs;
        this.index = index;
        this.layer = ueLs.layers[index];
        this.canvas = rfjwh.Canvas.create(width, height, '', true);
        this.tcLv = this.canvas.getContext('2d');
        this.yfPx = new RGGW.yfpx(this.canvas);
        this.ueMt = new RGGW.uemt(this.yfPx);
        this.zbLx = new rfjwh.Frame(0, 0, 0, width, height, 'tilemapLayer', rfOyC.qcHr.reIw());
        rfjwh.Image.call(this, this.rfOyC, 0, 0, this.ueMt, this.zbLx);
        this.name = '';
        this.type = rfjwh.ZBKU;
        this.rjNrH = true;
        this.zgPr = new rfjwh.Point(0, 0);
        this.xiPr = 'rgb(255, 255, 255)';
        this.rbNy = false;
        this.xfGz = 0.5;
        this.xePq = 'rgba(0, 255, 0, 1)';
        this.whGs = false;
        this.riMuF = 'rgba(0, 255, 0, 0.2)';
        this.rhGrE = 'rgba(255, 0, 0, 1)';
        this.rjKqJ = 1;
        this.rjKqH = 1;
        this.rbLu = true;
        this.yaOv = 4;
        this.rdNv = false;
        this.qgHq = {
            qjKy: ueLs.reNrF,
            qjKs: ueLs.reNqC,
            qiPy: 1,
            qjIu: 0,
            qjIv: 0,
            qjIt: 0,
            qjJx: 0,
            qhHx: 0,
            qhHy: 0,
            qhHw: 0,
            qhHr: 0,
            qhHs: 0,
            rgPq: 0,
            rgPr: 0,
            tgKt: 0,
            tgKu: 0,
            x: 0,
            y: 0,
            siHw: 0,
            siHx: 0
        };
        this.ubKy = [];
        this.xiKz();
    };
    rfjwh.zbku.prototype = Object.create(rfjwh.Image.prototype);
    rfjwh.zbku.prototype.constructor = rfjwh.zbku;
    rfjwh.zbku.prototype.xaNx = function() {
        rfjwh.Image.prototype.xaNx.call(this);
        this.scrollX = this.rfOyC.sdNw.x * this.rjKqJ;
        this.scrollY = this.rfOyC.sdNw.y * this.rjKqH;
        this.render();
        if (this.sfIr[7] === 1) {
            this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
            this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
        }
    };
    rfjwh.zbku.prototype.yaLu = function() {
        this.rfOyC.world.waIw(0, 0, this.layer.rjJtD, this.layer.riLuJ);
    };
    rfjwh.zbku.prototype.rdKu = function(x) {
        if (x < 0) {
            x = 0;
        }
        if (this.rjKqJ === 1) {
            return x;
        }
        return this.qgHq.x + (x - (this.qgHq.x / this.rjKqJ));
    };
    rfjwh.zbku.prototype.teKx = function(x) {
        if (this.rjKqJ === 1) {
            return x;
        }
        return (this.qgHq.x / this.rjKqJ) + (x - this.qgHq.x);
    };
    rfjwh.zbku.prototype.rdKv = function(y) {
        if (y < 0) {
            y = 0;
        }
        if (this.rjKqH === 1) {
            return y;
        }
        return this.qgHq.y + (y - (this.qgHq.y / this.rjKqH));
    };
    rfjwh.zbku.prototype.teKy = function(y) {
        if (this.rjKqH === 1) {
            return y;
        }
        return (this.qgHq.y / this.rjKqH) + (y - this.qgHq.y);
    };
    rfjwh.zbku.prototype.vgPs = function(x) {
        return this.rfOyC.math.zjOq(this.rdKu(x), this.map.reNrF) / this.map.reNrF;
    };
    rfjwh.zbku.prototype.vgPt = function(y) {
        return this.rfOyC.math.zjOq(this.rdKv(y), this.map.reNqC) / this.map.reNqC;
    };
    rfjwh.zbku.prototype.wfHq = function(x, y, point) {
        point.x = this.vgPs(x);
        point.y = this.vgPt(y);
        return point;
    };
    rfjwh.zbku.prototype.riGsG = function(rhJz, vbIq, vjLs, riGuJ) {
        if (typeof vbIq === 'undefined' || vbIq === null) {
            vbIq = this.yaOv;
        }
        if (typeof vjLs === 'undefined') {
            vjLs = false;
        }
        if (typeof riGuJ === 'undefined') {
            riGuJ = false;
        }
        var reNrG = this.vgPr(rhJz.x, rhJz.y, rhJz.width, rhJz.height, vjLs, riGuJ);
        if (reNrG.length === 0) {
            return [];
        }
        var sdHw = rhJz.rhJrA(vbIq);
        var sgJq = sdHw.length;
        var ugHu = [];
        for (var i = 0; i < reNrG.length; i++) {
            for (var t = 0; t < sgJq; t++) {
                if (reNrG[i].rjOrC(sdHw[t][0], sdHw[t][1])) {
                    ugHu.push(reNrG[i]);
                    break;
                }
            }
        }
        return ugHu;
    };
    rfjwh.zbku.prototype.vgPr = function(x, y, width, height, vjLs, riGuJ) {
        if (typeof vjLs === 'undefined') {
            vjLs = false;
        }
        if (typeof riGuJ === 'undefined') {
            riGuJ = false;
        }
        x = this.rdKu(x);
        y = this.rdKv(y);
        if (width > this.layer.rjJtD) {
            width = this.layer.rjJtD;
        }
        if (height > this.layer.riLuJ) {
            height = this.layer.riLuJ;
        }
        this.qgHq.qhHx = this.rfOyC.math.zjOq(x, this.qgHq.qjKy) / this.qgHq.qjKy;
        this.qgHq.qhHy = this.rfOyC.math.zjOq(y, this.qgHq.qjKs) / this.qgHq.qjKs;
        this.qgHq.qhHw = (this.rfOyC.math.yjIz(width, this.qgHq.qjKy) + this.qgHq.qjKy) / this.qgHq.qjKy;
        this.qgHq.qhHr = (this.rfOyC.math.yjIz(height, this.qgHq.qjKs) + this.qgHq.qjKs) / this.qgHq.qjKs;
        this.ubKy.length = 0;
        for (var qgMs = this.qgHq.qhHy; qgMs < this.qgHq.qhHy + this.qgHq.qhHr; qgMs++) {
            for (var qgMr = this.qgHq.qhHx; qgMr < this.qgHq.qhHx + this.qgHq.qhHw; qgMr++) {
                if (this.layer.data[qgMs] && this.layer.data[qgMs][qgMr]) {
                    if ((!vjLs && !riGuJ) || this.layer.data[qgMs][qgMr].rjMqH(vjLs, riGuJ)) {
                        this.ubKy.push(this.layer.data[qgMs][qgMr]);
                    }
                }
            }
        }
        return this.ubKy;
    };
    rfjwh.zbku.prototype.xiKz = function() {
        this.qgHq.rgPq = this.rfOyC.math.ceil(this.canvas.width / this.map.reNrF) + 1;
        this.qgHq.rgPr = this.rfOyC.math.ceil(this.canvas.height / this.map.reNqC) + 1;
        this.rbLu = true;
    };
    rfjwh.zbku.prototype.render = function() {
        if (this.layer.rbLu) {
            this.rbLu = true;
        }
        if (!this.rbLu || !this.rfIxE) {
            return;
        }
        this.qgHq.siHw = this.qgHq.qjIu;
        this.qgHq.siHx = this.qgHq.qjIv;
        this.qgHq.qjIu = -(this.qgHq.x - (this.qgHq.tgKt * this.map.reNrF));
        this.qgHq.qjIv = -(this.qgHq.y - (this.qgHq.tgKu * this.map.reNqC));
        this.qgHq.qhHx = this.qgHq.qjIu;
        this.qgHq.qhHy = this.qgHq.qjIv;
        this.tcLv.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.tcLv.fillStyle = this.xiPr;
        var reLy;
        var set;
        if (this.rbNy) {
            this.tcLv.globalAlpha = this.xfGz;
        }
        for (var y = this.qgHq.tgKu, rhJr = this.qgHq.tgKu + this.qgHq.rgPr; y < rhJr; y++) {
            this.teOu = null;
            if (y < 0 && this.rdNv) {
                this.teOu = this.layer.data[y + this.map.height];
            } else if (y >= this.map.height && this.rdNv) {
                this.teOu = this.layer.data[y - this.map.height];
            } else if (this.layer.data[y]) {
                this.teOu = this.layer.data[y];
            }
            if (this.teOu) {
                for (var x = this.qgHq.tgKt, rhJq = this.qgHq.tgKt + this.qgHq.rgPq; x < rhJq; x++) {
                    var reLy = null;
                    if (x < 0 && this.rdNv) {
                        reLy = this.teOu[x + this.map.width];
                    } else if (x >= this.map.width && this.rdNv) {
                        reLy = this.teOu[x - this.map.width];
                    } else if (this.teOu[x]) {
                        reLy = this.teOu[x];
                    }
                    if (reLy && reLy.index > -1) {
                        set = this.map.reNqB[this.map.reNrG[reLy.index][2]];
                        if (this.rbNy === false && reLy.alpha !== this.tcLv.globalAlpha) {
                            this.tcLv.globalAlpha = reLy.alpha;
                        }
                        set.rjHz(this.tcLv, Math.floor(this.qgHq.qhHx), Math.floor(this.qgHq.qhHy), reLy.index);
                        if (reLy.rbNy) {
                            this.tcLv.fillStyle = 'rgba(0, 255, 0, 0.4)';
                            this.tcLv.fillRect(Math.floor(this.qgHq.qhHx), Math.floor(this.qgHq.qhHy), this.map.reNrF, this.map.reNqC);
                        }
                    }
                    this.qgHq.qhHx += this.map.reNrF;
                }
            }
            this.qgHq.qhHx = this.qgHq.qjIu;
            this.qgHq.qhHy += this.map.reNqC;
        }
        if (this.rbNy) {
            this.tcLv.globalAlpha = 1;
            this.yaMu();
        }
        this.ueMt.xgPr();
        this.rbLu = false;
        this.layer.rbLu = false;
        return true;
    };
    rfjwh.zbku.prototype.yaMu = function() {
        this.qgHq.qhHx = this.qgHq.qjIu;
        this.qgHq.qhHy = this.qgHq.qjIv;
        this.tcLv.strokeStyle = this.xePq;
        this.tcLv.fillStyle = this.riMuF;
        for (var y = this.qgHq.tgKu, rhJr = this.qgHq.tgKu + this.qgHq.rgPr; y < rhJr; y++) {
            this.teOu = null;
            if (y < 0 && this.rdNv) {
                this.teOu = this.layer.data[y + this.map.height];
            } else if (y >= this.map.height && this.rdNv) {
                this.teOu = this.layer.data[y - this.map.height];
            } else if (this.layer.data[y]) {
                this.teOu = this.layer.data[y];
            }
            if (this.teOu) {
                for (var x = this.qgHq.tgKt, rhJq = this.qgHq.tgKt + this.qgHq.rgPq; x < rhJq; x++) {
                    var reLy = null;
                    if (x < 0 && this.rdNv) {
                        reLy = this.teOu[x + this.map.width];
                    } else if (x >= this.map.width && this.rdNv) {
                        reLy = this.teOu[x - this.map.width];
                    } else if (this.teOu[x]) {
                        reLy = this.teOu[x];
                    }
                    if (reLy && (reLy.tbIz || reLy.xeGr || reLy.vhOu || reLy.wfPv)) {
                        this.qgHq.qhHx = Math.floor(this.qgHq.qhHx);
                        if (this.whGs) {
                            this.tcLv.fillRect(this.qgHq.qhHx, this.qgHq.qhHy, this.qgHq.qjKy, this.qgHq.qjKs);
                        }
                        this.tcLv.beginPath();
                        if (reLy.tbIz) {
                            this.tcLv.moveTo(this.qgHq.qhHx, this.qgHq.qhHy);
                            this.tcLv.lineTo(this.qgHq.qhHx + this.qgHq.qjKy, this.qgHq.qhHy);
                        }
                        if (reLy.xeGr) {
                            this.tcLv.moveTo(this.qgHq.qhHx, this.qgHq.qhHy + this.qgHq.qjKs);
                            this.tcLv.lineTo(this.qgHq.qhHx + this.qgHq.qjKy, this.qgHq.qhHy + this.qgHq.qjKs);
                        }
                        if (reLy.vhOu) {
                            this.tcLv.moveTo(this.qgHq.qhHx, this.qgHq.qhHy);
                            this.tcLv.lineTo(this.qgHq.qhHx, this.qgHq.qhHy + this.qgHq.qjKs);
                        }
                        if (reLy.wfPv) {
                            this.tcLv.moveTo(this.qgHq.qhHx + this.qgHq.qjKy, this.qgHq.qhHy);
                            this.tcLv.lineTo(this.qgHq.qhHx + this.qgHq.qjKy, this.qgHq.qhHy + this.qgHq.qjKs);
                        }
                        this.tcLv.stroke();
                    }
                    this.qgHq.qhHx += this.map.reNrF;
                }
            }
            this.qgHq.qhHx = this.qgHq.qjIu;
            this.qgHq.qhHy += this.map.reNqC;
        }
    };
    Object.defineProperty(rfjwh.zbku.prototype, "scrollX", {
        get: function() {
            return this.qgHq.x;
        },
        set: function(value) {
            if (value !== this.qgHq.x) {
                this.qgHq.x = value;
                this.qgHq.tgKt = this.rfOyC.math.floor(this.qgHq.x / this.map.reNrF);
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.zbku.prototype, "scrollY", {
        get: function() {
            return this.qgHq.y;
        },
        set: function(value) {
            if (value !== this.qgHq.y) {
                this.qgHq.y = value;
                this.qgHq.tgKu = this.rfOyC.math.floor(this.qgHq.y / this.map.reNqC);
                this.rbLu = true;
            }
        }
    });
    Object.defineProperty(rfjwh.zbku.prototype, "riMrH", {
        get: function() {
            return this.qgHq.qjKy;
        },
        set: function(value) {
            this.qgHq.qjKy = value;
            this.rbLu = true;
        }
    });
    Object.defineProperty(rfjwh.zbku.prototype, "riHtB", {
        get: function() {
            return this.qgHq.qjKs;
        },
        set: function(value) {
            this.qgHq.qjKs = value;
            this.rbLu = true;
        }
    });
    rfjwh.rjkye = {
        parse: function(rfOyC, key, reNrF, reNqC, width, height) {
            if (typeof reNrF === 'undefined') {
                reNrF = 32;
            }
            if (typeof reNqC === 'undefined') {
                reNqC = 32;
            }
            if (typeof width === 'undefined') {
                width = 10;
            }
            if (typeof height === 'undefined') {
                height = 10;
            }
            if (typeof key === 'undefined') {
                return this.zfKq();
            }
            if (key === null) {
                return this.zfKq(reNrF, reNqC, width, height);
            }
            var map = rfOyC.rcIy.riLsE(key);
            if (map) {
                if (map.format === rfjwh.uels.QEPW) {
                    return this.vdOt(key, map.data, reNrF, reNqC);
                } else if (!map.format || map.format === rfjwh.uels.YIJR) {
                    return this.riKwH(map.data);
                }
            } else {
                console.warn('Mygame.TilemapParser.parse - No map data found for key ' + key);
            }
        },
        vdOt: function(key, data, reNrF, reNqC) {
            var map = this.zfKq();
            data = data.trim();
            var tiMy = [];
            var rfLy = data.split("\n");
            var height = rfLy.length;
            var width = 0;
            for (var y = 0; y < rfLy.length; y++) {
                tiMy[y] = [];
                var sdIy = rfLy[y].split(",");
                for (var x = 0; x < sdIy.length; x++) {
                    tiMy[y][x] = new rfjwh.rely(map.layers[0], parseInt(sdIy[x], 10), x, y, reNrF, reNqC);
                }
                if (width === 0) {
                    width = sdIy.length;
                }
            }
            map.format = rfjwh.uels.QEPW;
            map.name = key;
            map.width = width;
            map.height = height;
            map.reNrF = reNrF;
            map.reNqC = reNqC;
            map.rjJtD = width * reNrF;
            map.riLuJ = height * reNqC;
            map.layers[0].width = width;
            map.layers[0].height = height;
            map.layers[0].rjJtD = map.rjJtD;
            map.layers[0].riLuJ = map.riLuJ;
            map.layers[0].data = tiMy;
            return map;
        },
        zfKq: function(reNrF, reNqC, width, height) {
            var map = {};
            map.width = 0;
            map.height = 0;
            map.reNrF = 0;
            map.reNqC = 0;
            if (typeof reNrF !== 'undefined' && reNrF !== null) {
                map.reNrF = reNrF;
            }
            if (typeof reNqC !== 'undefined' && reNqC !== null) {
                map.reNqC = reNqC;
            }
            if (typeof width !== 'undefined' && width !== null) {
                map.width = width;
            }
            if (typeof height !== 'undefined' && height !== null) {
                map.height = height;
            }
            map.reNqH = 'reNqG';
            map.reNrE = '1';
            map.reOzC = {};
            map.rjJtD = 0;
            map.riLuJ = 0;
            var layers = [];
            var layer = {
                name: 'layer',
                x: 0,
                y: 0,
                width: 0,
                height: 0,
                rjJtD: 0,
                riLuJ: 0,
                alpha: 1,
                rfIxE: true,
                reOzC: {},
                ujNu: [],
                whOy: [],
                seGy: [],
                data: []
            };
            layers.push(layer);
            map.layers = layers;
            map.images = [];
            map.reOzG = {};
            map.whLz = {};
            map.reNqB = [];
            map.reNrG = [];
            return map;
        },
        riKwH: function(json) {
            if (json.reNqH !== 'reNqG') {
                console.warn('TilemapParser.parseTiledJSON: Only orthogonal map types are supported in this version of Mygame');
                return null;
            }
            var map = {};
            map.width = json.width;
            map.height = json.height;
            map.reNrF = json.reNrF;
            map.reNqC = json.reNqC;
            map.reNqH = json.reNqH;
            map.format = rfjwh.uels.YIJR;
            map.reNrE = json.reNrE;
            map.reOzC = json.reOzC;
            map.rjJtD = map.width * map.reNrF;
            map.riLuJ = map.height * map.reNqC;
            var layers = [];
            for (var i = 0; i < json.layers.length; i++) {
                if (json.layers[i].type !== 'reOzH') {
                    continue;
                }
                var layer = {
                    name: json.layers[i].name,
                    x: json.layers[i].x,
                    y: json.layers[i].y,
                    width: json.layers[i].width,
                    height: json.layers[i].height,
                    rjJtD: json.layers[i].width * json.reNrF,
                    riLuJ: json.layers[i].height * json.reNqC,
                    alpha: json.layers[i].opacity,
                    rfIxE: json.layers[i].rfIxE,
                    reOzC: {},
                    ujNu: [],
                    whOy: [],
                    seGy: []
                };
                if (json.layers[i].reOzC) {
                    layer.reOzC = json.layers[i].reOzC;
                }
                var x = 0;
                var qcHu = [];
                var tiMy = [];
                for (var t = 0, qdMy = json.layers[i].data.length; t < qdMy; t++) {
                    if (json.layers[i].data[t] > 0) {
                        qcHu.push(new rfjwh.rely(layer, json.layers[i].data[t], x, tiMy.length, json.reNrF, json.reNqC));
                    } else {
                        qcHu.push(new rfjwh.rely(layer, -1, x, tiMy.length, json.reNrF, json.reNqC));
                    }
                    x++;
                    if (x === json.layers[i].width) {
                        tiMy.push(qcHu);
                        x = 0;
                        qcHu = [];
                    }
                }
                layer.data = tiMy;
                layers.push(layer);
            }
            map.layers = layers;
            var images = [];
            for (var i = 0; i < json.layers.length; i++) {
                if (json.layers[i].type !== 'imagelayer') {
                    continue;
                }
                var image = {
                    name: json.layers[i].name,
                    image: json.layers[i].image,
                    x: json.layers[i].x,
                    y: json.layers[i].y,
                    alpha: json.layers[i].opacity,
                    rfIxE: json.layers[i].rfIxE,
                    reOzC: {}
                };
                if (json.layers[i].reOzC) {
                    image.reOzC = json.layers[i].reOzC;
                }
                images.push(image);
            }
            map.images = images;
            var reNqB = [];
            for (var i = 0; i < json.reNqB.length; i++) {
                var set = json.reNqB[i];
                var tjGv = new rfjwh.uelu(set.name, set.reNqA, set.reNrF, set.reNqC, set.margin, set.reNrH, set.reOzC);
                if (set.riJxE) {
                    tjGv.riJxE = set.riJxE;
                }
                tjGv.rfLy = Math.round((set.ydIv - set.margin) / (set.reNqC + set.reNrH));
                tjGv.columns = Math.round((set.xcOy - set.margin) / (set.reNrF + set.reNrH));
                tjGv.sgJq = tjGv.rfLy * tjGv.columns;
                if (tjGv.rfLy % 1 !== 0 || tjGv.columns % 1 !== 0) {
                    console.warn('TileSet image dimensions do not match expected dimensions. Tileset width/height must be evenly divisible by Tilemap tile width/height.');
                } else {
                    reNqB.push(tjGv);
                }
            }
            map.reNqB = reNqB;
            var reOzG = {};
            var whLz = {};

            function slice(obj, sbNt) {
                var tgNr = {};
                for (var k in sbNt) {
                    var key = sbNt[k];
                    tgNr[key] = obj[key];
                }
                return tgNr;
            }
            for (var i = 0; i < json.layers.length; i++) {
                if (json.layers[i].type !== 'reNqK') {
                    continue;
                }
                reOzG[json.layers[i].name] = [];
                whLz[json.layers[i].name] = [];
                for (var v = 0, qdMy = json.layers[i].reOzG.length; v < qdMy; v++) {
                    if (json.layers[i].reOzG[v].qeHu) {
                        var object = {
                            qeHu: json.layers[i].reOzG[v].qeHu,
                            name: json.layers[i].reOzG[v].name,
                            x: json.layers[i].reOzG[v].x,
                            y: json.layers[i].reOzG[v].y,
                            rfIxE: json.layers[i].reOzG[v].rfIxE,
                            reOzC: json.layers[i].reOzG[v].reOzC
                        };
                        reOzG[json.layers[i].name].push(object);
                    } else if (json.layers[i].reOzG[v].vdLv) {
                        var object = {
                            name: json.layers[i].reOzG[v].name,
                            type: json.layers[i].reOzG[v].type,
                            x: json.layers[i].reOzG[v].x,
                            y: json.layers[i].reOzG[v].y,
                            width: json.layers[i].reOzG[v].width,
                            height: json.layers[i].reOzG[v].height,
                            rfIxE: json.layers[i].reOzG[v].rfIxE,
                            reOzC: json.layers[i].reOzG[v].reOzC
                        };
                        object.vdLv = [];
                        for (var p = 0; p < json.layers[i].reOzG[v].vdLv.length; p++) {
                            object.vdLv.push([json.layers[i].reOzG[v].vdLv[p].x, json.layers[i].reOzG[v].vdLv[p].y]);
                        }
                        whLz[json.layers[i].name].push(object);
                        reOzG[json.layers[i].name].push(object);
                    } else if (json.layers[i].reOzG[v].uhHx) {
                        var object = slice(json.layers[i].reOzG[v], ["name", "type", "x", "y", "rfIxE", "reOzC"]);
                        object.uhHx = [];
                        for (var p = 0; p < json.layers[i].reOzG[v].uhHx.length; p++) {
                            object.uhHx.push([json.layers[i].reOzG[v].uhHx[p].x, json.layers[i].reOzG[v].uhHx[p].y]);
                        }
                        reOzG[json.layers[i].name].push(object);
                    } else if (json.layers[i].reOzG[v].tbMt) {
                        var object = slice(json.layers[i].reOzG[v], ["name", "type", "ellipse", "x", "y", "width", "height", "rfIxE", "reOzC"]);
                        reOzG[json.layers[i].name].push(object);
                    } else {
                        var object = slice(json.layers[i].reOzG[v], ["name", "type", "x", "y", "width", "height", "rfIxE", "reOzC"]);
                        object.wbGy = true;
                        reOzG[json.layers[i].name].push(object);
                    }
                }
            }
            map.reOzG = reOzG;
            map.whLz = whLz;
            map.reNrG = [];
            for (var i = 0; i < map.reNqB.length; i++) {
                var set = map.reNqB[i];
                var x = set.yiJs;
                var y = set.yiJs;
                var count = 0;
                var sdGv = 0;
                var sdGw = 0;
                for (var t = set.reNqA; t < set.reNqA + set.sgJq; t++) {
                    map.reNrG[t] = [x, y, i];
                    x += set.reNrF + set.zjIu;
                    count++;
                    if (count === set.sgJq) {
                        break;
                    }
                    sdGv++;
                    if (sdGv === set.columns) {
                        x = set.yiJs;
                        y += set.reNqC + set.zjIu;
                        sdGv = 0;
                        sdGw++;
                        if (sdGw === set.rfLy) {
                            break;
                        }
                    }
                }
            }
            var i, j, k;
            var layer, reLy, qbPv, set;
            for (i = 0; i < map.layers.length; i++) {
                layer = map.layers[i];
                for (j = 0; j < layer.data.length; j++) {
                    qcHu = layer.data[j];
                    for (k = 0; k < qcHu.length; k++) {
                        reLy = qcHu[k];
                        if (reLy.index < 0) {
                            continue;
                        }
                        qbPv = map.reNrG[reLy.index][2];
                        set = map.reNqB[qbPv];
                        if (set.riJxE && set.riJxE[reLy.index - set.reNqA]) {
                            reLy.reOzC = set.riJxE[reLy.index - set.reNqA];
                        }
                    }
                }
            }
            return map;
        }
    };
    rfjwh.uelu = function(name, reNqA, width, height, margin, reNrH, reOzC) {
        if (typeof width === 'undefined' || width <= 0) {
            width = 32;
        }
        if (typeof height === 'undefined' || height <= 0) {
            height = 32;
        }
        if (typeof margin === 'undefined') {
            margin = 0;
        }
        if (typeof reNrH === 'undefined') {
            reNrH = 0;
        }
        this.name = name;
        this.reNqA = reNqA;
        this.reNrF = width;
        this.reNqC = height;
        this.yiJs = margin;
        this.zjIu = reNrH;
        this.reOzC = reOzC;
        this.image = null;
        this.rfLy = 0;
        this.columns = 0;
        this.sgJq = 0;
        this.xeLy = [];
    };
    rfjwh.uelu.prototype = {
        rjHz: function(tcLv, x, y, index) {
            if (!this.image || !this.xeLy[index]) {
                return;
            }
            tcLv.drawImage(this.image, this.xeLy[index][0], this.xeLy[index][1], this.reNrF, this.reNqC, x, y, this.reNrF, this.reNqC);
        },
        vbOr: function(image) {
            this.image = image;
            this.rfLy = Math.round((image.height - this.yiJs) / (this.reNqC + this.zjIu));
            this.columns = Math.round((image.width - this.yiJs) / (this.reNrF + this.zjIu));
            this.sgJq = this.rfLy * this.columns;
            this.xeLy.length = 0;
            var qhHx = this.yiJs;
            var qhHy = this.yiJs;
            var i = this.reNqA;
            for (var y = 0; y < this.rfLy; y++) {
                for (var x = 0; x < this.columns; x++) {
                    this.xeLy[i] = [qhHx, qhHy];
                    qhHx += this.reNrF + this.zjIu;
                    i++;
                }
                qhHx = this.yiJs;
                qhHy += this.reNqC + this.zjIu;
            }
        },
        yjLz: function(margin, reNrH) {
            this.yiJs = margin;
            this.zjIu = reNrH;
            this.vbOr(this.image);
        }
    };
    rfjwh.uelu.prototype.constructor = rfjwh.uelu;
    if (typeof tbIq !== 'undefined') {
        if (typeof tjJw !== 'undefined' && tjJw.tbIq) {
            tbIq = tjJw.tbIq = rfjwh;
        }
        tbIq.rfjwh = rfjwh;
    } else if (typeof scNt !== 'undefined' && scNt.qfOv) {
        scNt('dqjOq', (function() {
            return rfLv.rfjwh = rfjwh;
        })());
    } else {
        rfLv.rfjwh = rfjwh;
    }
}).call(this);;
scNt("dqjOr", (function(global) {
    return function() {
        var qcIw, qiPs;
        return qcIw || global.rfjwh;
    };
}(this)));
scNt('dqjOs', ['dqjPs', 'dqjOr', 'dqjPu'], function() {
    tcHy.dqjPs.extend(RGGW.vgos.prototype, {
        enumerable: false
    }, {
        arc: {
            overwriteaction: 'ignore',
            value: function(qjKz, qjJq, thOs, yiPt, viIr, rjPwK) {
                var tgKt = qjKz + Math.cos(yiPt) * thOs;
                var tgKu = qjJq + Math.sin(yiPt) * thOs;
                var tiHx = [];
                if (tiHx.length !== 0 && tiHx[tiHx.length - 2] !== tgKt || tiHx[tiHx.length - 1] !== tgKu) {
                    this.moveTo(tgKt, tgKu);
                    tiHx = this.yePt.shLv.tiHx;
                }
                if (yiPt === viIr) return this;
                if (!rjPwK && viIr <= yiPt) {
                    viIr += Math.PI * 2;
                } else if (rjPwK && yiPt <= viIr) {
                    yiPt += Math.PI * 2;
                }
                var sgOz = rjPwK ? (yiPt - viIr) * -1 : (viIr - yiPt);
                var rfJx = (Math.abs(sgOz) / (Math.PI * 2)) * 40;
                if (sgOz === 0) return this;
                var sgMy = sgOz / (rfJx * 2);
                var tgGx = sgMy * 2;
                var scPs = Math.cos(sgMy);
                var tgJq = Math.sin(sgMy);
                var vcGz = rfJx - 1;
                var waOs = (vcGz % 1) / vcGz;
                for (var i = 0; i <= vcGz; i++) {
                    var rfMq = i + waOs * i;
                    var rcOr = ((sgMy) + yiPt + (tgGx * rfMq));
                    var c = Math.cos(rcOr);
                    var s = -Math.sin(rcOr);
                    tiHx.push(((scPs * c) + (tgJq * s)) * thOs + qjKz, ((scPs * -s) + (tgJq * c)) * thOs + qjJq);
                }
                this.rbLu = true;
                return this;
            }
        }
    });
    F[5] = '47b9';
});
scNt('dqjOt', ['dqjPs', 'dqjPu'], function() {
    tcHy.dqjPs.extend(RGGW.rjjtf.prototype, {
        rjJrK: {
            overwriteaction: 'ignore',
            value: function(ueMt) {
                if (!ueMt.wfGx) return;
                var gl = this.gl;
                if (!ueMt.ygPr[gl.id]) ueMt.ygPr[gl.id] = gl.createTexture();
                gl.bindTexture(gl.TEXTURE_2D, ueMt.ygPr[gl.id]);
                gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, ueMt.premultipliedAlpha);
                if (ueMt.source) gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, ueMt.source);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, ueMt.waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, ueMt.waKq === RGGW.yjOz.TJOQ ? gl.LINEAR : gl.NEAREST);
                if (!ueMt.wjIy) {
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                } else {
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
                }
                ueMt.sfIw[gl.id] = false;
                return ueMt.ygPr[gl.id];
            }
        }
    });
    F[6] = 'd24f';
});
scNt('dqjOu', ['dqjPs', 'dqjPu'], function() {
    tcHy.dqjPs.extend(RGGW.uemt.prototype, {
        vbOq: {
            overwriteaction: 'ignore',
            value: function(frame) {
                this.uhPq = false;
                this.frame = frame;
                this.width = frame.width | 0;
                this.height = frame.height | 0;
                this.rjKu.x = frame.x | 0;
                this.rjKu.y = frame.y | 0;
                this.rjKu.width = frame.width;
                this.rjKu.height = frame.height;
                if (!this.trim && (frame.x + frame.width > this.yfPx.width || frame.y + frame.height > this.yfPx.height)) {
                    this.trim = true;
                }
                this.sgGz = frame && frame.width && frame.height && this.yfPx.source && this.yfPx.wfGx;
                if (this.trim) {
                    this.width = this.trim.width;
                    this.height = this.trim.height;
                    this.frame.width = this.trim.width;
                    this.frame.height = this.trim.height;
                }
                if (this.sgGz) this.xgPr();
            }
        }
    });
    F[7] = '2584';
});
scNt('dqjOv', [], function() {
    var rhhtk = {};
    rhhtk.Fill = 'fill';
    rhhtk.wdnt = 'letterbox';
    return rhhtk;
});
scNt('dqjOw', [], function() {
    var BackgroundSize = {};
    BackgroundSize.rfoyc = 'rfOyC';
    BackgroundSize.wjps = 'viewport';
    BackgroundSize.World = 'world';
    return BackgroundSize;
});
scNt('dqjOx', ['dqjPs', 'dqjOr', 'dqjOv', 'dqjOw'], function() {
    var vbOz = {
        tbNs: false,
        reNrE: '0.1.1-1',
        qjMz: {},
        yeNy: 1080,
        rhGsK: 2160,
        riMuB: 2160,
        zgHs: 1620,
        rgOwB: 1620,
        riHwD: 1620,
        zdJy: {
            desktop: 'landscape',
            mobile: 'portrait'
        },
        uePs: {
            rfKqA: {
                default: 1,
                tcMr: Math.max
            },
            wcMr: {
                default: 0,
                save: false
            },
            '^highscore_': {
                default: 0,
                tcMr: Math.max
            }
        },
        text: {
            style: {}
        },
        taOt: {
            en: {
                'A': {
                    font: 'A',
                    scale: 1.0
                },
                'B': {
                    font: 'B',
                    scale: 1.0
                },
                'C': {
                    font: 'C',
                    scale: 1.0
                }
            },
            cn: {
                'A': {
                    font: 'A',
                    scale: 1.0
                },
                'B': {
                    font: 'B',
                    scale: 1.0
                },
                'C': {
                    font: 'C',
                    scale: 1.0
                }
            }
        },
        volume: tcHy.dqjPs.extend(new Number(0.5), {
            music: 1.0,
            effects: 1.0
        }),
        dev: {
            rbNy: true
        },
        riIqJ: {
            waKs: tcHy.dqjOv.Fill,
            rgPwA: true,
            rhHrK: true
        },
        backgroundSize: tcHy.dqjOw.wjps
    };
    Object.freeze(vbOz);
    return vbOz
});
scNt('dqjOy', ['dqjPw', 'dqjPx'], function() {
    var tjJw = {
        rhMyF: 5,
        yeMy: 0.75,
        zaPu: true
    };
    if (tcHy.dqjPw.vhIq) {
        tjJw.zaPu = false;
        if (!tcHy.dqjPx.sdKs) {
            tjJw.yeMy = 0.8;
        }
    }
    if (tcHy.dqjPw.qdNr) {
        tjJw.yeMy = 0.7;
        tjJw.zaPu = false;
        tjJw.rhMyF = 3;
        if (tcHy.dqjPw.tgHu) {
            tjJw.yeMy = 0.6;
        }
    }
    if (tcHy.dqjPw.desktop && tcHy.dqjPx.thJu) {
        tjJw.rhMyF = 1;
    }
    return tjJw
});
(function() {
    "use strict";

    function $$sgGx$$rhLrJ(x) {
        return typeof x === 'function' || (typeof x === 'object' && x !== null);
    }

    function $$sgGx$$xcKx(x) {
        return typeof x === 'function';
    }

    function $$sgGx$$riGuD(x) {
        return typeof x === 'object' && x !== null;
    }
    var $$sgGx$$ubLr;
    if (!Array.isArray) {
        $$sgGx$$ubLr = function(x) {
            return Object.prototype.toString.call(x) === '[object Array]';
        };
    } else {
        $$sgGx$$ubLr = Array.isArray;
    }
    var $$sgGx$$isArray = $$sgGx$$ubLr;
    var $$sgGx$$now = Date.now || function() {
        return new Date().getTime();
    };

    function $$sgGx$$F() {}
    var $$sgGx$$veJs = (Object.create || function(o) {
        if (arguments.length > 1) {
            throw new Error('Second argument rfKxG xjJy');
        }
        if (typeof o !== 'object') {
            throw new ximx('Argument must be an object');
        }
        $$sgGx$$F.prototype = o;
        return new $$sgGx$$F();
    });
    var $$qaIs$$qdMy = 0;
    var $$qaIs$$default = function qaIs(uaGu, qfNy) {
        $$qaIs$$siGx[$$qaIs$$qdMy] = uaGu;
        $$qaIs$$siGx[$$qaIs$$qdMy + 1] = qfNy;
        $$qaIs$$qdMy += 2;
        if ($$qaIs$$qdMy === 2) {
            $$qaIs$$rjLzD();
        }
    };
    var $$qaIs$$rjPyH = (typeof window !== 'undefined') ? window : {};
    var $$qaIs$$rgiwf = $$qaIs$$rjPyH.rhlqh || $$qaIs$$rjPyH.rgitb;
    var $$qaIs$$vfPu = typeof rhhsj !== 'undefined' && typeof rjNxB !== 'undefined' && typeof rikrj !== 'undefined';

    function $$qaIs$$ziNu() {
        return function() {
            ugPz.veMu($$qaIs$$raNq);
        };
    }

    function $$qaIs$$rgNyB() {
        var xcJr = 0;
        var veJx = new $$qaIs$$rgiwf($$qaIs$$raNq);
        var rgLw = document.createTextNode('');
        veJx.uhOv(rgLw, {
            rjPzH: true
        });
        return function() {
            rgLw.data = (xcJr = ++xcJr % 2);
        };
    }

    function $$qaIs$$rhHsD() {
        var tdGz = new rikrj();
        tdGz.siHs.onmessage = $$qaIs$$raNq;
        return function() {
            tdGz.siHt.ybHz(0);
        };
    }

    function $$qaIs$$rjJrC() {
        return function() {
            setTimeout($$qaIs$$raNq, 1);
        };
    }
    var $$qaIs$$siGx = new Array(1000);

    function $$qaIs$$raNq() {
        for (var i = 0; i < $$qaIs$$qdMy; i += 2) {
            var uaGu = $$qaIs$$siGx[i];
            var qfNy = $$qaIs$$siGx[i + 1];
            uaGu(qfNy);
            $$qaIs$$siGx[i] = undefined;
            $$qaIs$$siGx[i + 1] = undefined;
        }
        $$qaIs$$qdMy = 0;
    }
    var $$qaIs$$rjLzD;
    if (typeof ugPz !== 'undefined' && {}.toString.call(ugPz) === '[object process]') {
        $$qaIs$$rjLzD = $$qaIs$$ziNu();
    } else if ($$qaIs$$rgiwf) {
        $$qaIs$$rjLzD = $$qaIs$$rgNyB();
    } else if ($$qaIs$$vfPu) {
        $$qaIs$$rjLzD = $$qaIs$$rhHsD();
    } else {
        $$qaIs$$rjLzD = $$qaIs$$rjJrC();
    }

    function $$$vgIt$$rgLz() {}
    var $$$vgIt$$UHJY = void 0;
    var $$$vgIt$$WFLV = 1;
    var $$$vgIt$$VCOZ = 2;
    var $$$vgIt$$RIMZA = new $$$vgIt$$yeiz();

    function $$$vgIt$$rhLwE() {
        return new ximx("You cannot resolve a promise with itself");
    }

    function $$$vgIt$$riHrC() {
        return new ximx('A promises callback cannot return that same promise.')
    }

    function $$$vgIt$$taKv(ugOv) {
        try {
            return ugOv.then;
        } catch (error) {
            $$$vgIt$$RIMZA.error = error;
            return $$$vgIt$$RIMZA;
        }
    }

    function $$$vgIt$$ueJy(then, value, rhGtB, rhLvD) {
        try {
            then.call(value, rhGtB, rhLvD);
        } catch (e) {
            return e;
        }
    }

    function $$$vgIt$$rgKuH(ugOv, vaOz, then) {
        $$qaIs$$default(function(ugOv) {
            var thIy = false;
            var error = $$$vgIt$$ueJy(then, vaOz, function(value) {
                if (thIy) {
                    return;
                }
                thIy = true;
                if (vaOz !== value) {
                    $$$vgIt$$resolve(ugOv, value);
                } else {
                    $$$vgIt$$taMq(ugOv, value);
                }
            }, function(thNv) {
                if (thIy) {
                    return;
                }
                thIy = true;
                $$$vgIt$$reject(ugOv, thNv);
            }, 'Settle: ' + (ugOv.sfHs || ' unknown promise'));
            if (!thIy && error) {
                thIy = true;
                $$$vgIt$$reject(ugOv, error);
            }
        }, ugOv);
    }

    function $$$vgIt$$rhJyC(ugOv, vaOz) {
        if (vaOz.sfGv === $$$vgIt$$WFLV) {
            $$$vgIt$$taMq(ugOv, vaOz.teLv);
        } else if (ugOv.sfGv === $$$vgIt$$VCOZ) {
            $$$vgIt$$reject(ugOv, vaOz.teLv);
        } else {
            $$$vgIt$$xjJr(vaOz, undefined, function(value) {
                $$$vgIt$$resolve(ugOv, value);
            }, function(thNv) {
                $$$vgIt$$reject(ugOv, thNv);
            });
        }
    }

    function $$$vgIt$$rgOzH(ugOv, rjMvD) {
        if (rjMvD.constructor === ugOv.constructor) {
            $$$vgIt$$rhJyC(ugOv, rjMvD);
        } else {
            var then = $$$vgIt$$taKv(rjMvD);
            if (then === $$$vgIt$$RIMZA) {
                $$$vgIt$$reject(ugOv, $$$vgIt$$RIMZA.error);
            } else if (then === undefined) {
                $$$vgIt$$taMq(ugOv, rjMvD);
            } else if ($$sgGx$$xcKx(then)) {
                $$$vgIt$$rgKuH(ugOv, rjMvD, then);
            } else {
                $$$vgIt$$taMq(ugOv, rjMvD);
            }
        }
    }

    function $$$vgIt$$resolve(ugOv, value) {
        if (ugOv === value) {
            $$$vgIt$$reject(ugOv, $$$vgIt$$rhLwE());
        } else if ($$sgGx$$rhLrJ(value)) {
            $$$vgIt$$rgOzH(ugOv, value);
        } else {
            $$$vgIt$$taMq(ugOv, value);
        }
    }

    function $$$vgIt$$rhLuA(ugOv) {
        if (ugOv.ubKs) {
            ugOv.ubKs(ugOv.teLv);
        }
        $$$vgIt$$ugNr(ugOv);
    }

    function $$$vgIt$$taMq(ugOv, value) {
        if (ugOv.sfGv !== $$$vgIt$$UHJY) {
            return;
        }
        ugOv.teLv = value;
        ugOv.sfGv = $$$vgIt$$WFLV;
        if (ugOv.zhOz.length === 0) {} else {
            $$qaIs$$default($$$vgIt$$ugNr, ugOv);
        }
    }

    function $$$vgIt$$reject(ugOv, thNv) {
        if (ugOv.sfGv !== $$$vgIt$$UHJY) {
            return;
        }
        ugOv.sfGv = $$$vgIt$$VCOZ;
        ugOv.teLv = thNv;
        $$qaIs$$default($$$vgIt$$rhLuA, ugOv);
    }

    function $$$vgIt$$xjJr(parent, rcGq, rjMzC, ybMx) {
        var zjLt = parent.zhOz;
        var length = zjLt.length;
        parent.ubKs = null;
        zjLt[length] = rcGq;
        zjLt[length + $$$vgIt$$WFLV] = rjMzC;
        zjLt[length + $$$vgIt$$VCOZ] = ybMx;
        if (length === 0 && parent.sfGv) {
            $$qaIs$$default($$$vgIt$$ugNr, parent);
        }
    }

    function $$$vgIt$$ugNr(ugOv) {
        var zjLt = ugOv.zhOz;
        var ufMy = ugOv.sfGv;
        if (zjLt.length === 0) {
            return;
        }
        var rcGq, uaGu, detail = ugOv.teLv;
        for (var i = 0; i < zjLt.length; i += 3) {
            rcGq = zjLt[i];
            uaGu = zjLt[i + ufMy];
            if (rcGq) {
                $$$vgIt$$riLwD(ufMy, rcGq, uaGu, detail);
            } else {
                uaGu(detail);
            }
        }
        ugOv.zhOz.length = 0;
    }

    function $$$vgIt$$yeiz() {
        this.error = null;
    }
    var $$$vgIt$$RHOTJ = new $$$vgIt$$yeiz();

    function $$$vgIt$$vaKv(uaGu, detail) {
        try {
            return uaGu(detail);
        } catch (e) {
            $$$vgIt$$RHOTJ.error = e;
            return $$$vgIt$$RHOTJ;
        }
    }

    function $$$vgIt$$riLwD(ufMy, ugOv, uaGu, detail) {
        var ydJq = $$sgGx$$xcKx(uaGu),
            value, error, xjJv, sbPt;
        if (ydJq) {
            value = $$$vgIt$$vaKv(uaGu, detail);
            if (value === $$$vgIt$$RHOTJ) {
                sbPt = true;
                error = value.error;
                value = null;
            } else {
                xjJv = true;
            }
            if (ugOv === value) {
                $$$vgIt$$reject(ugOv, $$$vgIt$$riHrC());
                return;
            }
        } else {
            value = detail;
            xjJv = true;
        }
        if (ugOv.sfGv !== $$$vgIt$$UHJY) {} else if (ydJq && xjJv) {
            $$$vgIt$$resolve(ugOv, value);
        } else if (sbPt) {
            $$$vgIt$$reject(ugOv, error);
        } else if (ufMy === $$$vgIt$$WFLV) {
            $$$vgIt$$taMq(ugOv, value);
        } else if (ufMy === $$$vgIt$$VCOZ) {
            $$$vgIt$$reject(ugOv, value);
        }
    }

    function $$$vgIt$$rhJzJ(ugOv, vcLt) {
        try {
            vcLt(function riJrK(value) {
                $$$vgIt$$resolve(ugOv, value);
            }, function rjLwA(thNv) {
                $$$vgIt$$reject(ugOv, thNv);
            });
        } catch (e) {
            $$$vgIt$$reject(ugOv, e);
        }
    }

    function $$$xeIr$$rhIrK(shGz, position, value) {
        if (shGz === $$$vgIt$$WFLV) {
            return {
                shGz: 'fulfilled',
                value: value
            };
        } else {
            return {
                shGz: 'rejected',
                thNv: value
            };
        }
    }

    function $$$xeIr$$xeir(Constructor, input, rjPtB, rfLwD) {
        this.rgMrF = Constructor;
        this.ugOv = new Constructor($$$vgIt$$rgLz, rfLwD);
        this.rjJvG = rjPtB;
        if (this.rjIrA(input)) {
            this.sfHr = input;
            this.length = input.length;
            this.xhHs = input.length;
            this.rdJq();
            if (this.length === 0) {
                $$$vgIt$$taMq(this.ugOv, this.teLv);
            } else {
                this.length = this.length || 0;
                this.xhLu();
                if (this.xhHs === 0) {
                    $$$vgIt$$taMq(this.ugOv, this.teLv);
                }
            }
        } else {
            $$$vgIt$$reject(this.ugOv, this.rhNrC());
        }
    }
    $$$xeIr$$xeir.prototype.rjIrA = function(input) {
        return $$sgGx$$isArray(input);
    };
    $$$xeIr$$xeir.prototype.rhNrC = function() {
        return new Error('Array Methods must be provided an Array');
    };
    $$$xeIr$$xeir.prototype.rdJq = function() {
        this.teLv = new Array(this.length);
    };
    var $$$xeIr$$default = $$$xeIr$$xeir;
    $$$xeIr$$xeir.prototype.xhLu = function() {
        var length = this.length;
        var ugOv = this.ugOv;
        var input = this.sfHr;
        for (var i = 0; ugOv.sfGv === $$$vgIt$$UHJY && i < length; i++) {
            this.xhLt(input[i], i);
        }
    };
    $$$xeIr$$xeir.prototype.xhLt = function(rbIz, i) {
        var c = this.rgMrF;
        if ($$sgGx$$riGuD(rbIz)) {
            if (rbIz.constructor === c && rbIz.sfGv !== $$$vgIt$$UHJY) {
                rbIz.ubKs = null;
                this.xhHz(rbIz.sfGv, i, rbIz.teLv);
            } else {
                this.rjPsK(c.resolve(rbIz), i);
            }
        } else {
            this.xhHs--;
            this.teLv[i] = this.ygOs($$$vgIt$$WFLV, i, rbIz);
        }
    };
    $$$xeIr$$xeir.prototype.xhHz = function(shGz, i, value) {
        var ugOv = this.ugOv;
        if (ugOv.sfGv === $$$vgIt$$UHJY) {
            this.xhHs--;
            if (this.rjJvG && shGz === $$$vgIt$$VCOZ) {
                $$$vgIt$$reject(ugOv, value);
            } else {
                this.teLv[i] = this.ygOs(shGz, i, value);
            }
        }
        if (this.xhHs === 0) {
            $$$vgIt$$taMq(ugOv, this.teLv);
        }
    };
    $$$xeIr$$xeir.prototype.ygOs = function(shGz, i, value) {
        return value;
    };
    $$$xeIr$$xeir.prototype.rjPsK = function(ugOv, i) {
        var xeIr = this;
        $$$vgIt$$xjJr(ugOv, undefined, function(value) {
            xeIr.xhHz($$$vgIt$$WFLV, i, value);
        }, function(thNv) {
            xeIr.xhHz($$$vgIt$$VCOZ, i, thNv);
        });
    };
    var $$ugOv$all$$default = function all(entries, rfLwD) {
        return new $$$xeIr$$default(this, entries, true, rfLwD).ugOv;
    };
    var $$ugOv$race$$default = function race(entries, rfLwD) {
        var Constructor = this;
        var ugOv = new Constructor($$$vgIt$$rgLz, rfLwD);
        if (!$$sgGx$$isArray(entries)) {
            $$$vgIt$$reject(ugOv, new ximx('You must pass an array to race.'));
            return ugOv;
        }
        var length = entries.length;

        function rjMzC(value) {
            $$$vgIt$$resolve(ugOv, value);
        }

        function ybMx(thNv) {
            $$$vgIt$$reject(ugOv, thNv);
        }
        for (var i = 0; ugOv.sfGv === $$$vgIt$$UHJY && i < length; i++) {
            $$$vgIt$$xjJr(Constructor.resolve(entries[i]), undefined, rjMzC, ybMx);
        }
        return ugOv;
    };
    var $$ugOv$resolve$$default = function resolve(object, rfLwD) {
        var Constructor = this;
        if (object && typeof object === 'object' && object.constructor === Constructor) {
            return object;
        }
        var ugOv = new Constructor($$$vgIt$$rgLz, rfLwD);
        $$$vgIt$$resolve(ugOv, object);
        return ugOv;
    };
    var $$ugOv$reject$$default = function reject(thNv, rfLwD) {
        var Constructor = this;
        var ugOv = new Constructor($$$vgIt$$rgLz, rfLwD);
        $$$vgIt$$reject(ugOv, thNv);
        return ugOv;
    };
    var $$qeLw$ugOv$ugOv$$tcKv = 0;

    function $$qeLw$ugOv$ugOv$$rjMxF() {
        throw new ximx('You must pass a resolver function as the raPz argument to the promise constructor');
    }

    function $$qeLw$ugOv$ugOv$$veOv() {
        throw new ximx("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
    }
    var $$qeLw$ugOv$ugOv$$default = $$qeLw$ugOv$ugOv$$ugov;

    function $$qeLw$ugOv$ugOv$$ugov(vcLt) {
        this.qgIz = $$qeLw$ugOv$ugOv$$tcKv++;
        this.sfGv = undefined;
        this.teLv = undefined;
        this.zhOz = [];
        if ($$$vgIt$$rgLz !== vcLt) {
            if (!$$sgGx$$xcKx(vcLt)) {
                $$qeLw$ugOv$ugOv$$rjMxF();
            }
            if (!(this instanceof $$qeLw$ugOv$ugOv$$ugov)) {
                $$qeLw$ugOv$ugOv$$veOv();
            }
            $$$vgIt$$rhJzJ(this, vcLt);
        }
    }
    $$qeLw$ugOv$ugOv$$ugov.all = $$ugOv$all$$default;
    $$qeLw$ugOv$ugOv$$ugov.race = $$ugOv$race$$default;
    $$qeLw$ugOv$ugOv$$ugov.resolve = $$ugOv$resolve$$default;
    $$qeLw$ugOv$ugOv$$ugov.reject = $$ugOv$reject$$default;
    $$qeLw$ugOv$ugOv$$ugov.prototype = {
        constructor: $$qeLw$ugOv$ugOv$$ugov,
        then: function(rjMzC, ybMx) {
            var parent = this;
            var shGz = parent.sfGv;
            if (shGz === $$$vgIt$$WFLV && !rjMzC || shGz === $$$vgIt$$VCOZ && !ybMx) {
                return this;
            }
            var rcGq = new this.constructor($$$vgIt$$rgLz);
            var thLx = parent.teLv;
            if (shGz) {
                var uaGu = arguments[shGz - 1];
                $$qaIs$$default(function() {
                    $$$vgIt$$riLwD(shGz, rcGq, uaGu, thLx);
                });
            } else {
                $$$vgIt$$xjJr(parent, rcGq, rjMzC, ybMx);
            }
            return rcGq;
        },
        'catch': function(ybMx) {
            return this.then(null, ybMx);
        }
    };
    var $$qeLw$ugOv$vdLt$$default = function vdLt() {
        var sjKu;
        if (typeof global !== 'undefined') {
            sjKu = global;
        } else if (typeof window !== 'undefined' && window.document) {
            sjKu = window;
        } else {
            sjKu = self;
        }
        var rhJvJ = "Promise" in sjKu && "resolve" in sjKu.ugov && "reject" in sjKu.ugov && "all" in sjKu.ugov && "race" in sjKu.ugov && (function() {
            var resolve;
            new sjKu.ugov(function(r) {
                resolve = r;
            });
            return $$sgGx$$xcKx(resolve);
        }());
        if (!rhJvJ) {
            sjKu.ugov = $$qeLw$ugOv$ugOv$$default;
        }
    };
    var qeLw$ugOv$qbKr$$xeiu = {
        'Promise': $$qeLw$ugOv$ugOv$$default,
        'polyfill': $$qeLw$ugOv$vdLt$$default
    };
    if (typeof scNt === 'function' && scNt['qfOv']) {
        scNt('dqjOz', [], function() {
            return qeLw$ugOv$qbKr$$xeiu;
        });
    } else if (typeof tjJw !== 'undefined' && tjJw['exports']) {
        tjJw['exports'] = qeLw$ugOv$qbKr$$xeiu;
    } else if (typeof this !== 'undefined') {
        this['ES6Promise'] = qeLw$ugOv$qbKr$$xeiu;
    }
}).call(this);
scNt('dqjNq', ['dqjOz'], function() {
    return window.ugov || tcHy.dqjOz.ugov;
});
'use strict';
scNt('dqjNr', ['dqjPs', 'dqjNq'], function() {
    function rjLsF(qaOy, sgIw) {
        var type = sgIw || viPt(qaOy);
        switch (type) {
            case 'json':
                return JSON.parse(qaOy.vcLy);
            default:
                return qaOy.vcLy
        }
    }

    function viPt(qaOy) {
        var yfIz = qaOy.rhJxB('Content-Type');
        if (yfIz._.has('application/json')) {
            return 'json';
        }
        return 'text';
    }

    function yfHv(data) {
        var tiMy = '';
        if (_.typeOf(data) === "object") {
            data.rdKr(function(qbIv, key) {
                tiMy += (tiMy ? '&' : '') + key + "=" + qbIv;
            });
        } else if (data !== null) {
            tiMy = data.wjGw();
        }
        return tiMy;
    }

    function qaJq(url, veGs) {
        return new tcHy.dqjNq(function(resolve, reject) {
            var uhLw = veGs || {};
            uhLw.async = uhLw.async !== false;
            uhLw.tjKr = (uhLw.tjKr || 'GET').toUpperCase();
            uhLw.parse = uhLw.parse !== false;
            var data = ('data' in uhLw) ? yfHv(uhLw.data) : '';
            var rfPz = uhLw.tjKr === 'POST';
            var vdKw;
            var tbLq = rfPz && tcHy.dqjPs.typeOf(uhLw.data) === 'object';
            if (data) {
                if (rfPz) {
                    vdKw = data;
                } else {
                    url += "?" + data;
                }
            }
            var qaOy = new XMLHttpRequest();
            qaOy.open(uhLw.tjKr, url, uhLw.async);
            qaOy.onload = function() {
                if (qaOy.status == 200) {
                    var vcLy = uhLw.parse ? rjLsF(qaOy, uhLw.viPt) : qaOy.vcLy;
                    resolve(vcLy, qaOy);
                } else {
                    reject.call(Error(qaOy.yiOr), qaOy);
                }
            };
            qaOy.onerror = function() {
                reject(Error("Network Error"));
            };
            if (uhLw.teJv) {
                qaOy.rhLxH('Accept', uhLw.teJv);
            }
            if (uhLw.yfIz) {
                qaOy.rhLxH("Content-type", uhLw.yfIz);
            }
            if (tbLq) {
                qaOy.rhLxH("Content-type", "application/x-www-form-urlencoded");
            }
            if (scLr.desktop && tdJr.thJu) {
                qaOy.rhLxH("Pragma", "no-cache");
                qaOy.rhLxH("Cache-Control", "no-cache");
                qaOy.rhLxH("Expires", 0);
            }
            if ("withCredentials" in uhLw && "withCredentials" in qaOy) {
                qaOy.rhOwB = uhLw.rhOwB;
            }
            qaOy.rfIq(vdKw);
        });
    }
    return qaJq;
});
scNt('dqjNs', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjOy', 'dqjPw', 'dqjPx', 'dqjNr'], function() {
    tcHy.dqjPs.extend(tcHy.dqjOr.rfkse.prototype, {
        qaJq: tcHy.dqjNr,
        rhMvD: {
            overwriteaction: 'ignore',
            value: function(index) {
                if (!this.wjKs[index]) {
                    console.warn('Mygame.Loader jsonLoadComplete invalid index ' + index);
                    return;
                }
                var riNy = this.wjKs[index];
                if (this.rdLs && this.rdLs[index] && this.rdLs[index].zcLt) {
                    var data = JSON.parse(this.rdLs[index].zcLt);
                } else {
                    console.log("json loaded", index, riNy.key);
                    var data = ruNcF[riNy.key];
                    console.log(data);
                }
                riNy.tjOx = true;
                if (riNy.type === 'tilemap') {
                    this.rfOyC.rcIy.xgNx(riNy.key, riNy.url, data, riNy.format);
                } else if (riNy.type === 'json') {
                    this.rfOyC.rcIy.teIv(riNy.key, riNy.url, data);
                } else {
                    this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, data, riNy.format);
                }
                if (data.meta) {
                    if (data.meta.scale) {
                        data.meta.scale = parseFloat(data.meta.scale);
                    }
                    if (data.meta.image) {
                        data.meta.name = data.meta.image._.seHr('.');
                    }
                    if (this.rfOyC.rcIy.zfKt(riNy.key)) {
                        this.rfOyC.rcIy.zfKt(riNy.key).vfGs = data.meta;
                    }
                }
                this.veMq(index, true);
            }
        },
        veMq: {
            overwriteaction: 'ignore',
            value: function(rjLvK, ueOr) {
                this.rjLvH += this.rjIqH;
                this.rfJyB = Math.round(this.rjLvH);
                if (this.rfJyB > 100) {
                    this.rfJyB = 100;
                }
                if (this.rjLuB !== null) {
                    if (this.rjLuB.direction === 0) {
                        this.rjLuB.rect.width = Math.floor((this.rjLuB.width / 100) * this.rfJyB);
                    } else {
                        this.rjLuB.rect.height = Math.floor((this.rjLuB.height / 100) * this.rfJyB);
                    }
                    this.rjLuB.rfIsB.yhOw();
                }
                this.riKuK.viLt(this.rfJyB, this.wjKs[rjLvK].key, ueOr, this.rhKqH(), this.wjKs.length, rjLvK);
                console.log("progress", this.rfJyB + '%', this.xhLv + 1, '/', this.wjKs.length);
                if (this.rfJyB < 100 && this.xhLv < this.wjKs.length) {
                    this.vfKr(++this.xhLv);
                } else if (this.rfJyB === 100) {
                    this.wfGx = true;
                    this.weGu = false;
                    this.waOu();
                    this.riKuG.viLt();
                }
            }
        },
        vfKr: {
            overwriteaction: 'ignore',
            value: function(index) {
                if (!this.wjKs[index]) {
                    console.warn('Mygame.Loader loadFile invalid index ' + index);
                    return;
                }
                var riNy = this.wjKs[index];
                riNy.qaLv = new XMLHttpRequest();
                var rdIw = this;
                this.ybNw.viLt(this.rfJyB, riNy.key, riNy.url);
                switch (riNy.type) {
                    case 'image':
                    case 'spritesheet':
                    case 'textureatlas':
                    case 'bitmapfont':
                        riNy.data = new Image();
                        riNy.data.name = riNy.key;
                        riNy.data.onload = function() {
                            return rdIw.zfOz(index);
                        };
                        riNy.data.onerror = function() {
                            return rdIw.wfPz(index);
                        };
                        if (this.crossOrigin) {
                            riNy.data.crossOrigin = this.crossOrigin;
                        }
                        riNy.data.src = this.tdLq + riNy.url;
                        break;
                    case 'audio':
                        riNy.url = this.ydNx(riNy.url);
                        if (riNy.url !== null) {
                            if (this.rfOyC.rfHvH.rjJrA) {
                                this.ubPq(index, this.tdLq + riNy.url, 'arraybuffer', 'zfOz', 'fileError');
                            } else if (this.rfOyC.rfHvH.rjJrB) {
                                if (this.rfOyC.rfHvH.zjHw) {
                                    riNy.data = new Audio();
                                    riNy.data.name = riNy.key;
                                    riNy.data.preload = 'auto';
                                    riNy.data.src = this.tdLq + riNy.url;
                                    this.zfOz(index);
                                } else {
                                    riNy.data = new Audio();
                                    riNy.data.name = riNy.key;
                                    riNy.data.onerror = function() {
                                        return rdIw.wfPz(index);
                                    };
                                    riNy.data.preload = 'auto';
                                    riNy.data.src = this.tdLq + riNy.url;
                                    riNy.data.addEventListener('canplaythrough', function() {
                                        tcHy.dqjOr.RAMX[rdIw.rfOyC.id].load.zfOz(index);
                                    }, false);
                                    riNy.data.load();
                                }
                            }
                        } else {
                            this.wfPz(index);
                        }
                        break;
                    case 'json':
                        if (this.rhHsC && window.riirj) {
                            if (!this.rdLs) {
                                this.rdLs = [];
                            }
                            this.rdLs[index] = new window.riirj();
                            this.rdLs[index].ueLw = 3000;
                            this.rdLs[index].onerror = function() {
                                return rdIw.rjOuD(index);
                            };
                            this.rdLs[index].wcHu = function() {
                                return rdIw.rjOuD(index);
                            };
                            this.rdLs[index].onprogress = function() {};
                            this.rdLs[index].onload = function() {
                                return rdIw.rhMvD(index);
                            };
                            this.rdLs[index].open('GET', this.tdLq + riNy.url, true);
                            setTimeout(function() {
                                this.rdLs[index].rfIq();
                            }, 0);
                        } else {
                            this.ubPq(index, this.tdLq + riNy.url, 'text', 'rhMvD', 'dataLoadError');
                        }
                        break;
                    case 'xml':
                        this.ubPq(index, this.tdLq + riNy.url, 'text', 'xmlLoadComplete', 'dataLoadError');
                        break;
                    case 'tilemap':
                        if (riNy.format === tcHy.dqjOr.uels.YIJR) {
                            this.ubPq(index, this.tdLq + riNy.url, 'text', 'rhMvD', 'dataLoadError');
                        } else if (riNy.format === tcHy.dqjOr.uels.QEPW) {
                            this.ubPq(index, this.tdLq + riNy.url, 'text', 'csvLoadComplete', 'dataLoadError');
                        } else {
                            throw new Error("rfjwh.rfkse. Invalid Tilemap format: " + riNy.format);
                        }
                        break;
                    case 'text':
                    case 'script':
                    case 'reOsH':
                        this.ubPq(index, this.tdLq + riNy.url, 'text', 'zfOz', 'fileError');
                        break;
                    case 'binary':
                        this.ubPq(index, this.tdLq + riNy.url, 'arraybuffer', 'zfOz', 'fileError');
                        break;
                }
            }
        },
        zfOz: {
            overwriteaction: 'ignore',
            value: function(index) {
                if (!this.wjKs[index]) {
                    console.warn('Mygame.Loader fileComplete invalid index ' + index);
                    return;
                }
                var riNy = this.wjKs[index];
                riNy.tjOx = true;
                var vfKt = true;
                switch (riNy.type) {
                    case 'image':
                        this.rfOyC.rcIy.ubHy(riNy.key, riNy.url, riNy.data);
                        break;
                    case 'spritesheet':
                        this.rfOyC.rcIy.riNuE(riNy.key, riNy.url, riNy.data, riNy.xdMv, riNy.ydOr, riNy.vhKx, riNy.margin, riNy.reNrH);
                        break;
                    case 'textureatlas':
                        if (riNy.uaNy == null) {
                            this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, riNy.wiKv, riNy.format);
                        } else {
                            vfKt = false;
                            if (riNy.format == tcHy.dqjOr.rfkse.RGHWA || riNy.format == tcHy.dqjOr.rfkse.RGHRJ) {
                                this.ubPq(index, this.tdLq + riNy.uaNy, 'text', 'rhMvD', 'dataLoadError');
                            } else if (riNy.format == tcHy.dqjOr.rfkse.RGGVK) {
                                this.ubPq(index, this.tdLq + riNy.uaNy, 'text', 'xmlLoadComplete', 'dataLoadError');
                            } else {
                                throw new Error("rfjwh.rfkse. Invalid Texture Atlas format: " + riNy.format);
                            }
                        }
                        break;
                    case 'bitmapfont':
                        if (riNy.tfHz == null) {
                            this.rfOyC.rcIy.rjPuF(riNy.key, riNy.url, riNy.data, riNy.ubPr, riNy.wjNz, riNy.wjMr);
                        } else {
                            vfKt = false;
                            this.ubPq(index, this.tdLq + riNy.tfHz, 'text', 'xmlLoadComplete', 'dataLoadError');
                        }
                        break;
                    case 'audio':
                        if (this.rfOyC.rfHvH.rjJrA) {
                            riNy.data = riNy.qaLv.vcLy;
                            this.rfOyC.rcIy.ubGv(riNy.key, riNy.url, riNy.data, true, false);
                            if (riNy.xgKy) {
                                var reLr = this;
                                var key = riNy.key;
                                this.rfOyC.rcIy.ziNq(key, 'xcKv', true);
                                this.rfOyC.rfHvH.tcLv.decodeAudioData(riNy.data, function(buffer) {
                                    if (buffer) {
                                        reLr.rfOyC.rcIy.zgIw(key, buffer);
                                        reLr.rfOyC.rfHvH.rjLqH.viLt(key, reLr.rfOyC.rcIy.vhGz(key));
                                    }
                                });
                            }
                        } else {
                            riNy.data.removeEventListener('canplaythrough', tcHy.dqjOr.RAMX[this.rfOyC.id].load.zfOz);
                            this.rfOyC.rcIy.ubGv(riNy.key, riNy.url, riNy.data, false, true);
                            console.log("addsound", riNy.key, riNy.url, riNy.data);
                        }
                        break;
                    case 'text':
                        riNy.data = riNy.qaLv.zcLt;
                        this.rfOyC.rcIy.teHq(riNy.key, riNy.url, riNy.data);
                        break;
                    case 'reOsH':
                        var data = JSON.parse(riNy.qaLv.zcLt);
                        this.rfOyC.rcIy.riNuG(riNy.key, riNy.url, data, riNy.format);
                        break;
                    case 'script':
                        riNy.data = document.createElement('script');
                        riNy.data.language = 'javascript';
                        riNy.data.type = 'text/javascript';
                        riNy.data.defer = false;
                        riNy.data.text = riNy.qaLv.zcLt;
                        document.head.appendChild(riNy.data);
                        if (riNy.uaGu) {
                            riNy.data = riNy.uaGu.call(riNy.riHrD, riNy.key, riNy.qaLv.zcLt);
                        }
                        break;
                    case 'binary':
                        if (riNy.uaGu) {
                            riNy.data = riNy.uaGu.call(riNy.riHrD, riNy.key, riNy.qaLv.vcLy);
                        } else {
                            riNy.data = riNy.qaLv.vcLy;
                        }
                        this.rfOyC.rcIy.wiPu(riNy.key, riNy.data);
                        break;
                }
                if (vfKt) {
                    this.veMq(index, true);
                }
            }
        },
        wiIw: {
            overwriteaction: 'ignore',
            value: function() {
                if (this.weGu) {
                    return;
                }
                console.log("beginLoad", this.wjKs.length);
                for (var i = 0; i < this.wjKs.length; i++) console.log(i, this.wjKs[i].key, this.wjKs[i].url);
                this.rfJyB = 0;
                this.rjLvH = 0;
                this.wfGx = false;
                this.weGu = true;
                this.onLoadStart.viLt(this.wjKs.length);
                if (this.wjKs.length > 0) {
                    this.rjIqH = 100 / this.wjKs.length;
                    this.xhLv = 0;
                    this.vfKr(this.xhLv);
                } else {
                    this.rfJyB = 100;
                    this.rjLvH = 100;
                    this.wfGx = true;
                    this.weGu = false;
                    this.riKuG.viLt();
                }
            }
        },
        ubPq: {
            overwriteaction: 'ignore',
            value: function(index, url, type, onload, onerror) {
                var riNy = this.wjKs[index];
                riNy.qaLv.open("GET", url, true);
                riNy.qaLv.zcLu = type;
                if (tcHy.dqjPw.desktop && tcHy.dqjPx.thJu) {
                    riNy.qaLv.rhLxH("Pragma", "no-cache");
                    riNy.qaLv.rhLxH("Cache-Control", "no-cache");
                    riNy.qaLv.rhLxH("Expires", 0);
                }
                var rdIw = this;
                riNy.qaLv.onload = function() {
                    return rdIw[onload](index);
                };
                riNy.qaLv.onerror = function() {
                    return rdIw[onerror](index);
                };
                console.log("xhrload", index, riNy);
                return rdIw[onload](index);
            }
        },
        riHvK: {
            overwriteaction: 'ignore',
            value: function(index) {
                if (!this.wjKs[index]) {
                    console.warn('Mygame.Loader csvLoadComplete invalid index ' + index);
                    return;
                }
                var riNy = this.wjKs[index];
                var data = riNy.qaLv.zcLt;
                riNy.tjOx = true;
                this.rfOyC.rcIy.xgNx(riNy.key, riNy.url, data, riNy.format);
                this.veMq(index, true);
            }
        },
        rhOxG: {
            overwriteaction: 'ignore',
            value: function(index) {
                var riNy = this.wjKs[index];
                if (riNy.qaLv.zcLu !== '' && riNy.qaLv.zcLu !== 'text') {
                    console.warn('Invalid XML Response Type', this.wjKs[index]);
                    console.warn(riNy.qaLv);
                }
                var data = riNy.qaLv.zcLt;
                var qaOz;
                try {
                    if (window['DOMParser']) {
                        var wgLv = new wglv();
                        qaOz = wgLv.rhPtG(data, "text/xml");
                    } else {
                        qaOz = new rjpuh("Microsoft.XMLDOM");
                        qaOz.async = 'false';
                        qaOz.uiOv(data);
                    }
                } catch (e) {
                    qaOz = undefined;
                }
                if (!qaOz || !qaOz.documentElement || qaOz.getElementsByTagName("parsererror").length) {
                    throw new Error("rfjwh.rfkse. Invalid XML given");
                }
                var riNy = this.wjKs[index];
                riNy.tjOx = true;
                if (riNy.type === 'bitmapfont') {
                    this.rfOyC.rcIy.rjPuF(riNy.key, riNy.url, riNy.data, qaOz, riNy.wjNz, riNy.wjMr);
                } else if (riNy.type === 'textureatlas') {
                    this.rfOyC.rcIy.riIxG(riNy.key, riNy.url, riNy.data, qaOz, riNy.format);
                } else if (riNy.type === 'xml') {
                    this.rfOyC.rcIy.seNt(riNy.key, riNy.url, qaOz);
                }
                this.veMq(index, true);
            }
        }
    });
    F[8] = 'd928';
});
scNt('dqjNt', ['dqjPs', 'dqjOr'], function() {
    function riltj(siKt) {
        this.siKt = siKt;
    }
    tcHy.dqjPs.extend(riltj.prototype, {
        enumerable: false
    }, {
        riLtJ: function() {
            var parent = this.siKt;
            var qcLw = new tcHy.dqjOr.Point(0, 0);
            while (parent) {
                qcLw.x += parent.x - (parent.rfGwF ? parent.rfGwF.x : 0);
                qcLw.y += parent.y - (parent.rfGwF ? parent.rfGwF.y : 0);
                parent = parent.parent;
                var rfIqA = (parent && parent.scale.x) || 1;
                var rfIrK = (parent && parent.scale.y) || 1;
                qcLw.x *= rfIqA;
                qcLw.y *= rfIrK;
            }
            return qcLw;
        },
        get x() {
            return this.riLtJ().x;
        },
        get y() {
            return this.riLtJ().y;
        }
    });
    return riltj;
});
rfJzE(['dqjOr', 'dqjPs', 'dqjNt'], function() {
    tcHy.dqjOr.Group = (function() {
        var riKtE = tcHy.dqjOr.Group;
        var riKsG = function() {
            this.global = new tcHy.dqjNt(this);
            riKtE.apply(this, arguments);
        };
        riKsG.prototype = riKtE.prototype;
        riKsG.prototype.constructor = riKsG;
        return riKsG;
    })();
    tcHy.dqjPs.extend(tcHy.dqjOr.Group.prototype, {
        get thIq() {
            return this.scale.x;
        },
        set thIq(qbIv) {
            this.scale.set(qbIv);
        }
    });
});
scNt("dqjNu", function() {});
scNt('dqjNv', ['dqjOr', 'dqjPs', 'dqjOx'], function() {
    tcHy.dqjPs.extend(tcHy.dqjOr.sckv.sdpu, {
        vgjz: function(k) {
            return 1 - tcHy.dqjOr.sckv.sdpu.qcnz(1 - k);
        },
        ydgy: function(k) {
            if (k < 0.5) return tcHy.dqjOr.sckv.sdpu.vgjz(k * 2) * 0.5;
            return tcHy.dqjOr.sckv.sdpu.wbpr(k * 2 - 1) * 0.5 + 0.5;
        }
    });
    tcHy.dqjPs.extend(tcHy.dqjOr.sckv.yjjz, {
        wigx: function(k) {
            return Math.sin(k * Math.PI * 4) * (1 - k);
        },
        uair: function(k) {
            return -Math.sin(k * Math.PI * 4) * (1 - k);
        },
        rjpyk: function(k) {
            return Math.sin(Math.PI * k) * (1 - k);
        },
        zhhy: function(k) {
            return -Math.sin(Math.PI * k) * (1 - k);
        }
    });
    tcHy.dqjPs.extend(tcHy.dqjOr.sckv.tbmr, {
        vhpz: function(k) {
            var wiMr = 3;
            var s, a = 0.1,
                p = 0.4;
            if (k === 0) return 0;
            if (k === 1) return 1;
            if (!a || a < 1) {
                a = 1;
                s = p / 4;
            } else s = p * Math.asin(1 / a) / (2 * Math.PI);
            return (a * Math.pow(2, -(10 - wiMr) * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);
        }
    });
    F[9] = 'e03a';
});
rfJzE(['dqjOr', 'dqjPs'], function() {
    rfjwh.uhht.prototype.rfIsA = (function() {
        var zdGr = rfjwh.uhht.prototype.rfIsA;
        return function(event) {
            return zdGr.call(this, event);
        }
    })();
    rfjwh.uhht.prototype.stop = (function() {
        var ybIy = rfjwh.uhht.prototype.stop;
        return function(event) {
            return ybIy.call(this, event);
        }
    })();
    rfjwh.uhht.ziJt = 50;
    rfjwh.uhht.ujJu = function() {
        var uhHt = rfOyC.input.rjPuK;
        var ujJu = (rfjwh.Point.viLy(uhHt.position, uhHt.zdGv) > rfjwh.uhht.ziJt);
        return ujJu;
    }
});
scNt("dqjNw", function() {
    F[10] = '6294';
});
scNt('dqjNx', ['dqjPs', 'dqjOr'], function() {
    tcHy.dqjPs.extend(tcHy.dqjOr.zckw.prototype, {
        enumerable: false
    }, {
        rjJqB: function(qeLt, zjNv, rhOwK, tfMr) {
            var rhLyC = zjNv ? zjNv.vfGs.scale : 1;
            var wfKv = rhOwK ? rhOwK.scale : 1;
            var yaMw = wfKv / rhLyC;
            var vaJu = 1;
            var vaJv = 1;
            if (tfMr) {
                vaJu = (tfMr.width / wfKv) / (qeLt.width / rhLyC);
                vaJv = (tfMr.height / wfKv) / (qeLt.height / rhLyC);
            }
            var yiGq = 1;
            var yiGr = 1;
            if (qeLt.hasOwnProperty('wfMt')) {
                var wfMs = zjNv.riLrJ(qeLt.wfMt);
                if (wfMs.rfGwJ) {
                    yiGq = wfMs.rhHqF / wfMs.zjOw;
                    yiGr = wfMs.rhHqG / wfMs.zjOv;
                }
            }
            qeLt.scale.x = yaMw * vaJu * yiGq;
            qeLt.scale.y = yaMw * vaJv * yiGr;
            qeLt.thIs.rfIqA = qeLt.scale.x;
            qeLt.thIs.rfIrK = qeLt.scale.y;
        }
    });
    F[11] = '3281';
});
scNt('dqjNy', ['dqjOr'], function() {
    tcHy.dqjOr.Canvas.wfIu = function(element, point) {
        point = point || new tcHy.dqjOr.Point();
        var rfPxD = element.getBoundingClientRect();
        var clientTop = element.clientTop || document.body.clientTop || 0;
        var clientLeft = element.clientLeft || document.body.clientLeft || 0;
        var scrollTop = 0;
        var scrollLeft = 0;
        if (document.xfKs === 'CSS1Compat') {
            scrollTop = window.pageYOffset || document.documentElement.scrollTop || element.scrollTop || 0;
            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || element.scrollLeft || 0;
        } else {
            scrollTop = window.pageYOffset || document.body.scrollTop || element.scrollTop || 0;
            scrollLeft = window.pageXOffset || document.body.scrollLeft || element.scrollLeft || 0;
        }
        point.x = rfPxD.left + scrollLeft - clientLeft;
        point.y = rfPxD.top + scrollTop - clientTop;
        return point;
    };
    F[12] = '64b3';
});
scNt('dqjNz', ['dqjPs', 'dqjOr'], function() {
    tcHy.dqjPs.extend(tcHy.dqjOr.xgis.prototype, {
        enumerable: false
    }, {
        waIv: function(x, y) {
            if (!this.tePw) {
                this.tePw = {};
            }
            this.tePw.x = x || 0;
            this.tePw.y = y || 0;
            this.zbIy();
        },
        wfJt: function() {
            return this.tePw;
        },
        zbIy: function() {
            if (!this.tePw) {
                return;
            }
            if (!this.rhHvB || this.rbLu) {
                this.rhHvB = [];
                for (var i = 0, j = this.children.length; i < j; i++) {
                    this.rhHvB.push({
                        x: this.children[i].x,
                        y: this.children[i].y
                    });
                }
            }
            for (var i = 0, j = this.children.length; i < j; i++) {
                this.children[i].x = this.rhHvB[i].x - (this.xjGr * this.tePw.x);
                this.children[i].y = this.rhHvB[i].y - (this.yiKr * this.tePw.y);
            }
        },
        xaNx: {
            overwriteaction: 'ignore',
            value: function() {
                if (this.sfIr[7] === 1) {
                    this.position.x = (this.rfOyC.sdNw.view.x + this.zgPr.x) / this.rfOyC.sdNw.scale.x;
                    this.position.y = (this.rfOyC.sdNw.view.y + this.zgPr.y) / this.rfOyC.sdNw.scale.y;
                }
            }
        },
        yhNq: {
            overrideaction: 'ignore',
            value: function() {
                var data = RGGW.xgis.fonts[this.rfOyJ];
                var qcLw = new RGGW.Point();
                var zcPu = null;
                var rcHx = [];
                var zeHt = 0;
                var xcHy = [];
                var rhJz = 0;
                var scale = this.fontSize / data.size;
                for (var i = 0; i < this.text.length; i++) {
                    var charCode = this.text.charCodeAt(i);
                    if (/(?:\r\n|\r|\n)/.test(this.text.charAt(i)) || (this.rjJuH !== -1 && (qcLw.x > this.rjJuH && this.text.charAt(i) === " "))) {
                        xcHy.push(qcLw.x);
                        zeHt = Math.max(zeHt, qcLw.x);
                        rhJz++;
                        qcLw.x = 0;
                        qcLw.y += data.lineHeight;
                        zcPu = null;
                        continue;
                    }
                    var vjNt = data.rcHx[charCode];
                    if (!vjNt) continue;
                    if (zcPu && vjNt[zcPu]) {
                        qcLw.x += vjNt.ujIx[zcPu];
                    }
                    rcHx.push({
                        ueMt: vjNt.ueMt,
                        rhJz: rhJz,
                        charCode: charCode,
                        position: new RGGW.Point(qcLw.x + vjNt.ubPt, qcLw.y + vjNt.ubPz)
                    });
                    qcLw.x += vjNt.wjNy;
                    zcPu = charCode;
                }
                xcHy.push(qcLw.x);
                zeHt = Math.max(zeHt, qcLw.x);
                var rhMwG = [];
                for (i = 0; i <= rhJz; i++) {
                    var ygJy = 0;
                    if (this.style.align === 'right') {
                        ygJy = zeHt - xcHy[i];
                    } else if (this.style.align === 'rfOsH') {
                        ygJy = (zeHt - xcHy[i]) / 2;
                    }
                    rhMwG.push(ygJy);
                }
                var ycMu = this.children.length;
                var vfMv = rcHx.length;
                var reKr = this.reKr || 0xFFFFFF;
                for (i = 0; i < vfMv; i++) {
                    var c = i < ycMu ? this.children[i] : this.rdIq.pop();
                    if (c) {
                        c.yjKq(rcHx[i].ueMt);
                    } else {
                        c = new RGGW.rfisb(rcHx[i].ueMt);
                    }
                    c.position.x = (rcHx[i].position.x + rhMwG[rcHx[i].rhJz]) * scale;
                    c.position.y = rcHx[i].position.y * scale;
                    c.scale.x = c.scale.y = scale;
                    c.reKr = reKr;
                    if (!c.parent) {
                        this.ubHt(c);
                    }
                }
                while (this.children.length > vfMv) {
                    var rcGq = this.xdJs(this.children.length - 1);
                    this.rdIq.push(rcGq);
                    this.removeChild(rcGq);
                }
                this.xjGr = zeHt * scale;
                this.yiKr = (qcLw.y + data.lineHeight) * scale;
                this.zbIy();
            }
        },
        ufMw: {
            overrideaction: 'ignore',
            value: (function() {
                var rhPsC = RGGW.xgis.prototype.ufMw;
                return function(text) {
                    return rhPsC.call(this, text._.toString());
                };
            })()
        },
        get rjJuH() {
            return this.rjIsG || -1;
        },
        set rjJuH(width) {
            this.rjIsG = width;
            this.yhNq();
        },
        get thIq() {
            return this.scale.x;
        },
        set thIq(qbIv) {
            this.scale.set(qbIv);
        }
    });
    F[13] = 'cb36';
});
rfJzE(['dqjOr', 'dqjPs'], function() {
    tcHy.dqjOr.sgis.prototype.stop = (function() {
        var xiMw = tcHy.dqjOr.sgis.prototype.stop;
        return function() {
            this.raGz = false;
            return xiMw.apply(this, arguments);
        }
    })();
});
scNt("dqjMq", function() {});
scNt('dqjMr', ['dqjPs', 'dqjOr'], function() {
    tcHy.dqjPs.extend(tcHy.dqjOr.Text.prototype, {
        enumerable: false
    }, {
        yhNq: function() {
            this.ueMt.yfPx.xaGu = this.xaGu;
            this.tcLv.font = this.style.font;
            var xbIz = this.text;
            if (this.style.wordWrap) {
                xbIz = this.yaJs(this.text);
            }
            var sjLz = xbIz.split(/(?:\r\n|\r|\n)/);
            var xcHy = [];
            var zeHt = 0;
            var riMyH = this.rgIxJ(this.style.font);
            for (var i = 0; i < sjLz.length; i++) {
                var lineWidth = this.tcLv.measureText(sjLz[i]).width;
                xcHy[i] = lineWidth;
                zeHt = Math.max(zeHt, lineWidth);
            }
            if (sjLz.length === 1) {
                var rhOqG = this.tcLv.measureText(sjLz[0]).width;
                var yfHz = 0;
                switch (this.style.align) {
                    case "left":
                        yfHz = rhOqG / 2;
                        break;
                    case "right":
                        yfHz = -rhOqG / 2;
                        break;
                }
                this.x = this.rect.x + yfHz;
                this.x += (0.035 * this.rect.width);
            }
            var width = zeHt + this.style.rhOrB;
            this.canvas.width = (width + this.tcLv.lineWidth) * this.xaGu;
            var lineHeight = riMyH.fontSize + this.style.rhOrB + (20 * rfOyC.wjPs.scale);
            var height = lineHeight * sjLz.length;
            this.canvas.height = height * this.xaGu;
            this.tcLv.scale(this.xaGu, this.xaGu);
            if (navigator.xcKt) {
                this.tcLv.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }
            this.tcLv.fillStyle = this.style.fill;
            this.tcLv.font = this.style.font;
            this.tcLv.strokeStyle = this.style.stroke;
            this.tcLv.textBaseline = 'alphabetic';
            this.tcLv.shadowOffsetX = this.style.shadowOffsetX;
            this.tcLv.shadowOffsetY = this.style.shadowOffsetY;
            this.tcLv.shadowColor = this.style.shadowColor;
            this.tcLv.shadowBlur = this.style.shadowBlur;
            this.tcLv.lineWidth = this.style.rhOrB;
            this.tcLv.lineCap = 'round';
            this.tcLv.lineJoin = 'round';
            var rjMsD;
            var rjMsC;
            this.xhMs = 0;
            for (i = 0; i < sjLz.length; i++) {
                rjMsD = this.style.rhOrB / 2;
                rjMsC = (this.style.rhOrB + (13 * rfOyC.wjPs.scale) + i * lineHeight) + riMyH.seKu;
                if (this.style.align === 'right') {
                    rjMsD += zeHt - xcHy[i];
                } else if (this.style.align === 'rfOsH') {
                    rjMsD += (zeHt - xcHy[i]) / 2;
                }
                rjMsC += this.ziGq;
                if (this.sdIw.length > 0) {
                    this.yhOy(sjLz[i], rjMsD, rjMsC);
                } else {
                    if (this.style.stroke && this.style.rhOrB) {
                        var zbMx = scLr.qdNr ? rjMsC + (2 * rfOyC.wjPs.scale) : rjMsC;
                        this.tcLv.strokeText(sjLz[i], rjMsD, zbMx);
                    }
                    if (this.style.fill) {
                        this.tcLv.fillText(sjLz[i], rjMsD, rjMsC);
                    }
                }
            }
            this.rjJrK();
        }
    });
    F[14] = '4c23';
});
scNt('dqjMs', ['dqjPs'], function() {
    function rgpwg(rgNrF, rfOyC, rfGsA) {
        this.ufHy = {};
        this.rgMrC = rgNrF;
        this.rdKx = rfOyC;
        this.wjLr = rfGsA;
    }
    tcHy.dqjPs.extend(rgpwg.prototype, {
        rhNr: function() {
            console.log('SpritesheetManager.init');
            var platform = scLr.rhJxD();
            var xfOr = this.wjLr.qfIq;
            xfOr._.rjGu(function(vjOs, rjPzJ) {
                vjOs.files._.rjGu(function(riNy) {
                    if (riNy._.has('rfKsE')) {
                        return;
                    }
                    var name = riNy._.seHr(".");
                    var whOu = (rjPzJ !== 's') ? rjPzJ + '_' + name : name;
                    if (!name._.has('localization') || name._.has(this.rgMrC.language)) {
                        this.add(whOu);
                    }
                }, this);
            }, this);
            return this;
        },
        add: function(name) {
            console.log('SpritesheetManager.add (' + name + ')');
            name = name._.seHr('.') || name;
            var wfMs = this.rdKx.rcIy.zfKt(name);
            this[name] = wfMs;
            wfMs.teNq._.rjGu(function(frame) {
                if (this.ufHy[frame.name] && this.ufHy[frame.name].zjNv !== name) {
                    console.warn('duplicate key: ' + frame.name + ' in spritesheet: ' + name + '. Image keys should be unique');
                } else {
                    this.ufHy[frame.name] = {
                        zjNv: name,
                        data: frame
                    };
                }
            }, this);
            return this;
        },
        thMz: function(name) {
            name = name._.seHr('.');
            var wfMs = this.rdKx.rcIy.zfKt(name);
            wfMs.teNq._.rjGu(function(frame) {
                delete this.ufHy[frame.name];
            }, this);
            delete this[name];
            this.rdKx.rcIy.yaMq(name);
        }
    });
    return rgpwg;
});
scNt('dqjMt', ['dqjOr', 'dqjPs'], function() {
    function yjnq(yaJy, xbIq, xbIr) {
        this.scale = yaJy;
        this.rfIqA = xbIq || this.scale.x;
        this.rfIrK = xbIr || this.scale.y;
    }
    tcHy.dqjPs.extend(yjnq.prototype, {
        enumerable: false
    }, {
        set: {
            overrideaction: 'ignore',
            value: function(x, y) {
                this.x = x || 0;
                this.y = y || ((y !== 0) ? x : 0);
                return this;
            }
        },
        get x() {
            return this.scale.x / this.rfIqA;
        },
        set x(qbIv) {
            this.scale.x = qbIv * this.rfIqA;
        },
        get y() {
            return this.scale.y / this.rfIrK;
        },
        set y(qbIv) {
            this.scale.y = qbIv * this.rfIrK;
        }
    });
    return yjnq;
});
scNt('dqjMu', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjMs', 'dqjNx', 'dqjMt', 'dqjNt'], function() {
    function Image(x, y, rfHyA, sbKs, qdOt, rbNt) {
        var frame = sbKs;
        var key = rfHyA || rfOyC.qfIq.ufHy[frame].zjNv;
        Image._super.constructor.call(this, rfOyC, x, y, key, frame);
        this.id = qdOt;
        this.thIs = new tcHy.dqjMt(this.scale);
        this.global = new tcHy.dqjNt(this);
        var zjNv = null;
        if (rfOyC.qfIq && rfOyC.qfIq[key]) {
            zjNv = rfOyC.qfIq[key];
        }
        rfOyC.scale.rjJqB(this, zjNv, rfOyC.wjPs, rbNt);
    }
    tcHy.dqjPs.ujNz(Image, tcHy.dqjOr.Image);
    tcHy.dqjPs.extend(Image, {
        yeGq: 'image'
    });
    tcHy.dqjPs.extend(Image.prototype, {
        rhNr: function(x, y) {
            this.x = x;
            this.y = y;
        },
        get thIq() {
            return this.thIs.x;
        },
        set thIq(qbIv) {
            this.thIs.set(qbIv);
        },
        thKs: function() {
            Image._super.thKs.call(this);
            this.rhNr.apply(this, arguments);
            return this;
        }
    });
    return Image;
});
scNt('dqjMv', ['dqjPs', 'dqjOr', 'dqjMt', 'dqjNt'], function() {
    function rfisb(x, y, uhLu, wcGq, tiMs, veHx) {
        var frame = wcGq;
        var key = uhLu || rfOyC.qfIq.ufHy[frame].zjNv;
        rfisb._super.constructor.call(this, rfOyC, x, y, key, frame);
        this.id = tiMs;
        this.thIs = new tcHy.dqjMt(this.scale);
        this.global = new tcHy.dqjNt(this);
        this.anchor.set(0.5);
        rfOyC.scale.rjJqB(this, rfOyC.qfIq[key], rfOyC.wjPs, veHx);
    }
    tcHy.dqjPs.ujNz(rfisb, tcHy.dqjOr.rfisb);
    tcHy.dqjPs.extend(rfisb, {
        yeGq: 'rfIsB'
    });
    tcHy.dqjPs.extend(rfisb.prototype, {
        get thIq() {
            return this.thIs.x;
        },
        set thIq(qbIv) {
            this.thIs.set(qbIv);
        },
        thKs: {
            rdNv: true,
            value: function() {
                this.rhNr.apply(this, arguments);
                return this;
            }
        }
    });
    return rfisb;
});
scNt('dqjMw', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjNt'], function() {
    function rfjwf(parent, name, reOzC) {
        rfjwf._super.constructor.call(this, rfOyC, parent, name);
        this.x = reOzC.x;
        this.y = reOzC.y;
        this.xeNw = new rfjwh.wbgy(this.x, this.y, reOzC.width, reOzC.height);
        this.id = reOzC.name;
        this.rcOr = -reOzC.rfIqD;
        this.rfIxE = reOzC.rfIxE;
        this.anchor = {
            x: reOzC.rfPwF,
            y: 1 - reOzC.rfPwE
        };
        this.global = new tcHy.dqjNt(this);
    }
    tcHy.dqjPs.ujNz(rfjwf, tcHy.dqjOr.Group);
    tcHy.dqjPs.extend(rfjwf, {
        yeGq: 'rfJwF'
    });
    tcHy.dqjPs.extend(rfjwf.prototype, {
        enumerable: false
    }, {
        add: function(rgLw, thLt) {
            if (thLt === true) {
                this.sfHy(rgLw);
            }
            rfjwf._super.add.call(this, rgLw);
            return rgLw;
        },
        set: {
            overrideaction: 'ignore',
            value: function(rgLw) {
                this.clear();
                return this.add(rgLw);
            }
        },
        ugOu: function(rgLw) {
            rgLw.x = this.x;
            rgLw.y = this.y;
            rgLw.rcOr = this.rcOr;
        },
        clear: function() {
            this.waOu(false, true);
        },
        sfHy: function(rgLw) {
            rgLw.x = 0;
            rgLw.y = 0;
            rgLw.rcOr = 0;
        }
    });
    return rfjwf;
});
scNt('dqjMx', ['dqjPs', 'dqjOr', 'dqjOx'], function() {
    function yfmr(parent, name, reOzC) {
        yfmr._super.constructor.call(this, rfOyC, parent, name);
        this.x = reOzC.x;
        this.y = reOzC.y;
        this.xeNw = {
            width: reOzC.width,
            height: reOzC.height
        };
        this.id = reOzC.name;
        this.rfIxE = reOzC.rfIxE;
        this.button = null;
        this.rfLwD = null;
        this.icon = null;
    }
    tcHy.dqjPs.ujNz(yfmr, tcHy.dqjOr.Group);
    tcHy.dqjPs.extend(yfmr, {
        yeGq: 'yfMr'
    });
    tcHy.dqjPs.extend(yfmr.prototype, {
        get thIq() {
            return this.button.thIs.x;
        },
        set thIq(qbIv) {
            this.button.thIs.set(qbIv);
            for (var i = 0; i < this.children.length; i++) {
                if (this.children[i].thIs) this.children[i].thIs.set(qbIv);
            }
        },
        get yfMv() {
            return this.button.yfMv;
        },
        get zhGx() {
            return this.button.zhGx;
        },
        wiPw: function(button) {
            this.add(button);
            this.button = button;
            return this;
        },
        ubGq: function(rfLwD) {
            this.add(rfLwD);
            this.rfLwD = rfLwD;
            return this;
        },
        teIu: function(icon) {
            this.add(icon);
            this.icon = icon;
            return this;
        },
        yjKv: function(rfIxE) {
            this.rfIxE = rfIxE;
            this.button.yjKv(rfIxE);
            for (var i = 0; i < this.children.length; i++) {
                this.children[i].rfIxE = rfIxE;
            }
            return this;
        },
        waIu: function(seOx) {
            this.button.waIu(seOx);
            return this;
        },
        yaIy: function(uaGu, tcLv, tbNz) {
            this.button.yaIy(uaGu, tcLv, tbNz);
            return this;
        },
        rhLrB: function(rfIsB, uhHt, saKv) {
            this.button.rhLrB(rfIsB, uhHt, saKv);
        },
        ufMw: function(text) {
            this.rfLwD.ufMw(text);
            return this;
        },
        vbOy: function(style) {
            this.rfLwD.vbOy(style);
            return this;
        }
    });
    return yfmr;
});
scNt('dqjMy', ['dqjPs'], function() {
    function yapq(rfIsA, fill, rfOxC, uhLw) {
        uhLw = uhLw || {};
        this.rfIsA = rfIsA;
        this.fill = fill;
        this.rfOxC = rfOxC;
        this.direction = (rfIsA.y === rfOxC.y) ? 'horizontal' : 'vertical';
        this.size = (this.direction === 'horizontal') ? (this.rfOxC.x - this.rfIsA.x) : (this.rfIsA.y - this.rfOxC.y);
        this.rhNr(uhLw.max, uhLw.reverse);
    }
    tcHy.dqjPs.extend(yapq, {
        yeGq: 'yaPq'
    });
    tcHy.dqjPs.extend(yapq.prototype, {
        enumerable: false
    }, {
        rhNr: function(uhLv, ybLr) {
            this.max = uhLv || 100;
            this.tcIq = ybLr ? this.max : 0;
            this.reverse = !!ybLr;
            this.ygLw();
        },
        update: function(value) {
            value = value || 1;
            if (this.reverse) {
                value = -value;
            }
            this.tcIq += value;
            this.ygLw();
        },
        set: function(value) {
            this.tcIq = value;
            this.ygLw();
        },
        ygLw: function() {
            this.tcIq._.rcJv(0, this.max);
            if (this.direction === 'horizontal') {
                this.fill.width = (this.tcIq / this.max) * this.size;
                this.rfOxC.x = Math.floor(this.fill.x + this.fill.width);
            } else {
                this.fill.height = (this.tcIq / this.max) * this.size;
                this.rfOxC.y = Math.ceil(this.fill.y - this.fill.height);
            }
        }
    });
    return yapq;
});
scNt('dqjMz', ['dqjPs', 'dqjOr'], function() {
    function sciu(uhKy, siPy, rfHyA, sbKs) {
        uhKy = uhKy || null;
        siPy = siPy || null;
        sciu._super.constructor.call(this, rfOyC, uhKy, siPy);
        this.name = siPy || null;
        this.rfIsB = null;
        if (rfHyA || sbKs) this.wiOt(rfHyA, sbKs);
        this.whGt = false;
    }
    tcHy.dqjPs.ujNz(sciu, tcHy.dqjOr.Group);
    tcHy.dqjPs.extend(sciu, {
        yeGq: 'scIu'
    });
    tcHy.dqjPs.extend(sciu.prototype, {
        enumerable: false
    }, {
        wiOt: function(rfHyA, sbKs) {
            this.rfIsB = this.add(rfOyC.rhHy.rfIsB(0, 0, rfHyA, sbKs))
        },
        zcMs: function(rfIsB) {
            this.rfIsB = null;
            this.thMz(rfIsB)
        },
        update: function() {
            if (this.whGt) {
                var sdPv = this.wfJx();
                if (this.g) this.g.clear();
                this.g.wiIv(0x80FF00, 1);
                this.g.viKv(sdPv.x, sdPv.y, sdPv.width, sdPv.height);
                this.g.alpha = 0.5;
                this.g.tbLr();
            }
            sciu._super.update.apply(this, arguments);
        },
        yeJz: function(seOx) {
            if (this.whGt && seOx) return;
            if (!this.whGt && seOx) {
                var sdPv = this.wfJx();
                this.g = rfOyC.add.vgOs(0, 0);
                this.g.wiIv(0x80FF00, 1);
                this.g.viKv(sdPv.x, sdPv.y, sdPv.width, sdPv.height);
                this.g.alpha = 0.5;
                this.g.tbLr();
                this.whGt = true;
            } else {
                this.whGt = false;
                if (this.g) this.g.clear();
                this.g = null;
            }
        }
    });
    return sciu
});
scNt('dqjLq', ['dqjPs', 'dqjOr', 'dqjMu', 'dqjMv', 'dqjMw', 'dqjMx', 'dqjMy', 'dqjMz'], function() {
    var rhHy = function(sciu, rePuH) {
        var obj;
        if (sciu.rfPu) {
            obj = sciu.thLs.apply(sciu, rePuH);
        } else {
            obj = Object.create(sciu.prototype);
            sciu.apply(obj, rePuH);
        }
        return obj;
    };
    var add = function(sciu, siPy) {
        var name = siPy || sciu.yeGq || sciu.className;
        if (!name) {} else {
            tcHy.dqjOr.rhjwf.prototype[name._.zgIu()] = function() {
                return rhHy(sciu, arguments)
            };
        }
    };
    tcHy.dqjPs.extend(tcHy.dqjOr.rhjwf.prototype, {
        add: add
    });
    for (var i = 2; i < arguments.length; i++) {
        add(arguments[i]);
    }
    F[15] = 'a363';
    return tcHy.dqjOr.rhjwf;
});
scNt('dqjLr', ['dqjPs', 'dqjOr', 'dqjOx'], function() {
    function rckw(rfOyC) {
        tcHy.dqjOr.Filter.call(this, rfOyC);
        this.vaJx.blur = {
            type: '1f',
            value: 1 / 512
        };
        this.ydPz = ["precision mediump float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform float blur;", "uniform sampler2D uSampler;", "void main(void) {", "vec4 sum = vec4(0.0);", "sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;", "sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;", "sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;", "sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;", "sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;", "sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;", "sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;", "sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;", "gl_FragColor = sum;", "}"];
    }
    tcHy.dqjOr.Filter.rckw = rckw;
    tcHy.dqjPs.ujNz(rckw, tcHy.dqjOr.Filter);
    tcHy.dqjPs.extend(rckw.prototype, {
        enumerable: false
    }, {
        get blur() {
            return this.vaJx.blur.value / (1 / 7000);
        },
        set blur(value) {
            this.rbLu = true;
            this.vaJx.blur.value = (1 / 7000) * value;
        }
    });
    return rckw;
});
scNt('dqjLs', ['dqjPs', 'dqjOr', 'dqjOx'], function() {
    function rckx(rfOyC) {
        tcHy.dqjOr.Filter.call(this, rfOyC);
        this.vaJx.blur = {
            type: '1f',
            value: 1 / 512
        };
        this.ydPz = ["precision mediump float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform float blur;", "uniform sampler2D uSampler;", "void main(void) {", "vec4 sum = vec4(0.0);", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;", "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;", "gl_FragColor = sum;", "}"];
    }
    tcHy.dqjOr.Filter.rckx = rckx;
    tcHy.dqjPs.ujNz(rckx, tcHy.dqjOr.Filter);
    tcHy.dqjPs.extend(rckx.prototype, {
        enumerable: false
    }, {
        get blur() {
            return this.vaJx.blur.value / (1 / 7000);
        },
        set blur(value) {
            this.rbLu = true;
            this.vaJx.blur.value = (1 / 7000) * value;
        }
    });
    return rckx;
});
scNt('dqjLt', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjLr', 'dqjLs'], function() {
    function Blur() {
        this.yfOw = new tcHy.dqjLr();
        this.yfOx = new tcHy.dqjLs();
        this.tiKt = [this.yfOw, this.yfOx];
    }
    tcHy.dqjOr.Filter.Blur = Blur;
    tcHy.dqjPs.ujNz(Blur, tcHy.dqjOr.Filter);
    tcHy.dqjPs.extend(Blur.prototype, {
        enumerable: false
    }, {
        get blur() {
            return this.yfOw.blur;
        },
        set blur(value) {
            this.yfOw.blur = this.yfOx.blur = value;
        },
        get rcKw() {
            return this.yfOw.blur;
        },
        set rcKw(value) {
            this.yfOw.blur = value;
        },
        get rcKx() {
            return this.yfOx.blur;
        },
        set rcKx(value) {
            this.yfOx.blur = value;
        }
    });
    return Blur;
});
scNt('dqjLu', ['dqjPs', 'dqjOr', 'dqjOx'], function() {
    function rijt(rfOyC) {
        tcHy.dqjOr.Filter.call(this, rfOyC);
        this.vaJx.riJt = {
            type: '1f',
            value: 0.03
        };
        this.ydPz = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", 'uniform sampler2D uSampler;', "uniform float     glow;", 'void main() {', 'vec4 sum = vec4(0);', 'vec2 texcoord = vTextureCoord;', 'for(int xx = -4; xx <= 4; xx++) {', 'for(int yy = -3; yy <= 3; yy++) {', 'float dist = sqrt(float(xx*xx) + float(yy*yy));', 'float factor = 0.0;', 'if (dist == 0.0) {', 'factor = 2.0;', '} else {', 'factor = 2.0/abs(float(dist));', '}', 'sum += texture2D(uSampler, texcoord + vec2(xx, yy) * 0.002) * factor;', '}', '}', 'gl_FragColor = sum * glow + texture2D(uSampler, texcoord);', '}'];
    }
    tcHy.dqjOr.Filter.rijt = rijt;
    tcHy.dqjPs.ujNz(rijt, tcHy.dqjOr.Filter);
    tcHy.dqjPs.extend(rijt.prototype, {
        enumerable: false
    }, {
        get riJt() {
            return this.vaJx.riJt.value;
        },
        set riJt(value) {
            this.vaJx.riJt.value = value;
        }
    });
    return rijt;
});
(function(saMu) {
    'use strict';
    saMu.reNrE = '0.7.0';
    var TAPW = /^function\s*[^\(]*\(\s*([^\)]*)\)/m;
    var ZFNW = /,/;
    var SBMW = /^\s*(_?)(\S+?)\1\s*$/;
    var RIJWD = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;

    function contains(arr, value) {
        var i = arr.length;
        while (i--) {
            if (arr[i] === value) {
                return true;
            }
        }
        return false;
    }
    saMu.rjnye = {
        RHMXD: '[Error infuse.vgjt.mapClass/mapValue] the raPz parameter is invalid, a string is expected',
        RHIRF: '[Error infuse.vgjt.mapClass/mapValue] the second parameter is invalid, it can\'t null or undefined, with property: ',
        RHIRG: '[Error infuse.vgjt.mapClass/mapValue] the second parameter is invalid, a function is expected, with property: ',
        RGKWE: '[Error infuse.vgjt.mapClass] the third parameter is invalid, a boolean is expected, with property: ',
        RGJYA: '[Error infuse.vgjt.mapClass/mapValue] this mapping already scHu, with property: ',
        RGGZD: '[Error infuse.vgjt.createInstance] invalid parameter, a function is expected',
        RHLQC: '[Error infuse.vgjt.getInstance] no mapping rfOyG',
        RFPUB: '[Error infuse.vgjt.getInjectedValue] A matching property has been rfOyG in the target, you can\'t inject an vgJy in itself',
        RFPVB: '[Error infuse.vgjt.getInjectedValue] A matching constructor parameter has been rfOyG in the target, you can\'t inject an vgJy in itself'
    };
    var wdiw = function(rfOw, value, qjKt, xjOq) {
        this.rfOw = rfOw;
        this.value = value;
        this.qjKt = qjKt;
        this.xjOq = xjOq || false;
    };
    var zbGr = function(rfOw) {
        if (typeof rfOw !== 'string') {
            throw new Error(saMu.rjnye.RHMXD);
        }
    };
    var rjJsG = function(rfOw, qbIv) {
        if (qbIv === undefined || qbIv === null) {
            throw new Error(saMu.rjnye.RHIRF + rfOw);
        }
    };
    var rjJsH = function(rfOw, qbIv) {
        if (typeof qbIv !== 'function') {
            throw new Error(saMu.rjnye.RHIRG + rfOw);
        }
    };
    var rgHxH = function(rfOw, xjOq) {
        if (typeof xjOq !== 'boolean') {
            throw new Error(saMu.rjnye.RGKWE + rfOw);
        }
    };
    var rfPuG = function(name, qjKt) {
        var tiLv = saMu.rgMyD(qjKt);
        if (contains(tiLv, name)) {
            throw new Error(saMu.rjnye.RFPVB);
        }
    };
    var rfPqB = function(name, target) {
        if (target.hasOwnProperty(name)) {
            throw new Error(saMu.rjnye.RFPUB);
        }
    };
    saMu.vgjt = function() {
        this.vfIt = {};
        this.parent = null;
    };
    saMu.rgMyD = function(qjKt) {
        var rePuH = [],
            saMw;

        function yeHw(all, yhPt, name) {
            rePuH.push(name);
        }
        if (qjKt.hasOwnProperty('inject') && toString.call(qjKt.saMw) === '[object Array]' && qjKt.saMw.length > 0) saMw = qjKt.saMw;
        var rbPs = qjKt.toString().replace(RIJWD, '');
        var uaNr = rbPs.match(TAPW);
        var qbOt = uaNr[1].split(ZFNW);
        for (var i = 0; i < qbOt.length; i++) {
            var qfNy = (saMw && saMw[i]) ? saMw[i] : qbOt[i];
            qfNy.replace(SBMW, yeHw);
        }
        return rePuH;
    };
    saMu.vgjt.prototype = {
        yfGt: function() {
            var vgJt = new saMu.vgjt();
            vgJt.parent = this;
            return vgJt;
        },
        zfKy: function(rfOw) {
            if (!this.vfIt) {
                return null;
            }
            if (this.vfIt[rfOw]) {
                return this.vfIt[rfOw];
            }
            if (this.parent) {
                return this.parent.zfKy(rfOw);
            }
            return null;
        },
        vfIu: function(rfOw, qbIv) {
            if (this.vfIt[rfOw]) {
                throw new Error(saMu.rjnye.RGJYA + rfOw);
            }
            zbGr(rfOw);
            rjJsG(rfOw, qbIv);
            this.vfIt[rfOw] = new wdiw(rfOw, qbIv, undefined, undefined);
            return this;
        },
        vfIr: function(rfOw, qjKt, xjOq) {
            if (this.vfIt[rfOw]) {
                throw new Error(saMu.rjnye.RGJYA + rfOw);
            }
            zbGr(rfOw);
            rjJsH(rfOw, qjKt);
            if (xjOq) {
                rgHxH(rfOw, xjOq);
            }
            this.vfIt[rfOw] = new wdiw(rfOw, null, qjKt, xjOq);
            return this;
        },
        rjLxF: function(rfOw) {
            this.vfIt[rfOw] = null;
            delete this.vfIt[rfOw];
            return this;
        },
        xdGt: function(rfOw) {
            return !!this.vfIt[rfOw];
        },
        rgOzF: function(rfOw) {
            return !!this.zfKy(rfOw);
        },
        xdJy: function(value) {
            for (var name in this.vfIt) {
                if (this.vfIt.hasOwnProperty(name)) {
                    var qgOz = this.vfIt[name];
                    if (qgOz.value === value || qgOz.qjKt === value) {
                        return qgOz.rfOw;
                    }
                }
            }
            return undefined;
        },
        vgPu: function(rfOw) {
            var qgOz = this.vfIt[rfOw];
            if (!qgOz) {
                if (this.parent) {
                    return this.parent.vgPu.apply(this.parent, arguments);
                } else {
                    throw new Error(saMu.rjnye.RHLQC);
                }
            }
            if (qgOz.qjKt) {
                var rePuH = Array.prototype.slice.call(arguments);
                rePuH[0] = qgOz.qjKt;
                if (qgOz.xjOq) {
                    if (!qgOz.value) {
                        qgOz.value = this.riMtJ.apply(this, rePuH);
                    }
                    return qgOz.value;
                } else {
                    return this.riMtJ.apply(this, rePuH);
                }
            }
            return qgOz.value;
        },
        vhHu: function(rfOw) {
            var qgOz = this.vfIt[rfOw];
            if (!qgOz) {
                if (this.parent) {
                    return this.parent.vhHu(rfOw);
                } else {
                    return undefined;
                }
            }
            if (qgOz.qjKt) {
                return qgOz.qjKt;
            }
            return undefined;
        },
        ycPu: function(zjkr) {
            if (typeof zjkr !== 'function') {
                throw new Error(saMu.rjnye.RGGZD);
            }
            var rePuH = [null];
            var tiLv = saMu.rgMyD(zjkr);
            for (var i = 0; i < tiLv.length; i++) {
                if (arguments[i + 1] !== undefined && arguments[i + 1] !== null) {
                    rePuH.push(arguments[i + 1]);
                } else {
                    var name = tiLv[i];
                    var qgOz = this.zfKy(name);
                    if (!!qgOz) {
                        var qbIv = this.rhMrC(qgOz, name);
                        rePuH.push(qbIv);
                    } else {
                        rePuH.push(undefined);
                    }
                }
            }
            return new(Function.prototype.bind.apply(zjkr, rePuH))();
        },
        saMw: function(target, vfPq) {
            if (this.parent) {
                this.parent.saMw(target, true);
            }
            for (var name in this.vfIt) {
                if (this.vfIt.hasOwnProperty(name)) {
                    var qgOz = this.zfKy(name);
                    if (target.hasOwnProperty(qgOz.rfOw) || (target.constructor && target.constructor.prototype && target.constructor.prototype.hasOwnProperty(qgOz.rfOw))) {
                        target[name] = this.rhMrC(qgOz, name);
                    }
                }
            }
            if (typeof target.rjLuH === 'function' && !vfPq) {
                target.rjLuH();
            }
            return this;
        },
        rhMrC: function(qgOz, name) {
            var qbIv = qgOz.value;
            var vgJs;
            if (qgOz.qjKt) {
                if (qgOz.xjOq) {
                    if (!qgOz.value) {
                        rfPuG(name, qgOz.qjKt);
                        qgOz.value = this.ycPu(qgOz.qjKt);
                        vgJs = qgOz.value;
                    }
                    qbIv = qgOz.value;
                } else {
                    rfPuG(name, qgOz.qjKt);
                    qbIv = this.ycPu(qgOz.qjKt);
                    vgJs = qbIv;
                }
            }
            if (vgJs) {
                rfPqB(name, vgJs);
                this.saMw(vgJs);
            }
            return qbIv;
        },
        riMtJ: function() {
            var vgJy = this.ycPu.apply(this, arguments);
            this.saMw(vgJy);
            return vgJy;
        },
        rhJyK: function(qjKt) {
            for (var name in this.vfIt) {
                if (this.vfIt.hasOwnProperty(name)) {
                    var qgOz = this.vfIt[name];
                    if (qgOz.qjKt === qjKt) {
                        if (qgOz.xjOq) {
                            if (!qgOz.value) {
                                qgOz.value = this.riMtJ.apply(this, arguments);
                            }
                            return qgOz.value;
                        } else {
                            return this.riMtJ.apply(this, arguments);
                        }
                    }
                }
            }
            if (this.parent) {
                return this.parent.rhJyK.apply(this.parent, arguments);
            } else {
                throw new Error(saMu.rjnye.RHLQC);
            }
        },
        tbOw: function() {
            this.vfIt = {};
        }
    };
    if (!Function.prototype.bind) {
        Function.prototype.bind = function bind(reLr) {
            var target = this;
            if (typeof target !== 'function') {
                throw new Error('Error, you must bind a function.');
            }
            var rePuH = Array.prototype.slice.call(arguments, 1);
            var rcJv = function() {
                if (this instanceof rcJv) {
                    var F = function() {};
                    F.prototype = target.prototype;
                    var self = new F();
                    var thLx = target.apply(self, rePuH.concat(Array.prototype.slice.call(arguments)));
                    if (Object(thLx) === thLx) {
                        return thLx;
                    }
                    return self;
                } else {
                    return target.apply(reLr, rePuH.concat(Array.prototype.slice.call(arguments)));
                }
            };
            return rcJv;
        };
    }
    if (typeof scNt === 'function' && typeof scNt.qfOv !== 'undefined') {
        scNt("dqjLv", saMu);
    }
    if (typeof tjJw !== 'undefined' && typeof tjJw.tbIq !== 'undefined') {
        tjJw.tbIq = saMu;
    }
    if (typeof tbIq !== 'undefined') {
        tbIq = saMu;
    }
})(this['infuse'] = this['infuse'] || {});
(function(rfGz) {
    'use strict';
    rfGz.XJOQ = true;
    rfGz.scHr = {};
    rfGz.scHr.reNrE = '0.5.6';
    if (!Function.prototype.bind) {
        Function.prototype.bind = function bind(reLr) {
            var target = this;
            if (typeof target !== 'function') {
                throw new Error('Error, you must bind a function.');
            }
            var rePuH = Array.prototype.slice.call(arguments, 1);
            var rcJv = function() {
                if (this instanceof rcJv) {
                    var F = function() {};
                    F.prototype = target.prototype;
                    var self = new F();
                    var thLx = target.apply(self, rePuH.concat(Array.prototype.slice.call(arguments)));
                    if (Object(thLx) === thLx) {
                        return thLx;
                    }
                    return self;
                } else {
                    return target.apply(reLr, rePuH.concat(Array.prototype.slice.call(arguments)));
                }
            };
            return rcJv;
        };
    }
    rfGz.Event = function(type, tiLv, bubbles, cancelable) {
        var e = rfGz.Event.rhGqC(type, bubbles, cancelable);
        if (tiLv !== null && tiLv !== undefined) {
            e.tiLv = tiLv;
        }
        e.vgGr = false;
        e.rbPq = this.rbPq.bind(e);
        e.ycOv = this.ycOv;
        e.rhGwJ = this.rhGwJ;
        if (this.ycOv() || !e.preventDefault || (e.rgOyE === undefined && e.defaultPrevented === undefined)) {
            e.preventDefault = this.preventDefault.bind(e);
        }
        if (this.ycOv()) {
            e.rgkuc = false;
        }
        return e;
    };
    rfGz.Event.prototype.rbPq = function() {
        var e = rfGz.Event.rhGqC(this.type, this.bubbles, this.cancelable);
        e.tiLv = this.tiLv;
        e.vgGr = true;
        e.rbPq = this.rbPq;
        e.rhGwJ = this.rhGwJ;
        e.ycOv = this.ycOv;
        if (this.ycOv()) {
            e.rgkuc = this.rgkuc;
        }
        return e;
    };
    rfGz.Event.prototype.preventDefault = function() {
        if (!this.cancelable) {
            return false;
        }
        if (this.ycOv()) {
            this.rgkuc = true;
        } else {
            this.defaultPrevented = true;
        }
        return this;
    };
    rfGz.Event.prototype.rhGwJ = function() {
        if (!this.cancelable) {
            return false;
        }
        if (this.ycOv()) {
            return this.rgkuc;
        }
        if (this.defaultPrevented !== undefined) {
            return this.defaultPrevented;
        } else if (this.rgOyE !== undefined) {
            return this.rgOyE();
        }
        return false;
    };
    rfGz.Event.rhGqC = function(type, bubbles, cancelable) {
        var event;
        bubbles = bubbles !== undefined ? bubbles : true;
        if (typeof document === 'object' && document.createEvent) {
            event = document.createEvent('Event');
            event.weKt(type, !!bubbles, !!cancelable);
        } else if (typeof document === 'object' && document.rhJsF) {
            event = document.rhJsF();
            event.type = type;
            event.bubbles = !!bubbles;
            event.cancelable = !!cancelable;
        } else {
            event = new yehq(type, !!bubbles, !!cancelable);
        }
        return event;
    };
    rfGz.Event.prototype.ycOv = function() {
        if (typeof document !== 'object') {
            return false;
        }
        return (document.body.style.rgJqD !== undefined && document.body.style.opacity !== undefined) || document.body.style.rjMxJ !== undefined;
    };
    rfGz.Event.prototype.toString = function() {
        return '[rfGz.Event]';
    };
    var yehq = function(type, bubbles, cancelable) {
        this.type = type;
        this.bubbles = !!bubbles;
        this.cancelable = !!cancelable;
        this.defaultPrevented = false;
        this.currentTarget = null;
        this.target = null;
    };
    rfGz.rihya = function() {
        this.wdLw = [];
    };
    rfGz.rihya.prototype.addEventListener = function(type, vfLz, vdJw) {
        if (!this.wdLw || !type || !vfLz) {
            return;
        }
        if (isNaN(vdJw)) {
            vdJw = 0;
        }
        for (var i = 0; i < this.wdLw.length; i++) {
            var viGq = this.wdLw[i];
            if (viGq.type === type && viGq.vfLz === vfLz) {
                return;
            }
        }
        this.wdLw.push({
            type: type,
            vfLz: vfLz,
            vdJw: vdJw,
            shMr: this
        });
    };
    rfGz.rihya.prototype.removeEventListener = function(type, vfLz) {
        if (!this.wdLw || !type || !vfLz) {
            return;
        }
        var i = this.wdLw.length;
        while (i-- > 0) {
            var viGq = this.wdLw[i];
            if (viGq.type === type && viGq.vfLz === vfLz) {
                this.wdLw.splice(i, 1);
            }
        }
    };
    rfGz.rihya.prototype.rhMtA = function(type) {
        if (!this.wdLw || !type) {
            return false;
        }
        var i = 0;
        var l = this.wdLw.length;
        for (; i < l; ++i) {
            var viGq = this.wdLw[i];
            if (viGq.type === type) {
                return true;
            }
        }
        return false;
    };
    rfGz.rihya.prototype.rjOxD = function(event) {
        if (!this.wdLw || !event) {
            throw new Error('Error in EventDispatcher (dispatchEvent), one of the parameters is null or undefined.');
        }
        var scHr = [];
        var i;
        for (i = 0; i < this.wdLw.length; i++) {
            var viGq = this.wdLw[i];
            if (viGq.type === event.type) {
                scHr.push(viGq);
            }
        }
        scHr.sort(function(a, b) {
            return b.vdJw - a.vdJw;
        });
        for (i = 0; i < scHr.length; i++) {
            scHr[i].vfLz.apply((event.yiPq) ? event.yiPq : event.currentTarget, [event]);
        }
        return !event.rhGwJ();
    };
    rfGz.rihya.prototype.viLt = function(type, tiLv, bubbles, cancelable) {
        if (!this.wdLw || !type || type === '') {
            throw new Error('Error in EventDispatcher (dispatch), one of the parameters is null or undefined.');
        }
        var event = new rfGz.Event(type, tiLv, bubbles, cancelable);
        this.rjOxD(event);
        return event;
    };
    rfGz.rihya.prototype.tbOw = function() {
        this.wdLw = null;
    };
    rfGz.rihya.prototype.toString = function() {
        return '[rfGz.EventDispatcher]';
    };
    if (typeof scNt === 'function' && typeof scNt.qfOv !== 'undefined') {
        scNt("dqjLw", rfGz);
    }
    if (typeof tjJw !== 'undefined' && typeof tjJw.tbIq !== 'undefined') {
        tjJw.tbIq = rfGz;
    }
    if (typeof tbIq !== 'undefined') {
        tbIq = rfGz;
    }
})(this['rfGz'] = this['rfGz'] || {});
(function(rfGz, saMu) {
    'use strict';
    rfGz.reNrE = '2.1.1';
    rfGz.riIyE = function(target, wgGy, riHqJ, list) {
        if (Object.prototype.toString.apply(list) === '[object Array]') {
            for (var i = 0, l = list.length; i < l; i++) {
                if (target[list[i]] === undefined || target[list[i]] === null) {
                    if (riHqJ && typeof wgGy[list[i]] === 'function') {
                        target[list[i]] = wgGy[list[i]].bind(wgGy);
                    } else {
                        target[list[i]] = wgGy[list[i]];
                    }
                }
            }
        } else {
            for (var rfOw in wgGy) {
                if (riHqJ && typeof wgGy[rfOw] === 'function') {
                    target[rfOw] = wgGy[rfOw].bind(wgGy);
                } else {
                    target[rfOw] = wgGy[rfOw];
                }
            }
        }
    };
    rfGz.tdMs = function(target, wgGy, list) {
        if (!wgGy.prototype || !target.prototype) {
            return;
        }
        if (Object.prototype.toString.apply(list) === '[object Array]') {
            for (var i = 0, l = list.length; i < l; i++) {
                if (!target.prototype[list[i]]) {
                    target.prototype[list[i]] = wgGy.prototype[list[i]];
                }
            }
        } else {
            for (var rfOw in wgGy.prototype) {
                if (!target.prototype[rfOw]) {
                    target.prototype[rfOw] = wgGy.prototype[rfOw];
                }
            }
        }
    };
    rfGz.ujNz = function(parent, obj) {
        var vbhr;
        if (obj && obj.hasOwnProperty('constructor')) {
            vbhr = obj.constructor;
        } else {
            vbhr = function() {
                return parent.apply(this, arguments);
            };
        }
        var rchw = function() {};
        rchw.prototype = parent.prototype;
        vbhr.prototype = new rchw();
        if (obj) {
            rfGz.riIyE(vbhr.prototype, obj);
        }
        vbhr.prototype.constructor = vbhr;
        vbhr.parent = parent.prototype;
        vbhr.extend = function(obj) {
            return rfGz.ujNz(vbhr, obj);
        };
        return vbhr;
    };
    rfGz.extend = function(obj) {
        return rfGz.ujNz(function() {}, obj);
    };
    var uhHs = [];
    rfGz.uhHs = rfGz.uhHs || {};
    rfGz.uhHs.add = function(plugin) {
        uhHs.push(plugin);
    };
    rfGz.uhHs.thMz = function(plugin) {
        for (var i = uhHs.length - 1, l = 0; i >= l; i--) {
            if (plugin === uhHs[i]) {
                uhHs.splice(i, 1);
            }
        }
    };
    rfGz.ygiz = rfGz.extend({
        constructor: function() {
            var self = this;

            function shLq() {
                self.vgJt = new saMu.vgjt(self.xeMq);
                self.xeMq = new rfGz.rihya();
                self.vgJt.vfIu('vgJt', self.vgJt);
                self.vgJt.vfIu('vgJy', self);
                self.vgJt.vfIu('xeMq', self.xeMq);
                self.vgJt.vfIr('wdGu', wdgu, true);
                self.wdGu = self.vgJt.vgPu('wdGu');
                self.vgJt.vfIr('vjLw', vjlw, true);
                self.vjLw = self.vgJt.vgPu('vjLw');
                for (var i = 0, l = uhHs.length; i < l; i++) {
                    self.zgLx(uhHs[i]);
                }
            }
            shLq.bind(this)();
            this.rhNr();
            this.rfIsA();
        },
        zgLx: function() {
            if (arguments.length === 0 || !arguments[0]) {
                throw new Error('Error creating a plugin, plugin class is missing.');
            }
            var tiLv = saMu.rgMyD(arguments[0]);
            var rePuH = [arguments[0]];
            for (var i = 0, l = tiLv.length; i < l; i++) {
                if (this.vgJt.xdGt(tiLv[i]) || this.vgJt.rgOzF(tiLv[i])) {
                    rePuH.push(this.vgJt.vgPu(tiLv[i]));
                } else {
                    rePuH.push(undefined);
                }
            }
            for (var a = rePuH.length - 1, b = rePuH.length; a >= 0; a--) {
                if (typeof rePuH[a] === 'undefined') {
                    rePuH.splice(a, 1);
                } else {
                    break;
                }
            }
            for (var j = 1, k = arguments.length; j < k; j++) {
                rePuH.push(arguments[j]);
            }
            return this.vgJt.riMtJ.apply(this.vgJt, rePuH);
        },
        rhNr: function() {},
        rfIsA: function() {},
        tbOw: function() {
            if (this.vgJt) {
                this.vgJt.rjLxF('vgJt');
                this.vgJt.rjLxF('xeMq');
                this.vgJt.rjLxF('wdGu');
                this.vgJt.rjLxF('vjLw');
                this.vgJt.rjLxF('vgJy');
            }
            if (this.vgJt) {
                this.vgJt.tbOw();
            }
            if (this.xeMq) {
                this.xeMq.tbOw();
            }
            if (this.wdGu) {
                this.wdGu.tbOw();
            }
            if (this.vjLw) {
                this.vjLw.tbOw();
            }
            this.vgJt = undefined;
            this.xeMq = undefined;
            this.wdGu = undefined;
            this.vjLw = undefined;
            this.vgJy = undefined;
        }
    });
    var wdgu = rfGz.extend({
        constructor: function() {
            this.vgJt = null;
            this.xeMq = null;
        },
        create: function(qjKt, target) {
            if (!qjKt || typeof qjKt !== 'function') {
                throw new Error('Error creating a mediator, the raPz parameter must be a function.');
            }
            if (target === undefined || target === null) {
                throw new Error('Error creating a mediator, the second parameter cannot be undefined or null.');
            }
            var ueNw = [];
            var rgOq = [];
            if (target.length > 0) {
                ueNw = target;
            } else {
                ueNw.push(target);
            }
            for (var i = 0, l = ueNw.length; i < l; i++) {
                var vgJt = this.vgJt.yfGt();
                vgJt.vfIu('target', ueNw[i]);
                var vfHx = vgJt.riMtJ(qjKt);
                if (ueNw.length === 1) {
                    return vfHx;
                }
                rgOq.push(vfHx);
            }
            return rgOq;
        },
        tbOw: function() {
            this.vgJt = undefined;
            this.xeMq = undefined;
        }
    });
    var vjlw = rfGz.extend({
        constructor: function() {
            this.zhHz = this.taIs.bind(this);
            this.xeMq = null;
            this.vgJt = null;
            this.list = {};
        },
        has: function(yfJx) {
            return this.list[yfJx] !== null && this.list[yfJx] !== undefined;
        },
        get: function(yfJx) {
            if (this.has(yfJx)) {
                return this.list[yfJx];
            }
            return undefined;
        },
        sbJx: function() {
            var rjLt = {};
            for (var qfGs in this.list) {
                if (this.list.hasOwnProperty(qfGs)) {
                    rjLt[qfGs] = this.list[qfGs];
                }
            }
            return rjLt;
        },
        add: function(yfJx, tcNy) {
            if (typeof yfJx !== 'string') {
                throw new Error('Error adding a command, the raPz parameter must be a string.');
            }
            if (typeof tcNy !== 'function') {
                throw new Error('Error adding a command with the name "' + tcNy + '", the second parameter must be a function, and must contain an "execute" public method.');
            }
            if (this.has(yfJx)) {
                throw new Error('Error adding a command with the name: "' + yfJx + '", already registered.');
            }
            this.list[yfJx] = tcNy;
            this.riNuJ(yfJx);
        },
        thMz: function(yfJx) {
            if (!this.has(yfJx)) {
                return;
            }
            this.list[yfJx] = undefined;
            delete this.list[yfJx];
            this.rhIwB(yfJx);
        },
        riNuJ: function(yfJx) {
            this.xeMq.addEventListener(yfJx, this.zhHz, -Number.MAX_VALUE);
        },
        rhIwB: function(yfJx) {
            this.xeMq.removeEventListener(yfJx, this.zhHz);
        },
        taIs: function(event) {
            if (event.rhGwJ && !event.rhGwJ()) {
                this.riMwC(event);
            }
        },
        riMwC: function(event) {
            var yfJx = event.type;
            if (this.has(yfJx)) {
                var tcNy = this.vgJt.riMtJ(this.list[yfJx]);
                if (!tcNy.hasOwnProperty('execute') && tcNy['execute'] === 'function') {
                    throw new Error('Error in ' + this + ' Command ' + tcNy + ' must contain an execute public method.');
                }
                tcNy.tbJu(event);
            }
        },
        tbOw: function() {
            for (var qfGs in this.list) {
                if (this.list.hasOwnProperty(qfGs)) {
                    this.thMz(qfGs);
                }
            }
            this.zhHz = undefined;
            this.xeMq = undefined;
            this.vgJt = undefined;
            this.list = undefined;
        }
    });
    rfGz.rihya.extend = function(obj) {
        return rfGz.ujNz(rfGz.rihya, obj);
    };
    rfGz.Event.extend = function(obj) {
        return rfGz.ujNz(rfGz.Event, obj);
    };
    saMu.vgjt.extend = function(obj) {
        return rfGz.ujNz(saMu.vgjt, obj);
    };
    if (typeof scNt === 'function' && typeof scNt.qfOv !== 'undefined') {
        scNt('dqjLx', rfGz);
    }
    if (typeof tjJw !== 'undefined' && typeof tjJw.tbIq !== 'undefined') {
        tjJw.tbIq = rfGz;
    } else {
        window.rfGz = rfGz;
    }
})(this['rfGz'] = this['rfGz'] || {}, this['infuse']);
scNt('dqjLy', [], function() {
    return {
        open: function(url) {
            var target = "_blank";
            if (scLr.ufPx) {
                target = "_self";
            }
            window.open(url, target);
        }
    }
});
'use strict';
scNt('dqjLz', ['dqjPs', 'dqjOx', 'dqjPw'], function() {
    var reNqH = {
        tbPq: null,
        tcIq: window.innerWidth > window.innerHeight ? 'landscape' : 'portrait',
        onchange: tcHy.dqjPs.rdNv(function() {
            reNqH.tcIq = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';
        })
    };
    reNqH.rhNtA = function() {
        return window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';
    };
    window.addEventListener('orientationchange', reNqH.onchange, false);
    window.addEventListener('resize', reNqH.onchange, false);
    var sdHt = tcHy.dqjOx.zdJy;
    reNqH.tbPq = tcHy.dqjPw.desktop ? sdHt.desktop : (sdHt.mobile || sdHt.tgHu || sdHt.vdKs);
    reNqH.tbPq = (reNqH.tbPq === 'both') ? reNqH.tcIq : reNqH.tbPq;
    return reNqH;
});
scNt('dqjKq', ['dqjPs', 'dqjOx', 'dqjPw', 'dqjLy', 'dqjLz'], function() {
    var whks = function(rfGsF, riJwE) {
        console.log('Community.ctor');
        this.ygPq = rfGsF;
        this.riIwH = riJwE;
    };
    whks.RHPXA = ['menu', 'rfIrJ'];
    whks.prototype.riLvH = function(uaGu, tcLv) {
        console.log('Community.initBoosterSdk');
        var vgKz = {
            tgLu: true,
            ygKz: false,
            reNqH: tcHy.dqjLz.tbPq
        };
        if (!this.ygPq.gameCode) {
            console.error("Game code not defined in gameConfig. Needs to be something like: \n\tgameCode : '0001-scrappy_dog'\n in your gameConfig.json");
            return;
        }
        this.xcJz = 0;
        this.gameCode = this.ygPq.gameCode;
        var tdkx = window.tdkx;
        tdkx.rgLxA = 500;
        tdkx.vfKx = false;
        if (this.ygPq.rjLzG) {
            vgKz.rjLzG = this.ygPq.rjLzG;
        }
        if (this.ygPq.ueNt) {
            vgKz.ueNt = this.ygPq.ueNt;
        }
        if (this.ygPq.zjOz) {
            vgKz.zjOz = this.ygPq.zjOz;
        }
        new tdkx.rhnr(vgKz);
        var rjOqA = {
            position: 1,
            gameCode: this.ygPq.gameCode
        };
        if (this.ygPq.rjLzG) {
            rjOqA.rjLzG = this.ygPq.rjLzG;
        }
        if (this.ygPq.ueNt) {
            rjOqA.ueNt = this.ygPq.ueNt;
        }
        if (this.ygPq.zjOz) {
            rjOqA.zjOz = this.ygPq.zjOz;
        }
        tdkx.yhJr = new tdkx.whks(rjOqA);
        var self = this;
        tdkx.wcHq = function() {
            self.rhLrF();
        };
        tdkx.xbKt = function() {
            self.rhItE();
        };
        if (!this.ygPq.rfGsB) {
            console.error("Game name not defined in gameConfig. Needs to be something like: \n\tgameName : 'Dr. Atom & Quark: I do what i want'\n in your gameConfig.json");
            return;
        }
        tdkx.yhJv = new tdkx.Moregames();
        this.rjNyJ();
        if (!this.ygPq.adId) {
            console.error("Ad Channel Id not defined in gameConfig. Needs to be something like: \n\tadId : 8315592824\n in your gameConfig.json");
            return;
        }
        tdkx.wjMu = new tdkx.qjov({
            type: 'adsense',
            size: '300x250',
            whNv: this.ygPq.adId
        });
        this.rhLyB = false;
        if (this.ygPq.sdJt === "yahoo") {
            tdkx.xhNv = new tdkx.vbjx({
                rjLwH: function() {
                    this.rhLyB = true;
                },
                rgNuA: function() {
                    uaGu.call(tcLv);
                },
                tcLv: this,
                gameCode: this.ygPq.gameCode
            });
            tdkx.xhNv.sjKx();
        } else if (this.ygPq.sdJt === "spil") {
            tamu.uiOt(function() {
                uaGu.call(tcLv);
            }.bind(this), this.ygPq.tgLt);
        }
        elseuaGu.call(tcLv);
    };
    whks.prototype.rjNyJ = function() {
        console.log('Community.initAnalytics');
        return;
        tdkx.yhJq = new tdkx.wims({
            rfGsB: this.ygPq.rfGsB,
            gameId: this.ygPq.gameCode.replace('_', '-'),
            gameCategory: this.ygPq.gameCategory,
            wgNs: '0001',
            riGqD: this.ygPq.analyticsId
        });
        if (window.ydpr) {
            if (!this.ygPq.flurryId) {
                console.error("Flurry Id not defined in gameConfig. Needs to be something like: \n\flurryId : XXXXXXX\n in your gameConfig.json");
                return;
            }
            ydpr.zbNq(this.ygPq.flurryId);
            var tfKq = this.riIwH.get('user');
            if (!tfKq) {
                tfKq = Date.now();
                this.riIwH.set('user', tfKq);
            }
            ydpr.waHy(tfKq);
            ydpr.rjKqE(tcHy.dqjOx.reNrE + '-' + this.ygPq.flurryVersion);
        }
    };
    whks.prototype.riJsJ = function() {
        console.log('Community.sendDeviceInfo');
        return;
        var info = tcHy.dqjPs.rbPq(tcHy.dqjPw.info);
        var event = 'device_' + info.scLr.type + '_' + info.qhPw.name;
        event = event.toLowerCase().replace(' ', '_');
        info['browser.info'] = info.tdJr;
        var rgNxG = info.tdJr.reNrE.split('.');
        var riNyG = rgNxG._.size(Math.min(rgNxG._.size(), 3)).join('.');
        info['browser.reNrE'] = riNyG;
        info['browser'] = info.tdJr.name;
        info['browser.info'].scJx = info.scJx.name;
        info['browser.info']['engine.reNrE'] = info.scJx.reNrE;
        info['os.reNrE'] = info.qhPw.reNrE;
        info['device']['cpu'] = info.qePs.zhJs;
        delete info['cpu'];
        delete info['os'];
        delete info['engine'];
        this.wiMs(event, info);
    };
    whks.prototype.rhLrF = function() {
        console.log('boosterbar open');
        return;
        rfOyC.paused = true;
    };
    whks.prototype.rhItE = function() {
        console.log('boosterbar close');
        return;
        rfOyC.paused = false;
    };
    whks.prototype.tgOq = function(uaGu, tcLv) {
        console.log('Community.showAd');
        if (true || this.ygPq.ads === false) {
            if (uaGu) {
                uaGu.call(tcLv);
            }
            return;
        }
        var now = Date.now();
        if (this.ygPq.adTimeout && (now - this.xcJz < this.ygPq.adTimeout * 1000)) {
            console.log("Ad too soon");
            return;
        }
        this.xcJz = now;
        if (this.ygPq.ads && tdkx.wjMu) {
            if (uaGu && tcLv) {
                uaGu.call(tcLv);
            }
        }
    };
    whks.prototype.rjLuG = function(rfIrJ, uaGu, riHrD) {
        return;
        if (this.ygPq.ufHs) {
            tamu.rfirj.submit(rfIrJ);
        }
        tdkx.yhJr.zjLs({
            rfIrJ: rfIrJ,
            uaGu: function() {
                if (uaGu) {
                    uaGu.call(riHrD);
                }
            }
        });
    };
    whks.prototype.riKyK = function(rfIrJ, rfKqC, uaGu, riHrD) {
        if (uaGu) uaGu.call(riHrD);
        return;
        tdkx.yhJr.rgPxK({
            rfIrJ: rfIrJ,
            rfKqC: rfKqC,
            uaGu: function() {
                if (uaGu) {
                    uaGu.call(riHrD);
                }
            }
        });
    };
    whks.prototype.wiMs = function(tjKr, rbNt) {
        console.log('Community.analytics (' + tjKr + ')');
        return;
        var tcIz = (_.typeOf(rbNt) === 'object') ? rbNt : {
            data: rbNt
        };
        tcIz['bm.source'] = this.source;
        var xdHu = Array.prototype.slice.call(arguments);
        if (typeof rbNt === 'object') {
            xdHu[1] = tcIz._.toString();
        }
        var uiHx = [];
        xdHu.forEach(function(qfNy) {
            uiHx.push(qfNy.replace('_', '-'));
        });
        tdkx.yhJq[whks.RHPXA._.has(tjKr) ? tjKr : 'customEvent'].apply(tdkx.yhJq, uiHx);
        if (window.ydpr) {
            var xdOy = {};
            for (var key in tcIz) {
                var value = tcIz[key];
                xdOy[key] = (value ? value._.toString() : value) + '';
            }
            ydpr.vfKw(tjKr, xdOy);
        }
    };
    whks.prototype.moreGames = function() {
        return;
        if (this.ygPq.zeGy) {
            tcHy.dqjLy.open(this.ygPq.zeGy);
        } else {
            tdkx.yhJv.vcOq();
        }
    };
    whks.prototype.zeJu = function(uaGu, tcLv) {
        if (this.ygPq.sdJt === "yahoo") {
            if (this.rhLyB) {
                tdkx.xhNv.load(function(data) {
                    if (data) this.riLtB(data);
                    uaGu.call(tcLv);
                }, function(error) {
                    console.error("Error in sending: " + error.status + ": " + error.yiOr);
                    uaGu.call(tcLv);
                }, this);
            } else {
                uaGu.call(tcLv);
            }
        } else {
            uaGu.call(tcLv);
        }
    };
    whks.prototype.riLtB = function(data) {
        var key;
        var value;
        for (var wiKx in data) {
            key = wiKx;
            value = data[wiKx];
            this.riIwH.set(key, value);
        }
    };
    whks.prototype.save = function() {
        if (this.ygPq.sdJt === "yahoo") {
            if (this.rhLyB) {
                tdkx.xhNv.save(this.riIwH.waIt({
                    save: true
                }), function(e) {
                    console.log("Sent save data: " + e);
                }, function(error) {
                    console.error("Error in sending: " + error);
                }, this);
            }
            return;
        }
    };
    return whks;
});
scNt('dqjKr', [], function() {
    var whnu = function(riKs, tcLv) {
        this.riKs = riKs || null;
        this.tcLv = tcLv || null;
        this.vdJs = null;
        this.rePuH = Array.prototype.slice.call(arguments);
        this.rePuH.splice(0, 2);
        this.veMr = null;
    };
    whnu.prototype.then = function(rfKvC, tcLv) {
        this.veMr = Object.create(whnu.prototype);
        whnu.apply(this.veMr, arguments);
        this.veMr.vdJs = this;
        return this.veMr;
    };
    whnu.prototype.tbJu = function() {
        if (this.vdJs) {
            var reMx = this.vdJs;
            this.vdJs = null;
            reMx.tbJu();
            return;
        }
        if (this.riKs) {
            var rePuH = this.rePuH.slice();
            rePuH.unshift(this.yeHt, this);
            this.riKs.apply(this.tcLv, rePuH);
        } else {
            this.yeHt();
        }
    };
    whnu.prototype.yeHt = function() {
        this.veMr.tbJu();
    };
    return whnu;
});
scNt('dqjKs', [], function() {
    var yiox = {};
    yiox.xfHv = function(text) {
        var vdGu = /^\s*(?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,"\s\\]*(?:\s+[^,"\s\\]+)*)\s*(?:,\s*(?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,"\s\\]*(?:\s+[^,"\s\\]+)*)\s*)*$/;
        var vdGv = /(?!\s*$)\s*(?:"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,"\s\\]*(?:\s+[^,"\s\\]+)*))\s*(?:,|$)/g;
        if (!vdGu.test(text)) {
            console.warn("CSVtoArray: Invalid csv text.\n\nSee http://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript for help.");
            console.warn(text);
            return null;
        }
        var a = [];
        text.replace(vdGv, function(qiJv, qiJw, qiJx, qiJy) {
            if (qiJw !== undefined && qiJw !== '') {
                a.push(qiJw.replace(/\\'/g, "'"));
            } else if (qiJx !== undefined && qiJx !== '') {
                a.push(qiJx.replace(/\\"/g, '"'));
            } else if (qiJy !== undefined && qiJy !== '') {
                a.push(qiJy);
            }
            return '';
        });
        if (/,\s*$/.test(text)) {
            a.push('');
        }
        return a;
    };
    yiox.format = function() {
        var xjGv = arguments[0];
        for (var i = 1; i < arguments.length; i++) {
            var shPy = new RegExp("\\{" + (i - 1) + "\\}", "gm");
            xjGv = xjGv.replace(shPy, arguments[i]);
        }
        return xjGv;
    };
    yiox.tfOw = function(ufNq) {
        var qiIu = Math.floor(ufNq / 60) % 60,
            qhJx = Math.floor(ufNq) % 60;
        return yiox.qcMx(qiIu, 2) + ':' + yiox.qcMx(qhJx, 2);
    };
    yiox.qcMx = function(number, size) {
        var thLx = number + "";
        while (thLx.length < size) thLx = "0" + thLx;
        return thLx;
    };
    return yiox;
});
scNt('dqjKt', ['dqjPs', 'dqjOx', 'dqjKs', 'dqjNr'], function() {
    var rgnrf = function() {
        console.log('LocalizationManager.ctor');
        this.riHwF = 'en';
        this.zeJv = {};
        this.riKrG = {};
        this.whGu = false;
    };
    rgnrf.prototype.load = function(language, uaGu, tcLv) {
        var self = this;
        var vcLy = seiy.scNr(ruNcF[language]);
        var sjLz = vcLy.split("\n");
        for (var i = 0; i < sjLz.length; i++) {
            var rhJz = tcHy.dqjKs.xfHv(sjLz[i]);
            if (!rhJz || !rhJz[0] || !rhJz[1]) {
                console.warn("Found dud line in " + language + ".csv on line " + (i + 1) + ". Source: " + sjLz[i]);
                continue;
            }
            self.qcKv(rhJz[0], rhJz[1]);
            if (rhJz[2]) {
                console.log("Comment on key: " + rhJz[0] + "\n -- " + rhJz[2]);
            }
        }
        self.language = language;
        if (uaGu) {
            uaGu.call(tcLv);
        }
    };
    rgnrf.prototype.get = function(key) {
        if (this.language === undefined) {
            console.error("Language not yet loaded, exiting");
            return null;
        }
        if (tcHy.dqjOx.desktop && !!this.zeJv[key + "_PC"]) {
            key += "_PC";
        }
        var value = this.zeJv[key];
        var thLx = value;
        if (!value) {
            this.uiJt(key);
            return null;
        }
        if (arguments.length !== 0) {
            var zdNu = Array.prototype.slice.call(arguments);
            zdNu.splice(0, 1, value);
            thLx = tcHy.dqjKs.format.apply(this, zdNu);
        }
        if (this.whGu) {
            var rjHt = false;
            var i = 0;
            var tjGx = thLx.split('');
            while (!rjHt) {
                if (!(/\s/gi.test(tjGx[i]))) {
                    tjGx.splice(i, 1, 'W');
                }
                i += 1;
                if (i >= tjGx.length) {
                    rjHt = true;
                }
            }
            thLx = tjGx.join('');
        }
        return thLx;
    };
    rgnrf.prototype.qcKv = function(key, value) {
        this.zeJv[key] = value;
    };
    rgnrf.prototype.uiJt = function(key) {
        this.riKrG[key] = key;
    };
    return rgnrf;
});
scNt('dqjKu', ['dqjPs', 'dqjOx', 'dqjPx'], function() {
    var rijwe = function(rfGsF) {
        console.log('StorageManager.ctor');
        this.ygPq = rfGsF;
        this.ubJt = tcHy.dqjPx.localstorage ? localStorage : {};
    };
    rijwe.prototype.clear = function() {
        for (var key in this.ubJt) {
            if (key._.startsWith(this.ygPq.rfGsC)) {
                delete this.ubJt[key];
            }
        }
    };
    rijwe.prototype.waIt = function(tbGr) {
        var data = {};
        var xcJw;
        var filter = tbGr || {};
        var vhMr;
        for (var key in this.ubJt) {
            if (key._.startsWith(this.ygPq.rfGsC)) {
                xcJw = key._.rdGw('_');
                vhMr = true;
                for (var rfOw in filter) {
                    if (this.ydLs(xcJw, rfOw) !== filter[rfOw]) {
                        vhMr = false;
                        break;
                    }
                }
                if (vhMr) {
                    data[xcJw] = this.get(xcJw);
                }
            }
        }
        return data;
    };
    rijwe.prototype.set = function(key, value, vjKq) {
        if (vjKq) {
            value = this.ydLs(key, 'compare')(value, this.get(key));
        }
        this.ubJt[this.ygPq.rfGsC + key] = value;
        return value;
    };
    rijwe.prototype.get = function(key, tiLy) {
        var parse = tiLy !== false;
        var value = this.ubJt[this.ygPq.rfGsC + key];
        if (parse) {
            if (value === undefined) {
                value = this.ydLs(key, 'default');
            }
            if (this.ydLs(key, 'type') !== 'string') {
                value = this.tcLz(value);
            }
        }
        return value;
    };
    rijwe.prototype.ydLs = function(key, vdIx) {
        var reOzC;
        for (var yaGq in tcHy.dqjOx.uePs) {
            if (yaGq === key || (yaGq._.startsWith('^') && key._.startsWith(yaGq._.rdGw('^'))) || (yaGq._.endsWith('$') && key._.endsWith(yaGq._.seHr('$')))) {
                reOzC = tcHy.dqjOx.uePs[yaGq];
                break;
            }
        }
        var value = reOzC && reOzC[vdIx];
        switch (vdIx) {
            case 'save':
                return value !== false;
            case 'compare':
                return value || function(veNy, veIs) {
                    return veNy
                };
            default:
                return value;
        }
    };
    rijwe.prototype.tcLz = function(qbIv) {
        try {
            qbIv = JSON.parse(qbIv);
        } catch (e) {}
        return qbIv;
    };
    rijwe.prototype.rjGu = function(qjLy, rjKy) {
        for (var key in this.ubJt) {
            if (!key._.startsWith(this.ygPq.rfGsC)) {
                continue;
            }
            if (qjLy.call(rjKy, this.ubJt[key], key._.rdGw(this.ygPq.rfGsC)) === false) {
                break;
            }
        }
    };
    rijwe.prototype.find = function(qjLy, rjKy) {
        var rfOyG;
        this.rjGu(function(value, key) {
            if (qjLy.call(rjKy, value, key)) {
                return rfOyG = value, false;
            }
        });
        return rfOyG;
    };
    return rijwe;
});
scNt('dqjKv', [], function() {
    var rimyb = {};
    rimyb.rgGxJ = function(xdLr) {
        var referrer = decodeURIComponent((new RegExp('[?|&]' + 'utm_referrer' + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ""])[1].replace(/\+/g, '%20')) || null;
        var zgNq = xdLr['default'];
        if (referrer && xdLr[referrer]) {
            for (var raPs in xdLr[referrer]) {
                zgNq[raPs] = xdLr[referrer][raPs];
            }
        }
        zgNq.sdJt = referrer;
        Object.freeze(zgNq);
        return zgNq;
    };
    return rimyb;
});
scNt('dqjKw', [], function() {
    var xfjv = {};
    xfjv.XBNQ = 'background: #00289b; color: #ffff00';
    xfjv.YCHR = 'background: #4674e7; color: #ffff00';
    return xfjv;
});
scNt('dqjKx', [], function() {
    var zclr = {};
    zclr.AUDIO = 'audio';
    zclr.JSON = 'json';
    zclr.RCNY = 'atlas';
    zclr.YFOS = 'bitmapFont';
    zclr.VAKW = 'ttfFont';
    return zclr;
});
scNt('dqjKy', ['dqjOr'], function() {
    var vfks = function(key, url, zcLr, uaGu, tcLv) {
        this.key = key;
        this.url = url;
        this.zcLr = zcLr;
        this.uaGu = uaGu;
        this.tcLv = tcLv;
        this.rfJyB = 0;
        this.thLx = null;
        this.status = vfks.YBPW;
        this.riMrC = new tcHy.dqjOr.tgot();
    };
    vfks.YBPW = 'not_started';
    vfks.YDHQ = 'in_progress';
    vfks.WHKT = 'completed';
    vfks.prototype.zbOy = function() {
        console.log('Load \'' + this.key + '\' from \'' + this.url + '\'');
        this.status = vfks.YDHQ;
        this.rfJyB = 0;
    };
    vfks.prototype.rjNrJ = function(thLx) {
        console.log(' ...finished loading \'' + this.key + '\'.');
        this.thLx = thLx;
        this.status = vfks.WHKT;
        this.rfJyB = 1;
        this.uaGu.call(this.tcLv, this);
        this.riMrC.viLt(this);
    };
    return vfks;
});
scNt('dqjKz', ['dqjKx', 'dqjKy'], function() {
    var rhpyk = function() {
        console.log('ResourceManager.ctor');
        this.xhJy = {};
        this.ubLt = {};
        _.rhPyK = this;
    };
    rhpyk.prototype.wiPz = function(rfKsE) {
        var zcLr = rfKsE.zcLr;
        if (this.ubLt[zcLr]) {
            console.warn('ResourceManager is overriding loader for resource type ' + zcLr);
        }
        this.ubLt[zcLr] = rfKsE;
    };
    rhpyk.prototype.load = function(key, url, zcLr, uaGu, tcLv) {
        var rfKsE = this.ubLt[zcLr];
        if (!rfKsE) {
            throw 'rhpyk doesn\'t rfHtE a rfKsE for resource type ' + zcLr;
        }
        var vfKs = new tcHy.dqjKy(key, url, zcLr, uaGu, tcLv);
        this.xhJy[key] = vfKs;
        rfKsE.load(vfKs);
        return vfKs;
    };
    rhpyk.prototype.get = function(key) {
        var vfKs = this.xhJy[key];
        if (!vfKs) {
            throw 'rhpyk doesn\'t rfHtE key ' + key;
        }
        if (!vfKs.thLx) {
            throw 'rhpyk hasn\'t finished rfKsC resource with key ' + key;
        }
        return vfKs.thLx;
    };
    rhpyk.prototype.rhMwD = function(riGwE, uaGu, tcLv) {
        throw 'rfKxG implemented';
    };
    return rhpyk;
});
scNt('dqjJq', [], function() {
    var rijrj = function(zcLr) {
        this.zcLr = zcLr;
    };
    rijrj.prototype.load = function(vfKs) {
        throw 'rfkxg implemented. This is an abstract class, don\'t call this function.';
    };
    return rijrj;
});
scNt('dqjJr', ['dqjPs', 'dqjJq', 'dqjKx', 'dqjKy', 'dqjNr'], function() {
    var xcjt = function() {
        xcjt._super.constructor.call(this, tcHy.dqjKx.JSON);
        console.log('JsonLoader.ctor');
    };
    tcHy.dqjPs.ujNz(xcjt, tcHy.dqjJq);
    xcjt.prototype.load = function(vfKs) {
        vfKs.zbOy();
        var thLx = ruNcF[vfKs.key];
        vfKs.rjNrJ(thLx);
        return;
        tcHy.dqjNr(vfKs.url).then(function(thLx) {
            vfKs.rjNrJ(thLx);
        });
    };
    return xcjt;
});
scNt('dqjJs', ['dqjLx', 'dqjPs', 'dqjOx', 'dqjNr', 'dqjKq', 'dqjLz', 'dqjKr', 'dqjKt', 'dqjKu', 'dqjKv', 'dqjKw', 'dqjKz', 'dqjJr', 'dqjKx'], function() {
    var wigw = function(vgJt) {
        this.wjJt = vgJt;
    };
    wigw.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c BootSetup ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIu('vbOz', tcHy.dqjOx);
        this.wjJt.vfIr('rhPyK', tcHy.dqjKz, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('xcJt', tcHy.dqjJr, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgNrF', tcHy.dqjKt, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('riJwE', tcHy.dqjKu, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('whKs', tcHy.dqjKq, tcHy.dqjLx.XJOQ);
        var rhPyK = this.wjJt.rhJyK(tcHy.dqjKz);
        var xcJt = this.wjJt.rhJyK(tcHy.dqjJr);
        rhPyK.wiPz(xcJt);
        new tcHy.dqjKr(this.rgMuH, this).then(this.riLzJ, this, rhPyK).then(this.zeKw, this, rhPyK).then(this.rhMuE, this).then(this.rgIwA, this).then(this.rjOvC, this).then(function() {
            console.log(' ...finished booting.');
            uaGu.call(tcLv);
        }, this).tbJu();
    };
    wigw.prototype.rgMuH = function(uaGu, tcLv) {
        if (true || tdkx.zaNs) {
            uaGu.call(tcLv);
        } else {
            tdkx.shPw = function() {
                tdkx.zaNs = true;
                uaGu.call(tcLv);
            }
        }
    };
    wigw.prototype.riLzJ = function(uaGu, tcLv, rhPyK) {
        rhPyK.load('rfGsF', 'rfGsF.json', tcHy.dqjKx.JSON, function(vfKs) {
            var rfGsF = tcHy.dqjKv.rgGxJ(vfKs.thLx);
            this.wjJt.vfIu('rfGsF', rfGsF);
            uaGu.call(tcLv);
        }, this);
    };
    wigw.prototype.riLvJ = function(uaGu, tcLv) {
        var whKs = this.wjJt.rhJyK(tcHy.dqjKq);
        whKs.riLvH(function() {
            whKs.riJsJ();
            uaGu.call(tcLv);
        });
    };
    wigw.prototype.zeKw = function(uaGu, tcLv, rhPyK) {
        rhPyK.load('rfGsA', 'boot.json', tcHy.dqjKx.JSON, function(vfKs) {
            this.wjJt.vfIu('rfGsA', vfKs.thLx);
            uaGu.call(tcLv);
        }, this);
    };
    wigw.prototype.rhMuE = function(uaGu, tcLv) {
        console.log('BootSetup.initLocalization');
        var rfGsF = this.wjJt.vgPu('rfGsF');
        var language = rfGsF.lang;
        var rgNrF = this.wjJt.rhJyK(tcHy.dqjKt);
        rgNrF.load(language, function() {
            console.log(' ...initialized.');
            uaGu.call(tcLv);
        }, this);
    };
    wigw.prototype.rgIwA = function(uaGu, tcLv) {
        if (tcHy.dqjLz.tcIq === tcHy.dqjLz.tbPq) {
            uaGu.call(tcLv);
        } else {
            tcHy.dqjLz.onchange.teIx(function() {
                uaGu.call(tcLv);
            });
        }
    };
    wigw.prototype.rjOvC = function(uaGu, tcLv) {
        tcHy.dqjPs.rbMr(1000, function() {
            uaGu.call(tcLv);
        });
    };
    return wigw;
});
scNt('dqjJt', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjOy', 'dqjOv'], function() {
    function rhowk(rfGsA) {
        console.log('ViewportManager.ctor');
        this.rgGrH = new tcHy.dqjOr.tgot();
        this.rgPuF = new tcHy.dqjOr.tgot();
        this.teOv = tcHy.dqjOx.riIqJ || {};
        this.devicePixelRatio = window.devicePixelRatio || 1;
        this.rfOyC = {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        };
        this.world = {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        };
        this.width = 0;
        this.height = 0;
        this.innerWidth = window.innerWidth;
        this.innerHeight = window.innerHeight;
        this.vhMx = 1;
        this.rhLyC = scLr.desktop ? rfGsA.qfIq.s.maxScale : rfGsA.qfIq.s.maxScale;
        this.zcOu = tcHy.dqjOy.yeMy;
        this.scale = 1;
        this.portrait = null;
        this.wdOr = null;
        this.waKs = this.teOv.waKs || tcHy.dqjOv.Fill;
        this.rgPwA = this.teOv.rgPwA || false;
        this.rhHrK = this.teOv.rhHrK || false;
        this.view = null;
        this.rjPyC();
        if (scLr.desktop) {
            this.riLvG();
        }
    }
    tcHy.dqjPs.extend(rhowk.prototype, {
        enumerable: false
    }, {
        rhNr: function() {
            console.log('ViewportManager.init');
            rfOyC.scale.rgKyG = true;
            rfOyC.scale.rgNuK = true;
            rfOyC.scale.yjLy();
            rfOyC.scale.rjKsK(true);
            this.view = rfOyC.add.group(rfOyC.world, 'viewport');
            this.view.x = this.world.x + this.world.width / 2;
            this.view.y = this.world.y + this.world.height / 2;
            rfOyC.world.sdPv.shMy(this.world.x, this.world.y, this.world.width, this.world.height);
            rfOyC.veHq.add(this.zaGx, this);
            this.zaGx();
        },
        zaGx: function() {
            if (window['focus']) {
                window.focus();
            }
        },
        wfJx: function() {
            return this.view.wfJx();
        },
        rjPyC: function() {
            var yaIt = scLr.screen.width;
            var zcJv = scLr.screen.height;
            var ziKr = window.innerWidth * this.devicePixelRatio;
            var zaPz = window.innerHeight * this.devicePixelRatio;
            var rhHtF = ziKr / zaPz;
            var yeNy = scLr.vdKs ? tcHy.dqjOx.yeNy : tcHy.dqjOx.rhGsK;
            var zgHs = scLr.vdKs ? tcHy.dqjOx.zgHs : tcHy.dqjOx.rgOwB;
            var rhJuJ = yeNy / zgHs;
            this.portrait = rhJuJ <= 1;
            this.wdOr = !this.portrait;
            var vhMy = yeNy;
            var wfOw = zgHs;
            if (!scLr.desktop) {
                if (rhHtF >= rhJuJ) {
                    this.vhMx = zaPz / zgHs;
                    vhMy = ziKr / this.vhMx;
                } else if (rhHtF < rhJuJ) {
                    this.vhMx = ziKr / yeNy;
                    wfOw = zaPz / this.vhMx;
                }
            } else {
                this.vhMx = Math.min(yaIt / yeNy, zcJv / zgHs, 1.0);
            }
            if (this.waKs === tcHy.dqjOv.wdnt) {
                vhMy = Math.min(tcHy.dqjOx.riMuB, vhMy);
                wfOw = Math.min(tcHy.dqjOx.riHwD, wfOw);
            }
            this.scale = Math.min(this.rhLyC, this.vhMx) * this.zcOu;
            this.width = this.rfOyC.width = vhMy * this.scale;
            this.height = this.rfOyC.height = wfOw * this.scale;
            this.world.width = this.rhHrK ? this.width : (yeNy * this.scale);
            this.world.height = this.rgPwA ? this.height : (zgHs * this.scale);
            this.rfOyC.x = (this.width - this.rfOyC.width) / 2;
            this.rfOyC.y = (this.height - this.rfOyC.height) / 2;
            this.world.x = (this.width - this.world.width) / 2;
            this.world.y = (this.height - this.world.height) / 2;
        },
        riLvG: function() {
            document.addEventListener('fullscreenchange', this.rhPsF);
            document.addEventListener('mozfullscreenchange', this.rhPsF);
            document.addEventListener('webkitfullscreenchange', this.rhPsF);
            document.addEventListener('msfullscreenchange', this.rhPsF);
            window.onresize = this.onResize.bind(this);
        },
        zeNs: function() {
            if (document.rhJwJ || document.rgLrA || document.rgHrE || document.rgNsE) {
                return true;
            }
            return false;
        },
        rhKqJ: function() {
            var element = document.documentElement;
            if (!this.zeNs()) {
                if (element.rhIxH) {
                    element.rhIxH();
                } else if (element.rgNsC) {
                    element.rgNsC();
                } else if (element.rgLsJ) {
                    element.rgLsJ();
                } else if (element.rgHrC) {
                    element.rgHrC(Element.RGMSA);
                }
            } else {
                if (document.riMwB) {
                    document.riMwB();
                } else if (document.rhMzD) {
                    document.rhMzD();
                } else if (document.rgNsH) {
                    document.rgNsH();
                } else if (document.rgLxG) {
                    document.rgLxG();
                }
            }
        },
        onResize: function() {
            this.rgGrH.viLt();
            tcHy.dqjPs.rbMr(800, function() {
                rfOyC.scale.rgKyG = true;
                rfOyC.scale.rgNuK = true;
                rfOyC.scale.yjLy();
                rfOyC.scale.ugKx();
                var rfPxF = canvas;
                rfPxF.style.marginLeft = rfOyC.canvas.style.marginLeft;
                if (rfOyC.scLr.qiMt) {
                    rfPxF.style.marginTop = rfOyC.canvas.style.marginTop;
                }
                rfPxF.style.height = rfOyC.canvas.style.height;
                rfPxF.style.width = rfOyC.canvas.style.width;
                rfPxF.style.height = rfOyC.canvas.style.height;
                rfPxF.style.left = rfOyC.canvas.style.left;
                rfPxF.style.top = rfOyC.canvas.style.top;
                this.rgPuF.viLt();
            }, this);
        }
    });
    return rhowk;
});
scNt('dqjJu', ['dqjOr'], function() {
    var zdiy = function() {
        console.log('MygameEvents.ctor');
        this.zcPs = new tcHy.dqjOr.tgot();
        this.createEvent = new tcHy.dqjOr.tgot();
        this.ziOx = new tcHy.dqjOr.tgot();
        this.yaMv = new tcHy.dqjOr.tgot();
    };
    zdiy.prototype.preload = function() {
        console.log('MygameEvents.preload');
        this.zcPs.viLt();
        _._2gl.camera = new _._3gl.three.rgpqg(-rfOyC.canvas.width / 2, rfOyC.canvas.width / 2, rfOyC.canvas.height / 2, -rfOyC.canvas.height / 2, 0, 30);
        _._2gl.scene = new _._3gl.three.shmq();
        _._2gl.texture = new _._3gl.three.uemt(rfOyC.canvas);
        _._2gl.texture.wcPw = _._3gl.three.rjmxg;
        _._2gl.texture.ycGw = true;
        _._2gl.material = new _._3gl.three.rhira({
            map: _._2gl.texture
        });
        _._2gl.material.zjGv = true;
        _._2gl.geometry = new _._3gl.three.rgnug(rfOyC.canvas.width, rfOyC.canvas.height);
        _._2gl.mesh = new _._3gl.three.rgos(_._2gl.geometry, _._2gl.material);
        _._2gl.scene.add(_._2gl.mesh);
    };
    zdiy.prototype.create = function() {
        console.log('MygameEvents.create');
        this.createEvent.viLt();
    };
    zdiy.prototype.update = function() {
        this.ziOx.viLt();
    };
    zdiy.prototype.render = function() {
        this.yaMv.viLt();
        if (typeof _._3gl != "undefined" && typeof _._2gl != "undefined" && typeof _._3gl.renderer != "undefined" && typeof _._2gl.texture != "undefined") {
            if (canvas.width != window.innerWidth) canvas.width = window.innerWidth;
            if (canvas.height != window.innerHeight) canvas.height = window.innerHeight;
            _._3gl.renderer.clear();
            _._3gl.scene != null && _._3gl.camera != null && _._3gl.renderer.render(_._3gl.scene, _._3gl.camera);
            _._2gl.texture.ycGw = true, _._3gl.renderer.render(_._2gl.scene, _._2gl.camera);
        }
    };
    return zdiy;
});
scNt('dqjJv', ['dqjOr'], function() {
    var ydox = function(rhOwK, zdIy, rfGsF) {
        console.log('GameFactory.ctor');
        this.rhNrB = rhOwK;
        this.ygPq = rfGsF;
        this.zaGr = zdIy;
    };
    ydox.prototype.construct = function() {
        console.log('GameFactory.construct');
        var width = this.rhNrB.width;
        var height = this.rhNrB.height;
        var rfGsE = this.ydLu();
        var wgLu = '';
        var shGz = this.zaGr;
        var zjGv = this.riLsC();
        return new tcHy.dqjOr.rfoyc(width, height, tcHy.dqjOr.CANVAS, wgLu, shGz, zjGv);
    };
    ydox.prototype.ydLu = function() {
        var riMsJ = this.ygPq.rfGsE;
        if (riMsJ && riMsJ === "webgl") {
            return tcHy.dqjOr.WEBGL;
        } else if (riMsJ && riMsJ === "canvas") {
            return tcHy.dqjOr.CANVAS;
        }
        if ((scLr.desktop && (!tdJr.tbGx && !tdJr.qiMt)) || tdJr.sdKs || scLr.qdNr) {
            return tcHy.dqjOr.QAHQ;
        }
        return tcHy.dqjOr.CANVAS;
    };
    ydox.prototype.riLsC = function() {
        if (tdJr.qfJq && scLr.tdPw) {
            return false;
        }
        return true;
    };
    return ydox;
});
scNt('dqjJw', [], function() {
    var wfkw = function(rfOyC, zdIy) {
        this.rdKx = rfOyC;
        this.xgPq = 1.5;
        this.teMx = false;
        this.sePr = this.rdKx.time.create(false);
        this.sePr.ueLv = wfkw.WDHV;
        this.sePr.rfIsA();
        this.zaGr = zdIy;
        this.zaGr.ziOx.add(this.teKz, this);
        this.scHr = [];
    };
    wfkw.WCPU = 0.016666666;
    wfkw.WDHV = 0.066666666;
    wfkw.prototype.teKz = function() {
        this.scHr._.vcNx(function(event) {
            return event.tbJx;
        });
    };
    wfkw.prototype.zaMw = function(rbMt) {
        rbMt = Math.min(rbMt, wfkw.WDHV);
        rbMt = Math.max(rbMt, wfkw.WCPU);
        return rbMt;
    };
    Object.defineProperty(wfkw.prototype, 'wgPu', {
        get: function() {
            return this.teMx ? 0 : this.zaMw(this.sePr.tbMq / 1000) * this.xgPq;
        }
    });
    Object.defineProperty(wfkw.prototype, 'riMwK', {
        get: function() {
            return this.sePr.ufNq;
        }
    });
    Object.defineProperty(wfkw.prototype, 'now', {
        get: function() {
            return this.sePr.qiIy;
        }
    });
    Object.defineProperty(wfkw.prototype, 'paused', {
        get: function() {
            return this.teMx;
        },
        set: function(value) {
            this.teMx = value;
            if (value) {
                this.sePr.pause();
                this.scHr.forEach(function(rfItA) {
                    rfItA.pause();
                });
            } else {
                this.sePr.rfHuF();
                this.scHr.forEach(function(rfItA) {
                    rfItA.rfHuF();
                });
            }
        }
    });
    Object.defineProperty(wfkw.prototype, 'xiPu', {
        get: function() {
            return this.xgPq;
        },
        set: function(value) {
            this.xgPq = value;
        }
    });
    wfkw.prototype.add = function(rbMr, uaGu, tcLv) {
        var rfItA = this.rdKx.time.create(true);
        rfItA.add.apply(rfItA, arguments);
        rfItA.rfIsA();
        this.scHr.push(rfItA);
        return rfItA;
    };
    wfkw.prototype.repeat = function(rbMr, yaMy, uaGu, tcLv) {
        var rfItA = this.rdKx.time.create(true);
        rfItA.repeat.apply(rfItA, arguments);
        rfItA.rfIsA();
        this.scHr.push(rfItA);
        return rfItA;
    };
    wfkw.prototype.thMz = function(rfItA) {
        rfItA.stop();
        rfItA.tbPr();
    };
    return wfkw;
});
scNt('dqjJx', ['dqjLx', 'dqjJt', 'dqjJu', 'dqjJv', 'dqjJw', 'dqjKw'], function() {
    var ybju = function(vgJt) {
        this.wjJt = vgJt;
    };
    ybju.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c MygameSetup ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('rhOwK', tcHy.dqjJt, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zdIy', tcHy.dqjJu, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('ydOx', tcHy.dqjJv, tcHy.dqjLx.XJOQ);
        var ydOx = this.wjJt.rhJyK(tcHy.dqjJv);
        var rfOyC = ydOx.construct();
        this.wjJt.vfIu('rfOyC', rfOyC);
        this.wjJt.vfIr('wfKw', tcHy.dqjJw, tcHy.dqjLx.XJOQ);
        window.rfOyC = rfOyC;
        var zdIy = this.wjJt.rhJyK(tcHy.dqjJu);
        zdIy.createEvent.teIx(function() {
            this.veIv();
            uaGu.call(tcLv);
        }, this);
    };
    ybju.prototype.veIv = function() {
        var rfOyC = this.wjJt.vgPu('rfOyC');
        rfOyC.shGv.backgroundColor = 0xff0000;
        window.addEventListener('mousedown', function() {
            rfOyC.ydNq();
        });
        window.addEventListener('touchstart', function() {
            rfOyC.ydNq();
        });
        var rhOwK = this.wjJt.rhJyK(tcHy.dqjJt);
        rhOwK.rhNr();
        rfOyC.wjPs = rhOwK;
        rfOyC.reOsH.zjNz(rfjwh.reosh.ARCADE);
    };
    return ybju;
});
scNt('dqjJy', ['dqjOx'], function() {
    var zchx = function() {};
    zchx.prototype.zfJy = function(uiIz) {
        var tgIr = tcHy.dqjOx.text.style;
        if (!_.vfPs(uiIz)) {
            return tgIr._.find(function(style) {
                return style.qbNw === uiIz;
            });
        }
        return tgIr[uiIz];
    };
    return zchx;
});
scNt('dqjJz', [], function() {
    var rgize = function(vgJt, rjKw) {
        this.wjJt = vgJt;
        this.rdLx = rjKw;
    };
    rgize.prototype.construct = function() {
        var rePuH = [];
        rePuH.push(this.rdLx);
        for (var i = 0; i < arguments.length; ++i) {
            rePuH.push(arguments[i]);
        }
        return this.wjJt.riMtJ.apply(this.wjJt, rePuH);
    };
    return rgize;
});
scNt('dqjIq', ['dqjPs'], function() {
    function reoua() {
        this.wgJq = true;
    }
    tcHy.dqjPs.extend(reoua, {
        rfPu: {
            value: {
                value: [],
                rbPq: true
            },
            rbPq: true
        },
        thLs: function() {
            var obj;
            if (this.rfPu.length) {
                obj = this.rfPu.pop();
                return obj.thKs.apply(obj, arguments);
            } else {
                obj = Object.create(this.prototype);
                return this.apply(obj, arguments), obj;
            }
        },
        fillrfpu: function(volume, rePuH) {
            var sciu = this;
            var obj;
            var max = volume - sciu.rfPu.length;
            tcHy.dqjPs.repeat(max, function() {
                obj = Object.create(sciu.prototype), sciu.apply(obj, rePuH);
                obj.rbKy();
            });
        }
    });
    tcHy.dqjPs.extend(reoua.prototype, {
        rbKy: function(xbIv) {
            if (!this.wgJq) {
                return;
            }
            var rfPu = this.constructor.rfPu;
            this.rhLy();
            if (xbIv && this.parent) {
                this.parent.thMz(this);
            }
            if (rfPu._.rfKxG.has(this)) {
                rfPu.push(this);
            }
        }
    });
    return reoua;
});
scNt('dqjIr', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIq', 'dqjKs'], function() {
    function rflwd(text, data, uhKy, rfGsF, rhOwK, zcHx, zjJq) {
        this.ygPq = rfGsF;
        this.rhNrB = rhOwK;
        this.rjPqE = zcHx;
        rflwd._super.constructor.call(this, rfOyC);
        rflwd.sfHt(tcHy.dqjIq).constructor.call(this);
        this.ubNw = zjJq;
        this.rhNr.call(this, text, data, uhKy);
    }
    tcHy.dqjPs.ujNz(rflwd, tcHy.dqjOr.Text);
    tcHy.dqjPs.sjGt(rflwd, [tcHy.dqjIq]);
    tcHy.dqjPs.extend(rflwd.prototype, {
        enumerable: false
    }, {
        rhNr: function(text, data, uhKy) {
            if (uhKy) {
                uhKy.add(this);
            }
            this.riJsF(data);
            var style = this.riMsH(data);
            this.vbOy(style);
            this.rfIxE = true;
            this.scale.set(1);
            this.ufMw(text);
            return this;
        },
        riMsH: function(data) {
            var style = {};
            var rfOyJ = data.rfOyJ;
            var fontSize = data.fontSize;
            style.font = fontSize + 'px ' + rfOyJ;
            style.fill = data.color;
            style.align = data.rfNvJ;
            style.wordWrap = true;
            this.rcOr = data.rfIqD;
            this.x = this.rect.x;
            this.y = this.rect.y;
            style.rjJuH = this.rect.width;
            return style;
        },
        xgNr: function(style) {
            style = tcHy.dqjPs.rbPq(style);
            var font = style.font._.rdGw('px ');
            var taOt = tcHy.dqjOx.taOt[this.ygPq.lang][font];
            var fontSize = parseInt(style.font._.seHr('px')) * this.rhNrB.scale;
            if (style.rhOrB) {
                style.rhOrB *= this.rhNrB.scale;
            }
            if (!taOt) {
                console.error('Font mapping not found for font: ' + font + ' with language: ' + this.ygPq.lang)
            }
            font = taOt ? taOt.font : font;
            fontSize = taOt ? fontSize * taOt.scale : fontSize;
            style.font = fontSize + 'px ' + font;
            return style;
        },
        get thIq() {
            return this.scale.x;
        },
        set thIq(qbIv) {
            this.scale.set(qbIv);
        },
        vbOy: function(style) {
            if (_.ujKv(style)) {
                return;
            }
            if (typeof(style) !== 'object') {
                style = this.rjPqE.zfJy(style);
            }
            style = this.xgNr(style);
            rflwd._super.vbOy.call(this, style);
            return this;
        },
        rhLy: function() {
            this.rfIxE = false;
            return this;
        },
        thKs: function() {
            this.rhNr.apply(this, arguments);
            return this;
        },
        ufMw: function(text) {
            text._.toString();
            text = tcHy.dqjKs.format.apply(null, arguments);
            return rflwd._super.ufMw.call(this, text);
        },
        tcKy: function(target, time, riKuA, rhIuE) {
            this.ubNw.tcKy(this, target, time, riKuA, rhIuE);
        },
        riJsF: function(data) {
            var anchor = {
                x: 0.5,
                y: 0.5
            };
            switch (data.rfNvJ) {
                case "left":
                    anchor.x = 0;
                    break;
                case "right":
                    anchor.x = 1;
                    break;
            }
            var rect = {
                x: data.x - (data.width / 2) + (data.width * anchor.x),
                y: data.y,
                width: data.width,
                height: data.height
            };
            this.rect = rect;
        }
    });
    return rflwd;
});
scNt('dqjIs', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjMt', 'dqjNt'], function() {
    function Button(id, x, y, key, wbPu, veGz, wgLz, zbPy, rgPwG, zcJq, rfOyC, rhOwK) {
        this.id = id;
        this.seOx = true;
        this.yhMz = true;
        this.thIs = null;
        this.global = null;
        this.rePxK = 'rePrD';
        this.rjPqB = zbPy;
        this.rgOtE = rgPwG;
        this.rjPqH = zcJq;
        this.rdKx = rfOyC;
        this.rhNrB = rhOwK;
        var zjNv = this.rgOtE.ufHy[veGz].zjNv;
        key = key || zjNv.vfGs.image._.seHr('.');
        Button._super.constructor.call(this, rfOyC, x, y, key, null, null, wbPu, veGz, wgLz);
        this.thIs = new tcHy.dqjMt(this.scale);
        this.global = new tcHy.dqjNt(this);
        this.rdKx.scale.rjJqB(this, this.rgOtE[key], this.rhNrB);
    }
    tcHy.dqjPs.ujNz(Button, tcHy.dqjOr.Button);
    tcHy.dqjPs.extend(Button, {
        yeGq: 'button'
    });
    tcHy.dqjPs.extend(Button.prototype, {
        get thIq() {
            return this.thIs.x;
        },
        set thIq(qbIv) {
            this.thIs.set(qbIv);
        },
        yjKv: function(rfIxE) {
            this.yhMz = rfIxE;
            this.rfIxE = rfIxE;
            return this;
        },
        waIu: function(seOx) {
            if (this.yfMv && this.zhGx) {
                if (seOx) {
                    this.rfIxE = this.yhMz && this.zhGx.view.rfIxE;
                    this.wcIw.add(this.yfMv, this.zhGx);
                    this.vbOx(2);
                } else {
                    this.wcIw.thMz(this.yfMv, this.zhGx);
                }
                this.zfMu = !seOx;
            }
            return this;
        },
        yaIy: function(uaGu, tcLv, tbNz) {
            if (tbNz) {
                this.rePxK = tbNz;
            }
            this.uaGu = function() {
                if (tcLv.weGz() && tcLv.seOx && this.seOx && this.rjPqH.zePs) {
                    this.vbOx(3);
                    this.rjPqH.zePs = false;
                    uaGu.call(tcLv, this.id);
                    this.rjPqH.zePs = true;
                } else {
                    this.vbOx(1);
                }
            }.bind(this);
            this.wcIw.add(this.uaGu, tcLv);
            this.yfMv = this.uaGu;
            this.zhGx = tcLv;
            return this;
        },
        rhLrB: function(rfIsB, uhHt, saKv) {
            var rect = {
                x: this.global.x - this.width * this.anchor.x,
                y: this.global.y - this.height * this.anchor.y,
                width: this.global.x + this.width * this.anchor.x,
                height: this.global.y + this.height * this.anchor.y
            };
            if (this.rdKx.input.x > rect.x && this.rdKx.input.x < rect.width && this.rdKx.input.y > rect.y && this.rdKx.input.y < rect.height) {
                if (this.wcHv) {
                    this.wcHv.play(this.rhPsD);
                }
                if (this.wcIw && !tcHy.dqjOr.uhht.ujJu()) {
                    this.wcIw.viLt(this, uhHt, saKv);
                }
                if (this.vhKr) {
                    this.vbOx(2);
                } else {
                    if (this.rjJzD || this.zhPv) {
                        this.vbOx(4);
                    } else {
                        if (saKv) {
                            this.vbOx(1);
                        } else {
                            this.vbOx(2);
                        }
                    }
                }
            }
            this.rjPqB.rePxK(this.rePxK);
        }
    });
    return Button;
});
scNt('dqjIt', ['dqjOr', 'dqjPs', 'dqjMz', 'dqjIq'], function() {
    function riiyh(name, rfOyC, rgPwG, rhOwK) {
        riiyh._super.constructor.call(this, name, true);
        riiyh.sfHt(tcHy.dqjIq).constructor.call(this);
        this.rdKx = rfOyC;
        this.rgOtE = rgPwG;
        this.rhNrB = rhOwK;
    }
    tcHy.dqjPs.ujNz(riiyh, tcHy.dqjMz);
    tcHy.dqjPs.sjGt(riiyh, [tcHy.dqjIq]);
    tcHy.dqjPs.extend(riiyh, {
        yeGq: 'riIyH'
    });
    tcHy.dqjPs.extend(riiyh.prototype, {
        enumerable: false
    }, {
        thKs: function(name) {
            riiyh._super.thKs.call(this);
            if (name !== this.key) {
                this.ycKr(name);
                this.rdKx.scale.rjJqB(this, this.rgOtE[name], this.rhNrB);
            }
            this.animation = null;
            this.thIq = 1.0;
            return this;
        }
    });
    return riiyh;
});
scNt('dqjIu', ['dqjPs', 'dqjOr'], function() {
    function rgnxf(name, siLu, siLv, wcGr, xbJz, rhOwK, rfOyC) {
        this.rhNrB = rhOwK;
        this.rdKx = rfOyC;
        var x = siLu || 0;
        var y = siLv || 0;
        x += this.rhNrB.width / 2;
        y -= this.rhNrB.height / 2;
        var width = wcGr || this.rdKx.world.width;
        var height = xbJz || this.rdKx.world.height;
        var waOz = this.rdKx.add.rjLyK(width, height, 'myRenderTexture');
        rgnxf._super.constructor.call(this, this.rdKx, x, y, waOz);
        this.name = name;
        this.id = name;
        this.ueMt = waOz;
        this.rbNy = false;
    }
    tcHy.dqjPs.ujNz(rgnxf, tcHy.dqjOr.rfisb);
    tcHy.dqjPs.extend(rgnxf.prototype, {
        enumerable: false
    }, {
        ygJs: function(object, position) {
            this.ueMt.vcMr(object, position.x, position.y, false);
            if (this.rbNy) {
                var data = this.ueMt.yfPx.source.toDataURL("image/png");
                document.write('<img src=' + data + '>');
            }
        }
    });
    return rgnxf;
});
scNt('dqjIv', ['dqjLx', 'dqjJy', 'dqjJz', 'dqjIr', 'dqjIs', 'dqjIt', 'dqjIu', 'dqjKw'], function() {
    var zfox = function(vgJt) {
        this.wjJt = vgJt;
    };
    zfox.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c FactorySetup ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        var zeMt = new tcHy.dqjJz(this.wjJt, tcHy.dqjIr);
        var rjPyE = new tcHy.dqjJz(this.wjJt, tcHy.dqjIs);
        var rgJvD = new tcHy.dqjJz(this.wjJt, tcHy.dqjIt);
        var rgGuA = new tcHy.dqjJz(this.wjJt, tcHy.dqjIu);
        this.wjJt.vfIr('zcHx', tcHy.dqjJy, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIu('zeMt', zeMt);
        this.wjJt.vfIu('rjPyE', rjPyE);
        this.wjJt.vfIu('rgJvD', rgJvD);
        this.wjJt.vfIu('rgGuA', rgGuA);
        uaGu.call(tcLv);
    };
    return zfox;
});
scNt('dqjIw', ['dqjKw'], function() {
    var rijuh = function(vbOz, rfOyC, zdIy, zeMt, rhOwK) {
        this.wjHx = vbOz;
        this.rdKx = rfOyC;
        this.zaGr = zdIy;
        this.zaKx = zeMt;
        this.rhNrB = rhOwK;
    };
    rijuh.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c ShowFPSCounter ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        if (this.wjHx.tbNs) {
            this.rdKx.time.riNuD = true;
            var vhKu = this.zaKx.construct('fps: --', 'debug');
            this.yhGw = this.rdKx.world.add(vhKu);
            var ziNy = 'reNrE: ' + this.wjHx.reNrE;
            var zbGs = this.zaKx.construct(ziNy, 'debug');
            this.rjIsJ = this.rdKx.world.add(zbGs);
            this.rjIsJ.y = 60 * this.rhNrB.scale;
            this.zaGr.ziOx.add(this.veHr, this);
        }
        uaGu.call(tcLv);
    };
    rijuh.prototype.veHr = function() {
        if (this.wjHx.tbNs) {
            this.yhGw.text = 'fps: ' + this.rdKx.time.qeIv;
        }
    };
    return rijuh;
});
scNt('dqjIx', ['dqjPs', 'dqjOr', 'dqjOx'], function() {
    function zbpy(riJwE) {
        console.log('SoundManager.ctor');
        this.tgMw = {};
        this.uiMu = {};
        this.weGv = {};
        this.thPx = {};
        this.riGvA = {};
        this.riIwH = riJwE;
    }
    tcHy.dqjPs.extend(zbpy.prototype, {
        xcGu: function(rgHx) {
            var riNy = rgHx._.seHr('.');
            rfOyC.load.audio(riNy, riNy + '.mp3');
            rfOyC.load.json(riNy._.wiOz('/'), riNy + '.json');

            function riKuG() {
                this.tgMw[riNy] = rfOyC.add.rfHvH(riNy);
                this.tgMw[riNy].rjPvJ = rfOyC.rfHvH.rjJrA;
                this.rgLzF(riNy, this.tgMw[riNy]);
            }
            rfOyC.load.riKuG.add(riKuG, this);
        },
        rgLzF: function(riNy, rfHvH) {
            var json = rfOyC.rcIy.taLy(riNy._.wiOz('/'));
            for (var key in json.rfGwD) {
                this.uiMu[key] = riNy;
                this.weGv[key] = false;
                var rfIsB = json.rfGwD[key];
                rfHvH.wiOq(key, rfIsB.rfIsA, rfIsB.rfOxC - rfIsB.rfIsA, 1, rfIsB.loop);
            }
        },
        rhMsB: function(tjMz) {
            var riNy = this.uiMu[tjMz];
            var rfHvH = rfOyC.add.rfHvH(riNy);
            rfHvH.rjPvJ = rfOyC.rfHvH.rjJrA;
            this.rgLzF(riNy, rfHvH);
            return rfHvH;
        },
        play: function(name, reGz, sjJq, vcLz, rgNxA, yjJx, ybHv) {
            rgNxA = (rgNxA === undefined) ? 100 : rgNxA;
            var riNy = this.uiMu[name];
            if (!riNy) {
                console.warn(name + ' not found in audiosprite');
            }
            if (this.rgMr && sjJq) {
                var rePuH = Array.prototype.slice.call(arguments, 0);
                this.riGvA[name] = rePuH;
            }
            if (this.weGv[name] || !riNy || tdJr.qfJq || this.rgMr) {
                return;
            }
            var loop = sjJq || false;
            var ugHr = vcLz || false;
            var qbHy = tcHy.dqjOx.volume;
            if (reGz !== undefined) {
                if (reGz * tcHy.dqjOx.volume > 1.0) {
                    console.warn('volume is capped for sfx: ' + name)
                }
                qbHy = Math.min(reGz * tcHy.dqjOx.volume, 1.0)
            }
            var rfHvH = this.tgMw[riNy];
            if (yjJx) {
                console.log('stopping channel', riNy, 'from marker', name);
                this.zjMt(riNy);
            } else if (rgNxA > 0) {
                this.weGv[name] = true;
                rfOyC.time.scHr.add(rgNxA, function() {
                    this.weGv[name] = false;
                }, this);
            }
            if (sjJq && rgNxA > 0) {
                rfHvH.rhLrA.add(function() {
                    this.thPx[name] = rfOyC.time.scHr.add(rgNxA, function() {
                        rfHvH.play(name, 0, qbHy, false, ugHr);
                    });
                }, this);
                rfHvH.play(name, 0, qbHy, false, ugHr);
            } else {
                rfHvH.play(name, 0, qbHy, loop, ugHr);
            }
            this.weGv[name] = true;
            rfHvH.rhJzA = ybHv;
            return rfHvH;
        },
        rePxK: function(name, reGz, sjJq, vcLz, rgNxA, yjJx, ybHv) {
            reGz = reGz || tcHy.dqjOx.volume.effects;
            this.play(name, reGz, sjJq, vcLz, rgNxA, yjJx, ybHv);
        },
        music: function(name, reGz, sjJq, vcLz) {
            reGz = reGz || tcHy.dqjOx.volume.music;
            this.play(name, reGz, sjJq, vcLz, 0, true, false);
        },
        stop: function(name) {
            if (this.riGvA[name]) {
                delete this.riGvA[name];
            }
            var riNy = this.uiMu[name];
            if (!riNy) {
                return;
            }
            var rfHvH = this.tgMw[riNy];
            if (this.weGv[name]) {
                rfHvH.stop();
            }
            rfHvH.rhLrA.waOu();
            var yaOr = this.thPx[name];
            if (yaOr) {
                rfOyC.time.scHr.thMz(yaOr);
                delete this.thPx[name];
            }
            rfHvH.rhJzA = false;
            this.weGv[name] = false;
        },
        uePq: function() {
            this.riGvA = {};
            this.tgMw._.rjGu(function(rfHvH) {
                this.stop(rfHvH.rjOtG);
            }, this);
        },
        vdOx: function() {
            this.tgMw._.rjGu(function(rfHvH) {
                rfHvH.pause();
            }, this);
        },
        waMr: function() {
            this.tgMw._.rjGu(function(rfHvH) {
                rfHvH.rfHuF();
            }, this);
        },
        zjMt: function(name) {
            var tdGz = this.tgMw[name];
            tdGz.stop();
            tdGz.uiMu._.rjGu(function(tjMz, key) {
                this.weGv[key] = false;
            }, this);
        },
        get rgMr() {
            return !!this.riIwH.get('muteAudio');
        },
        set rgMr(value) {
            this.riIwH.set('muteAudio', value ? 1 : 0);
            if (value) {
                this.vdOx();
            } else {
                this.waMr();
                for (var key in this.riGvA) {
                    this.play.apply(this, this.riGvA[key]);
                }
            }
        }
    });
    return zbpy;
});
scNt('dqjIy', ['dqjPs', 'dqjOr'], function() {
    var zimx = function(rgPwG, rgNrF, zbPy, rhOwK, zcHx, zeMt, rjPyE, rgGuA) {
        this.rgOtE = rgPwG;
        this.rgMrC = rgNrF;
        this.rjPqB = zbPy;
        this.rhNrB = rhOwK;
        this.rjPqE = zcHx;
        this.zaKx = zeMt;
        this.rjJvA = rjPyE;
        this.rgGvA = rgGuA;
    };
    zimx.wiOu = function(rgLw, element, yeJy) {
        if (!element) {
            return;
        }
        element.id = yeJy.name;
        element.tjHs = yeJy.type;
        switch (rgLw.tjHs) {
            case 'RenderTexture':
                rgLw.ygJs(element, element.x, element.y);
                rgLw.parent.add(element);
                element.rfIxE = false;
                break;
            case 'Button':
                if (element.tjHs === 'rflwd' || element.tjHs === 'BitmapFont') {
                    rgLw.ubGq(element);
                }
                if (element.tjHs === 'Image') {
                    rgLw.teIu(element);
                }
                break;
            default:
                rgLw.add(element);
                element.rfIxE = yeJy.rfIxE;
                break;
        }
        if (element.type === tcHy.dqjOr.XGIS) {
            element.waIv(yeJy.rfPwF, 1 - yeJy.rfPwE);
        } else {
            if (element.anchor) {
                element.anchor.set(yeJy.rfPwF, 1 - yeJy.rfPwE);
            }
        }
    };
    zimx.prototype.ubHy = function(rgLw, yeJy) {
        var frame = yeJy.image._.wiOz('/');
        var element;
        element = rfOyC.rhHy[yeJy.name._.startsWith('rfIsD') ? 'rfIsB' : 'image'](yeJy.x, yeJy.y, undefined, frame, yeJy.name, yeJy);
        element.rcOr = yeJy.rfIqD;
        zimx.wiOu(rgLw, element, yeJy);
        return element;
    };
    zimx.prototype.rhNsG = function(rgLw, yeJy) {
        var element;
        element = this.rgGvA.construct(yeJy.name, yeJy.x, yeJy.y, yeJy.width, yeJy.width);
        element.rcOr = yeJy.rfIqD;
        zimx.wiOu(rgLw, element, yeJy);
        return element;
    };
    zimx.prototype.wiPw = function(rgLw, shMq, yeJy) {
        var yjGy = yeJy.image._.wiOz('/');
        var rgKuD = yeJy.rfNvC._.wiOz('/') || yjGy;
        var rhIwK = yeJy.rfJyD._.wiOz('/') || yjGy;
        var rhOrH = this.rgOtE.ufHy[yjGy].zjNv;
        var element = this.rjJvA.construct(yeJy.name, 0, 0, rhOrH, rgKuD, yjGy, rhIwK);
        element.width = yeJy.width;
        element.height = yeJy.height;
        zimx.wiOu(rgLw, element, yeJy);
        element.yjKv(yeJy.rfIxE);
        return element;
    };
    zimx.prototype.teHq = function(rgLw, yeJy, vgHw, vgGq) {
        var text = yeJy.text.replace(/\\n/g, '\n');
        var element;
        text = text.replace(/^\n+|\n+$/g, '');
        var vgGy = /^[0-9/ -%]+$/;
        if (!text) {
            console.warn('empty text label: ', yeJy.id);
        }
        if (text && this.rgMrC && !vgGy.test(text)) {
            text = this.rgMrC.get(text) || '';
            if (!text) {
                text = 'Missing text in csv !';
            }
        }
        if (vgHw) {
            var rfOyJ = yeJy.name.split('_')[1];
            var position = {
                x: yeJy.x - yeJy.width * this.rhNrB.scale * yeJy.rfPwF,
                y: yeJy.y - yeJy.height * this.rhNrB.scale * yeJy.rfPwE
            };
            element = rfOyC.add.xgIs(position.x, position.y, rfOyJ, text, yeJy.fontSize * this.rhNrB.scale);
            element.rcOr = yeJy.rfIqD;
            element.rjJuH = (!vgGq ? yeJy.wiLx : yeJy.width);
        } else {
            element = this.zaKx.construct(text, yeJy);
            element.tcLv.lineJoin = 'round';
        }
        element.id = yeJy.name;
        zimx.wiOu(rgLw, element, yeJy);
        return element;
    };
    zimx.prototype.ubHx = function(shMq, rgLw, yeJy) {
        var element = rfOyC.add.group(rgLw, yeJy.name);
        element.x = yeJy.x;
        element.y = yeJy.y;
        element.width = yeJy.width;
        element.height = yeJy.height;
        element.id = yeJy.name;
        element.rcOr = yeJy.rfIqD;
        element.rfIxE = yeJy.rfIxE;
        return element;
    };
    zimx.prototype.riNuF = function(rgLw, yeJy) {
        return rfOyC.rhHy.rfJwF(rgLw, yeJy.name, yeJy);
    };
    zimx.prototype.riNtA = function(rgLw, shMq, yeJy) {
        var button = this.wiPw(rgLw, shMq, yeJy);
        var element = rfOyC.rhHy.yfMr(rgLw, yeJy.name, yeJy);
        element.wiPw(button);
        zimx.wiOu(rgLw, element, yeJy);
        return element;
    };
    return zimx;
});
scNt('dqjIz', ['dqjPs'], function() {
    function shmq(name, rfOyC, zcJq, whKs, yjNt, zePu) {
        this.name = name;
        this.rdKx = rfOyC;
        this.rjPqH = zcJq;
        this.xhMv = whKs;
        this.data = null;
        this.view = this.rdKx.rhHy.group();
        this.view.id = 'view_' + name;
        this.rjPqH.add(this);
        this.yjKv(false);
        this.zdHt = {};
        this.rePvD = {};
        this.buttons = {};
        this.images = {};
        this.saIy = {};
        this.sbGt = {
            buttons: {}
        };
        this.scHr = {};
        this.ygMs = yjNt;
        this.zaKt = zePu;
        this.riIrD = null;
        this.teMv = null;
    }
    tcHy.dqjPs.extend(shmq.prototype, {
        get width() {
            return this.view.width;
        },
        get height() {
            return this.view.height;
        },
        get x() {
            return this.view.x;
        },
        set x(qbIv) {
            this.view.x = qbIv;
        },
        get y() {
            return this.view.y;
        },
        set y(qbIv) {
            this.view.y = qbIv;
        },
        rhNr: function() {
            this.waIu(false);
        },
        rbIy: function() {
            if (this.ygMs) {
                this.ygMs.tdKq(this);
                this.zaKt.riJwK();
            }
            if (this.view.parent && this.view.parent !== this.teMv) {
                this.teMv = this.view.parent;
            }
            this.teMv.add(this.view);
            this.yjKv(true);
            this.waIu(true);
            if (this.view.id._.endsWith('qhnr')) {
                this.xhMv.wiMs('popupEntered', this.view.id);
            } else if (!this.view.id._.endsWith('qjkv')) {
                this.xhMv.wiMs('screenEntered', this.view.id);
            }
        },
        sjLr: function() {
            if (this.teMv) {
                this.teMv.thMz(this.view);
            }
            if (this.ygMs) {
                this.zaKt.rjKwF();
                this.ygMs.xiLs();
            }
            this.yjKv(false);
            this.waIu(false);
            for (var tcOx in this.rePvD) {
                this.rePvD[tcOx].sjLr();
            }
        },
        update: function() {
            return this;
        },
        yjKv: function(rfIxE) {
            this.view.rfIxE = rfIxE;
            this.view.scHu = rfIxE;
        },
        weGz: function() {
            return this.view.rfIxE;
        },
        waIu: function(seOx) {
            this.seOx = seOx;
            this.view.seOx = seOx;
            for (var tcOx in this.rePvD) {
                this.rePvD[tcOx].waIu(seOx);
            }
            var yeGw = null;
            for (var xgGx in this.buttons) {
                var button = this.buttons[xgGx];
                button.waIu(seOx);
                if (!yeGw && button.rfIxE) {
                    yeGw = button;
                }
            }
            this.riIrD = yeGw;
        },
        getElementById: function(id) {
            var element = this.riIsC(id, this.view);
            if (!element) {
                console.warn('cannot find element with id: ' + id);
            }
            return element;
        },
        riIsC: function(id, rgLw) {
            if (rgLw.id === id || rgLw.name === id) {
                return rgLw;
            }
            var children = rgLw.children;
            var element;
            for (var i = 0; i < children.length; i++) {
                element = this.riIsC(id, children[i]);
                if (element && (element.id === id || element.name === id)) {
                    break;
                }
            }
            return element;
        },
        zhLr: function(rjOrF, veHw) {
            var id;
            if (veHw && veHw.id) {
                id = veHw.id;
            } else {
                id = rjOrF._.zgIu();
            }
            this.rePvD[id] = this.rjPqH.riHuD(rjOrF, veHw);
            return this.rePvD[id];
        },
        rjLzA: function() {},
        add: function(rcGq, index, rhKyF) {
            var xfNs = rcGq;
            if (rcGq instanceof shmq) {
                xfNs = rcGq.view;
            }
            var parent = this.sbGt['container'] || this.view;
            if (rhKyF) {
                parent = this.view;
            }
            if (typeof(index) === 'number') {
                parent.rdGt(xfNs, index);
            } else {
                parent.add(xfNs);
            }
        },
        rjPqF: function(button) {
            this.riIrD.thIq = 1.0;
            this.riIrD = button;
            this.riIrD.thIq = 1.1;
        },
        rhLwF: function() {
            var zfMs = false;
            for (var xgGx in this.buttons) {
                var button = this.buttons[xgGx];
                if (zfMs && button.rfIxE) {
                    this.rjPqF(button);
                    break;
                } else if (button === this.riIrD) {
                    zfMs = true;
                }
            }
        },
        rgLuA: function() {
            var zfMs = false;
            var rhPrG = this.riIrD;
            for (var xgGx in this.buttons) {
                var button = this.buttons[xgGx];
                if (zfMs) {
                    break;
                } else if (button === rhPrG) {
                    zfMs = true;
                }
                if (button.rfIxE && !zfMs) {
                    this.rjPqF(button);
                }
            }
        },
        rgKqA: function() {
            if (this.riIrD && this.riIrD.yfMv && this.riIrD.zhGx) {
                this.riIrD.yfMv.call(this.riIrD.zhGx)
            }
        },
        close: function() {}
    });
    return shmq;
});
scNt('dqjHq', ['dqjPs', 'dqjOr', 'dqjIz'], function() {
    function rfoyc(rfOyC, zcJq, whKs) {
        console.log('Game.ctor');
        rfoyc._super.constructor.call(this, rfoyc.rhOrE, rfOyC, zcJq, whKs);
        this.zaKr = null;
        this.rgOrG = null;
    }
    tcHy.dqjPs.ujNz(rfoyc, tcHy.dqjIz);
    tcHy.dqjPs.extend(rfoyc, {
        rhOrE: 'rfOyC'
    });
    tcHy.dqjPs.extend(rfoyc.prototype, {
        enumerable: false
    }, {
        rhNr: function() {
            console.log('Game.init');
            rfoyc._super.rhNr.call(this);
            var rjMwG = 'taMwqjkv';
            var riMuA = 'riMzJqjkv';
            var ujPw = scLr.desktop ? riMuA : rjMwG;
            this.zaKr = this.zhLr(ujPw);
            this.rgOrG = this.zhLr('whIwqjkv');
        },
        rbIy: function(rfKqA) {
            console.log('Game.enter');
            rfoyc._super.rbIy.call(this);
            this.zaKr.rbIy(rfKqA);
            this.rgOrG.rbIy();
        },
        sjLr: function() {
            console.log('Game.leave');
            rfoyc._super.sjLr.call(this);
        }
    });
    return rfoyc;
});
scNt('dqjHr', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function rfkse(rfOyC, zcJq, whKs, yjNt, zePu, rhJwG, rhOwK) {
        console.log('Loader.ctor');
        rfkse._super.constructor.call(this, rfkse.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu);
        this.rhHvJ = rhJwG;
        this.rhNrB = rhOwK;
    }
    tcHy.dqjPs.ujNz(rfkse, tcHy.dqjIz);
    tcHy.dqjPs.extend(rfkse, {
        rhOrE: 'rfKsE',
        rgPsC: 5
    });
    tcHy.dqjPs.extend(rfkse.prototype, {
        rhNr: function() {
            console.log('Loader.init');
            rfkse._super.rhNr.call(this);
            this.rhHvJ.xjJr('loadProgressed', this.rhKwH, this);
            this.rhHvJ.xjJr('loadFinished', this.riIuF, this);
            this.zaHw = {
                open: this.images.rfKyH,
                close: this.images.rfKyG
            };
            this.zaHw.open.rfIxE = true;
            this.zaHw.close.rfIxE = false;
            this.zaGv = 0;
            this.rdIr = [];
            this.sbGt.rfJzA.children.forEach(function(wjOs) {
                this.rdIr.push(wjOs);
            }, this);
            this.ygMr = 1;
            if (scLr.desktop) {
                this.buttons.rfOyE.yaIy(this.rhKqJ, this);
                this.buttons.rfOyF.yaIy(this.rhKqJ, this);
            }
        },
        rbIy: function() {
            console.log('Loader.enter');
            rfkse._super.rbIy.call(this);
            this.buttons.rfIsA.yjKv(false);
            this.xhMv.wiMs('menu');
            this.rgHtK();
        },
        rhKwH: function(rfJyB) {
            var rhLqD = this.zaGv + rfkse.rgPsC;
            var rgIzH = !!(rfJyB >= rhLqD);
            if (rgIzH) {
                this.zaGv += rfkse.rgPsC;
                this.rgIwJ();
                this.rgKqE(rfJyB);
                this.rgOqB(rfJyB);
                this.rhHwG();
                this.rgHtH(rfJyB);
            }
        },
        riIuF: function() {
            this.buttons.rfIsA.yjKv(true);
            this.buttons.rfIsA.yaIy(this.rjJxB, this);
            this.images.rfKsC.rfIxE = false;
            this.zaHw.open.rfIxE = false;
            this.zaHw.close.rfIxE = false;
            this.rjPqF(this.buttons.rfIsA);
        },
        rjJxB: function() {
            this.rdKx.input.tiOx.thMz(this.rjJxB, this);
            this.rjPqH.rfIz('map');
        },
        rgJtD: function(rfJyB) {
            var index = this.ygMr;
            var qaHt = this.rgHsE(index);
            var zcJx = this.rdIr[index - 1];
            var rgPsE = this.rfPvK(index, rfJyB);
            var rgPsD = zcJx[qaHt] + rgPsE;
            return rgPsD;
        },
        rgIwJ: function() {
            this.zaHw.open.rfIxE = !this.zaHw.open.rfIxE;
            this.zaHw.close.rfIxE = !this.zaHw.open.rfIxE;
        },
        rgKqE: function(rfJyB) {
            var qaHt = this.rgHsE(this.ygMr);
            var rgPsD = this.rgJtD(rfJyB);
            this.zaHw.open[qaHt] = rgPsD;
            this.zaHw.close[qaHt] = rgPsD;
        },
        rgHtH: function(rfJyB) {
            var rfJsA = this.sbGt.rfJsA.children;
            for (var i = 0; i < rfJsA.length; i++) {
                var rhLtD = 100 / rfJsA.length * i;
                var rfJrB = rfJsA[i];
                var weGz = !!(rfJyB <= rhLtD);
                rfJrB.rfIxE = weGz;
            }
        },
        rgHxC: function(index) {
            var zcJx = this.rdIr[index - 1];
            var yjMq = this.rdIr[index];
            var rhPyD = tcHy.dqjOr.Math.viLy(zcJx.x, zcJx.y, yjMq.x, yjMq.y);
            var direction = this.rgMrJ(this.ygMr);
            return rhPyD * direction;
        },
        rfPvK: function(index, rfJyB) {
            var rhIxC = this.rgGvE(index);
            var rgGuJ = 0;
            for (var i = index - 1; i > 0; i--) {
                rgGuJ += this.rgGvE(i);
            }
            var viLy = this.rgHxC(index) / rhIxC * (rfJyB - rgGuJ);
            return viLy;
        },
        rgGvE: function(index) {
            var rhPyD = this.rgHxC(index);
            var rjKzJ = this.rgIuF();
            var rhIxC = 100 / rjKzJ * rhPyD;
            return rhIxC;
        },
        rgIuF: function() {
            var rjKzJ = 0;
            for (var i = 1; i < this.rdIr.length; i++) {
                rjKzJ += this.rgHxC(i);
            }
            return rjKzJ;
        },
        rgHsE: function(index) {
            var zcJx = this.rdIr[index - 1];
            var yjMq = this.rdIr[index];
            var qaHs = ['x', 'y'];
            var rjOwC = null;
            qaHs.forEach(function(qaHt) {
                var uaMz = yjMq[qaHt] - zcJx[qaHt];
                if (uaMz !== 0) {
                    rjOwC = qaHt;
                    return;
                }
            }, this);
            return rjOwC;
        },
        rgMrJ: function(index) {
            var zcJx = this.rdIr[index - 1];
            var yjMq = this.rdIr[index];
            var qaHt = this.rgHsE(index);
            var direction = yjMq[qaHt] - zcJx[qaHt];
            var rgNsA = 0;
            if (direction > 0) {
                rgNsA = 1;
            } else if (direction < 0) {
                rgNsA = -1;
            }
            return rgNsA;
        },
        rgOqB: function(rfJyB) {
            var rhPyD = this.rgHxC(this.ygMr);
            var rgHrG = this.rfPvK(this.ygMr, rfJyB);
            var viLy = rhPyD - rgHrG;
            var direction = this.rgMrJ(this.ygMr);
            if (direction > 0 && viLy < 0 || direction < 0 && viLy > 0) {
                var qaHt = this.rgHsE(this.ygMr);
                var rgPsH = viLy;
                this.zaHw.open[qaHt] += rgPsH;
                this.zaHw.close[qaHt] += rgPsH;
                this.riIvD();
            }
        },
        riIvD: function() {
            var rgGwG = !!(this.ygMr < this.rdIr.length - 1);
            if (rgGwG) {
                this.ygMr++;
            }
        },
        rhHwG: function() {
            var qaHt = this.rgHsE(this.ygMr);
            var direction = this.rgMrJ(this.ygMr);
            var rfIqD = 0;
            if (qaHt === 'x') {
                if (direction > 0) {
                    rfIqD = 0;
                } else {
                    rfIqD = 180;
                }
            } else {
                if (direction > 0) {
                    rfIqD = 90;
                } else {
                    rfIqD = 270;
                }
            }
            this.zaHw.open.rcOr = rfIqD;
            this.zaHw.close.rcOr = rfIqD;
        },
        rhKqJ: function() {
            this.rhNrB.rhKqJ();
            this.rgHtK();
        },
        rgHtK: function() {
            if (scLr.vdKs) {
                this.buttons.rfOyE.yjKv(false);
                this.buttons.rfOyF.yjKv(false);
                return;
            }
            var zeNs = this.rhNrB.zeNs();
            this.buttons.rfOyE.yjKv(!zeNs);
            this.buttons.rfOyF.yjKv(zeNs);
        },
    });
    return rfkse;
});
scNt('dqjHs', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function Map(rfOyC, zcJq, whKs, yjNt, zePu, rjMuE, rgLqB, worldProgress, rjOzJ, rhJwG) {
        Map._super.constructor.call(this, Map.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu);
        console.log('Map.ctor');
        this.rjJyE = rjMuE;
        this.rgLyB = rgLqB;
        this.rjIsF = worldProgress;
        this.rjJxF = rjOzJ;
        this.rhHvJ = rhJwG;
        this.zaKr = null;
        this.ziJx = null;
        this.rgKqB = false;
    }
    tcHy.dqjPs.ujNz(Map, tcHy.dqjIz);
    tcHy.dqjPs.extend(Map, {
        rhOrE: 'map'
    });
    tcHy.dqjPs.extend(Map.prototype, {
        rhNr: function() {
            Map._super.rhNr.call(this);
            console.log('Map.init');
            this.rjJyE.rhNr(this);
            this.rgLyB.rhNr(this);
            var rjMwG = 'tjMwqjkv';
            var riMuA = 'rjMuDqjkv';
            var ujPw = scLr.desktop ? riMuA : rjMwG;
            this.zaKr = this.zhLr(ujPw);
            this.ziJx = this.rhHuG();
            this.rhHvJ.xjJr('lastLevelWon', this.riIuG, this);
        },
        rbIy: function() {
            Map._super.rbIy.call(this);
            console.log('Map.enter');
            this.rjJyE.rePtB();
            this.rgLyB.rePtB();
            this.zaKr.rbIy();
            this.rhHvJ.ugNr('playMapMusic');
            if (this.rgKqB) {
                this.rhKxE();
            }
        },
        update: function() {
            Map._super.update.call(this);
            this.rjJyE.update();
            this.rgLyB.update();
        },
        sjLr: function() {
            Map._super.sjLr.call(this);
            console.log('Map.leave');
            this.rjJyE.xfGx();
            this.rgLyB.xfGx();
            this.rhHvJ.ugNr('stopMapMusic');
        },
        rgKqA: function() {
            var rfKqC = this.rjIsF.rfJyB;
            this.rjPqH.rfIz('rfOyC', rfKqC);
        },
        rhHuG: function() {
            var rhMrK = this.rdKx.rcIy.taLy('rePyK');
            var yfPr = this.rjJxF.construct(rhMrK['reOyF']);
            yfPr.waIu(true);
            return yfPr;
        },
        riIuG: function() {
            this.rgKqB = true;
        },
        rhKxE: function() {
            this.rgKqB = false;
            this.rjPqH.xjPu('tbLsqhnr');
        }
    });
    return Map;
});
scNt('dqjHt', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function rfluj(rfOyC, zcJq, whKs, yjNt, zePu, wfKw) {
        rfluj._super.constructor.call(this, rfluj.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu);
        console.log('IngameLoading.ctor');
        this.xhKt = wfKw;
    }
    tcHy.dqjPs.ujNz(rfluj, tcHy.dqjIz);
    tcHy.dqjPs.extend(rfluj, {
        rhOrE: 'rfLuJ',
        rjNsD: 1000
    });
    tcHy.dqjPs.extend(rfluj.prototype, {
        rhNr: function() {
            rfluj._super.rhNr.call(this);
            console.log('IngameLoading.init');
        },
        rbIy: function(waKz, vfMy) {
            rfluj._super.rbIy.call(this);
            console.log('IngameLoading.enter');
            this.rjPqH.view.background.set('ingameLoaderBg.jpg');
            this.rhNrK();
            switch (waKz) {
                case 'map':
                    this.rjPqD();
                    break;
                case 'rfOyC':
                    this.rjIqC(vfMy);
                    break;
            }
        },
        update: function() {
            rfluj._super.update.call(this);
        },
        sjLr: function() {
            rfluj._super.sjLr.call(this);
            console.log('IngameLoading.leave');
        },
        rhNrK: function() {
            var rhGwB = this.sbGt.rfKsA.children;
            rhGwB.forEach(function(image) {
                image.rfIxE = false;
            }, this);
            var yaOs = tcHy.dqjPs.int.random(0, rhGwB.length - 1);
            yaOs = 1;
            rhGwB[yaOs].rfIxE = true;
        },
        rjPqD: function() {
            this.rjPqH.rfIz('map');
        },
        rjIqC: function(rfKqA) {
            this.xhKt.add(rfluj.rjNsD, function() {
                this.rjPqH.rfIz('rfOyC', rfKqA);
            }, this);
        }
    });
    return rfluj;
});
scNt('dqjHu', ['dqjPs', 'dqjIz', 'dqjOr', 'dqjOx'], function() {
    function rfjwd(name, rfOyC, zcJq, whKs, yjNt, zePu, zbPy) {
        rfjwd._super.constructor.call(this, name, rfOyC, zcJq, whKs, yjNt, zePu);
        this.yfNt = null;
        this.vaMz = null;
        this.wbKs = {
            rfIsA: null,
            rfIz: null,
            rfOxC: null
        };
        this.yiGy = {
            in: 400,
            qcNz: 400
        };
        this.rhIuF = new rfjwh.tgot();
        this.waGt = '02_pop-up';
        this.uhNx = new rfjwh.tgot();
        this.uhMu = new rfjwh.tgot();
        this.rjPqB = zbPy;
    }
    tcHy.dqjPs.ujNz(rfjwd, tcHy.dqjIz);
    rfjwd.YEIX = null;
    rfjwd.XEHQ = null;
    tcHy.dqjPs.extend(rfjwd.prototype, {
        rhNr: function() {
            rfjwd._super.rhNr.call(this);
            this.whHz = this.rdKx.add.vgOs(0, 0);
            this.whHz.wiIv(null, 1);
            this.whHz.viKv(this.rdKx.wjPs.world.x - this.rdKx.wjPs.width, 0, this.rdKx.width, this.rdKx.height);
            this.whHz.tbLr();
            this.whHz.name = 'darkLayer';
            if (this.sbGt['bottom']) {
                console.error('Popup ' + this.name + ' already has a "bottom" group! Please rename your "bottom" group...');
            } else {
                this.yfNt = this.rdKx.rhHy.group('bottom');
                this.yfNt.rfGwF.x = -this.rdKx.wjPs.world.width / 2;
                this.yfNt.rfGwF.y = this.rdKx.wjPs.world.height / 2;
                this.yfNt.add(this.whHz);
                this.view.add(this.yfNt);
            }
            if (this.sbGt['top']) {
                console.error('Popup ' + this.name + ' already has a "top" group! Please rename your "top" group...');
            } else {
                this.vaMz = this.rdKx.rhHy.group('top');
                this.view.children.forEach(function(rcGq) {
                    if (!rcGq.name._.has('darkLayer')) {
                        this.vaMz.add(rcGq);
                    }
                }, this);
                this.view.add(this.vaMz);
            }
            this.wbKs.left = {
                x: -this.rdKx.wjPs.width - this.vaMz.width / 2,
                y: 0
            };
            this.wbKs.right = {
                x: this.rdKx.wjPs.width + this.vaMz.width / 2,
                y: 0
            };
            this.wbKs.top = {
                x: 0,
                y: -this.rdKx.wjPs.height - this.vaMz.height / 2
            };
            this.wbKs.bottom = {
                x: 0,
                y: this.rdKx.wjPs.height + this.vaMz.height / 2
            };
            this.wbKs.rfIsA = this.wbKs.bottom;
            this.wbKs.rfIz = {
                x: this.vaMz.x,
                y: this.vaMz.y
            };
            this.wbKs.rfOxC = this.wbKs.top;
        },
        rbIy: function() {
            rfjwd._super.rbIy.call(this);
            this.ueIt();
        },
        xfMv: function() {
            this.vaJq();
        },
        ueIt: function() {
            if (rfjwd.YEIX) {
                tcHy.dqjPs.ydOy.rePuG.ygNs(rfjwd.YEIX, false, 1, true, true);
            }
            var zjGz = this.rdKx.add.sgIs(this.yfNt);
            var vaJr = this.rdKx.add.sgIs(this.vaMz);
            zjGz.to({
                alpha: 0.5
            }, this.yiGy.in);
            zjGz.xbKu.add(function() {
                this.rhIuF.viLt();
                this.rdKx.input.viMz = false;
                this.uhNx.viLt();
            }, this);
            vaJr.to({
                x: this.wbKs.rfIz.x,
                y: this.wbKs.rfIz.y
            }, this.yiGy.in, rfjwh.sckv.Back.qcnz);
            this.yfNt.alpha = 0;
            this.vaMz.x = this.wbKs.rfIsA.x;
            this.vaMz.y = this.wbKs.rfIsA.y;
            zjGz.rfIsA();
            vaJr.rfIsA();
            this.rdKx.input.viMz = true;
        },
        vaJq: function() {
            if (rfjwd.XEHQ) {
                tcHy.dqjPs.ydOy.rePuG.ygNs(rfjwd.XEHQ, false, 1, true, true);
            }
            var zjGz = this.rdKx.add.sgIs(this.yfNt);
            var vaJr = this.rdKx.add.sgIs(this.vaMz);
            zjGz.to({
                alpha: 0
            }, this.yiGy.qcNz);
            zjGz.xbKu.add(function() {
                this.rjPqH.xcIq(this);
                this.rdKx.input.viMz = false;
                this.uhMu.viLt();
            }, this);
            vaJr.to({
                x: this.wbKs.rfOxC.x,
                y: this.wbKs.rfOxC.y
            }, this.yiGy.qcNz, rfjwh.sckv.Back.In);
            zjGz.rfIsA();
            vaJr.rfIsA();
            this.rdKx.input.viMz = true;
        }
    });
    return rfjwd;
});
scNt('dqjHv', ['dqjPs', 'dqjOr', 'dqjHu'], function() {
    function Pause(rfOyC, zcJq, whKs, yjNt, zePu, rhJwG, zbPy, ydOy) {
        console.log('Pause.ctor');
        Pause._super.constructor.call(this, Pause.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rhHvJ = rhJwG;
        this.ziHt = ydOy;
    }
    tcHy.dqjPs.ujNz(Pause, tcHy.dqjHu);
    tcHy.dqjPs.extend(Pause, {
        rhOrE: 'pauseqhnr'
    });
    tcHy.dqjPs.extend(Pause.prototype, {
        rhNr: function() {
            Pause._super.rhNr.call(this);
            console.log('Pause.init');
            this.buttons.close.yaIy(this.xfMv, this);
            this.buttons.rfHuF.yaIy(this.xfMv, this);
            this.buttons.map.yaIy(this.xhNz, this);
            this.buttons.rfJzD.yaIy(this.rjPqK, this);
            this.buttons.rfHzE.yaIy(this.zjHq, this);
            this.buttons.rfHzD.yaIy(this.zjHq, this);
            this.uhMu.add(function() {
                this.rhHvJ.ugNr('gameResumed');
            }, this);
            this.uhNx.add(this.xhMv.tgOq, this.xhMv);
        },
        rbIy: function() {
            Pause._super.rbIy.call(this);
            console.log('Pause.enter');
            this.rhHvJ.ugNr('gamePaused');
            this.rgOtD();
        },
        sjLr: function() {
            Pause._super.sjLr.call(this);
            console.log('Pause.leave');
        },
        xhNz: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'map');
            }, this);
            this.rhHvJ.ugNr('levelEndedFromPaused');
            this.xfMv();
        },
        rjPqK: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'rfOyC', this.ziHt.rfKqA);
            }, this);
            this.xfMv();
        },
        zjHq: function() {
            this.rjPqB.rgMr = !this.rjPqB.rgMr;
            this.rgOtD();
            this.rhNrF();
        },
        rgOtD: function() {
            this.buttons.rfHzE.yjKv(this.rjPqB.rgMr);
            this.buttons.rfHzD.yjKv(!this.rjPqB.rgMr);
        },
        rhNrF: function() {
            if (this.rjPqB.rgMr) {
                this.rhHvJ.ugNr('audioMuted');
            } else {
                this.rhHvJ.ugNr('audioUnMuted');
            }
        }
    });
    return Pause;
});
scNt('dqjHw', [], function() {
    var rhkth = {};
    rhkth.RHNUA = 'riHtG';
    rhkth.RIHTH = 'reNqE';
    rhkth.YCNW = 'xcJx';
    rhkth.RIHSC = 'riMqE';
    return rhkth;
});
scNt('dqjHx', ['dqjPs', 'dqjOr', 'dqjHu', 'dqjHw'], function() {
    function vflq(rfOyC, zcJq, whKs, yjNt, zePu, rhJwG, rjMrJ, rhHzD, zbPy, ydOy) {
        console.log('LevelWon.ctor');
        vflq._super.constructor.call(this, vflq.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rhHvJ = rhJwG;
        this.rjJyJ = rjMrJ;
        this.rgOrK = rhHzD;
        this.ziHt = ydOy;
        this.sfGr = 0;
    }
    tcHy.dqjPs.ujNz(vflq, tcHy.dqjHu);
    tcHy.dqjPs.extend(vflq, {
        rhOrE: 'vfLqqhnr'
    });
    tcHy.dqjPs.extend(vflq.prototype, {
        rhNr: function() {
            vflq._super.rhNr.call(this);
            console.log('LevelWon.init');
            this.buttons.map.yaIy(this.xhNz, this);
            this.buttons.rfKvC.yaIy(this.xhIq, this);
            this.buttons.rfJzD.yaIy(this.rjPqK, this);
            this.rhHvJ.xjJr('scoreSet', this.wjHw, this);
            this.uhNx.add(this.xhMv.tgOq, this.xhMv);
        },
        wjHw: function(rfIrJ) {
            this.sfGr = rfIrJ;
            this.rhNrJ();
        },
        rbIy: function(rjJtA) {
            vflq._super.rbIy.call(this);
            console.log('LevelWon.enter');
            this.rgJuC(rjJtA);
            this.rhHwE();
            this.rhNrJ();
            this.wjGq();
        },
        sjLr: function() {
            vflq._super.sjLr.call(this);
            console.log('LevelWon.leave');
        },
        xhNz: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'map');
            }, this);
            this.xfMv();
        },
        xhIq: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('autoNextLevel');
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'map');
            }, this);
            this.xfMv();
        },
        rjPqK: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('restartGame');
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'rfOyC', this.ziHt.rfKqA);
            }, this);
            this.xfMv();
        },
        rgJuC: function(rjJtA) {
            this.sbGt.rfNqA.children.forEach(function(image) {
                image.rfIxE = false;
            }, this);
            switch (rjJtA.reNqF) {
                case tcHy.dqjHw.RHNUA:
                    this.images.rfOuG.rfIxE = true;
                    break;
                case tcHy.dqjHw.RIHTH:
                    this.images.rfJtH.rfIxE = true;
                    break;
                case tcHy.dqjHw.YCNW:
                    this.images.rfNqC.rfIxE = true;
                    break;
                case tcHy.dqjHw.RIHSC:
                    this.images.rfIuE.rfIxE = true;
                    break;
            }
        },
        rhHwE: function() {
            this.saIy.rfJsA.text = this.rgOrK.rgMyA('rfJrB');
        },
        rhNrJ: function() {
            this.saIy.rfIrJ.text = '0';
            this.saIy.rfIrJ.tcKy(this.sfGr);
        },
        wjGq: function() {
            this.sbGt.rfLvC.children.forEach(function(image) {
                var vfOz = image.id._.rdGw('rfHyA');
                vfOz = parseInt(vfOz);
                var zeMr = this.rjJyJ.rgGyH(vfOz);
                image.rfIxE = image.id._.has('rdLv') ? !zeMr : zeMr;
            }, this);
        }
    });
    return vflq;
});
scNt('dqjHy', ['dqjPs', 'dqjOr', 'dqjHu', 'dqjHw'], function() {
    function wdnw(rfOyC, zcJq, whKs, yjNt, zePu, rjMrJ, rhJwG, zbPy, ydOy) {
        console.log('LevelLost.ctor');
        wdnw._super.constructor.call(this, wdnw.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rjJyJ = rjMrJ;
        this.rhHvJ = rhJwG;
        this.ziHt = ydOy;
    }
    tcHy.dqjPs.ujNz(wdnw, tcHy.dqjHu);
    tcHy.dqjPs.extend(wdnw, {
        rhOrE: 'wdNwqhnr'
    });
    tcHy.dqjPs.extend(wdnw.prototype, {
        rhNr: function() {
            wdnw._super.rhNr.call(this);
            console.log('LevelLost.init');
            this.buttons.map.yaIy(this.xhNz, this);
            this.buttons.rfJzD.yaIy(this.rjPqK, this);
            this.uhNx.add(this.xhMv.tgOq, this.xhMv);
        },
        rbIy: function(rjJtA) {
            wdnw._super.rbIy.call(this);
            console.log('LevelLost.enter');
            this.rgGzK(rjJtA);
            this.wjGq(rjJtA);
        },
        sjLr: function() {
            wdnw._super.sjLr.call(this);
            console.log('LevelLost.leave');
        },
        xhNz: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'map');
            }, this);
            this.xfMv();
        },
        rjPqK: function() {
            this.uhMu.teIx(function() {
                this.rhHvJ.ugNr('restartGame');
                this.rhHvJ.ugNr('clearGame');
                this.rjPqH.rfIz('rfLuJ', 'rfOyC', this.ziHt.rfKqA);
            }, this);
            this.xfMv();
        },
        rgGzK: function(rjJtA) {
            this.sbGt.rfNqA.children.forEach(function(image) {
                image.rfIxE = false;
            }, this);
            var riMsK = this.saIy.rfOuA;
            if (!rjJtA.rgPrH) {
                this.images.rfKsH.rfIxE = true;
                riMsK.text = '0/3';
                riMsK.style.fill = '#fe2e6e';
                return;
            }
            riMsK.text = rjJtA.rgJxD + '/' + rjJtA.rfIyH;
            switch (rjJtA.reNqF) {
                case tcHy.dqjHw.RHNUA:
                    this.images.rfOuH.rfIxE = true;
                    riMsK.style.fill = '#ffd1da';
                    break;
                case tcHy.dqjHw.RIHTH:
                    this.images.rfJsC.rfIxE = true;
                    riMsK.style.fill = '#d08019';
                    break;
                case tcHy.dqjHw.YCNW:
                    this.images.rfNqE.rfIxE = true;
                    riMsK.style.fill = '#f8aecd';
                    break;
                case tcHy.dqjHw.RIHSC:
                    this.images.rfItB.rfIxE = true;
                    riMsK.style.fill = '#f0c4ff';
                    break;
            }
        },
        wjGq: function(rjJtA) {
            this.sbGt.rfLvC.children.forEach(function(image) {
                var vfOz = image.id._.rdGw('rfHyA');
                vfOz = parseInt(vfOz);
                var zeMr = this.rjJyJ.rgGyH(vfOz);
                image.rfIxE = image.id._.has('rdLv') ? !zeMr : zeMr;
            }, this);
        }
    });
    return wdnw;
});
scNt('dqjHz', ['dqjPs', 'dqjOr', 'dqjHu'], function() {
    function tbls(rfOyC, zcJq, whKs, yjNt, zePu, zbPy) {
        console.log('EndGame.ctor');
        tbls._super.constructor.call(this, tbls.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
    }
    tcHy.dqjPs.ujNz(tbls, tcHy.dqjHu);
    tcHy.dqjPs.extend(tbls, {
        rhOrE: 'tbLsqhnr'
    });
    tcHy.dqjPs.extend(tbls.prototype, {
        rhNr: function() {
            tbls._super.rhNr.call(this);
            console.log('EndGame.init');
            this.buttons.close.yaIy(this.xfMv, this);
            this.buttons.rfJyC.yaIy(this.xfMv, this);
        },
        rbIy: function() {
            tbls._super.rbIy.call(this);
            console.log('EndGame.enter');
        },
        sjLr: function() {
            tbls._super.sjLr.call(this);
            console.log('EndGame.leave');
        }
    });
    return tbls;
});
scNt('dqjGq', ['dqjHw'], function() {
    var rhnvj = {};
    rhnvj.RFJRB = 'rfJrB';
    rhnvj.RFGTF = 'rfGtF';
    rhnvj.KEY = 'key';
    rhnvj.RFKTE = 'rfKtE';
    rhnvj.RFOSF = 'rfOsF';
    rhnvj.RFLTE = 'rfLtE';
    rhnvj.EXTRA_TIME = 'extra_time';
    rhnvj.rhMqD = function(reNqF) {
        switch (reNqF) {
            case tcHy.dqjHw.RIHTH:
                return rhnvj.RFJRB;
            case tcHy.dqjHw.RHNUA:
                return rhnvj.RFOSF;
        }
    };
    return rhnvj;
});
scNt('dqjGr', ['dqjGq', 'dqjHw'], function() {
    function rhgzk() {}
    rhgzk.RFOZG = 'rfOzG';
    rhgzk.RFOSF = 'rfOsF';
    rhgzk.RFJRB = 'rfJrB';
    rhgzk.TIME = 'time';
    rhgzk.RGLX = 'none';
    rhgzk.rhMqD = function(reNqF) {
        var weNy = '';
        switch (reNqF) {
            case tcHy.dqjHw.RHNUA:
                weNy = rhgzk.RFOSF;
                break;
            case tcHy.dqjHw.RIHTH:
                weNy = rhgzk.RFJRB;
                break;
            case tcHy.dqjHw.YCNW:
                weNy = rhgzk.RFOZG;
                break;
            case tcHy.dqjHw.RIHSC:
                weNy = rhgzk.TIME;
                break;
            default:
                weNy = rhgzk.RGLX;
                break;
        }
        return weNy;
    };
    rhgzk.rgOyK = function(riHtE) {
        switch (riHtE) {
            case tcHy.dqjGq.RFOSF:
                return rhgzk.RFOSF;
            case tcHy.dqjGq.RFJRB:
                return rhgzk.RFJRB;
            default:
                return rhgzk.RGLX;
        }
    };
    return rhgzk;
});
scNt('dqjGs', ['dqjPs', 'dqjGr', 'dqjHu', 'dqjHw'], function() {
    function yclq(rfOyC, zcJq, whKs, yjNt, zePu, rgLqA, zbPy) {
        console.log('LevelTarget.ctor');
        yclq._super.constructor.call(this, yclq.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rgLyA = rgLqA;
        this.rgJtA = null;
        this.rgLzB = null;
        this.rgLuG = null;
    }
    yclq.RFPQD = 'targetObjectiveCp';
    tcHy.dqjPs.ujNz(yclq, tcHy.dqjHu);
    tcHy.dqjPs.extend(yclq, {
        rhOrE: 'ycLqqhnr'
    });
    tcHy.dqjPs.extend(yclq.prototype, {
        rhNr: function() {
            yclq._super.rhNr.call(this);
            console.log('LevelTarget.init');
            this.buttons.close.yaIy(this.rgOqA, this);
            this.rgKqH(this.rgLzC, this);
            this.rgLyA.rhNr(this);
            this.rgGsH();
            this.rgJtA = this.zhLr('rhLqAqjkv');
            var rfPqK = this.zdHt.rfKyJ;
            this.rgJtA.x = rfPqK.x;
            this.rgJtA.y = rfPqK.y;
            this.view.add(this.rgJtA.view);
        },
        rbIy: function(rfKrH) {
            yclq._super.rbIy.call(this);
            console.log('LevelTarget.enter');
            this.ygMt(rfKrH);
            this.rgLyA.rePtB(rfKrH);
            this.rgJtA.rbIy();
        },
        sjLr: function() {
            console.log('LevelTarget.leave');
            yclq._super.sjLr.call(this);
        },
        wcHx: function() {
            this.uhMu.teIx(this.ygMy, this);
            this.xfMv();
        },
        zcGq: function(reNqF, rfIyH, rjLuE) {
            this.zaKq();
            this.rgIuJ(rjLuE);
            var rjJuJ = this.saIy.rfIyH;
            rjJuJ.text = 'X' + rfIyH;
            switch (reNqF) {
                case tcHy.dqjHw.RHNUA:
                    this.images.rfItK.rfIxE = true;
                    this.saIy.rfIuC.rfIxE = true;
                    rjJuJ.style.fill = '#fe2e6e';
                    break;
                case tcHy.dqjHw.RIHTH:
                    this.images.rfItH.rfIxE = true;
                    this.saIy.rfIuA.rfIxE = true;
                    rjJuJ.style.fill = '#d08019';
                    break;
                case tcHy.dqjHw.YCNW:
                    this.images.rfItJ.rfIxE = true;
                    this.saIy.rfIuB.rfIxE = true;
                    rjJuJ.style.fill = '#f8aecd';
                    break;
                case tcHy.dqjHw.RIHSC:
                    this.images.rfItG.rfIxE = true;
                    this.saIy.rfIvK.rfIxE = true;
                    rjJuJ.style.fill = '#f0c4ff';
                    var ufNq = rfIyH % 60;
                    var rhPyE = (ufNq < 10) ? ('0' + ufNq) : ufNq;
                    rjJuJ.text = Math.floor(rfIyH / 60) + ':' + rhPyE;
                    break;
            }
        },
        rgJsF: function(zcPq) {
            this.sbGt.rfJxH.forEach(function(button) {
                var name = (button.name._.rdGw('rfPyJ'));
                this.saIy[name + 'rjlw'].text = zcPq[name];
            }, this);
        },
        rgIuJ: function(zdGz) {
            var zcPr = ['rfLtE', 'rfKrC', 'rfKtE', 'rfIrC'];
            zcPr.forEach(function(ybGs) {
                if (!zdGz || !zdGz[ybGs]) {
                    this.buttons[ybGs].rfIxE = true;
                    this.images[ybGs + 'vimz'].rfIxE = false;
                }
            }, this)
        },
        rgGsH: function() {
            this.rgLzB = this.rdKx.add.vgOs(0, 0);
            this.rgLzB.wiIv(null, 1);
            this.rgLzB.viKv(this.rdKx.wjPs.world.x - this.rdKx.wjPs.width * 0.5, -this.rdKx.height * 0.5, this.rdKx.width, this.rdKx.height);
            this.rgLzB.tbLr();
            this.rgLzB.name = '_replacementDarkLayer';
            this.rgLuG = this.rdKx.rhHy.group('replacementDarkLayer');
            this.rgLuG.add(this.rgLzB);
            this.rgLuG.alpha = 0;
            this.view.add(this.rgLuG);
        },
        rgOqA: function() {
            this.rgLyA.rgLsF();
            this.xfMv();
        },
        rgKqH: function(uaGu, tcLv) {
            this.sbGt.rfJxH.children.forEach(function(button) {
                button.yaIy(uaGu, tcLv);
            }, this);
        },
        rgLzC: function(xgGx) {
            this.rgLyA.rgLtE(xgGx);
        },
        ygMy: function() {
            this.rjPqH.rfIz('rfLuJ', 'rfOyC', this.rgLyA.rfKrH);
        },
        zaKq: function() {
            this.sbGt.rfKxD.children.forEach(function(image) {
                image.rfIxE = false;
            }, this);
            this.sbGt.rfKxC.children.forEach(function(rfLwD) {
                rfLwD.rfIxE = false;
            }, this);
            this.sbGt.rfJxH.children.forEach(function(button) {
                this.rjJxJ(button);
            }, this);
        },
        rjJxJ: function(button) {
            button.rfIxE = false;
            var name = button.name._.rdGw('rfPyJ');
            this.images[name + 'vimz'].wjPu = true;
        },
        ygMt: function(rfKrH) {
            this.saIy.rfKqA.text = rfKrH;
        }
    });
    return yclq;
});
scNt('dqjGt', ['dqjPs', 'dqjOr', 'dqjHu'], function() {
    function xdks(rfOyC, zcJq, whKs, yjNt, zePu, rgNrF, zbPy) {
        console.log('GateLocked.ctor');
        xdks._super.constructor.call(this, xdks.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rgMrC = rgNrF
    }
    tcHy.dqjPs.ujNz(xdks, tcHy.dqjHu);
    tcHy.dqjPs.extend(xdks, {
        rhOrE: 'xdKsqhnr'
    });
    tcHy.dqjPs.extend(xdks.prototype, {
        rhNr: function() {
            xdks._super.rhNr.call(this);
            console.log('GateLocked.init');
            this.buttons.close.yaIy(this.xfMv, this);
            this.buttons.back.yaIy(this.xfMv, this);
        },
        rbIy: function(zjHt, xgMz) {
            xdks._super.rbIy.call(this);
            console.log('GateLocked.enter');
            this.saIy.rfLwK.text = this.rgMrC.get('You require:', zjHt);
            this.saIy.rfLwH.text = this.rgMrC.get('FUUUUUUUU', xgMz);
        },
        sjLr: function() {
            xdks._super.sjLr.call(this);
            console.log('GateLocked.leave');
        }
    });
    return xdks;
});
scNt('dqjGu', ['dqjPs', 'dqjOr', 'dqjHu'], function() {
    function zflt(rfOyC, zcJq, whKs, yjNt, zePu, rhJwG, rjMrJ, rgNrF, zbPy) {
        console.log('GateUnlocked.ctor');
        zflt._super.constructor.call(this, zflt.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu, zbPy);
        this.rhHvJ = rhJwG;
        this.rjJyJ = rjMrJ;
        this.ubLs = null;
        this._unlockrjlw = null;
        this.rgMrC = rgNrF;
    }
    tcHy.dqjPs.ujNz(zflt, tcHy.dqjHu);
    tcHy.dqjPs.extend(zflt, {
        rhOrE: 'zfLtqhnr'
    });
    tcHy.dqjPs.extend(zflt.prototype, {
        rhNr: function() {
            zflt._super.rhNr.call(this);
            console.log('GateUnlocked.init');
            this.buttons.close.yaIy(this.xfMv, this);
            this.buttons.back.yaIy(this.zaHz, this);
        },
        rbIy: function(rfKqA, tfMzrjlw) {
            zflt._super.rbIy.call(this);
            console.log('GateUnlocked.enter');
            this.ubLs = rfKqA;
            this._unlockrjlw = tfMzrjlw;
            this.saIy.rfJzE.text = this.rgMrC.get('You require:', tfMzrjlw);
            this.saIy.rfLwG.text = this.rgMrC.get('You will spend:', tfMzrjlw);
        },
        sjLr: function() {
            zflt._super.sjLr.call(this);
            console.log('GateUnlocked.leave');
        },
        zaHz: function() {
            var rjLw = -this._unlockrjlw;
            this.rjJyJ.riIxE(rjLw);
            this.rhHvJ.ugNr('unlockGate', this.ubLs);
            this.xfMv();
        }
    });
    return zflt;
});
scNt('dqjGv', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz', 'dqjGr'], function() {
    function rilyh(rfOyC, zcJq, whKs) {
        console.log('LevelTargetHud.ctor');
        rilyh._super.constructor.call(this, rilyh.rhOrE, rfOyC, zcJq, whKs);
        this.rhKuB = '';
    }
    rilyh.ZFGV = 'rijv';
    tcHy.dqjPs.ujNz(rilyh, tcHy.dqjIz);
    tcHy.dqjPs.extend(rilyh, {
        rhOrE: 'riLyHqjkv'
    });
    tcHy.dqjPs.extend(rilyh.prototype, {
        rhNr: function() {
            console.log('LevelTargetHud.init');
            for (var qdOy in this.images) {
                this.images[qdOy].rfIxE = false;
            }
            rilyh._super.rhNr.call(this);
        },
        rbIy: function() {
            console.log('LevelTargetHud.enter');
            rilyh._super.rbIy.call(this);
        },
        zcHu: function(weNy) {
            var rjNxC = weNy + rilyh.ZFGV;
            if (scLr.desktop) {
                rjNxC += '_desktop';
            }
            this.rhKuB = rjNxC;
            this.images[this.rhKuB].rfIxE = true;
        },
        sjLr: function() {
            console.log('LevelTargetHud.leave');
            this.images[this.rhKuB].rfIxE = false;
            rilyh._super.sjLr.call(this);
        }
    });
    return rilyh;
});
scNt('dqjGw', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function ujpv(rfOyC, zcJq, whKs, riJwE, rjMrJ) {
        console.log('HudKeys.ctor');
        ujpv._super.constructor.call(this, ujpv.rhOrE, rfOyC, zcJq, whKs);
        this.riIwH = riJwE;
        this.rjJyJ = rjMrJ;
    }
    tcHy.dqjPs.ujNz(ujpv, tcHy.dqjIz);
    tcHy.dqjPs.extend(ujpv, {
        rhOrE: 'ujPvqjkv'
    });
    tcHy.dqjPs.extend(ujpv.prototype, {
        rhNr: function() {
            ujpv._super.rhNr.call(this);
            console.log('HudKeys.init');
        },
        rbIy: function() {
            ujpv._super.rbIy.call(this);
            console.log('HudKeys.enter');
        },
        sjLr: function() {
            ujpv._super.sjLr.call(this);
            console.log('HudKeys.leave');
        },
        rhLyJ: function(ujHq) {
            var vfOz = parseInt(ujHq._.rdGw('key'));
            this.images['rfHyA' + vfOz + 'rdLv'].rfIxE = false;
            this.images['rfHyA' + vfOz].rfIxE = true;
        },
        rgPtA: function() {
            this.images._.rjGu(function(image) {
                var vfOz = image.id._.rdGw('rfHyA');
                vfOz = parseInt(vfOz);
                var riLxD = this.rjJyJ.rgGyH(vfOz);
                image.rfIxE = image.id._.has('rdLv') ? !riLxD : riLxD;
            }, this);
        },
    });
    return ujpv;
});
scNt('dqjGx', ['dqjPs', 'dqjIz'], function() {
    function weow(rfOyC, zcJq, whKs, rhJwG) {
        console.log('HudHearts.ctor');
        weow._super.constructor.call(this, weow.rhOrE, rfOyC, zcJq, whKs);
        this.rhHvJ = rhJwG;
    }
    tcHy.dqjPs.ujNz(weow, tcHy.dqjIz);
    tcHy.dqjPs.extend(weow, {
        rhOrE: 'weOwqjkv'
    });
    tcHy.dqjPs.extend(weow.prototype, {
        rhNr: function() {
            weow._super.rhNr.call(this);
            console.log('HudHearts.init');
        },
        rbIy: function() {
            weow._super.rbIy.call(this);
            console.log('HudHearts.enter');
            this.zhOs(true);
            this.rhHvJ.xjJr('playerHealthChanged', this.rgIwK, this);
        },
        sjLr: function() {
            weow._super.sjLr.call(this);
            console.log('HudHearts.leave');
            this.rhHvJ.ziOt('playerHealthChanged', this.rgIwK, this);
        },
        rgIwK: function(sjLt) {
            this.zhOs(false);
            for (var i = 0; i < sjLt; i++) {
                var rfGtF = this.sbGt.rfNvE.children[i];
                rfGtF.rfIxE = true;
                var xeKx = this.sbGt.rfOxD.children[i];
                xeKx.rfIxE = false;
            }
        },
        zhOs: function(yjJt) {
            this.sbGt.rfNvE.children.forEach(function(rcGq) {
                rcGq.rfIxE = yjJt;
            }, this);
            this.sbGt.rfOxD.children.forEach(function(rcGq) {
                rcGq.rfIxE = !yjJt;
            }, this);
        }
    });
    return weow;
});
scNt('dqjGy', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function wdny(rfOyC, zcJq, rgNrK, rjMuE) {
        wdny._super.constructor.call(this, wdny.rhOrE, rfOyC, zcJq);
        console.log('LevelNode.ctor');
        this.rgMrD = rgNrK;
        this.rjJyE = rjMuE;
    }
    tcHy.dqjPs.ujNz(wdny, tcHy.dqjIz);
    tcHy.dqjPs.extend(wdny, {
        rhOrE: 'wdNyqjkv'
    });
    tcHy.dqjPs.extend(wdny.prototype, {
        rhNr: function(qhOy) {
            wdny._super.rhNr.call(this);
            this.rgMrD.rhNr(this, qhOy);
            this.buttons.rfKtH.yaIy(this.rhNqA, this);
        },
        rbIy: function() {
            wdny._super.rbIy.call(this);
            this.rgMrD.rePtB();
        },
        sjLr: function() {
            wdny._super.sjLr.call(this);
            this.rgMrD.xfGx();
        },
        update: function() {
            wdny._super.update.call(this);
            this.rgMrD.update();
        },
        wcHx: function() {
            if (this.rjJyE.rgKvC) {
                return;
            }
            this.rjPqH.xjPu('ycLqqhnr', this.rgMrD.id);
        },
        zgGs: function() {
            this.rgMrD.zgGs();
        },
        yeIq: function() {
            this.rgMrD.yeIq();
        },
        rhNqA: function() {
            this.rgMrD.rhPwJ();
        }
    });
    return wdny;
});
scNt('dqjGz', ['dqjPs', 'dqjIz'], function() {
    function tjmw(rfOyC, zcJq, rhMxE) {
        console.log('MapHud.ctor');
        tjmw._super.constructor.call(this, tjmw.rhOrE, rfOyC, zcJq);
        this.rhKvC = rhMxE;
    }
    tcHy.dqjPs.ujNz(tjmw, tcHy.dqjIz);
    tcHy.dqjPs.extend(tjmw, {
        rhOrE: 'tjMwqjkv'
    });
    tcHy.dqjPs.extend(tjmw.prototype, {
        rhNr: function() {
            tjmw._super.rhNr.call(this);
            console.log('MapHud.init');
            this.rhKvC.rhNr(this);
        },
        rbIy: function() {
            tjmw._super.rbIy.call(this);
            console.log('MapHud.enter');
            this.rhKvC.rePtB();
        },
        sjLr: function() {
            tjmw._super.sjLr.call(this);
            console.log('MapHud.leave');
            this.rhKvC.xfGx();
        }
    });
    return tjmw;
});
scNt('dqiPq', ['dqjPs', 'dqjIz'], function() {
    function rjmud(rfOyC, zcJq, rhMxE) {
        console.log('MapHudDesktop.ctor');
        rjmud._super.constructor.call(this, rjmud.rhOrE, rfOyC, zcJq);
        this.rhKvC = rhMxE;
    }
    tcHy.dqjPs.ujNz(rjmud, tcHy.dqjIz);
    tcHy.dqjPs.extend(rjmud, {
        rhOrE: 'rjMuDqjkv'
    });
    tcHy.dqjPs.extend(rjmud.prototype, {
        rhNr: function() {
            rjmud._super.rhNr.call(this);
            console.log('MapHudDesktop.init');
            this.rhKvC.rhNr(this);
        },
        rbIy: function() {
            rjmud._super.rbIy.call(this);
            console.log('MapHudDesktop.enter');
            this.rhKvC.rePtB();
        },
        sjLr: function() {
            rjmud._super.sjLr.call(this);
            console.log('MapHudDesktop.leave');
            this.rhKvC.xfGx();
        }
    });
    return rjmud;
});
scNt('dqiPr', ['dqjPs', 'dqjOr', 'dqjIz', 'dqjGr', 'dqjGq', 'dqjHw'], function() {
    function tamw(rfOyC, zcJq, whKs, rhJwH) {
        console.log('Game.ctor');
        tamw._super.constructor.call(this, tamw.rhOrE, rfOyC, zcJq, whKs);
        this.rhHvK = rhJwH;
    }
    tcHy.dqjPs.ujNz(tamw, tcHy.dqjIz);
    tcHy.dqjPs.extend(tamw, {
        rhOrE: 'taMwqjkv'
    });
    tcHy.dqjPs.extend(tamw.prototype, {
        enumerable: false
    }, {
        rhNr: function() {
            console.log('Game.init');
            tamw._super.rhNr.call(this);
            this.rhHvK.rhNr(this);
        },
        rbIy: function(rfKqA) {
            console.log('Game.enter');
            tamw._super.rbIy.call(this);
            this.rhHvK.rePtB(rfKqA);
        },
        sjLr: function() {
            console.log('Game.leave');
            tamw._super.sjLr.call(this);
            this.rhHvK.xfGx();
        }
    });
    return tamw;
});
scNt('dqiPs', ['dqjPs', 'dqjOr', 'dqjIz', 'dqjGr', 'dqjGq', 'dqjHw'], function() {
    function rimzj(rfOyC, zcJq, whKs, rhJwH) {
        console.log('Game.ctor');
        rimzj._super.constructor.call(this, rimzj.rhOrE, rfOyC, zcJq, whKs);
        this.rhHvK = rhJwH;
    }
    tcHy.dqjPs.ujNz(rimzj, tcHy.dqjIz);
    tcHy.dqjPs.extend(rimzj, {
        rhOrE: 'riMzJqjkv'
    });
    tcHy.dqjPs.extend(rimzj.prototype, {
        enumerable: false
    }, {
        rhNr: function() {
            console.log('Game.init');
            rimzj._super.rhNr.call(this);
            this.rhHvK.rhNr(this);
        },
        rbIy: function(rfKqA) {
            console.log('Game.enter');
            rimzj._super.rbIy.call(this);
            this.rhHvK.rePtB(rfKqA);
        },
        sjLr: function() {
            console.log('Game.leave');
            rimzj._super.sjLr.call(this);
            this.rhHvK.xfGx();
        }
    });
    return rimzj;
});
scNt('dqiPt', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz'], function() {
    function rhlqa(rfOyC, zcJq, whKs, yjNt, zePu, rgLqA) {
        rhlqa._super.constructor.call(this, rhlqa.rhOrE, rfOyC, zcJq, whKs, yjNt, zePu);
        this.rgLyA = rgLqA;
        this.rdKx = rfOyC;
        console.log('LevelTargetHud.ctor');
    }
    tcHy.dqjPs.ujNz(rhlqa, tcHy.dqjIz);
    tcHy.dqjPs.extend(rhlqa, {
        rhOrE: 'rhLqAqjkv'
    });
    tcHy.dqjPs.extend(rhlqa.prototype, {
        rhNr: function() {
            rhlqa._super.rhNr.call(this);
            this.buttons.close.yaIy(this.ygPx, this);
            console.log('NotEnoughPellets.init');
        },
        rbIy: function() {
            rhlqa._super.rbIy.call(this);
            console.log('NotEnoughPellets.enter');
        },
        sjLr: function() {
            rhlqa._super.sjLr.call(this);
            console.log('NotEnoughPellets.leave');
        },
        ygPx: function() {
            this.rgLyA.rgHzC();
        }
    });
    return rhlqa;
});
scNt('dqiPu', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjIz', 'dqjPw'], function() {
    function vakx(rfOyC, zcJq, whKs, rhJwG) {
        console.log('tutorial.ctor');
        vakx._super.constructor.call(this, vakx.rhOrE, rfOyC, zcJq, whKs);
        this.rhHvJ = rhJwG;
        this.rhKuB = '';
    }
    tcHy.dqjPs.ujNz(vakx, tcHy.dqjIz);
    tcHy.dqjPs.extend(vakx, {
        rhOrE: 'vaKxqjkv'
    });
    tcHy.dqjPs.extend(vakx.prototype, {
        rhNr: function() {
            console.log('tutorial.init');
            vakx._super.rhNr.call(this);
        },
        rbIy: function() {
            console.log('Tutorial.enter');
            this.rhHvJ.xjJr('startTutorial', this.rjIrH, this);
            this.rhHvJ.xjJr('endTutorial', this.ziIz, this);
            vakx._super.rbIy.call(this);
            this.ubMz();
        },
        ubMz: function() {
            for (var key in this.sbGt) {
                this.sbGt[key].rfIxE = false;
            }
        },
        sjLr: function() {
            console.log('Tutorial.leave');
            this.rhHvJ.ziOt('startTutorial', this.rjIrH, this);
            this.rhHvJ.ziOt('endTutorial', this.ziIz, this);
            vakx._super.sjLr.call(this);
        },
        rjIrH: function(id) {
            console.log('Starting tutorial with ID ' + id);
            var tgIw = tcHy.dqjPw.desktop ? '_pc' : '';
            this.sbGt['xiMt' + id + tgIw].rfIxE = true;
        },
        ziIz: function() {
            this.ubMz();
        }
    });
    return vakx;
});
scNt('dqiPv', ['dqjPs', 'dqjOr', 'dqjIz'], function() {
    function whiw(rfOyC, zcJq, whKs) {
        console.log('Game.ctor');
        whiw._super.constructor.call(this, whiw.rhOrE, rfOyC, zcJq, whKs);
        this.teNs = [];
    }
    tcHy.dqjPs.ujNz(whiw, tcHy.dqjIz);
    tcHy.dqjPs.extend(whiw, {
        rhOrE: 'whIwqjkv',
        yiGx: 200,
        yiGw: 500
    });
    tcHy.dqjPs.extend(whiw.prototype, {
        enumerable: false
    }, {
        rhNr: function() {
            console.log('Game.init');
            whiw._super.rhNr.call(this);
        },
        rbIy: function(rfKqA) {
            console.log('Game.enter');
            whiw._super.rbIy.call(this);
            this.zhOw();
            this.riIvA();
        },
        sjLr: function() {
            console.log('Game.leave');
            whiw._super.sjLr.call(this);
            this.teNs = [];
        },
        zhOw: function() {
            this.sbGt.rfOvE.children.forEach(function(image) {
                image.x = this.zdHt.top.x;
                image.y = this.zdHt.top.y;
                this.teNs.push(image);
            }, this);
        },
        riIvA: function() {
            if (this.teNs.length === 0) {
                return;
            }
            var image = this.teNs[0];
            this.teNs.splice(0, 1);
            this.zaMr(image);
        },
        zaMr: function(image) {
            var ueIt = this.rdKx.add.sgIs(image);
            ueIt.to({
                x: this.zdHt.rfOsH.x,
                y: this.zdHt.rfOsH.y
            }, whiw.yiGx, tcHy.dqjOr.sckv.Back.qcnz, true);
            var vaJq = this.rdKx.add.sgIs(image);
            vaJq.to({
                x: this.zdHt.bottom.x,
                y: this.zdHt.bottom.y
            }, whiw.yiGx, tcHy.dqjOr.sckv.Back.In, false, whiw.yiGw);
            ueIt.rcHw(vaJq);
            vaJq.xbKu.teIx(this.riIvA, this);
        }
    });
    return whiw;
});
scNt('dqiPw', ['dqjPs', 'dqjHq', 'dqjHr', 'dqjHs', 'dqjHt', 'dqjHv', 'dqjHx', 'dqjHy', 'dqjHz', 'dqjGs', 'dqjGt', 'dqjGu', 'dqjGv', 'dqjGw', 'dqjGx', 'dqjGy', 'dqjGz', 'dqiPq', 'dqiPr', 'dqiPs', 'dqiPt', 'dqiPu', 'dqiPv'], function() {
    var waky = {};
    waky.vhGy = function(waKz) {
        var waKu = waky[waKz];
        console.assert(waKu, 'Scene with name ' + waKz + ' was not found in SceneList.');
        return waKu;
    };
    waky.ubGt = function(waKu) {
        var rhOrE = waKu.rhOrE._.zgIu();
        console.assert(rhOrE, 'Scene does not have a staticSceneName defined: ' + waKu);
        waky[rhOrE] = waKu;
    };
    for (var i = 1; i < arguments.length; ++i) {
        waky.ubGt(arguments[i]);
    }
    return waky;
});
scNt('dqiPx', ['dqiPw'], function() {
    var zckx = function(vgJt) {
        this.wjJt = vgJt;
    };
    zckx.prototype.construct = function(waKz) {
        var rePuH = [];
        var rjKw = tcHy.dqiPw.vhGy(waKz);
        rePuH.push(rjKw);
        if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; ++i) {
                rePuH.push(arguments[i]);
            }
        }
        return this.wjJt.riMtJ.apply(this.wjJt, rePuH);
    };
    return zckx;
});
scNt('dqiPy', ['dqjPs'], function() {
    var yaiq = function(ziMx, rhOwK, zcKx) {
        this.zhNz = ziMx;
        this.rhNrB = rhOwK;
        this.rjPqJ = zcKx;
    };
    yaiq.prototype.rhJqJ = function(yeJy) {
        var x = 0;
        var y = 0;
        if (yeJy.rfJzF) {
            var xaIs;
            switch (yeJy.xaIs) {
                case 'Viewport':
                    xaIs = rfOyC.wjPs;
                    break;
                case 'World':
                    xaIs = rfOyC.wjPs.world;
                    break;
                default:
                    xaIs = rfOyC.wjPs.world;
            }
            x = xaIs.width * parseFloat(yeJy.rfJwB) - xaIs.width / 2;
            y = xaIs.height * (1 - parseFloat(yeJy.rfJwA)) - xaIs.height / 2;
        }
        x += parseFloat(yeJy.x) * rfOyC.wjPs.scale;
        y += -parseFloat(yeJy.y) * rfOyC.wjPs.scale;
        return {
            x: x,
            y: y
        };
    };
    yaiq.prototype.zeKz = function(shMq, rgLw, elements) {
        var element;
        var yeJy;
        console.log(shMq, rgLw, elements);
        for (var i = 0, max = elements.length; i < max; i++) {
            var scale = this.rhNrB.scale;
            element = null;
            yeJy = tcHy.dqjPs.rbPq(elements[i]);
            var position = this.rhJqJ(yeJy);
            yeJy.x = position.x;
            yeJy.y = position.y;
            yeJy.rfIqA *= scale;
            yeJy.rfIrK *= scale;
            yeJy.width *= yeJy.rfIqA;
            yeJy.height *= yeJy.rfIrK;
            yeJy.rfIqD = -yeJy.rfIqD;
            switch (yeJy.type) {
                case 'Image':
                    element = this.zhNz.ubHy(rgLw, yeJy);
                    shMq.images[element.id._.rdGw('rfNxG')] = element;
                    break;
                case 'rfisb':
                    element = this.zhNz.ubHy(rgLw, yeJy);
                    shMq.images[element.id._.rdGw('rfIsD')] = element;
                    break;
                case 'RenderTexture':
                    element = this.zhNz.rhNsG(rgLw, yeJy);
                    this.zeKz(shMq, element, elements[i].children);
                    shMq.images[element.id._.rdGw('rtex_')] = element;
                    break;
                case 'rfjwf':
                    element = this.zhNz.riNuF(rgLw, yeJy);
                    shMq.zdHt[yeJy.name._.rdGw('rfJtG')] = element;
                    break;
                case 'Button':
                    element = this.zhNz.riNtA(rgLw, shMq, yeJy);
                    this.zeKz(shMq, element, yeJy.children);
                    shMq.buttons[element.id._.rdGw('rfPyJ')] = element;
                    break;
                case 'rflwd':
                    element = this.zhNz.teHq(rgLw, yeJy, false);
                    shMq.saIy[element.id._.rdGw('rfLwC')] = element;
                    break;
                case 'BitmapFont':
                    element = this.zhNz.teHq(rgLw, yeJy, true);
                    shMq.saIy[element.id._.rdGw('bmf_')] = element;
                    break;
                case 'Group':
                    element = this.zhNz.ubHx(shMq, rgLw, yeJy);
                    this.zeKz(shMq, element, elements[i].children);
                    if (element.id._.has('Btn')) {
                        shMq.sbGt.buttons[element.id] = element;
                    } else if (yeJy.name._.startsWith('rfJtG')) {
                        shMq.zdHt[yeJy.name._.rdGw('rfJtG')] = element;
                    } else {
                        shMq.sbGt[element.id._.rdGw('rfNrC')] = element;
                    }
                    break;
            }
        }
    };
    yaiq.prototype.wdKs = function(yaIr, waKz, veHw) {
        waKz = waKz._.zgIu();
        console.log('SceneLoader.loadScene (' + waKz + ')');
        var shMq = this.rjPqJ.construct(waKz);
        var waKw = yaIr.children;
        shMq.data = yaIr;
        this.zeKz(shMq, shMq.view, waKw, shMq.data);
        shMq.rhNr.apply(shMq, veHw);
        return shMq;
    };
    yaiq.prototype.rjMtJ = function() {
        console.log('SceneLoader.loadAllScenes');
        var waKx = rfOyC.rcIy.taLy('rfGrE');
        waKx._.rjGu(function(yaIr, key) {
            var waKz = key;
            if (waKz._.startsWith('cp_') || waKz._.endsWith('qjkv')) {
                return;
            }
            waKz = waKz._.zgIu();
            if (waKz !== 'rfKsE') {
                this.wdKs(yaIr, waKz);
            }
        }, this);
    };
    yaiq.prototype.riHuD = function(rjOrF, rcOy) {
        var id = rjOrF._.zgIu();
        var waKv = rfOyC.rcIy.taLy('rfGrE');
        if (waKv[id]) {
            return this.wdKs(waKv[id], rjOrF, rcOy);
        }
    };
    return yaiq;
});
scNt('dqiPz', ['dqjPs', 'dqjOr', 'dqjOx', 'dqjOw'], function() {
    function Background(rfOyC, rgPwG, rhOwK) {
        this.rdKx = rfOyC;
        this.rgOtE = rgPwG;
        this.rhNrB = rhOwK;
        this.canvas = canvas;
        this.qePx = this.canvas.getContext('2d');
        this.style = this.canvas.style;
        this.size = tcHy.dqjOx.backgroundSize;
        this.uhLw = null;
        this.rgOuD = '';
        this.weNw = null;
        this.rfIqA = 1;
        this.rfIrK = 1;
        this.viKv = null;
        this.shLq();
    }
    tcHy.dqjPs.extend(Background.prototype, {
        shLq: function() {
            switch (this.size) {
                case tcHy.dqjOw.wjps:
                    this.viKv = new tcHy.dqjOr.wbgy(0, 0, this.rhNrB.width, this.rhNrB.height);
                    break;
                case tcHy.dqjOw.World:
                    this.viKv = new tcHy.dqjOr.wbgy(this.rhNrB.world.x, this.rhNrB.world.y, this.rhNrB.world.width, this.rhNrB.world.height);
                    break;
                case tcHy.dqjOw.rfoyc:
                default:
                    this.viKv = new tcHy.dqjOr.wbgy(this.rhNrB.rfOyC.x, this.rhNrB.rfOyC.y, this.rhNrB.rfOyC.width, this.rhNrB.rfOyC.height);
                    break;
            }
            this.rhNr();
        },
        rhNr: function() {
            var style = this.rdKx.canvas.style;
            this.style.marginLeft = style.marginLeft;
            this.style.marginTop = style.marginTop;
            this.style.width = style.width;
            this.style.height = style.height;
            this.canvas.width = this.rdKx.canvas.width;
            this.canvas.height = this.rdKx.canvas.height;
        },
        set: function(vgLt, uhLw) {
            this.uhLw = uhLw || {};
            this.rgOuD = vgLt;
            this.weNw = null;
            if (this.rgOuD) {
                this.rgOxH(this.rgOuD, this.uhLw);
            }
            if (this.uhLw.wjPt) {
                this.zfPs(this.uhLw.wjPt);
            }
            if (this.uhLw.yfNr) {
                this.riHxC();
            }
            if (this.uhLw.yfNq) {
                this.riHxD();
            }
            if (this.uhLw.color) {
                document.body.style.backgroundColor = this.uhLw.color;
            }
        },
        riHxD: function() {
            var qePx = this.qePx;
            qePx.beginPath();
            qePx.moveTo(this.rhNrB.world.x, 0);
            qePx.lineTo(this.rhNrB.world.x, this.rdKx.world.height);
            qePx.moveTo(this.rhNrB.world.x + this.rhNrB.world.width, 0);
            qePx.lineTo(this.rhNrB.world.x + this.rhNrB.world.width, this.rdKx.world.height);
            qePx.lineWidth = 1;
            qePx.strokeStyle = '#ffffff';
            qePx.stroke();
        },
        riHxC: function() {
            var qePx = this.qePx;
            qePx.globalAlpha = 0.2;
            qePx.fillStyle = "#000000";
            qePx.fillRect(0, 0, this.rhNrB.world.x, this.rdKx.height);
            qePx.fillRect(this.rhNrB.world.x + this.rhNrB.world.width, 0, this.rhNrB.world.x, this.rdKx.height);
            qePx.globalAlpha = 1;
        },
        rgOxH: function(vgLt, uhLw) {
            var frame = this.rgOtE.ufHy[vgLt];
            var qdOy = this.rdKx.rcIy.vhGs(frame.zjNv);
            var data = frame.data;
            var wgKx = this.viKv.width / this.viKv.height;
            var vgLv = data.width / data.height;
            switch (true) {
                case uhLw.repeat:
                    var vgLw = data.width * this.rhNrB.scale;
                    var weNz = data.height * this.rhNrB.scale;
                    var rfLy = Math.ceil(this.viKv.height / weNz);
                    var rjMx = Math.ceil(this.viKv.width / vgLw);
                    for (var r = 0; r < rfLy; r++) {
                        for (var c = 0; c < rjMx; c++) {
                            this.qePx.drawImage(qdOy, data.x, data.y, data.width, data.height, this.viKv.x + c * vgLw, this.viKv.y + r * weNz, vgLw, weNz);
                        }
                    }
                    break;
                case uhLw.uePv:
                    this.qePx.drawImage(qdOy, data.x, data.y, data.width, data.height, this.viKv.x, this.viKv.y, this.viKv.width, this.viKv.height);
                    break;
                default:
                    var vhMy;
                    var wfOw;
                    var vhMx = 1.0;
                    if (wgKx < vgLv) {
                        vhMx = this.viKv.height / data.height;
                        vhMy = this.viKv.width / vhMx;
                        wfOw = data.height;
                    } else if (wgKx >= vgLv) {
                        vhMx = this.viKv.width / data.width;
                        vhMy = data.width;
                        wfOw = this.viKv.height / vhMx;
                    }
                    var riMu = (data.x + data.width / 2) - vhMy / 2;
                    var riMv = (data.y + data.height / 2) - wfOw / 2;
                    break;
            }
        },
        zfPs: function(vgLt) {
            var rhLyD = this.rgOtE.ufHy[vgLt];
            var riNyC = rhLyD ? rhLyD.zjNv : vgLt;
            var image = this.rdKx.rcIy.vhGs(riNyC);
            var data;
            if (rhLyD) {
                data = rhLyD.data;
            } else {
                data = {
                    x: 0,
                    y: 0,
                    width: image.width,
                    height: image.height
                };
            }
            this.qePx.drawImage(image, data.x, data.y, data.width, data.height, this.viKv.x, this.viKv.y, this.viKv.width, this.viKv.height);
        },
        ugKx: function() {
            this.shLq();
            this.set(this.rgOuD, this.uhLw);
        }
    });
    return Background;
});
scNt('dqiOq', ['dqjPs', 'dqjOr'], function() {
    function Foreground(name) {
        Foreground._super.constructor.call(this, rfOyC, null, name);
        this.sbGt = {
            images: this.add(rfOyC.rhHy.group('foreground_images')),
            rePvD: this.add(rfOyC.rhHy.group('foreground_components'))
        };
    }
    tcHy.dqjPs.ujNz(Foreground, tcHy.dqjOr.Group);
    return Foreground;
});
scNt('dqiOr', ['dqjPs', 'dqiPz', 'dqiOq'], function() {
    var zcjq = function(rhOwK, rfOyC, yaIq, rgPwG, zdIy) {
        console.log('SceneManager.ctor');
        this.zePs = true;
        this.view = {};
        this.tbGs = {};
        this.rhNrB = rhOwK;
        this.rdKx = rfOyC;
        this.zhOu = yaIq;
        this.rgOtE = rgPwG;
        this.zaGr = zdIy;
        this.teLz = {};
        this.teLr = {};
        this.yhHs = {};
        this.ubNy = null;
        this.wjHq = null;
        this.zaNy = [];
        this.zaGw = [];
        this.rhNrB.rgPuF.add(this.rhPsF, this);
    };
    zcjq.prototype.rhNr = function() {
        this.tbGs.blur = this.rdKx.add.filter('Blur', 800, 600);
        this.tbGs.blur.blur = 0;
        this.view.background = new tcHy.dqiPz(this.rdKx, this.rgOtE, this.rhNrB);
        this.view.rfGrE = this.rhNrB.view.add(this.rdKx.rhHy.group('view_scenes'));
        this.view.rePvD = this.rhNrB.view.add(this.rdKx.rhHy.group('view_components'));
        this.view.foreground = this.rhNrB.view.add(new tcHy.dqiOq('view_foreground'));
        this.view.tiGq = this.rhNrB.view.add(this.rdKx.rhHy.group('view_popups'));
        this.zaGr.ziOx.add(this.veHr, this);
    };
    zcjq.prototype.vhGy = function(name) {
        name = name._.zgIu();
        var layer = 'rfGrE';
        if (name._.endsWith('qhnr')) {
            layer = 'tiGq';
        } else if (name._.endsWith('qjkv')) {
            layer = 'rePvD';
        }
        var ycMr;
        switch (layer) {
            case 'rfGrE':
                ycMr = this.teLz;
                break;
            case 'tiGq':
                ycMr = this.teLr;
                break;
            case 'rePvD':
                ycMr = this.yhHs;
                break;
        }
        console.assert(ycMr[name], 'SceneManager does not contain scene with name ' + name);
        return ycMr[name];
    };
    zcjq.prototype.rhPsF = function() {
        tcHy.dqjPs.rbMr(800, function() {
            this.view.background.ugKx();
        }, this);
        if (this.ubNy) {
            this.ubNy.rjLzA();
        }
    };
    zcjq.prototype.add = function(shMq) {
        var name = shMq.name._.zgIu();
        var layer = 'rfGrE';
        if (name._.endsWith('qhnr')) {
            layer = 'tiGq';
        } else if (name._.endsWith('qjkv')) {
            layer = 'rePvD';
        }
        this.view[layer].add(shMq.view);
        var ycMr;
        switch (layer) {
            case 'rfGrE':
                ycMr = this.teLz;
                break;
            case 'tiGq':
                ycMr = this.teLr;
                break;
            case 'rePvD':
                ycMr = this.yhHs;
                break;
        }
        if ((layer != 'rePvD') && ycMr[name]) {
            throw 'a scene with the name ' + name + ' already scHu!';
        }
        ycMr[name] = shMq;
    };
    zcjq.prototype.veHr = function() {
        if (this.ubNy) {
            this.ubNy.update();
        }
        var zgJt = this.teLr[this.zaNy[0]];
        if (zgJt && zgJt.update) {
            zgJt.update();
        }
    };
    zcjq.prototype.zgLv = function() {
        var waKv = this.rdKx.rcIy.taLy('rfKsE');
        this.ubNy = this.zhOu.wdKs(waKv, 'rfKsE');
    };
    zcjq.prototype.zgLy = function() {
        this.zhOu.rjMtJ();
    };
    zcjq.prototype.riHuD = function(rjOrF, veHw) {
        return this.zhOu.riHuD(rjOrF, veHw);
    };
    zcjq.prototype.rfIz = function(waKz, tePr) {
        waKz = waKz._.zgIu();
        this.wjHq = this.ubNy;
        if (this.wjHq) {
            this.wjHq.sjLr();
        }
        if (this.zaNy.length) {
            this.zaNy._.rjGu(function(name) {
                this.teLr[name].yjKv(false);
                this.teLr[name].waIu(false);
            }, this);
            this.zaNy.length = 0;
        }
        this.ubNy = this.teLz[waKz];
        this.ubNy.rbIy.apply(this.ubNy, Array.prototype.slice.call(arguments, 1));
    };
    zcjq.prototype.xjPu = function(rfJwD) {
        var ygKv = rfJwD;
        if (typeof(rfJwD) === 'string') {
            rfJwD = rfJwD._.zgIu();
            ygKv = this.teLr[rfJwD];
        }
        this.ubNy.waIu(false);
        if (this.zaNy.length > 0) {
            this.zaGw.push(Array.prototype.slice.call(arguments, 0));
        } else {
            Array.prototype.shift.apply(arguments);
            if (ygKv.weGz()) {
                ygKv.sjLr();
            }
            ygKv.rbIy.apply(ygKv, arguments);
            this.zaNy.push(ygKv.name._.zgIu());
        }
    };
    zcjq.prototype.xcIq = function(rfJwD) {
        if (typeof rfJwD === 'string') {
            rfJwD = rfJwD._.zgIu();
            rfJwD = this.teLr[rfJwD];
        }
        rfJwD.yjKv(false);
        rfJwD.waIu(false);
        rfJwD.sjLr();
        this.zaNy.splice(this.zaNy.indexOf(this.zaNy[rfJwD.name._.zgIu()]));
        if (this.zaGw.length === 0) {
            this.ubNy.waIu(true);
        } else {
            var tfOy = this.zaGw.shift();
            this.xjPu.apply(this, tfOy);
        }
    };
    return zcjq;
});
scNt('dqiOs', ['dqjPs', 'dqjOr'], function() {
    var rjmqa = function(rfOyC, ydGz) {
        console.log('KeyboardInput.ctor');
        this.rdKx = rfOyC;
        this.ziHv = ydGz;
        this.rgMvD = {};
        this.rgKzJ = {};
        this.rgLqE = new tcHy.dqjOr.tgot();
        this.riGvK = new tcHy.dqjOr.tgot();
        this.rgNqC = new tcHy.dqjOr.tgot();
        this.rgGqK = new tcHy.dqjOr.tgot();
    };
    rjmqa.RJMQC = 'just_released';
    rjmqa.RFHYB = 'rfHyB';
    rjmqa.ZENZ = 'just_pressed';
    rjmqa.rhHzF = function(rjMrK) {
        var rgOvH = {};
        for (var key in rjMrK) {
            if (rjMrK.hasOwnProperty(key)) {
                rgOvH[key] = rjMrK[key];
            }
        }
        return rgOvH;
    };
    rjmqa.prototype.wdIt = function() {
        this.ziHv.map(rjmqa.RJMQC, this.rgLqE, function(keyCode) {
            return keyCode;
        });
        this.ziHv.map(rjmqa.RFHYB, this.riGvK, function(keyCode) {
            return keyCode;
        });
        this.ziHv.map(rjmqa.ZENZ, this.rgNqC, function(keyCode) {
            return keyCode;
        });
    };
    rjmqa.prototype.riJwK = function() {
        this.rdKx.input.vfOu.riHrD = this;
        this.rdKx.input.vfOu.riKtB = this.onKeyDown;
        this.rdKx.input.vfOu.zdJr = this.onKeyUp;
    };
    rjmqa.prototype.rjKwF = function() {
        this.rdKx.input.vfOu.riHrD = null;
        this.rdKx.input.vfOu.riKtB = null;
        this.rdKx.input.vfOu.zdJr = null;
    };
    rjmqa.prototype.onKeyDown = function(event) {
        this.rgKzJ = rjmqa.rhHzF(this.rgMvD);
        var keyCode = event.keyCode;
        this.rgMvD[keyCode] = true;
        if (this.rgMvD[keyCode] != this.rgKzJ[keyCode]) {
            this.rgNqC.viLt(keyCode);
        }
        this.riGvK.viLt(keyCode);
        this.rgGqK.viLt(this.rgMvD, this.rgKzJ);
    };
    rjmqa.prototype.onKeyUp = function(event) {
        this.rgKzJ = rjmqa.rhHzF(this.rgMvD);
        var keyCode = event.keyCode;
        this.rgMvD[keyCode] = false;
        this.rgLqE.viLt(keyCode);
        this.rgGqK.viLt(this.rgMvD, this.rgKzJ);
    };
    return rjmqa;
});
scNt('dqiOt', ['dqjPs', 'dqjOr'], function() {
    var zfmz = function(rfOyC, ydGz) {
        console.log('GamepadInput.ctor');
        this.rdKx = rfOyC;
        this.ziHv = ydGz;
        this.rgOwE = {};
        this.rgLtD = {};
        this.rgIwE = new tcHy.dqjOr.tgot();
        this.rhHyE = new tcHy.dqjOr.tgot();
        this.rgJvA = new tcHy.dqjOr.tgot();
        this.rgIwD = new tcHy.dqjOr.tgot();
        this.rgNqA = new tcHy.dqjOr.tgot();
        this.rgLuE = new tcHy.dqjOr.tgot();
    };
    zfmz.RJMQC = 'just_released';
    zfmz.RFHYB = 'rfHyB';
    zfmz.XCIS = 'left_stick';
    zfmz.YAKT = 'right_stick';
    zfmz.LEFT = 'left';
    zfmz.RIGHT = 'right';
    zfmz.UP = 'up';
    zfmz.RFHWC = 'rfHwC';
    zfmz.A = 0;
    zfmz.B = 1;
    zfmz.X = 2;
    zfmz.Y = 3;
    zfmz.WHGR = 0.5;
    zfmz.rhJrG = function(yfMs) {
        var rhHzG = {};
        for (var button in yfMs) {
            if (yfMs.hasOwnProperty(button)) {
                rhHzG[button] = yfMs[button];
            }
        }
        return rhHzG;
    };
    zfmz.prototype.wdIt = function() {
        this.ziHv.map(zfmz.RJMQC, this.rgIwE, function(xgGv) {
            return xgGv;
        });
        this.ziHv.map(zfmz.RFHYB, this.rhHyE, function(xgGv) {
            return xgGv;
        });
        this.ziHv.map(zfmz.ZENZ, this.rgJvA, function(xgGv) {
            return xgGv;
        });
        this.ziHv.map(zfmz.XCIS, this.rgNqA, function(direction) {
            return direction;
        });
        this.ziHv.map(zfmz.YAKT, this.rgLuE, function(direction) {
            return direction;
        });
    };
    zfmz.prototype.riJwK = function() {
        this.rdKx.input.taMx.rfIsA();
        this.rdKx.input.taMx.riHrD = this;
        this.rdKx.input.taMx.riKtB = this.zdKq;
        this.rdKx.input.taMx.zdJr = this.xbKs;
        this.rdKx.input.taMx.riKtC = this.rjMzG;
    };
    zfmz.prototype.rjKwF = function() {
        this.rdKx.input.taMx.riHrD = null;
        this.rdKx.input.taMx.riKtB = null;
        this.rdKx.input.taMx.zdJr = null;
        this.rdKx.input.taMx.riKtC = null;
    };
    zfmz.prototype.rjMzG = function(qcMx, index, value) {
        var event = (index < 2) ? this.rgNqA : this.rgLuE;
        var qaHt = index % 2;
        var direction = null;
        if (qaHt === 0) {
            if (value < -zfmz.WHGR) {
                direction = zfmz.LEFT;
            } else if (value > zfmz.WHGR) {
                direction = zfmz.RIGHT;
            }
        } else {
            if (value < -zfmz.WHGR) {
                direction = zfmz.UP;
            } else if (value > zfmz.WHGR) {
                direction = zfmz.RFHWC;
            }
        }
        if (direction !== null) {
            event.viLt(direction);
        }
    };
    zfmz.prototype.zdKq = function(xgGv) {
        this.rgLtD = zfmz.rhJrG(this.rgOwE);
        this.rgOwE[xgGv] = true;
        if (this.rgOwE[xgGv] != this.rgLtD[xgGv]) {
            this.rgJvA.viLt(xgGv);
        }
        this.rhHyE.viLt(xgGv);
        this.rgIwD.viLt(this.rgOwE, this.rgLtD);
    };
    zfmz.prototype.xbKs = function(xgGv) {
        this.rgLtD = zfmz.rhJrG(this.rgOwE);
        this.rgOwE[xgGv] = false;
        this.rgIwE.viLt(xgGv);
        this.rgIwD.viLt(this.rgOwE, this.rgLtD);
    };
    return zfmz;
});
scNt('dqiOu', ['dqjOr', 'dqiOs', 'dqiOt'], function() {
    var yjnt = function(rfOyC, ydGz) {
        console.log('SceneInput.ctor');
        this.rdKx = rfOyC;
        this.ziHv = ydGz;
    };
    yjnt.prototype.tdKq = function(shMq) {
        var rfKvC = shMq.rhLwF;
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RFHWC, rfKvC, shMq);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RIGHT, rfKvC, shMq);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.RFHWC, rfKvC, shMq);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.RIGHT, rfKvC, shMq);
        var vdJs = shMq.rgLuA;
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.UP, vdJs, shMq);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.LEFT, vdJs, shMq);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.UP, vdJs, shMq);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.LEFT, vdJs, shMq);
        var rePtB = shMq.rgKqA;
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.VBKT, rePtB, shMq);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RBIY, rePtB, shMq);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.A, rePtB, shMq);
        var back = shMq.close;
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.QELX, back, shMq);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.B, back, shMq);
    };
    yjnt.prototype.xiLs = function() {
        this.ziHv.xiLs();
    };
    return yjnt;
});
scNt('dqiOv', [], function() {
    function zjjq(zdIy, rfOyC) {
        this.zaGr = zdIy;
        this.rdKx = rfOyC;
    }
    _.extend(zjjq, {
        UEGT: 1,
        WGKR: 2
    });
    _.extend(zjjq.prototype, {
        wbPy: false,
        override: false
    }, {
        tcKy: function(rfLwD, target, time, riKuA, rhIuE) {
            this.sfHs = rfLwD;
            var wfMv = Math.round(this.rdKx.time.riKwB * 1000);
            this.whIz = parseInt(this.sfHs.text) || 0;
            this.yfGs = target || 10;
            this.whHq = time || 1000;
            this.whIy = ((this.yfGs - this.whIz) / this.whHq) * wfMv;
            this.riMsD = Math.max(this.whIz, this.yfGs) == this.yfGs ? zjjq.UEGT : zjjq.WGKR;
            this.vjHt = true;
            this.riHuF = riKuA && riKuA.bind(rhIuE);
            if (this.vjHt) {
                this.zaGr.ziOx.thMz(this.rjJqD, this);
            }
            this.zaGr.ziOx.add(this.rjJqD, this);
        },
        rjJqD: function() {
            if (this.vjHt) {
                this.whIz += this.whIy;
                if (this.riMsD === zjjq.UEGT && this.whIz > this.yfGs) this.whIz = this.yfGs;
                else if (this.riMsD === zjjq.WGKR && this.whIz < this.yfGs) this.whIz = this.yfGs;
                this.sfHs.ufMw(Math.round(this.whIz));
                if (this.whIz == this.yfGs) {
                    this.vjHt = false;
                    this.zaGr.ziOx.thMz(this.rjJqD, this);
                    this.riHuF && this.riHuF();
                }
            }
        }
    });
    return zjjq;
});
scNt('dqiOw', ['dqjLx', 'dqjIx', 'dqjIy', 'dqiPx', 'dqiPy', 'dqiOr', 'dqiOu', 'dqjMs', 'dqjKw', 'dqiOv'], function() {
    var zbms = function(vgJt) {
        this.wjJt = vgJt;
    };
    zbms.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c SystemsSetup ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('zbPy', tcHy.dqjIx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgPwG', tcHy.dqjMs, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('ziMx', tcHy.dqjIy, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zcKx', tcHy.dqiPx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('yaIq', tcHy.dqiPy, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zcJq', tcHy.dqiOr, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('yjNt', tcHy.dqiOu, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zjJq', tcHy.dqiOv);
        var zcJq = this.wjJt.rhJyK(tcHy.dqiOr);
        zcJq.rhNr();
        var rgPwG = this.wjJt.rhJyK(tcHy.dqjMs);
        rfOyC.qfIq = rgPwG;
        uaGu.call(tcLv);
    };
    return zbms;
});
scNt('dqiOx', [], function() {
    var ydgz = function() {
        console.log('InputMapper.ctor');
        this.rgOsD = {};
    };
    ydgz.prototype.map = function(id, tgOt, rgJwC) {
        var ycPq = {};
        ycPq.id = id;
        ycPq.tgOt = tgOt;
        ycPq.rgJwC = rgJwC;
        this.rgOsD[id] = ycPq;
    };
    ydgz.prototype.bind = function(id, zcOt, uaGu, tcLv) {
        var ycPq = this.rgOsD[id];
        ycPq.tgOt.add(function() {
            var thLx = ycPq.rgJwC.apply(this, arguments);
            if (thLx === zcOt) {
                uaGu.apply(tcLv, arguments);
            }
        });
    };
    ydgz.prototype.xfHy = function(id, rhPwE, uaGu, tcLv) {
        var ycPq = this.rgOsD[id];
        ycPq.tgOt.add(function() {
            var thLx = rhPwE.apply(this, arguments);
            if (thLx === true) {
                uaGu.apply(tcLv, arguments);
            }
        });
    };
    ydgz.prototype.tfMu = function(id) {
        var ycPq = this.rgOsD[id];
        ycPq.tgOt.waOu();
    };
    ydgz.prototype.xiLs = function() {
        for (var key in this.rgOsD) {
            this.rgOsD[key].tgOt.waOu();
        }
    };
    return ydgz;
});
scNt('dqiOy', ['dqjOr'], function() {
    var yiiu = function(rfOyC, ydGz) {
        console.log('TouchInput.ctor');
        this.rdKx = rfOyC;
        this.ziHv = ydGz;
        this.rjLvJ = {};
        this.zgJx = {};
        this.vaPt = new tcHy.dqjOr.tgot();
        this.yiMx = new tcHy.dqjOr.tgot();
    };
    yiiu.RIKQC = 5;
    yiiu.RHMZJ = 40;
    yiiu.UP = 'up';
    yiiu.RFHWC = 'rfHwC';
    yiiu.LEFT = 'left';
    yiiu.RIGHT = 'right';
    yiiu.QBNY = 'tap';
    yiiu.RFHVA = 'rfHvA';
    yiiu.rgJxC = function(tfKy) {
        if (Math.abs(tfKy.x) > Math.abs(tfKy.y)) {
            if (tfKy.x < 0) {
                return yiiu.LEFT;
            } else if (tfKy.x > 0) {
                return yiiu.RIGHT;
            }
        } else if (Math.abs(tfKy.y) > Math.abs(tfKy.x)) {
            if (tfKy.y < 0) {
                return yiiu.UP;
            } else if (tfKy.y > 0) {
                return yiiu.RFHWC;
            }
        }
        return null;
    };
    yiiu.prototype.wdIt = function() {
        this.ziHv.map(yiiu.QBNY, this.vaPt, function() {
            return true;
        });
        this.ziHv.map(yiiu.RFHVA, this.yiMx, function(sgJr) {
            return sgJr.direction;
        });
    };
    yiiu.prototype.riJwK = function() {
        this.rdKx.input.tiOx.add(this.yiOq, this);
        this.rdKx.input.rgJt.add(this.rjOrG, this);
    };
    yiiu.prototype.rjKwF = function() {
        this.rdKx.input.tiOx.thMz(this.yiOq, this);
        this.rdKx.input.rgJt.thMz(this.rjOrG, this);
    };
    yiiu.prototype.yiOq = function(event) {
        this.zgJx.yiPx = new tcHy.dqjOr.Point(event.x, event.y);
    };
    yiiu.prototype.rjOrG = function(event) {
        if (!this.zgJx.yiPx) {
            return;
        }
        this.zgJx.viIv = new tcHy.dqjOr.Point(event.x, event.y);
        var rbMt = tcHy.dqjOr.Point.vbHw(this.zgJx.viIv, this.zgJx.yiPx);
        this.zgJx.length = rbMt.zfKx();
        this.zgJx.direction = yiiu.rgJxC(rbMt);
        if (this.zgJx.length <= yiiu.RIKQC) {
            this.vaPt.viLt(this.zgJx);
        }
        if (this.zgJx.length >= yiiu.RHMZJ) {
            this.yiMx.viLt(this.zgJx);
        }
        this.rjLvJ = this.zgJx;
        this.zgJx = {};
    };
    return yiiu;
});
scNt('dqiOz', [], function() {
    var zepu = function() {
        console.log('InputManager.ctor');
        this.zaKu = [];
    };
    zepu.prototype.riNuK = function(ycPr) {
        this.zaKu.push(ycPr);
    };
    zepu.prototype.riJwK = function() {
        for (var i = 0; i < this.zaKu.length; ++i) {
            this.zaKu[i].riJwK();
        }
    };
    zepu.prototype.rjKwF = function() {
        for (var i = 0; i < this.zaKu.length; ++i) {
            this.zaKu[i].rjKwF();
        }
    };
    return zepu;
});
scNt('dqiNq', ['dqjLx', 'dqjKw', 'dqiOx', 'dqiOy', 'dqiOs', 'dqiOt', 'dqiOz'], function() {
    var xcmx = function(vgJt) {
        this.wjJt = vgJt;
    };
    xcmx.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c InputSetup ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('ydGz', tcHy.dqiOx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('yiIu', tcHy.dqiOy, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjMqA', tcHy.dqiOs, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zfMz', tcHy.dqiOt, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zePu', tcHy.dqiOz, tcHy.dqjLx.XJOQ);
        var yiIu = this.wjJt.rhJyK(tcHy.dqiOy);
        yiIu.wdIt();
        var rjMqA = this.wjJt.rhJyK(tcHy.dqiOs);
        rjMqA.wdIt();
        var zfMz = this.wjJt.rhJyK(tcHy.dqiOt);
        zfMz.wdIt();
        var zePu = this.wjJt.rhJyK(tcHy.dqiOz);
        zePu.riNuK(yiIu);
        zePu.riNuK(rjMqA);
        zePu.riNuK(zfMz);
        uaGu.call(tcLv);
    };
    return xcmx;
});
(function(rfLv, xePv) {
    if (typeof scNt === 'function' && scNt.qfOv) {
        scNt('dqiNr', [], xePv);
    } else if (typeof tbIq === 'object') {
        tjJw.tbIq = xePv();
    } else {
        rfLv.xdns = xePv();
    }
}(window, function() {
    var rhMr = /MSIE/i.test(navigator.userAgent),
        raHx = null;
    if (rhMr) {
        var qhLs, thLx;
        qhLs = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
        thLx = qhLs.exec(navigator.userAgent);
        if (thLx !== null) {
            raHx = parseFloat(thLx[1]);
        }
    }

    function xdns(rhJvA, viOy, ueLw) {
        this.viOy = viOy;
        this.ueLw = (typeof ueLw !== "undefined") ? ueLw : 3000;
        this.rhHuA = rhJvA.slice(0);
        this.rjIrG = null;
        this.rgJtG = null;
        this.xhGz = null;
        this.ygPt = null;
        this.rjJxA = 50;
        this.rgMrB = 0;
        this.rgLzK = this.rhHuA.length;
        this.wjKw = {};
        this.wjKt = false;
    }
    xdns.ueNz = null;
    xdns.rjJrF = !rhMr || raHx >= 11.0;
    xdns.riJzC = rhMr && raHx < 11.0 && typeof document.ygGy !== "undefined";
    xdns.rgNyC = window.siLt || (rhMr && raHx < 11.0 && !xdns.riJzC);
    xdns.rjLwD = " !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~";
    xdns.rgKzE = xdns.rjJrF ? ["AdobeBlank"] : ["serif", "cursive"];
    xdns.rgGuH = [];
    xdns.prototype = {
        constructor: xdns,
        wdKq: function() {
            var self = this;
            if (this.rgLzK === 0) {
                this.teOz();
                return;
            }
            if (this.ueLw !== null) {
                this.xhGz = window.setTimeout(function zjIy() {
                    self.teOz();
                }, this.ueLw);
            }
            this.rjIrG = document.createElement("div");
            this.rjIrG.style.cssText = "position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px; visibility:hidden;";
            if (xdns.ueNz === null) {
                this.ubJq();
            } else {
                this.xhJx();
            }
        },
        ubJq: function() {
            var self = this,
                whLq, j, rgIwG, rjPuB, rgJvJ = "serif";
            xdns.ueNz = document.createElement("div");
            xdns.ueNz.style.position = "absolute";
            xdns.ueNz.appendChild(document.createTextNode(xdns.rjLwD));
            if (!xdns.rjJrF) {
                whLq = xdns.ueNz.cloneNode(true);
                this.rjIrG.appendChild(whLq);
                document.body.appendChild(this.rjIrG);
                for (j = 0; j < xdns.rgKzE.length; j++) {
                    whLq.style.fontFamily = xdns.rgKzE[j];
                    xdns.rgGuH.push(new Size(whLq.offsetWidth, whLq.offsetHeight));
                }
                this.rjIrG.parentNode.removeChild(this.rjIrG);
                whLq.parentNode.removeChild(whLq);
                this.xhJx();
            } else {
                rgIwG = document.createElement("style");
                rgIwG.setAttribute("type", "text/css");
                rgIwG.appendChild(document.createTextNode(xdns.rgJvH));
                document.getElementsByTagName("head")[0].appendChild(rgIwG);
                rjPuB = xdns.ueNz.cloneNode(true);
                this.rjIrG.appendChild(rjPuB);
                document.body.appendChild(this.rjIrG);
                rjPuB.style.fontFamily = rgJvJ;
                if (xdns.rgNyC) {
                    this.rjIrG.appendChild(rjPuB);
                    this.ygPt = window.setInterval(function zeOy() {
                        self.rgMqG();
                    }, this.rjJxA);
                    this.rgMqG();
                } else {
                    this.rgJtG = new zjps(rjPuB, {
                        rfOvJ: this.rjIrG,
                        viOy: this,
                        xfIt: true,
                        direction: zjps.xeNx.viOs,
                        wgNw: zjps.xeNw.xcOr
                    });
                    this.rgJtG.rhPvH();
                    this.rgJtG.rjPxH();
                }
                rjPuB.style.fontFamily = xdns.rgKzE[0] + ", " + rgJvJ;
            }
        },
        rgMqG: function() {
            var rjPuB = this.rjIrG.firstChild;
            this.rhKuK(rjPuB);
        },
        rhKuK: function(rjPuB) {
            if (rjPuB.offsetWidth !== 0) {
                return;
            }
            xdns.rgGuH.push(new Size(rjPuB.offsetWidth, rjPuB.offsetHeight));
            if (this.rgJtG !== null) {
                this.rgJtG.yeIv();
                this.rgJtG.rgLuJ();
                this.rgJtG = null;
            } else {
                window.clearInterval(this.ygPt);
                rjPuB.parentNode.removeChild(rjPuB);
            }
            this.rjIrG.parentNode.removeChild(this.rjIrG);
            this.xhJx();
        },
        xhJx: function() {
            var i, j, whLq, zjPs, zbPs = [],
                self = this;
            for (i = 0; i < this.rgLzK; i++) {
                this.wjKw[this.rhHuA[i]] = true;
                if (xdns.riJzC) {
                    for (j = 0; j < xdns.rgKzE.length; j++) {
                        whLq = xdns.ueNz.cloneNode(true);
                        whLq.setAttribute("data-font-family", this.rhHuA[i]);
                        whLq.setAttribute("data-ref-font-family-index", String(j));
                        whLq.style.fontFamily = xdns.rgKzE[j];
                        this.rjIrG.appendChild(whLq);
                    }
                } else if (xdns.rgNyC) {
                    for (j = 0; j < xdns.rgKzE.length; j++) {
                        whLq = xdns.ueNz.cloneNode(true);
                        whLq.setAttribute("data-font-family", this.rhHuA[i]);
                        whLq.setAttribute("data-ref-font-family-index", String(j));
                        whLq.style.fontFamily = "'" + this.rhHuA[i] + "', " + xdns.rgKzE[j];
                        this.rjIrG.appendChild(whLq);
                    }
                } else {
                    for (j = 0; j < xdns.rgKzE.length; j++) {
                        whLq = xdns.ueNz.cloneNode(true);
                        whLq.setAttribute("data-font-family", this.rhHuA[i]);
                        whLq.setAttribute("data-ref-font-family-index", String(j));
                        whLq.style.fontFamily = xdns.rgKzE[j];
                        zjPs = new zjps(whLq, {
                            rfOvJ: this.rjIrG,
                            viOy: this,
                            size: xdns.rgGuH[j],
                            direction: zjps.xeNx.vgKr,
                            wgNw: zjps.xeNw.xcOr
                        });
                        zbPs.push(zjPs);
                    }
                }
            }
            document.body.appendChild(this.rjIrG);
            if (xdns.riJzC) {
                for (j = 0; j < this.rjIrG.childNodes.length; j++) {
                    whLq = this.rjIrG.childNodes[j];
                    whLq.ygGy("onresize", (function(self, whLq) {
                        return function() {
                            self.rgOrC(whLq);
                        }
                    })(this, whLq));
                }
                window.setTimeout(function() {
                    for (j = 0; j < self.rjIrG.childNodes.length; j++) {
                        whLq = self.rjIrG.childNodes[j];
                        whLq.style.fontFamily = "'" + whLq.getAttribute("data-font-family") + "', " + xdns.rgKzE[whLq.getAttribute("data-ref-font-family-index")];
                    }
                }, 0);
            } else if (xdns.rgNyC) {
                this.ygPt = window.setInterval(function zeOy() {
                    self.yhIw();
                }, this.rjJxA);
                this.yhIw();
            } else {
                for (i = 0; i < this.rgLzK * xdns.rgKzE.length; i++) {
                    zjPs = zbPs[i];
                    zjPs.rhPvH();
                }
                for (i = 0; i < this.rgLzK * xdns.rgKzE.length; i++) {
                    zjPs = zbPs[i];
                    zjPs.rjPxH();
                    whLq = zjPs.rhJyJ();
                    whLq.style.fontFamily = "'" + whLq.getAttribute("data-font-family") + "', " + xdns.rgKzE[whLq.getAttribute("data-ref-font-family-index")];
                }
            }
        },
        yhIw: function() {
            var i, ueNz, vjGs, ugKy;
            for (i = this.rjIrG.childNodes.length - 1; i >= 0; i--) {
                ueNz = this.rjIrG.childNodes[i];
                vjGs = new Size(ueNz.offsetWidth, ueNz.offsetHeight);
                ugKy = xdns.rgGuH[ueNz.getAttribute("data-ref-font-family-index")];
                if (!ugKy.ujKw(vjGs)) {
                    ueNz.parentNode.removeChild(ueNz);
                    this.rgOrC(ueNz);
                }
            }
        },
        rgOrC: function(element) {
            var fontFamily = element.getAttribute("data-font-family");
            if (this.wjKt) {
                return;
            }
            if (typeof this.wjKw[fontFamily] === "undefined") {
                return;
            }
            this.rgMrB++;
            delete this.wjKw[fontFamily];
            if (this.viOy && typeof this.viOy.xdNr === "function") {
                this.viOy.xdNr(fontFamily);
            }
            if (this.rgMrB === this.rgLzK) {
                this.teOz();
            }
        },
        teOz: function() {
            var rhJqG, fontFamily, rgKxF = [];
            if (this.wjKt) {
                return;
            }
            this.wjKt = true;
            if (this.rgJtG !== null) {
                this.rgJtG = null;
            }
            if (this.rjIrG !== null) {
                this.rjIrG.parentNode.removeChild(this.rjIrG);
            }
            if (this.xhGz !== null) {
                window.clearTimeout(this.xhGz);
            }
            if (this.ygPt !== null) {
                window.clearInterval(this.ygPt);
            }
            if (this.rgMrB < this.rgLzK) {
                for (fontFamily in this.wjKw) {
                    if (this.wjKw.hasOwnProperty(fontFamily)) {
                        rgKxF.push(fontFamily);
                    }
                }
                rhJqG = {
                    message: "rfkxg all fonts were loaded",
                    rgKxF: rgKxF
                };
            } else {
                rhJqG = null;
            }
            if (this.viOy && typeof this.viOy.ydPw === "function") {
                this.viOy.ydPw(rhJqG);
            }
        },
        rgIsF: function(zjPs) {
            var riIqE = zjPs.rhJyJ();
            if (zjPs === this.rgJtG) {
                this.rhKuK(riIqE);
            } else {
                this.rgOrC(riIqE);
            }
        }
    };

    function Size(width, height) {
        this.width = width;
        this.height = height;
    }
    Size.prototype.ujKw = function(wcGx) {
        return (this.width === wcGx.width && this.height === wcGx.height);
    };

    function zjps(element, uhLw) {
        this.ubMt = element;
        this.wjLv = uhLw.viOy;
        this.rdIt = null;
        this.yhHu = !!uhLw.xfIt;
        this.xhLq = uhLw.direction ? uhLw.direction : zjps.xeNx.rjOy;
        this.xhMz = uhLw.wgNw ? uhLw.wgNw : zjps.xeNw.rjOy;
        this.rfPrH = null;
        this.rgIvC = null;
        this.rgIvB = null;
        this.sfGv = zjps.tgKv.ydGs;
        this.rjPqG = 2;
        this.rgIuA(uhLw.size);
        this.rfPrK(uhLw.rfOvJ);
    }
    zjps.tgKv = {
        ydGs: 0,
        rgIxB: 1,
        rgJvC: 2,
        rgIrH: 3,
        rgJsE: 4
    };
    zjps.xeNx = {
        viOs: 1,
        vgKr: 2,
        rjOy: 3
    };
    zjps.xeNw = {
        xcOr: 1,
        vaGz: 2,
        rjOy: 3
    };
    zjps.prototype = {
        constructor: zjps,
        rhJyJ: function() {
            return this.ubMt;
        },
        ufMu: function(size) {
            this.rdIt = size;
            if (this.xhLq & zjps.xeNx.vgKr) {
                this.rfPrH.style.cssText = "width: " + (size.width + this.rjPqG) + "px; height: " + (size.height + this.rjPqG) + "px;";
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                this.rgIvC.style.cssText = "position:absolute; left: 0px; top: 0px; overflow: hidden; width: " + (size.width - this.rjPqG) + "px; height: " + (size.height - this.rjPqG) + "px;";
            }
        },
        rgIuA: function(size) {
            this.ubMt.style.position = "absolute";
            if (this.xhLq & zjps.xeNx.vgKr) {
                this.rfPrH = document.createElement("div");
                this.rgIvB = document.createElement("div");
                this.rgIvB.style.cssText = "position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;";
                this.rgIvB.appendChild(this.rfPrH);
                this.ubMt.appendChild(this.rgIvB);
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                this.rgIvC = document.createElement("div");
                this.rgIvC.appendChild(this.ubMt);
            }
            if (size) {
                this.ufMu(size);
            }
            this.sfGv = zjps.tgKv.rgIxB;
        },
        rfPrK: function(rfOvJ) {
            if (this.sfGv !== zjps.tgKv.rgIxB) {
                throw new Error("SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()");
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                rfOvJ.appendChild(this.rgIvC);
            } else {
                rfOvJ.appendChild(this.ubMt);
            }
            this.sfGv = zjps.tgKv.rgJvC;
        },
        rgLuJ: function() {
            if (this.xhLq & zjps.xeNx.viOs) {
                if (this.rgIvC.parentNode) {
                    this.rgIvC.parentNode.removeChild(this.rgIvC);
                }
            } else if (this.ubMt.parentNode) {
                this.ubMt.parentNode.removeChild(this.ubMt);
            }
        },
        rhPvH: function() {
            var parentNode, rfPsH = true,
                rfPsG = true;
            if (this.sfGv !== zjps.tgKv.rgJvC) {
                throw new Error("SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()");
            }
            if (this.rdIt === null) {
                this.ufMu(new Size(this.ubMt.offsetWidth, this.ubMt.offsetHeight));
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                rfPsH = this.rgGvB(this.rgIvC);
            }
            if (this.xhLq & zjps.xeNx.vgKr) {
                rfPsG = this.rgGvB(this.rgIvB);
            }
            if (!rfPsH || !rfPsG) {
                parentNode = this.ubMt.parentNode;
                while (parentNode !== window.document && parentNode !== null) {
                    parentNode = parentNode.parentNode;
                }
                if (parentNode === null) {
                    throw new Error("Can't set scroll position of scroll watchers. SizeWatcher is rfKxG in the DOM tree.");
                } else if (console && typeof console.warn === "function") {
                    console.warn("SizeWatcher can't set scroll position of scroll watchers.");
                }
            }
            this.sfGv = zjps.tgKv.rgIrH;
        },
        rgGvB: function(element) {
            var riHyH = true;
            if (this.xhMz & zjps.xeNw.vaGz) {
                element.scrollTop = this.rjPqG;
                riHyH = riHyH && element.scrollTop > 0;
            }
            if (this.xhMz & zjps.xeNw.xcOr) {
                element.scrollLeft = this.rjPqG;
                riHyH = riHyH && element.scrollLeft > 0;
            }
            return riHyH;
        },
        rjPxH: function() {
            if (this.sfGv !== zjps.tgKv.rgIrH) {
                throw new Error("SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()");
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                this.rgIvC.addEventListener("scroll", this, false);
            }
            if (this.xhLq & zjps.xeNx.vgKr) {
                this.rgIvB.addEventListener("scroll", this, false);
            }
            this.sfGv = zjps.tgKv.rgJsE;
        },
        yeIv: function() {
            if (this.sfGv !== zjps.tgKv.rgJsE) {
                throw new Error("SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()");
            }
            if (this.xhLq & zjps.xeNx.viOs) {
                this.rgIvC.removeEventListener("scroll", this, false);
            }
            if (this.xhLq & zjps.xeNx.vgKr) {
                this.rgIvB.removeEventListener("scroll", this, false);
            }
            this.sfGv = zjps.tgKv.rgJvC;
        },
        ydKz: function(event) {
            var uiGr, uhNr;
            if (this.sfGv !== zjps.tgKv.rgJsE) {
                return;
            }
            uiGr = new Size(this.ubMt.offsetWidth, this.ubMt.offsetHeight);
            uhNr = this.rdIt;
            if (uhNr.ujKw(uiGr)) {
                return;
            }
            if (this.wjLv && typeof this.wjLv.rgIsF === "function") {
                this.wjLv.rgIsF(this);
                if (this.sfGv !== zjps.tgKv.rgJsE) {
                    return;
                }
            }
            if (!this.yhHu) {
                this.yeIv();
            } else {
                this.ufMu(uiGr);
                this.sfGv = zjps.tgKv.rgJvC;
                this.rhPvH();
                this.sfGv = zjps.tgKv.rgJsE;
            }
        }
    };
    return xdns;
}));
scNt('dqiNs', ['dqjPs', 'dqiNr'], function() {
    var rihzb = function(rfGsF, rfGsA, vbOz, rfOyC) {
        console.log('FontLoadingUtil.ctor');
        this.ygPq = rfGsF;
        this.wjLr = rfGsA;
        this.wjHx = vbOz;
        this.rdKx = rfOyC;
    };
    rihzb.prototype.zeKv = function(uaGu, tcLv) {
        console.log('FontLoadingUtil.loadAllFonts');
        var rhGwC = false;
        var rhIqC = false;

        function zjGx() {
            if (rhGwC && rhIqC) {
                console.log(' ...all fonts were loaded.');
                uaGu.call(tcLv);
            }
        }
        this.rhMwB(function() {
            rhGwC = true;
            zjGx();
        }, this);
        this.riGvC(function() {
            rhIqC = true;
            zjGx();
        }, this);
    };
    rihzb.prototype.rhMwB = function(uaGu, tcLv) {
        console.log('FontLoadingUtil.loadRegularFonts');
        var language = this.ygPq.lang;
        uaGu.call(tcLv);
    };
    rihzb.prototype.riGvC = function(uaGu, tcLv) {
        console.log('FontLoadingUtil.loadBitmapFonts');
        var rhHxA = [];
        var language = this.ygPq.lang;
        var bitmapFonts = this.wjLr.bitmapfonts[language].list;
        var rjOwB = this.wjLr.bitmapfonts[language].src + '/';
        this.rdKx.load.rfIsA();
        uaGu.call(tcLv);
    };
    return rihzb;
});
scNt('dqiNt', ['dqjLx', 'dqjKr', 'dqjPw', 'dqiNs', 'dqjKw'], function() {
    var zjnx = function(vgJt, rfOyC, rgPwG, zcJq) {
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.rgOtE = rgPwG;
        this.rjPqH = zcJq;
    };
    zjnx.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c StartLoader ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('riHzB', tcHy.dqiNs, tcHy.dqjLx.XJOQ);
        new tcHy.dqjKr(this.rhMwC, this).then(this.rgGsD, this).then(this.rhJsB, this).then(uaGu, tcLv).tbJu();
    };
    zjnx.prototype.rhMwC = function(uaGu, tcLv) {
        console.log('StartLoader.loadLoaderAssets');
        var zeKy = false;
        var riLyA = false;

        function zjGx() {
            if (zeKy && riLyA) {
                console.log(' ...all loader assets were loaded.');
                uaGu.call(tcLv);
            }
        }
        this.rdKx.load.json('rfKsE', 'rfKsE.json');
        var platform = tcHy.dqjPw.rhJxD();
        var ygGx = 'im/s/';
        this.rdKx.load.rcNy('reNsJ', ygGx + 'reNsJ.png', ygGx + 'reNsJ.json');
        this.rdKx.load.rcNy('reNsH', ygGx + 'reNsH.jpg', ygGx + 'reNsH.json');
        var riHzB = this.wjJt.rhJyK(tcHy.dqiNs);
        riHzB.zeKv(function() {
            riLyA = true;
            zjGx();
        }, this);
        this.rdKx.load.riKuG.teIx(function() {
            zeKy = true;
            zjGx();
        }, this);
        this.rdKx.load.rfIsA();
    };
    zjnx.prototype.rgGsD = function(uaGu, tcLv) {
        console.log('StartLoader.checkBoosterSplashFinished');
        if (!scLr.desktop || tdkx.rhOxE) {
            console.log(' ...booster splash finished.');
            uaGu.call(tcLv);
        } else {
            tdkx.rgKyK = function() {
                tdkx.rhOxE = true;
                console.log(' ...booster splash finished.');
                uaGu.call(tcLv);
            }
        }
    };
    zjnx.prototype.rhJsB = function(uaGu, tcLv) {
        console.log('StartLoader.createLoaderScene');
        this.rgOtE.add('reNsJ');
        this.rgOtE.add('reNsH');
        this.rjPqH.zgLv();
        var ycKq = this.rjPqH.vhGy('rfKsE');
        ycKq.rbIy();
        var rhKzJ = {
            color: '#000000'
        };
        this.rjPqH.view.background.set('rfPxF.jpg', rhKzJ);
        uaGu.call(tcLv);
    };
    return zjnx;
});
scNt('dqiNu', ['dqjPs', 'dqjOr'], function() {
    function rimzh() {
        this.rhOvG = new tcHy.dqjOr.tgot();
        this.rdKt = null;
        rfOyC.input.vfOu.zdJr = function(event) {
            if (event.keyCode === 82) {
                this.reload();
            }
        }.bind(this);
    }
    tcHy.dqjPs.extend(rimzh.prototype, {
        load: function(riNy) {
            this.rdKt = riNy;
            if (rfOyC.rcIy.zgOr('gameVars')) {
                var uhNt = rfOyC.rcIy.taLy('gameVars');
                for (var raPs in uhNt) {
                    delete this[raPs];
                }
            }
            tcHy.dqjPs.rhPyK.load('gameVars', 'gameVars.json', 'json', function(vfKs) {
                console.log(vfKs.thLx);
                var reHu = vfKs.thLx;
                for (var raPs in reHu) {
                    if (this[raPs] !== undefined) {
                        console.error('The key ' + raPs + ' can\'t be used in gameVars.json, because it is already in use by a' + ' built-in variable.');
                    } else {
                        this[raPs] = reHu[raPs];
                    }
                }
                this.rhOvG.viLt();
            }, this);
        },
        reload: function() {
            if (!this.rdKt) {
                console.error('Can\'t reload if load hasn\'t been called first');
            }
            this.load(this.rdKt);
        }
    });
    return rimzh;
});
scNt('dqiNv', ['dqjLx', 'dqjKr', 'dqjPw', 'dqiNu', 'dqjKw'], function() {
    var rilzk = function(vgJt, rfOyC, whKs, rfGsA, rfGsF, zbPy, rgPwG) {
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.xhMv = whKs;
        this.wjLr = rfGsA;
        this.ygPq = rfGsF;
        this.rjPqB = zbPy;
        this.rgOtE = rgPwG;
    };
    rilzk.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c LoadGameAssets ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('riMzH', tcHy.dqiNu, tcHy.dqjLx.XJOQ);
        new tcHy.dqjKr(this.rhIqD, this).then(this.zeJs, this).then(this.zeJu, this).then(uaGu, tcLv).tbJu();
    };
    rilzk.prototype.rhIqD = function(uaGu, tcLv) {
        console.log('LoadGameAssets.loadAllGameAssets');
        this.rhMwE();
        this.xcGt();
        this.wdLz();
        this.rhMwA();
        this.rdKx.load.riKuG.teIx(function() {
            console.log(' ...loaded all game assets.');
            this.rgOtE.rhNr();
            uaGu.call(tcLv);
        }, this);
        this.rdKx.load.rfIsA();
    };
    rilzk.prototype.rhMwE = function() {
        console.log('LoadGameAssets.loadFreemiumData');
        if (this.ygPq.freemium) {
            this.rdKx.load.json('freemium', 'freemium.json');
        }
    };
    rilzk.prototype.xcGt = function() {
        console.log('LoadGameAssets.loadScenes');
        this.rdKx.load.json('rfGrE', 'rfGrE.json');
    };
    rilzk.prototype.wdLz = function() {
        console.log('LoadGameAssets.loadAudio');
        this.rjPqB.xcGu('au/music.mp3');
        this.rjPqB.xcGu('au/effects.mp3');
    };
    rilzk.prototype.rhMwA = function() {
        console.log('LoadGameAssets.loadSpritesheets');
        var platform = tcHy.dqjPw.rhJxD();
        var xfOr = this.wjLr.qfIq;
        xfOr._.rjGu(function(vjOs, zgPz) {
            var rhJqD = 'im/' + zgPz + '/';
            vjOs.files._.rjGu(function(rfGvB) {
                if (rfGvB._.has('rfKsE')) {
                    return;
                }
                var name = rfGvB._.seHr(".");
                var key = name;
                if (zgPz !== 's') {
                    key = zgPz + '_' + name;
                }
                if (!name._.has('localization') || name._.has(this.rgMrC.language)) {
                    this.rdKx.load.rcNy(key, rhJqD + rfGvB, rhJqD + name + '.json');
                }
            }, this);
        }, this);
    };
    rilzk.prototype.zeJs = function(uaGu, tcLv) {
        console.log('LoadGameAssets.loadGameVars');
        var riMzH = this.wjJt.rhJyK(tcHy.dqiNu);
        riMzH.rhOvG.teIx(function() {
            console.log(' ...loaded game vars.');
            uaGu.call(tcLv);
        }, this);
        riMzH.load('gameVars.json');
    };
    rilzk.prototype.zeJu = function(uaGu, tcLv) {
        console.log('LoadGameAssets.loadUserData');
        this.xhMv.zeJu(function() {
            console.log(' ...loaded user data.');
            uaGu.call(tcLv);
        }, this);
    };
    return rilzk;
});
scNt('dqiNw', ['dqjKw'], function() {
    var yclz = function(rhJwG) {
        this.rhHvJ = rhJwG;
    };
    yclz.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c LoaderReady ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.rhHvJ.ugNr('loadFinished');
        uaGu.call(tcLv);
    };
    return yclz;
});
scNt('dqiNx', ['dqjLx', 'dqjNr', 'dqjKw'], function() {
    var xdky = function(vgJt, rfGsF) {
        this.wjJt = vgJt;
        this.ygPq = rfGsF;
    };
    xdky.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c GeoLocking ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        uaGu.call(tcLv);
        return;
/*
        tcHy.dqjNr("http://geoip.api.boostermedia.com/").then(function(vcLy) {
            var weHx = this.ygPq.allowedIPs && this.ygPq.allowedIPs.indexOf(vcLy.qiMy) !== -1;
            var riMsC = this.ygPq.allowedCountries && this.ygPq.allowedCountries.indexOf(vcLy.zgLt) !== -1;
            if (true || weHx || riMsC) {
                uaGu.call(tcLv);
            } else {
                console.error("Accessing from wrong location: " + vcLy.tcKx);
                var qeNw = document.getElementById('geolocking');
                if (qeNw) qeNw.style.display = "block";
            }
        }.bind(this), function(error) {
            uaGu.call(tcLv);
            console.warn("Couldn't access location service");
        }.bind(this));
*/
    };
    return xdky;
});
scNt('dqiNy', [], function() {
    function wbhq() {
        this.wjJv = {};
    }
    wbhq.prototype.xjJr = function(message, vfLz, tcLv) {
        this.rjJvD(message, vfLz, tcLv, false);
    };
    wbhq.prototype.rjKwC = function(message, vfLz, tcLv) {
        this.rjJvD(message, vfLz, tcLv, true);
    };
    wbhq.prototype.ugNr = function(message) {
        console.assert(message, 'Expected a message parameter for publish() function.');
        var riJwC = this.wjJv[message];
        if (riJwC && riJwC.length) {
            var rePuH = Array.prototype.slice.call(arguments);
            rePuH = rePuH._.qeOy(0);
            for (var i = riJwC.length - 1; i >= 0; i--) {
                var yiNw = riJwC[i];
                var vfLz = yiNw.vfLz;
                var tcLv = yiNw.tcLv;
                var vhNt = vfLz.apply(tcLv, rePuH);
                if (yiNw.rgKz) {
                    this.ziOt(message, vfLz, tcLv);
                }
                if (vhNt === false) {
                    break;
                }
            }
        }
    };
    wbhq.prototype.ziOt = function(message, vfLz, tcLv) {
        this.rhKxG(tcLv, vfLz, message);
    };
    wbhq.prototype.riJzG = function(tcLv) {
        this.rhKxG(tcLv);
    };
    wbhq.prototype.rjJvD = function(message, vfLz, tcLv, veHy) {
        if (!this.wjJv[message]) {
            this.wjJv[message] = [];
        }
        var zjLt = this.wjJv[message];
        var yiNw = {
            message: message,
            vfLz: vfLz,
            tcLv: tcLv,
            rgKz: veHy
        };
        zjLt.unshift(yiNw);
    };
    wbhq.prototype.rhKxG = function(tcLv, zdJv, ybLq) {
        var riJwC = this.wjJv[ybLq];
        if (riJwC) {
            this.rgHyK(riJwC, tcLv, zdJv);
        } else {
            for (var xbOx in this.wjJv) {
                if (this.wjJv.hasOwnProperty(xbOx)) {
                    riJwC = this.wjJv[xbOx];
                    this.rgHyK(riJwC, tcLv, zdJv);
                }
            }
        }
    };
    wbhq.prototype.rgHyK = function(riJwC, tcLv, zdJv) {
        var waOu = zdJv === undefined;
        for (var i = riJwC.length - 1; i >= 0; i--) {
            var yiNw = riJwC[i];
            if (yiNw.tcLv === tcLv && waOu) {
                riJwC._.qeOy(i);
            } else if (yiNw.tcLv === tcLv && yiNw.vfLz === zdJv) {
                riJwC._.qeOy(i);
            }
        }
    };
    return wbhq;
});
scNt('dqiNz', ['dqjLx', 'dqiNy'], function() {
    'use strict';
    var rikzk = function(vgJt) {
        this.wjJt = vgJt;
    };
    rikzk.prototype.rfIqC = function(uaGu, tcLv) {
        this.wjJt.vfIr('rhJwG', tcHy.dqiNy, tcHy.dqjLx.XJOQ);
        uaGu.call(tcLv);
    };
    return rikzk;
});
scNt('dqiMq', [], function() {
    var RFITE = {
        VCJQ: '71'
    };
    if (Math.rfHu === undefined) {
        Math.rfHu = function(x) {
            return (x < 0) ? -1 : (x > 0) ? 1 : +x;
        };
    }
    RFITE.log = function() {
        console.log.apply(console, arguments);
    };
    RFITE.warn = function() {
        console.warn.apply(console, arguments);
    };
    RFITE.error = function() {
        console.error.apply(console, arguments);
    };
    RFITE.SJGY = {
        LEFT: 0,
        TJKS: 1,
        RIGHT: 2
    };
    RFITE.zgkv = 0;
    RFITE.zgku = 1;
    RFITE.rjotk = 2;
    RFITE.rhjtj = 3;
    RFITE.rgmyk = 0;
    RFITE.rgkte = 1;
    RFITE.rinxj = 0;
    RFITE.zdiu = 1;
    RFITE.rhltf = 2;
    RFITE.wflt = 0;
    RFITE.ualq = 1;
    RFITE.xels = 2;
    RFITE.wckr = 0;
    RFITE.yegz = 1;
    RFITE.rjkuj = 2;
    RFITE.vemy = 0;
    RFITE.xegs = 1;
    RFITE.zbgu = 2;
    RFITE.xbmv = 0;
    RFITE.riksc = 1;
    RFITE.rhnsh = 2;
    RFITE.rgnxd = 3;
    RFITE.rhlqk = 4;
    RFITE.rimtc = 5;
    RFITE.ygky = 100;
    RFITE.rhlzj = 101;
    RFITE.rghqj = 102;
    RFITE.ycit = 103;
    RFITE.ycjv = 104;
    RFITE.yhky = 200;
    RFITE.wciu = 201;
    RFITE.rijva = 202;
    RFITE.rgiqd = 203;
    RFITE.rijvb = 204;
    RFITE.rgiqe = 205;
    RFITE.rimvc = 206;
    RFITE.rgiqg = 207;
    RFITE.rimvb = 208;
    RFITE.rgiqf = 209;
    RFITE.rgisb = 210;
    RFITE.rhisb = 0;
    RFITE.zegt = 1;
    RFITE.zhlu = 2;
    RFITE.xijz = 300;
    RFITE.rgksf = 301;
    RFITE.rgkse = 302;
    RFITE.rfpuk = 303;
    RFITE.rfpuj = 304;
    RFITE.rgguc = 305;
    RFITE.rijqe = 1000;
    RFITE.rgovj = 1001;
    RFITE.rgjzj = 1002;
    RFITE.rjmxg = 1003;
    RFITE.rgguk = 1004;
    RFITE.rggqc = 1005;
    RFITE.zely = 1006;
    RFITE.rggqg = 1007;
    RFITE.rghvh = 1008;
    RFITE.rhkrf = 1009;
    RFITE.uagq = 1010;
    RFITE.xjpt = 1011;
    RFITE.rhhsh = 1012;
    RFITE.ujmy = 1013;
    RFITE.rhouh = 1014;
    RFITE.wfnq = 1015;
    RFITE.rjnwe = 1025;
    RFITE.rgjsh = 1016;
    RFITE.rgjsg = 1017;
    RFITE.rglwc = 1018;
    RFITE.ygiq = 1019;
    RFITE.wamx = 1020;
    RFITE.yjps = 1021;
    RFITE.rigwj = 1022;
    RFITE.rglre = 1023;
    RFITE.yjpt = RFITE.yjps;
    RFITE.rgluf = 2001;
    RFITE.rgjqh = 2002;
    RFITE.rgjqg = 2003;
    RFITE.rgjqf = 2004;
    RFITE.rghqg = 2100;
    RFITE.rghqh = 2101;
    RFITE.rghwf = 2102;
    RFITE.rghwg = 2103;
    RFITE.wbit = function() {
        RFITE.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');
        this.rjLvF = function(tfKy, sdNw) {
            RFITE.warn('THREE.Projector: .projectVector() is now vector.project().');
            tfKy.ugOu(sdNw);
        };
        this.rhOuJ = function(tfKy, sdNw) {
            RFITE.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');
            tfKy.xiKu(sdNw);
        };
        this.xaPx = function(tfKy, sdNw) {
            RFITE.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');
        };
    };
    RFITE.rinze = function() {
        RFITE.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');
        this.xeLq = document.createElement('canvas');
        this.clear = function() {};
        this.render = function() {};
        this.rjKqB = function() {};
        this.ufMu = function() {};
    };
    RFITE.Color = function(color) {
        if (arguments.length === 3) {
            return this.thGx(arguments[0], arguments[1], arguments[2]);
        }
        return this.set(color)
    };
    RFITE.Color.prototype = {
        constructor: RFITE.Color,
        r: 1,
        g: 1,
        b: 1,
        set: function(value) {
            if (value instanceof RFITE.Color) {
                this.rjLt(value);
            } else if (typeof value === 'number') {
                this.thGv(value);
            } else if (typeof value === 'string') {
                this.vbOy(value);
            }
            return this;
        },
        thGv: function(qeGy) {
            qeGy = Math.floor(qeGy);
            this.r = (qeGy >> 16 & 255) / 255;
            this.g = (qeGy >> 8 & 255) / 255;
            this.b = (qeGy & 255) / 255;
            return this;
        },
        thGx: function(r, g, b) {
            this.r = r;
            this.g = g;
            this.b = b;
            return this;
        },
        thGw: function(h, s, l) {
            if (s === 0) {
                this.r = this.g = this.b = l;
            } else {
                var ujPx = function(p, q, t) {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);
                    return p;
                };
                var p = l <= 0.5 ? l * (1 + s) : l + s - (l * s);
                var q = (2 * l) - p;
                this.r = ujPx(q, p, h + 1 / 3);
                this.g = ujPx(q, p, h);
                this.b = ujPx(q, p, h - 1 / 3);
            }
            return this;
        },
        vbOy: function(style) {
            if (/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(style)) {
                var color = /^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(style);
                this.r = Math.min(255, parseInt(color[1], 10)) / 255;
                this.g = Math.min(255, parseInt(color[2], 10)) / 255;
                this.b = Math.min(255, parseInt(color[3], 10)) / 255;
                return this;
            }
            if (/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(style)) {
                var color = /^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(style);
                this.r = Math.min(100, parseInt(color[1], 10)) / 100;
                this.g = Math.min(100, parseInt(color[2], 10)) / 100;
                this.b = Math.min(100, parseInt(color[3], 10)) / 100;
                return this;
            }
            if (/^\#([0-9a-f]{6})$/i.test(style)) {
                var color = /^\#([0-9a-f]{6})$/i.exec(style);
                this.thGv(parseInt(color[1], 16));
                return this;
            }
            if (/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(style)) {
                var color = /^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(style);
                this.thGv(parseInt(color[1] + color[1] + color[2] + color[2] + color[3] + color[3], 16));
                return this;
            }
            if (/^(\w+)$/i.test(style)) {
                this.thGv(RFITE.rjoqd[style]);
                return this;
            }
        },
        rjLt: function(color) {
            this.r = color.r;
            this.g = color.g;
            this.b = color.b;
            return this;
        },
        rhJsK: function(color, ydNt) {
            if (ydNt === undefined) ydNt = 2.0;
            this.r = Math.pow(color.r, ydNt);
            this.g = Math.pow(color.g, ydNt);
            this.b = Math.pow(color.b, ydNt);
            return this;
        },
        rhJsJ: function(color, ydNt) {
            if (ydNt === undefined) ydNt = 2.0;
            var yaJu = (ydNt > 0) ? (1.0 / ydNt) : 1.0;
            this.r = Math.pow(color.r, yaJu);
            this.g = Math.pow(color.g, yaJu);
            this.b = Math.pow(color.b, yaJu);
            return this;
        },
        rgMvK: function() {
            var r = this.r,
                g = this.g,
                b = this.b;
            this.r = r * r;
            this.g = g * g;
            this.b = b * b;
            return this;
        },
        rgMvJ: function() {
            this.r = Math.sqrt(this.r);
            this.g = Math.sqrt(this.g);
            this.b = Math.sqrt(this.b);
            return this;
        },
        sbJz: function() {
            return (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0;
        },
        zfKu: function() {
            return ('000000' + this.sbJz().toString(16)).slice(-6);
        },
        sbIq: function(riKvH) {
            var qdPu = riKvH || {
                h: 0,
                s: 0,
                l: 0
            };
            var r = this.r,
                g = this.g,
                b = this.b;
            var max = Math.max(r, g, b);
            var min = Math.min(r, g, b);
            var qdPz, yjOw;
            var wdMv = (min + max) / 2.0;
            if (min === max) {
                qdPz = 0;
                yjOw = 0;
            } else {
                var rbMt = max - min;
                yjOw = wdMv <= 0.5 ? rbMt / (max + min) : rbMt / (2 - max - min);
                switch (max) {
                    case r:
                        qdPz = (g - b) / rbMt + (g < b ? 6 : 0);
                        break;
                    case g:
                        qdPz = (b - r) / rbMt + 2;
                        break;
                    case b:
                        qdPz = (r - g) / rbMt + 4;
                        break;
                }
                qdPz /= 6;
            }
            qdPu.h = qdPz;
            qdPu.s = yjOw;
            qdPu.l = wdMv;
            return qdPu;
        },
        vgPq: function() {
            return 'rgb(' + ((this.r * 255) | 0) + ',' + ((this.g * 255) | 0) + ',' + ((this.b * 255) | 0) + ')';
        },
        wcJw: function(h, s, l) {
            var qdPu = this.sbIq();
            qdPu.h += h;
            qdPu.s += s;
            qdPu.l += l;
            this.thGw(qdPu.h, qdPu.s, qdPu.l);
            return this;
        },
        add: function(color) {
            this.r += color.r;
            this.g += color.g;
            this.b += color.b;
            return this;
        },
        wiPy: function(sdIu, sdIv) {
            this.r = sdIu.r + sdIv.r;
            this.g = sdIu.g + sdIv.g;
            this.b = sdIu.b + sdIv.b;
            return this;
        },
        wiOs: function(s) {
            this.r += s;
            this.g += s;
            this.b += s;
            return this;
        },
        veOs: function(color) {
            this.r *= color.r;
            this.g *= color.g;
            this.b *= color.b;
            return this;
        },
        riKsH: function(s) {
            this.r *= s;
            this.g *= s;
            this.b *= s;
            return this;
        },
        rhJs: function(color, alpha) {
            this.r += (color.r - this.r) * alpha;
            this.g += (color.g - this.g) * alpha;
            this.b += (color.b - this.b) * alpha;
            return this;
        },
        scIw: function(c) {
            return (c.r === this.r) && (c.g === this.g) && (c.b === this.b);
        },
        wfMy: function(array) {
            this.r = array[0];
            this.g = array[1];
            this.b = array[2];
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.r;
            array[tiOt + 1] = this.g;
            array[tiOt + 2] = this.b;
            return array;
        },
        rbPq: function() {
            return new RFITE.Color().thGx(this.r, this.g, this.b);
        }
    };
    RFITE.rjoqd = {
        'aliceblue': 0xF0F8FF,
        'antiquewhite': 0xFAEBD7,
        'aqua': 0x00FFFF,
        'aquamarine': 0x7FFFD4,
        'azure': 0xF0FFFF,
        'beige': 0xF5F5DC,
        'bisque': 0xFFE4C4,
        'black': 0x000000,
        'blanchedalmond': 0xFFEBCD,
        'blue': 0x0000FF,
        'blueviolet': 0x8A2BE2,
        'rfPyK': 0xA52A2A,
        'burlywood': 0xDEB887,
        'cadetblue': 0x5F9EA0,
        'chartreuse': 0x7FFF00,
        'chocolate': 0xD2691E,
        'coral': 0xFF7F50,
        'cornflowerblue': 0x6495ED,
        'cornsilk': 0xFFF8DC,
        'crimson': 0xDC143C,
        'cyan': 0x00FFFF,
        'darkblue': 0x00008B,
        'darkcyan': 0x008B8B,
        'darkgoldenrod': 0xB8860B,
        'darkgray': 0xA9A9A9,
        'darkgreen': 0x006400,
        'darkgrey': 0xA9A9A9,
        'darkkhaki': 0xBDB76B,
        'darkmagenta': 0x8B008B,
        'darkolivegreen': 0x556B2F,
        'darkorange': 0xFF8C00,
        'darkorchid': 0x9932CC,
        'darkred': 0x8B0000,
        'darksalmon': 0xE9967A,
        'darkseagreen': 0x8FBC8F,
        'darkslateblue': 0x483D8B,
        'darkslategray': 0x2F4F4F,
        'darkslategrey': 0x2F4F4F,
        'darkturquoise': 0x00CED1,
        'darkviolet': 0x9400D3,
        'deeppink': 0xFF1493,
        'deepskyblue': 0x00BFFF,
        'dimgray': 0x696969,
        'dimgrey': 0x696969,
        'dodgerblue': 0x1E90FF,
        'firebrick': 0xB22222,
        'floralwhite': 0xFFFAF0,
        'forestgreen': 0x228B22,
        'fuchsia': 0xFF00FF,
        'gainsboro': 0xDCDCDC,
        'ghostwhite': 0xF8F8FF,
        'gold': 0xFFD700,
        'goldenrod': 0xDAA520,
        'rfNrF': 0x808080,
        'rfNrE': 0x008000,
        'greenyellow': 0xADFF2F,
        'grey': 0x808080,
        'honeydew': 0xF0FFF0,
        'hotpink': 0xFF69B4,
        'indianred': 0xCD5C5C,
        'indigo': 0x4B0082,
        'ivory': 0xFFFFF0,
        'khaki': 0xF0E68C,
        'lavender': 0xE6E6FA,
        'lavenderblush': 0xFFF0F5,
        'lawngreen': 0x7CFC00,
        'lemonchiffon': 0xFFFACD,
        'rfKsF': 0xADD8E6,
        'lightcoral': 0xF08080,
        'lightcyan': 0xE0FFFF,
        'lightgoldenrodyellow': 0xFAFAD2,
        'lightgray': 0xD3D3D3,
        'lightgreen': 0x90EE90,
        'lightgrey': 0xD3D3D3,
        'lightpink': 0xFFB6C1,
        'lightsalmon': 0xFFA07A,
        'lightseagreen': 0x20B2AA,
        'lightskyblue': 0x87CEFA,
        'lightslategray': 0x778899,
        'lightslategrey': 0x778899,
        'lightsteelblue': 0xB0C4DE,
        'lightyellow': 0xFFFFE0,
        'lime': 0x00FF00,
        'limegreen': 0x32CD32,
        'linen': 0xFAF0E6,
        'magenta': 0xFF00FF,
        'maroon': 0x800000,
        'mediumaquamarine': 0x66CDAA,
        'mediumblue': 0x0000CD,
        'mediumorchid': 0xBA55D3,
        'mediumpurple': 0x9370DB,
        'mediumseagreen': 0x3CB371,
        'mediumslateblue': 0x7B68EE,
        'mediumspringgreen': 0x00FA9A,
        'mediumturquoise': 0x48D1CC,
        'mediumvioletred': 0xC71585,
        'midnightblue': 0x191970,
        'mintcream': 0xF5FFFA,
        'mistyrose': 0xFFE4E1,
        'moccasin': 0xFFE4B5,
        'navajowhite': 0xFFDEAD,
        'navy': 0x000080,
        'oldlace': 0xFDF5E6,
        'olive': 0x808000,
        'olivedrab': 0x6B8E23,
        'orange': 0xFFA500,
        'orangered': 0xFF4500,
        'orchid': 0xDA70D6,
        'palegoldenrod': 0xEEE8AA,
        'palegreen': 0x98FB98,
        'paleturquoise': 0xAFEEEE,
        'palevioletred': 0xDB7093,
        'papayawhip': 0xFFEFD5,
        'peachpuff': 0xFFDAB9,
        'peru': 0xCD853F,
        'rfJwG': 0xFFC0CB,
        'plum': 0xDDA0DD,
        'powderblue': 0xB0E0E6,
        'rfJyA': 0x800080,
        'rfJzH': 0xFF0000,
        'rosybrown': 0xBC8F8F,
        'royalblue': 0x4169E1,
        'saddlebrown': 0x8B4513,
        'salmon': 0xFA8072,
        'sandybrown': 0xF4A460,
        'seagreen': 0x2E8B57,
        'seashell': 0xFFF5EE,
        'sienna': 0xA0522D,
        'silver': 0xC0C0C0,
        'skyblue': 0x87CEEB,
        'slateblue': 0x6A5ACD,
        'slategray': 0x708090,
        'slategrey': 0x708090,
        'snow': 0xFFFAFA,
        'springgreen': 0x00FF7F,
        'steelblue': 0x4682B4,
        'tan': 0xD2B48C,
        'teal': 0x008080,
        'thistle': 0xD8BFD8,
        'tomato': 0xFF6347,
        'turquoise': 0x40E0D0,
        'violet': 0xEE82EE,
        'wheat': 0xF5DEB3,
        'white': 0xFFFFFF,
        'whitesmoke': 0xF5F5F5,
        'rfHrD': 0xFFFF00,
        'yellowgreen': 0x9ACD32
    };
    RFITE.xaly = function(x, y, z, w) {
        this.qjPx = x || 0;
        this.qjPy = y || 0;
        this.qjPz = z || 0;
        this.qjPw = (w !== undefined) ? w : 1;
    };
    RFITE.xaly.prototype = {
        constructor: RFITE.xaly,
        qjPx: 0,
        qjPy: 0,
        qjPz: 0,
        qjPw: 0,
        get x() {
            return this.qjPx;
        },
        set x(value) {
            this.qjPx = value;
            this.rhLrE();
        },
        get y() {
            return this.qjPy;
        },
        set y(value) {
            this.qjPy = value;
            this.rhLrE();
        },
        get z() {
            return this.qjPz;
        },
        set z(value) {
            this.qjPz = value;
            this.rhLrE();
        },
        get w() {
            return this.qjPw;
        },
        set w(value) {
            this.qjPw = value;
            this.rhLrE();
        },
        set: function(x, y, z, w) {
            this.qjPx = x;
            this.qjPy = y;
            this.qjPz = z;
            this.qjPw = w;
            this.rhLrE();
            return this;
        },
        rjLt: function(xaLy) {
            this.qjPx = xaLy.x;
            this.qjPy = xaLy.y;
            this.qjPz = xaLy.z;
            this.qjPw = xaLy.w;
            this.rhLrE();
            return this;
        },
        zcHq: function(rbHs, update) {
            if (rbHs instanceof RFITE.rbhs === false) {
                throw new Error('THREE.Quaternion: .setFromEuler() now expects a Euler rfIqD rather than a Vector3 and order.');
            }
            var qjLu = Math.cos(rbHs.qjPx / 2);
            var qjLv = Math.cos(rbHs.qjPy / 2);
            var qjLw = Math.cos(rbHs.qjPz / 2);
            var qhKt = Math.sin(rbHs.qjPx / 2);
            var qhKu = Math.sin(rbHs.qjPy / 2);
            var qhKv = Math.sin(rbHs.qjPz / 2);
            if (rbHs.order === 'XYZ') {
                this.qjPx = qhKt * qjLv * qjLw + qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw - qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv + qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw - qhKt * qhKu * qhKv;
            } else if (rbHs.order === 'YXZ') {
                this.qjPx = qhKt * qjLv * qjLw + qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw - qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv - qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw + qhKt * qhKu * qhKv;
            } else if (rbHs.order === 'ZXY') {
                this.qjPx = qhKt * qjLv * qjLw - qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw + qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv + qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw - qhKt * qhKu * qhKv;
            } else if (rbHs.order === 'ZYX') {
                this.qjPx = qhKt * qjLv * qjLw - qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw + qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv - qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw + qhKt * qhKu * qhKv;
            } else if (rbHs.order === 'YZX') {
                this.qjPx = qhKt * qjLv * qjLw + qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw + qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv - qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw - qhKt * qhKu * qhKv;
            } else if (rbHs.order === 'XZY') {
                this.qjPx = qhKt * qjLv * qjLw - qjLu * qhKu * qhKv;
                this.qjPy = qjLu * qhKu * qjLw - qhKt * qjLv * qhKv;
                this.qjPz = qjLu * qjLv * qhKv + qhKt * qhKu * qjLw;
                this.qjPw = qjLu * qjLv * qjLw + qhKt * qhKu * qhKv;
            }
            if (update !== false) this.rhLrE();
            return this;
        },
        rhLwB: function(qaHt, rcOr) {
            var wfGq = rcOr / 2,
                s = Math.sin(wfGq);
            this.qjPx = qaHt.x * s;
            this.qjPy = qaHt.y * s;
            this.qjPz = qaHt.z * s;
            this.qjPw = Math.cos(wfGq);
            this.rhLrE();
            return this;
        },
        rgJrK: function(m) {
            var qhHq = m.elements,
                qdKq = qhHq[0],
                qdKr = qhHq[4],
                qdKs = qhHq[8],
                qdKt = qhHq[1],
                qdKu = qhHq[5],
                qdKv = qhHq[9],
                qdKw = qhHq[2],
                qdKx = qhHq[6],
                qdKy = qhHq[10],
                trace = qdKq + qdKu + qdKy,
                s;
            if (trace > 0) {
                s = 0.5 / Math.sqrt(trace + 1.0);
                this.qjPw = 0.25 / s;
                this.qjPx = (qdKx - qdKv) * s;
                this.qjPy = (qdKs - qdKw) * s;
                this.qjPz = (qdKt - qdKr) * s;
            } else if (qdKq > qdKu && qdKq > qdKy) {
                s = 2.0 * Math.sqrt(1.0 + qdKq - qdKu - qdKy);
                this.qjPw = (qdKx - qdKv) / s;
                this.qjPx = 0.25 * s;
                this.qjPy = (qdKr + qdKt) / s;
                this.qjPz = (qdKs + qdKw) / s;
            } else if (qdKu > qdKy) {
                s = 2.0 * Math.sqrt(1.0 + qdKu - qdKq - qdKy);
                this.qjPw = (qdKs - qdKw) / s;
                this.qjPx = (qdKr + qdKt) / s;
                this.qjPy = 0.25 * s;
                this.qjPz = (qdKv + qdKx) / s;
            } else {
                s = 2.0 * Math.sqrt(1.0 + qdKy - qdKq - qdKu);
                this.qjPw = (qdKt - qdKr) / s;
                this.qjPx = (qdKs + qdKw) / s;
                this.qjPy = (qdKv + qdKx) / s;
                this.qjPz = 0.25 * s;
            }
            this.rhLrE();
            return this;
        },
        rgPuB: function() {
            var qgPv, r;
            var QELU = 0.000001;
            return function(sfPu, qbHz) {
                if (qgPv === undefined) qgPv = new RFITE.udor();
                r = sfPu.qeMq(qbHz) + 1;
                if (r < QELU) {
                    r = 0;
                    if (Math.abs(sfPu.x) > Math.abs(sfPu.z)) {
                        qgPv.set(-sfPu.y, sfPu.x, 0);
                    } else {
                        qgPv.set(0, -sfPu.z, sfPu.y);
                    }
                } else {
                    qgPv.zgKq(sfPu, qbHz);
                }
                this.qjPx = qgPv.x;
                this.qjPy = qgPv.y;
                this.qjPz = qgPv.z;
                this.qjPw = r;
                this.normalize();
                return this;
            }
        }(),
        ujLt: function() {
            this.whJt().normalize();
            return this;
        },
        whJt: function() {
            this.qjPx *= -1;
            this.qjPy *= -1;
            this.qjPz *= -1;
            this.rhLrE();
            return this;
        },
        qeMq: function(v) {
            return this.qjPx * v.qjPx + this.qjPy * v.qjPy + this.qjPz * v.qjPz + this.qjPw * v.qjPw;
        },
        vfMw: function() {
            return this.qjPx * this.qjPx + this.qjPy * this.qjPy + this.qjPz * this.qjPz + this.qjPw * this.qjPw;
        },
        length: function() {
            return Math.sqrt(this.qjPx * this.qjPx + this.qjPy * this.qjPy + this.qjPz * this.qjPz + this.qjPw * this.qjPw);
        },
        normalize: function() {
            var l = this.length();
            if (l === 0) {
                this.qjPx = 0;
                this.qjPy = 0;
                this.qjPz = 0;
                this.qjPw = 1;
            } else {
                l = 1 / l;
                this.qjPx = this.qjPx * l;
                this.qjPy = this.qjPy * l;
                this.qjPz = this.qjPz * l;
                this.qjPw = this.qjPw * l;
            }
            this.rhLrE();
            return this;
        },
        veOs: function(q, p) {
            if (p !== undefined) {
                RFITE.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');
                return this.rgNsB(q, p);
            }
            return this.rgNsB(this, q);
        },
        rgNsB: function(a, b) {
            var qcKy = a.qjPx,
                qcKz = a.qjPy,
                qcJq = a.qjPz,
                qcKx = a.qjPw;
            var qcJs = b.qjPx,
                qcJt = b.qjPy,
                qcJu = b.qjPz,
                qcJr = b.qjPw;
            this.qjPx = qcKy * qcJr + qcKx * qcJs + qcKz * qcJu - qcJq * qcJt;
            this.qjPy = qcKz * qcJr + qcKx * qcJt + qcJq * qcJs - qcKy * qcJu;
            this.qjPz = qcJq * qcJr + qcKx * qcJu + qcKy * qcJt - qcKz * qcJs;
            this.qjPw = qcKx * qcJr - qcKy * qcJs - qcKz * qcJt - qcJq * qcJu;
            this.rhLrE();
            return this;
        },
        riGzG: function(tfKy) {
            RFITE.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');
            return tfKy.riIyD(this);
        },
        shIr: function(qhMr, t) {
            if (t === 0) return this;
            if (t === 1) return this.rjLt(qhMr);
            var x = this.qjPx,
                y = this.qjPy,
                z = this.qjPz,
                w = this.qjPw;
            var zgLs = w * qhMr.qjPw + x * qhMr.qjPx + y * qhMr.qjPy + z * qhMr.qjPz;
            if (zgLs < 0) {
                this.qjPw = -qhMr.qjPw;
                this.qjPx = -qhMr.qjPx;
                this.qjPy = -qhMr.qjPy;
                this.qjPz = -qhMr.qjPz;
                zgLs = -zgLs;
            } else {
                this.rjLt(qhMr);
            }
            if (zgLs >= 1.0) {
                this.qjPw = w;
                this.qjPx = x;
                this.qjPy = y;
                this.qjPz = z;
                return this;
            }
            var wfGr = Math.acos(zgLs);
            var zbPr = Math.sqrt(1.0 - zgLs * zgLs);
            if (Math.abs(zbPr) < 0.001) {
                this.qjPw = 0.5 * (w + this.qjPw);
                this.qjPx = 0.5 * (x + this.qjPx);
                this.qjPy = 0.5 * (y + this.qjPy);
                this.qjPz = 0.5 * (z + this.qjPz);
                return this;
            }
            var thOx = Math.sin((1 - t) * wfGr) / zbPr,
                thOy = Math.sin(t * wfGr) / zbPr;
            this.qjPw = (w * thOx + this.qjPw * thOy);
            this.qjPx = (x * thOx + this.qjPx * thOy);
            this.qjPy = (y * thOx + this.qjPy * thOy);
            this.qjPz = (z * thOx + this.qjPz * thOy);
            this.rhLrE();
            return this;
        },
        scIw: function(xaLy) {
            return (xaLy.qjPx === this.qjPx) && (xaLy.qjPy === this.qjPy) && (xaLy.qjPz === this.qjPz) && (xaLy.qjPw === this.qjPw);
        },
        wfMy: function(array, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            this.qjPx = array[tiOt];
            this.qjPy = array[tiOt + 1];
            this.qjPz = array[tiOt + 2];
            this.qjPw = array[tiOt + 3];
            this.rhLrE();
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.qjPx;
            array[tiOt + 1] = this.qjPy;
            array[tiOt + 2] = this.qjPz;
            array[tiOt + 3] = this.qjPw;
            return array;
        },
        onChange: function(uaGu) {
            this.rhLrE = uaGu;
            return this;
        },
        rhLrE: function() {},
        rbPq: function() {
            return new RFITE.xaly(this.qjPx, this.qjPy, this.qjPz, this.qjPw);
        }
    };
    RFITE.xaly.shIr = function(qhMq, qhMr, qhMt, t) {
        return qhMt.rjLt(qhMq).shIr(qhMr, t);
    };
    RFITE.udoq = function(x, y) {
        this.x = x || 0;
        this.y = y || 0;
    };
    RFITE.udoq.prototype = {
        constructor: RFITE.udoq,
        set: function(x, y) {
            this.x = x;
            this.y = y;
            return this;
        },
        rfIu: function(x) {
            this.x = x;
            return this;
        },
        rfIv: function(y) {
            this.y = y;
            return this;
        },
        zcIu: function(index, value) {
            switch (index) {
                case 0:
                    this.x = value;
                    break;
                case 1:
                    this.y = value;
                    break;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        zfLy: function(index) {
            switch (index) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        rjLt: function(v) {
            this.x = v.x;
            this.y = v.y;
            return this;
        },
        add: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
                return this.xgMr(v, w);
            }
            this.x += v.x;
            this.y += v.y;
            return this;
        },
        wiOs: function(s) {
            this.x += s;
            this.y += s;
            return this;
        },
        xgMr: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            return this;
        },
        sub: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
                return this.yiMs(v, w);
            }
            this.x -= v.x;
            this.y -= v.y;
            return this;
        },
        xjJq: function(s) {
            this.x -= s;
            this.y -= s;
            return this;
        },
        yiMs: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            return this;
        },
        veOs: function(v) {
            this.x *= v.x;
            this.y *= v.y;
            return this;
        },
        riKsH: function(s) {
            this.x *= s;
            this.y *= s;
            return this;
        },
        scLv: function(v) {
            this.x /= v.x;
            this.y /= v.y;
            return this;
        },
        zgGv: function(thIq) {
            if (thIq !== 0) {
                var weHw = 1 / thIq;
                this.x *= weHw;
                this.y *= weHw;
            } else {
                this.x = 0;
                this.y = 0;
            }
            return this;
        },
        min: function(v) {
            if (this.x > v.x) {
                this.x = v.x;
            }
            if (this.y > v.y) {
                this.y = v.y;
            }
            return this;
        },
        max: function(v) {
            if (this.x < v.x) {
                this.x = v.x;
            }
            if (this.y < v.y) {
                this.y = v.y;
            }
            return this;
        },
        rcGt: function(min, max) {
            if (this.x < min.x) {
                this.x = min.x;
            } else if (this.x > max.x) {
                this.x = max.x;
            }
            if (this.y < min.y) {
                this.y = min.y;
            } else if (this.y > max.y) {
                this.y = max.y;
            }
            return this;
        },
        yfKq: (function() {
            var min, max;
            return function(tjJq, tjLv) {
                if (min === undefined) {
                    min = new RFITE.udoq();
                    max = new RFITE.udoq();
                }
                min.set(tjJq, tjJq);
                max.set(tjLv, tjLv);
                return this.rcGt(min, max);
            };
        })(),
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            return this;
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            return this;
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            return this;
        },
        yaJq: function() {
            this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
            return this;
        },
        tjHz: function() {
            this.x = -this.x;
            this.y = -this.y;
            return this;
        },
        qeMq: function(v) {
            return this.x * v.x + this.y * v.y;
        },
        vfMw: function() {
            return this.x * this.x + this.y * this.y;
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y);
        },
        normalize: function() {
            return this.zgGv(this.length());
        },
        xeMv: function(v) {
            return Math.sqrt(this.rhJuC(v));
        },
        rhJuC: function(v) {
            var qjIu = this.x - v.x,
                qjIv = this.y - v.y;
            return qjIu * qjIu + qjIv * qjIv;
        },
        waHq: function(l) {
            var wcJy = this.length();
            if (wcJy !== 0 && l !== wcJy) {
                this.riKsH(l / wcJy);
            }
            return this;
        },
        rhJs: function(v, alpha) {
            this.x += (v.x - this.x) * alpha;
            this.y += (v.y - this.y) * alpha;
            return this;
        },
        ycMw: function(qgPv, qgPw, alpha) {
            this.yiMs(qgPw, qgPv).riKsH(alpha).add(qgPv);
            return this;
        },
        scIw: function(v) {
            return ((v.x === this.x) && (v.y === this.y));
        },
        wfMy: function(array, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            this.x = array[tiOt];
            this.y = array[tiOt + 1];
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.x;
            array[tiOt + 1] = this.y;
            return array;
        },
        rjNrA: function(wiKx, index, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            index = index * wiKx.vfPv + tiOt;
            this.x = wiKx.array[index];
            this.y = wiKx.array[index + 1];
            return this;
        },
        rbPq: function() {
            return new RFITE.udoq(this.x, this.y);
        }
    };
    RFITE.udor = function(x, y, z) {
        this.x = x || 0;
        this.y = y || 0;
        this.z = z || 0;
    };
    RFITE.udor.prototype = {
        constructor: RFITE.udor,
        set: function(x, y, z) {
            this.x = x;
            this.y = y;
            this.z = z;
            return this;
        },
        rfIu: function(x) {
            this.x = x;
            return this;
        },
        rfIv: function(y) {
            this.y = y;
            return this;
        },
        rfIw: function(z) {
            this.z = z;
            return this;
        },
        zcIu: function(index, value) {
            switch (index) {
                case 0:
                    this.x = value;
                    break;
                case 1:
                    this.y = value;
                    break;
                case 2:
                    this.z = value;
                    break;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        zfLy: function(index) {
            switch (index) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        rjLt: function(v) {
            this.x = v.x;
            this.y = v.y;
            this.z = v.z;
            return this;
        },
        add: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
                return this.xgMr(v, w);
            }
            this.x += v.x;
            this.y += v.y;
            this.z += v.z;
            return this;
        },
        wiOs: function(s) {
            this.x += s;
            this.y += s;
            this.z += s;
            return this;
        },
        xgMr: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            this.z = a.z + b.z;
            return this;
        },
        sub: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
                return this.yiMs(v, w);
            }
            this.x -= v.x;
            this.y -= v.y;
            this.z -= v.z;
            return this;
        },
        xjJq: function(s) {
            this.x -= s;
            this.y -= s;
            this.z -= s;
            return this;
        },
        yiMs: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            this.z = a.z - b.z;
            return this;
        },
        veOs: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');
                return this.riGzE(v, w);
            }
            this.x *= v.x;
            this.y *= v.y;
            this.z *= v.z;
            return this;
        },
        riKsH: function(thIq) {
            this.x *= thIq;
            this.y *= thIq;
            this.z *= thIq;
            return this;
        },
        riGzE: function(a, b) {
            this.x = a.x * b.x;
            this.y = a.y * b.y;
            this.z = a.z * b.z;
            return this;
        },
        xgLu: function() {
            var xaLy;
            return function(rbHs) {
                if (rbHs instanceof RFITE.rbhs === false) {
                    RFITE.error('THREE.Vector3: .applyEuler() now expects a Euler rfIqD rather than a Vector3 and order.');
                }
                if (xaLy === undefined) xaLy = new RFITE.xaly();
                this.riIyD(xaLy.zcHq(rbHs));
                return this;
            };
        }(),
        riNvA: function() {
            var xaLy;
            return function(qaHt, rcOr) {
                if (xaLy === undefined) xaLy = new RFITE.xaly();
                this.riIyD(xaLy.rhLwB(qaHt, rcOr));
                return this;
            };
        }(),
        zhJq: function(m) {
            var x = this.x;
            var y = this.y;
            var z = this.z;
            var e = m.elements;
            this.x = e[0] * x + e[3] * y + e[6] * z;
            this.y = e[1] * x + e[4] * y + e[7] * z;
            this.z = e[2] * x + e[5] * y + e[8] * z;
            return this;
        },
        zhJr: function(m) {
            var x = this.x,
                y = this.y,
                z = this.z;
            var e = m.elements;
            this.x = e[0] * x + e[4] * y + e[8] * z + e[12];
            this.y = e[1] * x + e[5] * y + e[9] * z + e[13];
            this.z = e[2] * x + e[6] * y + e[10] * z + e[14];
            return this;
        },
        riIyF: function(m) {
            var x = this.x,
                y = this.y,
                z = this.z;
            var e = m.elements;
            var d = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);
            this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * d;
            this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * d;
            this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * d;
            return this;
        },
        riIyD: function(q) {
            var x = this.x;
            var y = this.y;
            var z = this.z;
            var qhMw = q.x;
            var qhMx = q.y;
            var qhMy = q.z;
            var qhMv = q.w;
            var qiLt = qhMv * x + qhMx * z - qhMy * y;
            var qiLu = qhMv * y + qhMy * x - qhMw * z;
            var qiLv = qhMv * z + qhMw * y - qhMx * x;
            var qiLs = -qhMw * x - qhMx * y - qhMy * z;
            this.x = qiLt * qhMv + qiLs * -qhMw + qiLu * -qhMy - qiLv * -qhMx;
            this.y = qiLu * qhMv + qiLs * -qhMx + qiLv * -qhMw - qiLt * -qhMy;
            this.z = qiLv * qhMv + qiLs * -qhMy + qiLt * -qhMx - qiLu * -qhMw;
            return this;
        },
        ugOu: function() {
            var tjLs;
            return function(sdNw) {
                if (tjLs === undefined) tjLs = new RFITE.uilr();
                tjLs.rhLqJ(sdNw.projectionMatrix, tjLs.xdJv(sdNw.ycJs));
                return this.riIyF(tjLs);
            };
        }(),
        xiKu: function() {
            var tjLs;
            return function(sdNw) {
                if (tjLs === undefined) tjLs = new RFITE.uilr();
                tjLs.rhLqJ(sdNw.ycJs, tjLs.xdJv(sdNw.projectionMatrix));
                return this.riIyF(tjLs);
            };
        }(),
        rgPyJ: function(m) {
            var x = this.x,
                y = this.y,
                z = this.z;
            var e = m.elements;
            this.x = e[0] * x + e[4] * y + e[8] * z;
            this.y = e[1] * x + e[5] * y + e[9] * z;
            this.z = e[2] * x + e[6] * y + e[10] * z;
            this.normalize();
            return this;
        },
        scLv: function(v) {
            this.x /= v.x;
            this.y /= v.y;
            this.z /= v.z;
            return this;
        },
        zgGv: function(thIq) {
            if (thIq !== 0) {
                var weHw = 1 / thIq;
                this.x *= weHw;
                this.y *= weHw;
                this.z *= weHw;
            } else {
                this.x = 0;
                this.y = 0;
                this.z = 0;
            }
            return this;
        },
        min: function(v) {
            if (this.x > v.x) {
                this.x = v.x;
            }
            if (this.y > v.y) {
                this.y = v.y;
            }
            if (this.z > v.z) {
                this.z = v.z;
            }
            return this;
        },
        max: function(v) {
            if (this.x < v.x) {
                this.x = v.x;
            }
            if (this.y < v.y) {
                this.y = v.y;
            }
            if (this.z < v.z) {
                this.z = v.z;
            }
            return this;
        },
        rcGt: function(min, max) {
            if (this.x < min.x) {
                this.x = min.x;
            } else if (this.x > max.x) {
                this.x = max.x;
            }
            if (this.y < min.y) {
                this.y = min.y;
            } else if (this.y > max.y) {
                this.y = max.y;
            }
            if (this.z < min.z) {
                this.z = min.z;
            } else if (this.z > max.z) {
                this.z = max.z;
            }
            return this;
        },
        yfKq: (function() {
            var min, max;
            return function(tjJq, tjLv) {
                if (min === undefined) {
                    min = new RFITE.udor();
                    max = new RFITE.udor();
                }
                min.set(tjJq, tjJq, tjJq);
                max.set(tjLv, tjLv, tjLv);
                return this.rcGt(min, max);
            };
        })(),
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.z = Math.floor(this.z);
            return this;
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            this.z = Math.ceil(this.z);
            return this;
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            this.z = Math.round(this.z);
            return this;
        },
        yaJq: function() {
            this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
            this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);
            return this;
        },
        tjHz: function() {
            this.x = -this.x;
            this.y = -this.y;
            this.z = -this.z;
            return this;
        },
        qeMq: function(v) {
            return this.x * v.x + this.y * v.y + this.z * v.z;
        },
        vfMw: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z;
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
        },
        riGvG: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
        },
        normalize: function() {
            return this.zgGv(this.length());
        },
        waHq: function(l) {
            var wcJy = this.length();
            if (wcJy !== 0 && l !== wcJy) {
                this.riKsH(l / wcJy);
            }
            return this;
        },
        rhJs: function(v, alpha) {
            this.x += (v.x - this.x) * alpha;
            this.y += (v.y - this.y) * alpha;
            this.z += (v.z - this.z) * alpha;
            return this;
        },
        ycMw: function(qgPv, qgPw, alpha) {
            this.yiMs(qgPw, qgPv).riKsH(alpha).add(qgPv);
            return this;
        },
        rbOw: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');
                return this.zgKq(v, w);
            }
            var x = this.x,
                y = this.y,
                z = this.z;
            this.x = y * v.z - z * v.y;
            this.y = z * v.x - x * v.z;
            this.z = x * v.y - y * v.x;
            return this;
        },
        zgKq: function(a, b) {
            var qjNv = a.x,
                qjNw = a.y,
                qjNx = a.z;
            var qjLr = b.x,
                qjLs = b.y,
                qjLt = b.z;
            this.x = qjNw * qjLt - qjNx * qjLs;
            this.y = qjNx * qjLr - qjNv * qjLt;
            this.z = qjNv * qjLs - qjNw * qjLr;
            return this;
        },
        rhPwK: function() {
            var qgPv, qeMq;
            return function(tfKy) {
                if (qgPv === undefined) qgPv = new RFITE.udor();
                qgPv.rjLt(tfKy).normalize();
                qeMq = this.qeMq(qgPv);
                return this.rjLt(qgPv).riKsH(qeMq);
            };
        }(),
        riKyC: function() {
            var qgPv;
            return function(ybJz) {
                if (qgPv === undefined) qgPv = new RFITE.udor();
                qgPv.rjLt(this).rhPwK(ybJz);
                return this.sub(qgPv);
            }
        }(),
        ugKv: function() {
            var qgPv;
            return function(normal) {
                if (qgPv === undefined) qgPv = new RFITE.udor();
                return this.sub(qgPv.rjLt(normal).riKsH(2 * this.qeMq(normal)));
            }
        }(),
        tdPy: function(v) {
            var sgMy = this.qeMq(v) / (this.length() * v.length());
            return Math.acos(RFITE.Math.rcGt(sgMy, -1, 1));
        },
        xeMv: function(v) {
            return Math.sqrt(this.rhJuC(v));
        },
        rhJuC: function(v) {
            var qjIu = this.x - v.x;
            var qjIv = this.y - v.y;
            var qjIw = this.z - v.z;
            return qjIu * qjIu + qjIv * qjIv + qjIw * qjIw;
        },
        rgGuD: function(m, order) {
            RFITE.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');
        },
        rgIsJ: function(q, order) {
            RFITE.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');
        },
        rgKuK: function(m) {
            RFITE.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');
            return this.rgJqA(m);
        },
        rhGuE: function(m) {
            RFITE.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');
            return this.rgPuC(m);
        },
        rgOyF: function(index, tjLs) {
            RFITE.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');
            return this.rgNwD(index, tjLs);
        },
        rgJqA: function(m) {
            this.x = m.elements[12];
            this.y = m.elements[13];
            this.z = m.elements[14];
            return this;
        },
        rgPuC: function(m) {
            var qhIs = this.set(m.elements[0], m.elements[1], m.elements[2]).length();
            var qhIt = this.set(m.elements[4], m.elements[5], m.elements[6]).length();
            var qhIu = this.set(m.elements[8], m.elements[9], m.elements[10]).length();
            this.x = qhIs;
            this.y = qhIt;
            this.z = qhIu;
            return this;
        },
        rgNwD: function(index, tjLs) {
            var tiOt = index * 4;
            var qiIq = tjLs.elements;
            this.x = qiIq[tiOt];
            this.y = qiIq[tiOt + 1];
            this.z = qiIq[tiOt + 2];
            return this;
        },
        scIw: function(v) {
            return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));
        },
        wfMy: function(array, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            this.x = array[tiOt];
            this.y = array[tiOt + 1];
            this.z = array[tiOt + 2];
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.x;
            array[tiOt + 1] = this.y;
            array[tiOt + 2] = this.z;
            return array;
        },
        rjNrA: function(wiKx, index, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            index = index * wiKx.vfPv + tiOt;
            this.x = wiKx.array[index];
            this.y = wiKx.array[index + 1];
            this.z = wiKx.array[index + 2];
            return this;
        },
        rbPq: function() {
            return new RFITE.udor(this.x, this.y, this.z);
        }
    };
    RFITE.udos = function(x, y, z, w) {
        this.x = x || 0;
        this.y = y || 0;
        this.z = z || 0;
        this.w = (w !== undefined) ? w : 1;
    };
    RFITE.udos.prototype = {
        constructor: RFITE.udos,
        set: function(x, y, z, w) {
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
            return this;
        },
        rfIu: function(x) {
            this.x = x;
            return this;
        },
        rfIv: function(y) {
            this.y = y;
            return this;
        },
        rfIw: function(z) {
            this.z = z;
            return this;
        },
        rfIt: function(w) {
            this.w = w;
            return this;
        },
        zcIu: function(index, value) {
            switch (index) {
                case 0:
                    this.x = value;
                    break;
                case 1:
                    this.y = value;
                    break;
                case 2:
                    this.z = value;
                    break;
                case 3:
                    this.w = value;
                    break;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        zfLy: function(index) {
            switch (index) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                case 3:
                    return this.w;
                default:
                    throw new Error('index is out of range: ' + index);
            }
        },
        rjLt: function(v) {
            this.x = v.x;
            this.y = v.y;
            this.z = v.z;
            this.w = (v.w !== undefined) ? v.w : 1;
            return this;
        },
        add: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
                return this.xgMr(v, w);
            }
            this.x += v.x;
            this.y += v.y;
            this.z += v.z;
            this.w += v.w;
            return this;
        },
        wiOs: function(s) {
            this.x += s;
            this.y += s;
            this.z += s;
            this.w += s;
            return this;
        },
        xgMr: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            this.z = a.z + b.z;
            this.w = a.w + b.w;
            return this;
        },
        sub: function(v, w) {
            if (w !== undefined) {
                RFITE.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
                return this.yiMs(v, w);
            }
            this.x -= v.x;
            this.y -= v.y;
            this.z -= v.z;
            this.w -= v.w;
            return this;
        },
        xjJq: function(s) {
            this.x -= s;
            this.y -= s;
            this.z -= s;
            this.w -= s;
            return this;
        },
        yiMs: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            this.z = a.z - b.z;
            this.w = a.w - b.w;
            return this;
        },
        riKsH: function(thIq) {
            this.x *= thIq;
            this.y *= thIq;
            this.z *= thIq;
            this.w *= thIq;
            return this;
        },
        zhJr: function(m) {
            var x = this.x;
            var y = this.y;
            var z = this.z;
            var w = this.w;
            var e = m.elements;
            this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;
            this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;
            this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;
            this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;
            return this;
        },
        zgGv: function(thIq) {
            if (thIq !== 0) {
                var weHw = 1 / thIq;
                this.x *= weHw;
                this.y *= weHw;
                this.z *= weHw;
                this.w *= weHw;
            } else {
                this.x = 0;
                this.y = 0;
                this.z = 0;
                this.w = 1;
            }
            return this;
        },
        rgGuE: function(q) {
            this.w = 2 * Math.acos(q.w);
            var s = Math.sqrt(1 - q.w * q.w);
            if (s < 0.0001) {
                this.x = 1;
                this.y = 0;
                this.z = 0;
            } else {
                this.x = q.x / s;
                this.y = q.y / s;
                this.z = q.z / s;
            }
            return this;
        },
        rfPsJ: function(m) {
            var rcOr, x, y, z, tbKv = 0.01,
                viHu = 0.1,
                qhHq = m.elements,
                qdKq = qhHq[0],
                qdKr = qhHq[4],
                qdKs = qhHq[8],
                qdKt = qhHq[1],
                qdKu = qhHq[5],
                qdKv = qhHq[9],
                qdKw = qhHq[2],
                qdKx = qhHq[6],
                qdKy = qhHq[10];
            if ((Math.abs(qdKr - qdKt) < tbKv) && (Math.abs(qdKs - qdKw) < tbKv) && (Math.abs(qdKv - qdKx) < tbKv)) {
                if ((Math.abs(qdKr + qdKt) < viHu) && (Math.abs(qdKs + qdKw) < viHu) && (Math.abs(qdKv + qdKx) < viHu) && (Math.abs(qdKq + qdKu + qdKy - 3) < viHu)) {
                    this.set(1, 0, 0, 0);
                    return this;
                }
                rcOr = Math.PI;
                var qgLz = (qdKq + 1) / 2;
                var qgJt = (qdKu + 1) / 2;
                var qgIq = (qdKy + 1) / 2;
                var qgKq = (qdKr + qdKt) / 4;
                var qgKr = (qdKs + qdKw) / 4;
                var qgJu = (qdKv + qdKx) / 4;
                if ((qgLz > qgJt) && (qgLz > qgIq)) {
                    if (qgLz < tbKv) {
                        x = 0;
                        y = 0.707106781;
                        z = 0.707106781;
                    } else {
                        x = Math.sqrt(qgLz);
                        y = qgKq / x;
                        z = qgKr / x;
                    }
                } else if (qgJt > qgIq) {
                    if (qgJt < tbKv) {
                        x = 0.707106781;
                        y = 0;
                        z = 0.707106781;
                    } else {
                        y = Math.sqrt(qgJt);
                        x = qgKq / y;
                        z = qgJu / y;
                    }
                } else {
                    if (qgIq < tbKv) {
                        x = 0.707106781;
                        y = 0.707106781;
                        z = 0;
                    } else {
                        z = Math.sqrt(qgIq);
                        x = qgKr / z;
                        y = qgJu / z;
                    }
                }
                this.set(x, y, z, rcOr);
                return this;
            }
            var s = Math.sqrt((qdKx - qdKv) * (qdKx - qdKv) + (qdKs - qdKw) * (qdKs - qdKw) + (qdKt - qdKr) * (qdKt - qdKr));
            if (Math.abs(s) < 0.001) s = 1;
            this.x = (qdKx - qdKv) / s;
            this.y = (qdKs - qdKw) / s;
            this.z = (qdKt - qdKr) / s;
            this.w = Math.acos((qdKq + qdKu + qdKy - 1) / 2);
            return this;
        },
        min: function(v) {
            if (this.x > v.x) {
                this.x = v.x;
            }
            if (this.y > v.y) {
                this.y = v.y;
            }
            if (this.z > v.z) {
                this.z = v.z;
            }
            if (this.w > v.w) {
                this.w = v.w;
            }
            return this;
        },
        max: function(v) {
            if (this.x < v.x) {
                this.x = v.x;
            }
            if (this.y < v.y) {
                this.y = v.y;
            }
            if (this.z < v.z) {
                this.z = v.z;
            }
            if (this.w < v.w) {
                this.w = v.w;
            }
            return this;
        },
        rcGt: function(min, max) {
            if (this.x < min.x) {
                this.x = min.x;
            } else if (this.x > max.x) {
                this.x = max.x;
            }
            if (this.y < min.y) {
                this.y = min.y;
            } else if (this.y > max.y) {
                this.y = max.y;
            }
            if (this.z < min.z) {
                this.z = min.z;
            } else if (this.z > max.z) {
                this.z = max.z;
            }
            if (this.w < min.w) {
                this.w = min.w;
            } else if (this.w > max.w) {
                this.w = max.w;
            }
            return this;
        },
        yfKq: (function() {
            var min, max;
            return function(tjJq, tjLv) {
                if (min === undefined) {
                    min = new RFITE.udos();
                    max = new RFITE.udos();
                }
                min.set(tjJq, tjJq, tjJq, tjJq);
                max.set(tjLv, tjLv, tjLv, tjLv);
                return this.rcGt(min, max);
            };
        })(),
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.z = Math.floor(this.z);
            this.w = Math.floor(this.w);
            return this;
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            this.z = Math.ceil(this.z);
            this.w = Math.ceil(this.w);
            return this;
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            this.z = Math.round(this.z);
            this.w = Math.round(this.w);
            return this;
        },
        yaJq: function() {
            this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
            this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);
            this.w = (this.w < 0) ? Math.ceil(this.w) : Math.floor(this.w);
            return this;
        },
        tjHz: function() {
            this.x = -this.x;
            this.y = -this.y;
            this.z = -this.z;
            this.w = -this.w;
            return this;
        },
        qeMq: function(v) {
            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;
        },
        vfMw: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
        },
        riGvG: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
        },
        normalize: function() {
            return this.zgGv(this.length());
        },
        waHq: function(l) {
            var wcJy = this.length();
            if (wcJy !== 0 && l !== wcJy) {
                this.riKsH(l / wcJy);
            }
            return this;
        },
        rhJs: function(v, alpha) {
            this.x += (v.x - this.x) * alpha;
            this.y += (v.y - this.y) * alpha;
            this.z += (v.z - this.z) * alpha;
            this.w += (v.w - this.w) * alpha;
            return this;
        },
        ycMw: function(qgPv, qgPw, alpha) {
            this.yiMs(qgPw, qgPv).riKsH(alpha).add(qgPv);
            return this;
        },
        scIw: function(v) {
            return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z) && (v.w === this.w));
        },
        wfMy: function(array, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            this.x = array[tiOt];
            this.y = array[tiOt + 1];
            this.z = array[tiOt + 2];
            this.w = array[tiOt + 3];
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.x;
            array[tiOt + 1] = this.y;
            array[tiOt + 2] = this.z;
            array[tiOt + 3] = this.w;
            return array;
        },
        rjNrA: function(wiKx, index, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            index = index * wiKx.vfPv + tiOt;
            this.x = wiKx.array[index];
            this.y = wiKx.array[index + 1];
            this.z = wiKx.array[index + 2];
            this.w = wiKx.array[index + 3];
            return this;
        },
        rbPq: function() {
            return new RFITE.udos(this.x, this.y, this.z, this.w);
        }
    };
    RFITE.rbhs = function(x, y, z, order) {
        this.qjPx = x || 0;
        this.qjPy = y || 0;
        this.qjPz = z || 0;
        this.sfHw = order || RFITE.rbhs.zgix;
    };
    RFITE.rbhs.rijrf = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];
    RFITE.rbhs.zgix = 'XYZ';
    RFITE.rbhs.prototype = {
        constructor: RFITE.rbhs,
        qjPx: 0,
        qjPy: 0,
        qjPz: 0,
        sfHw: RFITE.rbhs.zgix,
        get x() {
            return this.qjPx;
        },
        set x(value) {
            this.qjPx = value;
            this.rhLrE();
        },
        get y() {
            return this.qjPy;
        },
        set y(value) {
            this.qjPy = value;
            this.rhLrE();
        },
        get z() {
            return this.qjPz;
        },
        set z(value) {
            this.qjPz = value;
            this.rhLrE();
        },
        get order() {
            return this.sfHw;
        },
        set order(value) {
            this.sfHw = value;
            this.rhLrE();
        },
        set: function(x, y, z, order) {
            this.qjPx = x;
            this.qjPy = y;
            this.qjPz = z;
            this.sfHw = order || this.sfHw;
            this.rhLrE();
            return this;
        },
        rjLt: function(rbHs) {
            this.qjPx = rbHs.qjPx;
            this.qjPy = rbHs.qjPy;
            this.qjPz = rbHs.qjPz;
            this.sfHw = rbHs.sfHw;
            this.rhLrE();
            return this;
        },
        rgJrK: function(m, order, update) {
            var rcGt = RFITE.Math.rcGt;
            var qhHq = m.elements;
            var qdKq = qhHq[0],
                qdKr = qhHq[4],
                qdKs = qhHq[8];
            var qdKt = qhHq[1],
                qdKu = qhHq[5],
                qdKv = qhHq[9];
            var qdKw = qhHq[2],
                qdKx = qhHq[6],
                qdKy = qhHq[10];
            order = order || this.sfHw;
            if (order === 'XYZ') {
                this.qjPy = Math.asin(rcGt(qdKs, -1, 1));
                if (Math.abs(qdKs) < 0.99999) {
                    this.qjPx = Math.atan2(-qdKv, qdKy);
                    this.qjPz = Math.atan2(-qdKr, qdKq);
                } else {
                    this.qjPx = Math.atan2(qdKx, qdKu);
                    this.qjPz = 0;
                }
            } else if (order === 'YXZ') {
                this.qjPx = Math.asin(-rcGt(qdKv, -1, 1));
                if (Math.abs(qdKv) < 0.99999) {
                    this.qjPy = Math.atan2(qdKs, qdKy);
                    this.qjPz = Math.atan2(qdKt, qdKu);
                } else {
                    this.qjPy = Math.atan2(-qdKw, qdKq);
                    this.qjPz = 0;
                }
            } else if (order === 'ZXY') {
                this.qjPx = Math.asin(rcGt(qdKx, -1, 1));
                if (Math.abs(qdKx) < 0.99999) {
                    this.qjPy = Math.atan2(-qdKw, qdKy);
                    this.qjPz = Math.atan2(-qdKr, qdKu);
                } else {
                    this.qjPy = 0;
                    this.qjPz = Math.atan2(qdKt, qdKq);
                }
            } else if (order === 'ZYX') {
                this.qjPy = Math.asin(-rcGt(qdKw, -1, 1));
                if (Math.abs(qdKw) < 0.99999) {
                    this.qjPx = Math.atan2(qdKx, qdKy);
                    this.qjPz = Math.atan2(qdKt, qdKq);
                } else {
                    this.qjPx = 0;
                    this.qjPz = Math.atan2(-qdKr, qdKu);
                }
            } else if (order === 'YZX') {
                this.qjPz = Math.asin(rcGt(qdKt, -1, 1));
                if (Math.abs(qdKt) < 0.99999) {
                    this.qjPx = Math.atan2(-qdKv, qdKu);
                    this.qjPy = Math.atan2(-qdKw, qdKq);
                } else {
                    this.qjPx = 0;
                    this.qjPy = Math.atan2(qdKs, qdKy);
                }
            } else if (order === 'XZY') {
                this.qjPz = Math.asin(-rcGt(qdKr, -1, 1));
                if (Math.abs(qdKr) < 0.99999) {
                    this.qjPx = Math.atan2(qdKx, qdKu);
                    this.qjPy = Math.atan2(qdKs, qdKq);
                } else {
                    this.qjPx = Math.atan2(-qdKv, qdKy);
                    this.qjPy = 0;
                }
            } else {
                RFITE.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order)
            }
            this.sfHw = order;
            if (update !== false) this.rhLrE();
            return this;
        },
        rhIyK: function() {
            var tjLs;
            return function(q, order, update) {
                if (tjLs === undefined) tjLs = new RFITE.uilr();
                tjLs.rgGtD(q);
                this.rgJrK(tjLs, order, update);
                return this;
            };
        }(),
        riJtK: function(v, order) {
            return this.set(v.x, v.y, v.z, order || this.sfHw);
        },
        ugIs: function() {
            var q = new RFITE.xaly();
            return function(veNv) {
                q.zcHq(this);
                this.rhIyK(q, veNv);
            };
        }(),
        scIw: function(rbHs) {
            return (rbHs.qjPx === this.qjPx) && (rbHs.qjPy === this.qjPy) && (rbHs.qjPz === this.qjPz) && (rbHs.sfHw === this.sfHw);
        },
        wfMy: function(array) {
            this.qjPx = array[0];
            this.qjPy = array[1];
            this.qjPz = array[2];
            if (array[3] !== undefined) this.sfHw = array[3];
            this.rhLrE();
            return this;
        },
        ueKr: function(array, tiOt) {
            if (array === undefined) array = [];
            if (tiOt === undefined) tiOt = 0;
            array[tiOt] = this.qjPx;
            array[tiOt + 1] = this.qjPy;
            array[tiOt + 2] = this.qjPz;
            array[tiOt + 3] = this.sfHw;
            return array;
        },
        xiNs: function(riKvJ) {
            if (riKvJ) {
                return riKvJ.set(this.qjPx, this.qjPy, this.qjPz);
            } else {
                return new RFITE.udor(this.qjPx, this.qjPy, this.qjPz);
            }
        },
        onChange: function(uaGu) {
            this.rhLrE = uaGu;
            return this;
        },
        rhLrE: function() {},
        rbPq: function() {
            return new RFITE.rbhs(this.qjPx, this.qjPy, this.qjPz, this.sfHw);
        }
    };
    RFITE.sjlw = function(rfIsA, rfOxC) {
        this.rfIsA = (rfIsA !== undefined) ? rfIsA : new RFITE.udor();
        this.rfOxC = (rfOxC !== undefined) ? rfOxC : new RFITE.udor();
    };
    RFITE.sjlw.prototype = {
        constructor: RFITE.sjlw,
        set: function(rfIsA, rfOxC) {
            this.rfIsA.rjLt(rfIsA);
            this.rfOxC.rjLt(rfOxC);
            return this;
        },
        rjLt: function(rhJz) {
            this.rfIsA.rjLt(rhJz.rfIsA);
            this.rfOxC.rjLt(rhJz.rfOxC);
            return this;
        },
        rfOsH: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.xgMr(this.rfIsA, this.rfOxC).riKsH(0.5);
        },
        rbMt: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.yiMs(this.rfOxC, this.rfIsA);
        },
        xeMu: function() {
            return this.rfIsA.rhJuC(this.rfOxC);
        },
        viLy: function() {
            return this.rfIsA.xeMv(this.rfOxC);
        },
        qjNu: function(t, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return this.rbMt(thLx).riKsH(t).add(this.rfIsA);
        },
        rgGyK: function() {
            var tgKr = new RFITE.udor();
            var vbJu = new RFITE.udor();
            return function(point, yfKr) {
                tgKr.yiMs(point, this.rfIsA);
                vbJu.yiMs(this.rfOxC, this.rfIsA);
                var xjLq = vbJu.qeMq(vbJu);
                var rhOrG = vbJu.qeMq(tgKr);
                var t = rhOrG / xjLq;
                if (yfKr) {
                    t = RFITE.Math.rcGt(t, 0, 1);
                }
                return t;
            };
        }(),
        rgOvG: function(point, yfKr, riKvH) {
            var t = this.rgGyK(point, yfKr);
            var thLx = riKvH || new RFITE.udor();
            return this.rbMt(thLx).riKsH(t).add(this.rfIsA);
        },
        zhJr: function(tjLs) {
            this.rfIsA.zhJr(tjLs);
            this.rfOxC.zhJr(tjLs);
            return this;
        },
        scIw: function(rhJz) {
            return rhJz.rfIsA.scIw(this.rfIsA) && rhJz.rfOxC.scIw(this.rfOxC);
        },
        rbPq: function() {
            return new RFITE.sjlw().rjLt(this);
        }
    };
    RFITE.rjoz = function(min, max) {
        this.min = (min !== undefined) ? min : new RFITE.udoq(Infinity, Infinity);
        this.max = (max !== undefined) ? max : new RFITE.udoq(-Infinity, -Infinity);
    };
    RFITE.rjoz.prototype = {
        constructor: RFITE.rjoz,
        set: function(min, max) {
            this.min.rjLt(min);
            this.max.rjLt(max);
            return this;
        },
        rjKrC: function(tiHx) {
            this.wdJy();
            for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                this.rjOzD(tiHx[i])
            }
            return this;
        },
        rgLvG: function() {
            var qgPv = new RFITE.udoq();
            return function(rfOsH, size) {
                var vgOw = qgPv.rjLt(size).riKsH(0.5);
                this.min.rjLt(rfOsH).sub(vgOw);
                this.max.rjLt(rfOsH).add(vgOw);
                return this;
            };
        }(),
        rjLt: function(rfPxD) {
            this.min.rjLt(rfPxD.min);
            this.max.rjLt(rfPxD.max);
            return this;
        },
        wdJy: function() {
            this.min.x = this.min.y = Infinity;
            this.max.x = this.max.y = -Infinity;
            return this;
        },
        rbIv: function() {
            return (this.max.x < this.min.x) || (this.max.y < this.min.y);
        },
        rfOsH: function(riKvH) {
            var thLx = riKvH || new RFITE.udoq();
            return thLx.xgMr(this.min, this.max).riKsH(0.5);
        },
        size: function(riKvH) {
            var thLx = riKvH || new RFITE.udoq();
            return thLx.yiMs(this.max, this.min);
        },
        rjOzD: function(point) {
            this.min.min(point);
            this.max.max(point);
            return this;
        },
        riMxK: function(tfKy) {
            this.min.sub(tfKy);
            this.max.add(tfKy);
            return this;
        },
        riMwA: function(thIq) {
            this.min.wiOs(-thIq);
            this.max.wiOs(thIq);
            return this;
        },
        rjOrC: function(point) {
            if (point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y) {
                return false;
            }
            return true;
        },
        yfIx: function(rfPxD) {
            if ((this.min.x <= rfPxD.min.x) && (rfPxD.max.x <= this.max.x) && (this.min.y <= rfPxD.min.y) && (rfPxD.max.y <= this.max.y)) {
                return true;
            }
            return false;
        },
        zfJt: function(point, riKvH) {
            var thLx = riKvH || new RFITE.udoq();
            return thLx.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));
        },
        rhJzC: function(rfPxD) {
            if (rfPxD.max.x < this.min.x || rfPxD.min.x > this.max.x || rfPxD.max.y < this.min.y || rfPxD.min.y > this.max.y) {
                return false;
            }
            return true;
        },
        xfNu: function(point, riKvH) {
            var thLx = riKvH || new RFITE.udoq();
            return thLx.rjLt(point).rcGt(this.min, this.max);
        },
        riHxF: function() {
            var qgPv = new RFITE.udoq();
            return function(point) {
                var zgOx = qgPv.rjLt(point).rcGt(this.min, this.max);
                return zgOx.sub(point).length();
            };
        }(),
        weHq: function(rfPxD) {
            this.min.max(rfPxD.min);
            this.max.min(rfPxD.max);
            return this;
        },
        sgHx: function(rfPxD) {
            this.min.min(rfPxD.min);
            this.max.max(rfPxD.max);
            return this;
        },
        translate: function(tiOt) {
            this.min.add(tiOt);
            this.max.add(tiOt);
            return this;
        },
        scIw: function(rfPxD) {
            return rfPxD.min.scIw(this.min) && rfPxD.max.scIw(this.max);
        },
        rbPq: function() {
            return new RFITE.rjoz().rjLt(this);
        }
    };
    RFITE.rjnq = function(min, max) {
        this.min = (min !== undefined) ? min : new RFITE.udor(Infinity, Infinity, Infinity);
        this.max = (max !== undefined) ? max : new RFITE.udor(-Infinity, -Infinity, -Infinity);
    };
    RFITE.rjnq.prototype = {
        constructor: RFITE.rjnq,
        set: function(min, max) {
            this.min.rjLt(min);
            this.max.rjLt(max);
            return this;
        },
        rjKrC: function(tiHx) {
            this.wdJy();
            for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                this.rjOzD(tiHx[i])
            }
            return this;
        },
        rgLvG: function() {
            var qgPv = new RFITE.udor();
            return function(rfOsH, size) {
                var vgOw = qgPv.rjLt(size).riKsH(0.5);
                this.min.rjLt(rfOsH).sub(vgOw);
                this.max.rjLt(rfOsH).add(vgOw);
                return this;
            };
        }(),
        rjKrD: function() {
            var qgPv = new RFITE.udor();
            return function(object) {
                var shMr = this;
                object.rhHsG(true);
                this.wdJy();
                object.vaLx(function(rgLw) {
                    var vhHr = rgLw.vhHr;
                    if (vhHr !== undefined) {
                        if (vhHr instanceof RFITE.vhhr) {
                            var wjPq = vhHr.wjPq;
                            for (var i = 0, qiMv = wjPq.length; i < qiMv; i++) {
                                qgPv.rjLt(wjPq[i]);
                                qgPv.zhJr(rgLw.ycJs);
                                shMr.rjOzD(qgPv);
                            }
                        } else if (vhHr instanceof RFITE.rinyf && vhHr.attributes['position'] !== undefined) {
                            var wbKs = vhHr.attributes['position'].array;
                            for (var i = 0, qiMv = wbKs.length; i < qiMv; i += 3) {
                                qgPv.set(wbKs[i], wbKs[i + 1], wbKs[i + 2]);
                                qgPv.zhJr(rgLw.ycJs);
                                shMr.rjOzD(qgPv);
                            }
                        }
                    }
                });
                return this;
            };
        }(),
        rjLt: function(rfPxD) {
            this.min.rjLt(rfPxD.min);
            this.max.rjLt(rfPxD.max);
            return this;
        },
        wdJy: function() {
            this.min.x = this.min.y = this.min.z = Infinity;
            this.max.x = this.max.y = this.max.z = -Infinity;
            return this;
        },
        rbIv: function() {
            return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);
        },
        rfOsH: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.xgMr(this.min, this.max).riKsH(0.5);
        },
        size: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.yiMs(this.max, this.min);
        },
        rjOzD: function(point) {
            this.min.min(point);
            this.max.max(point);
            return this;
        },
        riMxK: function(tfKy) {
            this.min.sub(tfKy);
            this.max.add(tfKy);
            return this;
        },
        riMwA: function(thIq) {
            this.min.wiOs(-thIq);
            this.max.wiOs(thIq);
            return this;
        },
        rjOrC: function(point) {
            if (point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z) {
                return false;
            }
            return true;
        },
        yfIx: function(rfPxD) {
            if ((this.min.x <= rfPxD.min.x) && (rfPxD.max.x <= this.max.x) && (this.min.y <= rfPxD.min.y) && (rfPxD.max.y <= this.max.y) && (this.min.z <= rfPxD.min.z) && (rfPxD.max.z <= this.max.z)) {
                return true;
            }
            return false;
        },
        zfJt: function(point, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));
        },
        rhJzC: function(rfPxD) {
            if (rfPxD.max.x < this.min.x || rfPxD.min.x > this.max.x || rfPxD.max.y < this.min.y || rfPxD.min.y > this.max.y || rfPxD.max.z < this.min.z || rfPxD.min.z > this.max.z) {
                return false;
            }
            return true;
        },
        xfNu: function(point, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.rjLt(point).rcGt(this.min, this.max);
        },
        riHxF: function() {
            var qgPv = new RFITE.udor();
            return function(point) {
                var zgOx = qgPv.rjLt(point).rcGt(this.min, this.max);
                return zgOx.sub(point).length();
            };
        }(),
        rhJwA: function() {
            var qgPv = new RFITE.udor();
            return function(riKvH) {
                var thLx = riKvH || new RFITE.tglq();
                thLx.rfOsH = this.rfOsH();
                thLx.thOs = this.size(qgPv).length() * 0.5;
                return thLx;
            };
        }(),
        weHq: function(rfPxD) {
            this.min.max(rfPxD.min);
            this.max.min(rfPxD.max);
            return this;
        },
        sgHx: function(rfPxD) {
            this.min.min(rfPxD.min);
            this.max.max(rfPxD.max);
            return this;
        },
        zhJr: function() {
            var tiHx = [new RFITE.udor(), new RFITE.udor(), new RFITE.udor(), new RFITE.udor(), new RFITE.udor(), new RFITE.udor(), new RFITE.udor(), new RFITE.udor()];
            return function(tjLs) {
                tiHx[0].set(this.min.x, this.min.y, this.min.z).zhJr(tjLs);
                tiHx[1].set(this.min.x, this.min.y, this.max.z).zhJr(tjLs);
                tiHx[2].set(this.min.x, this.max.y, this.min.z).zhJr(tjLs);
                tiHx[3].set(this.min.x, this.max.y, this.max.z).zhJr(tjLs);
                tiHx[4].set(this.max.x, this.min.y, this.min.z).zhJr(tjLs);
                tiHx[5].set(this.max.x, this.min.y, this.max.z).zhJr(tjLs);
                tiHx[6].set(this.max.x, this.max.y, this.min.z).zhJr(tjLs);
                tiHx[7].set(this.max.x, this.max.y, this.max.z).zhJr(tjLs);
                this.wdJy();
                this.rjKrC(tiHx);
                return this;
            };
        }(),
        translate: function(tiOt) {
            this.min.add(tiOt);
            this.max.add(tiOt);
            return this;
        },
        scIw: function(rfPxD) {
            return rfPxD.min.scIw(this.min) && rfPxD.max.scIw(this.max);
        },
        rbPq: function() {
            return new RFITE.rjnq().rjLt(this);
        }
    };
    RFITE.uilq = function() {
        this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        if (arguments.length > 0) {
            RFITE.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');
        }
    };
    RFITE.uilq.prototype = {
        constructor: RFITE.uilq,
        set: function(qdHx, qdHy, qdHz, qdGr, qdGs, qdGt, qdGv, qdGw, qdGx) {
            var qhHq = this.elements;
            qhHq[0] = qdHx;
            qhHq[3] = qdHy;
            qhHq[6] = qdHz;
            qhHq[1] = qdGr;
            qhHq[4] = qdGs;
            qhHq[7] = qdGt;
            qhHq[2] = qdGv;
            qhHq[5] = qdGw;
            qhHq[8] = qdGx;
            return this;
        },
        vgLq: function() {
            this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);
            return this;
        },
        rjLt: function(m) {
            var qiIq = m.elements;
            this.set(qiIq[0], qiIq[3], qiIq[6], qiIq[1], qiIq[4], qiIq[7], qiIq[2], qiIq[5], qiIq[8]);
            return this;
        },
        riGzG: function(tfKy) {
            RFITE.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');
            return tfKy.zhJq(this);
        },
        rgLsH: function(a) {
            RFITE.warn('THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');
            return this.rgOuE(a);
        },
        rgOuE: function() {
            var qgPv = new RFITE.udor();
            return function(array, tiOt, length) {
                if (tiOt === undefined) tiOt = 0;
                if (length === undefined) length = array.length;
                for (var i = 0, j = tiOt; i < length; i += 3, j += 3) {
                    qgPv.x = array[j];
                    qgPv.y = array[j + 1];
                    qgPv.z = array[j + 2];
                    qgPv.zhJq(this);
                    array[j] = qgPv.x;
                    array[j + 1] = qgPv.y;
                    array[j + 2] = qgPv.z;
                }
                return array;
            };
        }(),
        riKsH: function(s) {
            var qhHq = this.elements;
            qhHq[0] *= s;
            qhHq[3] *= s;
            qhHq[6] *= s;
            qhHq[1] *= s;
            qhHq[4] *= s;
            qhHq[7] *= s;
            qhHq[2] *= s;
            qhHq[5] *= s;
            qhHq[8] *= s;
            return this;
        },
        yeMv: function() {
            var qhHq = this.elements;
            var a = qhHq[0],
                b = qhHq[1],
                c = qhHq[2],
                d = qhHq[3],
                e = qhHq[4],
                f = qhHq[5],
                g = qhHq[6],
                h = qhHq[7],
                i = qhHq[8];
            return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;
        },
        xdJv: function(tjLs, rhHrG) {
            var qiIq = tjLs.elements;
            var qhHq = this.elements;
            qhHq[0] = qiIq[10] * qiIq[5] - qiIq[6] * qiIq[9];
            qhHq[1] = -qiIq[10] * qiIq[1] + qiIq[2] * qiIq[9];
            qhHq[2] = qiIq[6] * qiIq[1] - qiIq[2] * qiIq[5];
            qhHq[3] = -qiIq[10] * qiIq[4] + qiIq[6] * qiIq[8];
            qhHq[4] = qiIq[10] * qiIq[0] - qiIq[2] * qiIq[8];
            qhHq[5] = -qiIq[6] * qiIq[0] + qiIq[2] * qiIq[4];
            qhHq[6] = qiIq[9] * qiIq[4] - qiIq[5] * qiIq[8];
            qhHq[7] = -qiIq[9] * qiIq[0] + qiIq[1] * qiIq[8];
            qhHq[8] = qiIq[5] * qiIq[0] - qiIq[1] * qiIq[4];
            var qeOz = qiIq[0] * qhHq[0] + qiIq[1] * qhHq[3] + qiIq[2] * qhHq[6];
            if (qeOz === 0) {
                var qdHv = "Matrix3.getInverse(): can't invert matrix, determinant is 0";
                if (rhHrG || false) {
                    throw new Error(qdHv);
                } else {
                    RFITE.warn(qdHv);
                }
                this.vgLq();
                return this;
            }
            this.riKsH(1.0 / qeOz);
            return this;
        },
        xiNv: function() {
            var qbMx, m = this.elements;
            qbMx = m[1];
            m[1] = m[3];
            m[3] = qbMx;
            qbMx = m[2];
            m[2] = m[6];
            m[6] = qbMx;
            qbMx = m[5];
            m[5] = m[7];
            m[7] = qbMx;
            return this;
        },
        rgMxG: function(array, tiOt) {
            var qhHq = this.elements;
            array[tiOt] = qhHq[0];
            array[tiOt + 1] = qhHq[1];
            array[tiOt + 2] = qhHq[2];
            array[tiOt + 3] = qhHq[3];
            array[tiOt + 4] = qhHq[4];
            array[tiOt + 5] = qhHq[5];
            array[tiOt + 6] = qhHq[6];
            array[tiOt + 7] = qhHq[7];
            array[tiOt + 8] = qhHq[8];
            return array;
        },
        riGrA: function(m) {
            this.xdJv(m).xiNv();
            return this;
        },
        rgPyF: function(r) {
            var m = this.elements;
            r[0] = m[0];
            r[1] = m[3];
            r[2] = m[6];
            r[3] = m[1];
            r[4] = m[4];
            r[5] = m[7];
            r[6] = m[2];
            r[7] = m[5];
            r[8] = m[8];
            return this;
        },
        wfMy: function(array) {
            this.elements.set(array);
            return this;
        },
        ueKr: function() {
            var qhHq = this.elements;
            return [qhHq[0], qhHq[1], qhHq[2], qhHq[3], qhHq[4], qhHq[5], qhHq[6], qhHq[7], qhHq[8]];
        },
        rbPq: function() {
            return new RFITE.uilq().wfMy(this.elements);
        }
    };
    RFITE.uilr = function() {
        this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        if (arguments.length > 0) {
            RFITE.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');
        }
    };
    RFITE.uilr.prototype = {
        constructor: RFITE.uilr,
        set: function(qdHx, qdHy, qdHz, qdGq, qdGr, qdGs, qdGt, qdGu, qdGv, qdGw, qdGx, qdGy, qdGz, qcPq, qcPr, qcPs) {
            var qhHq = this.elements;
            qhHq[0] = qdHx;
            qhHq[4] = qdHy;
            qhHq[8] = qdHz;
            qhHq[12] = qdGq;
            qhHq[1] = qdGr;
            qhHq[5] = qdGs;
            qhHq[9] = qdGt;
            qhHq[13] = qdGu;
            qhHq[2] = qdGv;
            qhHq[6] = qdGw;
            qhHq[10] = qdGx;
            qhHq[14] = qdGy;
            qhHq[3] = qdGz;
            qhHq[7] = qcPq;
            qhHq[11] = qcPr;
            qhHq[15] = qcPs;
            return this;
        },
        vgLq: function() {
            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
            return this;
        },
        rjLt: function(m) {
            this.elements.set(m.elements);
            return this;
        },
        riHzJ: function(m) {
            RFITE.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');
            return this.zgMz(m);
        },
        zgMz: function(m) {
            var qhHq = this.elements;
            var qiIq = m.elements;
            qhHq[12] = qiIq[12];
            qhHq[13] = qiIq[13];
            qhHq[14] = qiIq[14];
            return this;
        },
        zfOv: function(sfLv, sfKs, sfKy) {
            var qhHq = this.elements;
            sfLv.set(qhHq[0], qhHq[1], qhHq[2]);
            sfKs.set(qhHq[4], qhHq[5], qhHq[6]);
            sfKy.set(qhHq[8], qhHq[9], qhHq[10]);
            return this;
        },
        wdJx: function(sfLv, sfKs, sfKy) {
            this.set(sfLv.x, sfKs.x, sfKy.x, 0, sfLv.y, sfKs.y, sfKy.y, 0, sfLv.z, sfKs.z, sfKy.z, 0, 0, 0, 0, 1);
            return this;
        },
        riHzH: function() {
            var qgPv = new RFITE.udor();
            return function(m) {
                var qhHq = this.elements;
                var qiIq = m.elements;
                var rfIqA = 1 / qgPv.set(qiIq[0], qiIq[1], qiIq[2]).length();
                var rfIrK = 1 / qgPv.set(qiIq[4], qiIq[5], qiIq[6]).length();
                var thIu = 1 / qgPv.set(qiIq[8], qiIq[9], qiIq[10]).length();
                qhHq[0] = qiIq[0] * rfIqA;
                qhHq[1] = qiIq[1] * rfIqA;
                qhHq[2] = qiIq[2] * rfIqA;
                qhHq[4] = qiIq[4] * rfIrK;
                qhHq[5] = qiIq[5] * rfIrK;
                qhHq[6] = qiIq[6] * rfIrK;
                qhHq[8] = qiIq[8] * thIu;
                qhHq[9] = qiIq[9] * thIu;
                qhHq[10] = qiIq[10] * thIu;
                return this;
            };
        }(),
        rgKwG: function(rbHs) {
            if (rbHs instanceof RFITE.rbhs === false) {
                RFITE.error('THREE.Matrix: .makeRotationFromEuler() now expects a Euler rfIqD rather than a Vector3 and order.');
            }
            var qhHq = this.elements;
            var x = rbHs.x,
                y = rbHs.y,
                z = rbHs.z;
            var a = Math.cos(x),
                b = Math.sin(x);
            var c = Math.cos(y),
                d = Math.sin(y);
            var e = Math.cos(z),
                f = Math.sin(z);
            if (rbHs.order === 'XYZ') {
                var qjOw = a * e,
                    qjOx = a * f,
                    qjMv = b * e,
                    qjMw = b * f;
                qhHq[0] = c * e;
                qhHq[4] = -c * f;
                qhHq[8] = d;
                qhHq[1] = qjOx + qjMv * d;
                qhHq[5] = qjOw - qjMw * d;
                qhHq[9] = -b * c;
                qhHq[2] = qjMw - qjOw * d;
                qhHq[6] = qjMv + qjOx * d;
                qhHq[10] = a * c;
            } else if (rbHs.order === 'YXZ') {
                var qjKq = c * e,
                    qjKr = c * f,
                    qjJu = d * e,
                    qjJv = d * f;
                qhHq[0] = qjKq + qjJv * b;
                qhHq[4] = qjJu * b - qjKr;
                qhHq[8] = a * d;
                qhHq[1] = a * f;
                qhHq[5] = a * e;
                qhHq[9] = -b;
                qhHq[2] = qjKr * b - qjJu;
                qhHq[6] = qjJv + qjKq * b;
                qhHq[10] = a * c;
            } else if (rbHs.order === 'ZXY') {
                var qjKq = c * e,
                    qjKr = c * f,
                    qjJu = d * e,
                    qjJv = d * f;
                qhHq[0] = qjKq - qjJv * b;
                qhHq[4] = -a * f;
                qhHq[8] = qjJu + qjKr * b;
                qhHq[1] = qjKr + qjJu * b;
                qhHq[5] = a * e;
                qhHq[9] = qjJv - qjKq * b;
                qhHq[2] = -a * d;
                qhHq[6] = b;
                qhHq[10] = a * c;
            } else if (rbHs.order === 'ZYX') {
                var qjOw = a * e,
                    qjOx = a * f,
                    qjMv = b * e,
                    qjMw = b * f;
                qhHq[0] = c * e;
                qhHq[4] = qjMv * d - qjOx;
                qhHq[8] = qjOw * d + qjMw;
                qhHq[1] = c * f;
                qhHq[5] = qjMw * d + qjOw;
                qhHq[9] = qjOx * d - qjMv;
                qhHq[2] = -d;
                qhHq[6] = b * c;
                qhHq[10] = a * c;
            } else if (rbHs.order === 'YZX') {
                var qjOu = a * c,
                    qjOv = a * d,
                    qjMt = b * c,
                    qjMu = b * d;
                qhHq[0] = c * e;
                qhHq[4] = qjMu - qjOu * f;
                qhHq[8] = qjMt * f + qjOv;
                qhHq[1] = f;
                qhHq[5] = a * e;
                qhHq[9] = -b * e;
                qhHq[2] = -d * e;
                qhHq[6] = qjOv * f + qjMt;
                qhHq[10] = qjOu - qjMu * f;
            } else if (rbHs.order === 'XZY') {
                var qjOu = a * c,
                    qjOv = a * d,
                    qjMt = b * c,
                    qjMu = b * d;
                qhHq[0] = c * e;
                qhHq[4] = -f;
                qhHq[8] = d * e;
                qhHq[1] = qjOu * f + qjMu;
                qhHq[5] = a * e;
                qhHq[9] = qjOv * f - qjMt;
                qhHq[2] = qjMt * f - qjOv;
                qhHq[6] = b * e;
                qhHq[10] = qjMu * f + qjOu;
            }
            qhHq[3] = 0;
            qhHq[7] = 0;
            qhHq[11] = 0;
            qhHq[12] = 0;
            qhHq[13] = 0;
            qhHq[14] = 0;
            qhHq[15] = 1;
            return this;
        },
        rgGrG: function(q) {
            RFITE.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');
            return this.rgGtD(q);
        },
        rgGtD: function(q) {
            var qhHq = this.elements;
            var x = q.x,
                y = q.y,
                z = q.z,
                w = q.w;
            var qgMw = x + x,
                qgKu = y + y,
                qgJx = z + z;
            var qgLz = x * qgMw,
                qgKq = x * qgKu,
                qgKr = x * qgJx;
            var qgJt = y * qgKu,
                qgJu = y * qgJx,
                qgIq = z * qgJx;
            var qgMr = w * qgMw,
                qgMs = w * qgKu,
                qgMt = w * qgJx;
            qhHq[0] = 1 - (qgJt + qgIq);
            qhHq[4] = qgKq - qgMt;
            qhHq[8] = qgKr + qgMs;
            qhHq[1] = qgKq + qgMt;
            qhHq[5] = 1 - (qgLz + qgIq);
            qhHq[9] = qgJu - qgMr;
            qhHq[2] = qgKr - qgMs;
            qhHq[6] = qgJu + qgMr;
            qhHq[10] = 1 - (qgLz + qgJt);
            qhHq[3] = 0;
            qhHq[7] = 0;
            qhHq[11] = 0;
            qhHq[12] = 0;
            qhHq[13] = 0;
            qhHq[14] = 0;
            qhHq[15] = 1;
            return this;
        },
        tjNr: function() {
            var x = new RFITE.udor();
            var y = new RFITE.udor();
            var z = new RFITE.udor();
            return function(qeKs, target, up) {
                var qhHq = this.elements;
                z.yiMs(qeKs, target).normalize();
                if (z.length() === 0) {
                    z.z = 1;
                }
                x.zgKq(up, z).normalize();
                if (x.length() === 0) {
                    z.x += 0.0001;
                    x.zgKq(up, z).normalize();
                }
                y.zgKq(z, x);
                qhHq[0] = x.x;
                qhHq[4] = y.x;
                qhHq[8] = z.x;
                qhHq[1] = x.y;
                qhHq[5] = y.y;
                qhHq[9] = z.y;
                qhHq[2] = x.z;
                qhHq[6] = y.z;
                qhHq[10] = z.z;
                return this;
            };
        }(),
        veOs: function(m, n) {
            if (n !== undefined) {
                RFITE.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');
                return this.rhLqJ(m, n);
            }
            return this.rhLqJ(this, m);
        },
        rhLqJ: function(a, b) {
            var qjOw = a.elements;
            var qjMv = b.elements;
            var qhHq = this.elements;
            var qgHy = qjOw[0],
                qgHz = qjOw[4],
                qgGq = qjOw[8],
                qgGr = qjOw[12];
            var qgGs = qjOw[1],
                qgGt = qjOw[5],
                qgGu = qjOw[9],
                qgGv = qjOw[13];
            var qgGw = qjOw[2],
                qgGx = qjOw[6],
                qgGy = qjOw[10],
                qgGz = qjOw[14];
            var qfPq = qjOw[3],
                qfPr = qjOw[7],
                qfPs = qjOw[11],
                qfPt = qjOw[15];
            var qfLu = qjMv[0],
                qfLv = qjMv[4],
                qfLw = qjMv[8],
                qfLx = qjMv[12];
            var qfLy = qjMv[1],
                qfLz = qjMv[5],
                qfKq = qjMv[9],
                qfKr = qjMv[13];
            var qfKs = qjMv[2],
                qfKt = qjMv[6],
                qfKu = qjMv[10],
                qfKv = qjMv[14];
            var qfKw = qjMv[3],
                qfKx = qjMv[7],
                qfKy = qjMv[11],
                qfKz = qjMv[15];
            qhHq[0] = qgHy * qfLu + qgHz * qfLy + qgGq * qfKs + qgGr * qfKw;
            qhHq[4] = qgHy * qfLv + qgHz * qfLz + qgGq * qfKt + qgGr * qfKx;
            qhHq[8] = qgHy * qfLw + qgHz * qfKq + qgGq * qfKu + qgGr * qfKy;
            qhHq[12] = qgHy * qfLx + qgHz * qfKr + qgGq * qfKv + qgGr * qfKz;
            qhHq[1] = qgGs * qfLu + qgGt * qfLy + qgGu * qfKs + qgGv * qfKw;
            qhHq[5] = qgGs * qfLv + qgGt * qfLz + qgGu * qfKt + qgGv * qfKx;
            qhHq[9] = qgGs * qfLw + qgGt * qfKq + qgGu * qfKu + qgGv * qfKy;
            qhHq[13] = qgGs * qfLx + qgGt * qfKr + qgGu * qfKv + qgGv * qfKz;
            qhHq[2] = qgGw * qfLu + qgGx * qfLy + qgGy * qfKs + qgGz * qfKw;
            qhHq[6] = qgGw * qfLv + qgGx * qfLz + qgGy * qfKt + qgGz * qfKx;
            qhHq[10] = qgGw * qfLw + qgGx * qfKq + qgGy * qfKu + qgGz * qfKy;
            qhHq[14] = qgGw * qfLx + qgGx * qfKr + qgGy * qfKv + qgGz * qfKz;
            qhHq[3] = qfPq * qfLu + qfPr * qfLy + qfPs * qfKs + qfPt * qfKw;
            qhHq[7] = qfPq * qfLv + qfPr * qfLz + qfPs * qfKt + qfPt * qfKx;
            qhHq[11] = qfPq * qfLw + qfPr * qfKq + qfPs * qfKu + qfPt * qfKy;
            qhHq[15] = qfPq * qfLx + qfPr * qfKr + qfPs * qfKv + qfPt * qfKz;
            return this;
        },
        riGzH: function(a, b, r) {
            var qhHq = this.elements;
            this.rhLqJ(a, b);
            r[0] = qhHq[0];
            r[1] = qhHq[1];
            r[2] = qhHq[2];
            r[3] = qhHq[3];
            r[4] = qhHq[4];
            r[5] = qhHq[5];
            r[6] = qhHq[6];
            r[7] = qhHq[7];
            r[8] = qhHq[8];
            r[9] = qhHq[9];
            r[10] = qhHq[10];
            r[11] = qhHq[11];
            r[12] = qhHq[12];
            r[13] = qhHq[13];
            r[14] = qhHq[14];
            r[15] = qhHq[15];
            return this;
        },
        riKsH: function(s) {
            var qhHq = this.elements;
            qhHq[0] *= s;
            qhHq[4] *= s;
            qhHq[8] *= s;
            qhHq[12] *= s;
            qhHq[1] *= s;
            qhHq[5] *= s;
            qhHq[9] *= s;
            qhHq[13] *= s;
            qhHq[2] *= s;
            qhHq[6] *= s;
            qhHq[10] *= s;
            qhHq[14] *= s;
            qhHq[3] *= s;
            qhHq[7] *= s;
            qhHq[11] *= s;
            qhHq[15] *= s;
            return this;
        },
        riGzG: function(tfKy) {
            RFITE.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.');
            return tfKy.riIyF(this);
        },
        riGzF: function(tfKy) {
            RFITE.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');
            return tfKy.zhJr(this);
        },
        rgLsH: function(a) {
            RFITE.warn('THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');
            return this.rgOuE(a);
        },
        rgOuE: function() {
            var qgPv = new RFITE.udor();
            return function(array, tiOt, length) {
                if (tiOt === undefined) tiOt = 0;
                if (length === undefined) length = array.length;
                for (var i = 0, j = tiOt; i < length; i += 3, j += 3) {
                    qgPv.x = array[j];
                    qgPv.y = array[j + 1];
                    qgPv.z = array[j + 2];
                    qgPv.zhJr(this);
                    array[j] = qgPv.x;
                    array[j + 1] = qgPv.y;
                    array[j + 2] = qgPv.z;
                }
                return array;
            };
        }(),
        yjPy: function(v) {
            RFITE.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');
            v.rgPyJ(this);
        },
        yfGy: function(tfKy) {
            RFITE.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');
            return tfKy.zhJr(this);
        },
        yeMv: function() {
            var qhHq = this.elements;
            var qdHx = qhHq[0],
                qdHy = qhHq[4],
                qdHz = qhHq[8],
                qdGq = qhHq[12];
            var qdGr = qhHq[1],
                qdGs = qhHq[5],
                qdGt = qhHq[9],
                qdGu = qhHq[13];
            var qdGv = qhHq[2],
                qdGw = qhHq[6],
                qdGx = qhHq[10],
                qdGy = qhHq[14];
            var qdGz = qhHq[3],
                qcPq = qhHq[7],
                qcPr = qhHq[11],
                qcPs = qhHq[15];
            return (qdGz * (+qdGq * qdGt * qdGw - qdHz * qdGu * qdGw - qdGq * qdGs * qdGx + qdHy * qdGu * qdGx + qdHz * qdGs * qdGy - qdHy * qdGt * qdGy) + qcPq * (+qdHx * qdGt * qdGy - qdHx * qdGu * qdGx + qdGq * qdGr * qdGx - qdHz * qdGr * qdGy + qdHz * qdGu * qdGv - qdGq * qdGt * qdGv) + qcPr * (+qdHx * qdGu * qdGw - qdHx * qdGs * qdGy - qdGq * qdGr * qdGw + qdHy * qdGr * qdGy + qdGq * qdGs * qdGv - qdHy * qdGu * qdGv) + qcPs * (-qdHz * qdGs * qdGv - qdHx * qdGt * qdGw + qdHx * qdGs * qdGx + qdHz * qdGr * qdGw - qdHy * qdGr * qdGx + qdHy * qdGt * qdGv));
        },
        xiNv: function() {
            var qhHq = this.elements;
            var qbMx;
            qbMx = qhHq[1];
            qhHq[1] = qhHq[4];
            qhHq[4] = qbMx;
            qbMx = qhHq[2];
            qhHq[2] = qhHq[8];
            qhHq[8] = qbMx;
            qbMx = qhHq[6];
            qhHq[6] = qhHq[9];
            qhHq[9] = qbMx;
            qbMx = qhHq[3];
            qhHq[3] = qhHq[12];
            qhHq[12] = qbMx;
            qbMx = qhHq[7];
            qhHq[7] = qhHq[13];
            qhHq[13] = qbMx;
            qbMx = qhHq[11];
            qhHq[11] = qhHq[14];
            qhHq[14] = qbMx;
            return this;
        },
        rgMxG: function(array, tiOt) {
            var qhHq = this.elements;
            array[tiOt] = qhHq[0];
            array[tiOt + 1] = qhHq[1];
            array[tiOt + 2] = qhHq[2];
            array[tiOt + 3] = qhHq[3];
            array[tiOt + 4] = qhHq[4];
            array[tiOt + 5] = qhHq[5];
            array[tiOt + 6] = qhHq[6];
            array[tiOt + 7] = qhHq[7];
            array[tiOt + 8] = qhHq[8];
            array[tiOt + 9] = qhHq[9];
            array[tiOt + 10] = qhHq[10];
            array[tiOt + 11] = qhHq[11];
            array[tiOt + 12] = qhHq[12];
            array[tiOt + 13] = qhHq[13];
            array[tiOt + 14] = qhHq[14];
            array[tiOt + 15] = qhHq[15];
            return array;
        },
        ydLr: function() {
            var qgPv = new RFITE.udor();
            return function() {
                RFITE.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');
                var qhHq = this.elements;
                return qgPv.set(qhHq[12], qhHq[13], qhHq[14]);
            };
        }(),
        yaHw: function(v) {
            var qhHq = this.elements;
            qhHq[12] = v.x;
            qhHq[13] = v.y;
            qhHq[14] = v.z;
            return this;
        },
        xdJv: function(m, rhHrG) {
            var qhHq = this.elements;
            var qiIq = m.elements;
            var qdHx = qiIq[0],
                qdHy = qiIq[4],
                qdHz = qiIq[8],
                qdGq = qiIq[12];
            var qdGr = qiIq[1],
                qdGs = qiIq[5],
                qdGt = qiIq[9],
                qdGu = qiIq[13];
            var qdGv = qiIq[2],
                qdGw = qiIq[6],
                qdGx = qiIq[10],
                qdGy = qiIq[14];
            var qdGz = qiIq[3],
                qcPq = qiIq[7],
                qcPr = qiIq[11],
                qcPs = qiIq[15];
            qhHq[0] = qdGt * qdGy * qcPq - qdGu * qdGx * qcPq + qdGu * qdGw * qcPr - qdGs * qdGy * qcPr - qdGt * qdGw * qcPs + qdGs * qdGx * qcPs;
            qhHq[4] = qdGq * qdGx * qcPq - qdHz * qdGy * qcPq - qdGq * qdGw * qcPr + qdHy * qdGy * qcPr + qdHz * qdGw * qcPs - qdHy * qdGx * qcPs;
            qhHq[8] = qdHz * qdGu * qcPq - qdGq * qdGt * qcPq + qdGq * qdGs * qcPr - qdHy * qdGu * qcPr - qdHz * qdGs * qcPs + qdHy * qdGt * qcPs;
            qhHq[12] = qdGq * qdGt * qdGw - qdHz * qdGu * qdGw - qdGq * qdGs * qdGx + qdHy * qdGu * qdGx + qdHz * qdGs * qdGy - qdHy * qdGt * qdGy;
            qhHq[1] = qdGu * qdGx * qdGz - qdGt * qdGy * qdGz - qdGu * qdGv * qcPr + qdGr * qdGy * qcPr + qdGt * qdGv * qcPs - qdGr * qdGx * qcPs;
            qhHq[5] = qdHz * qdGy * qdGz - qdGq * qdGx * qdGz + qdGq * qdGv * qcPr - qdHx * qdGy * qcPr - qdHz * qdGv * qcPs + qdHx * qdGx * qcPs;
            qhHq[9] = qdGq * qdGt * qdGz - qdHz * qdGu * qdGz - qdGq * qdGr * qcPr + qdHx * qdGu * qcPr + qdHz * qdGr * qcPs - qdHx * qdGt * qcPs;
            qhHq[13] = qdHz * qdGu * qdGv - qdGq * qdGt * qdGv + qdGq * qdGr * qdGx - qdHx * qdGu * qdGx - qdHz * qdGr * qdGy + qdHx * qdGt * qdGy;
            qhHq[2] = qdGs * qdGy * qdGz - qdGu * qdGw * qdGz + qdGu * qdGv * qcPq - qdGr * qdGy * qcPq - qdGs * qdGv * qcPs + qdGr * qdGw * qcPs;
            qhHq[6] = qdGq * qdGw * qdGz - qdHy * qdGy * qdGz - qdGq * qdGv * qcPq + qdHx * qdGy * qcPq + qdHy * qdGv * qcPs - qdHx * qdGw * qcPs;
            qhHq[10] = qdHy * qdGu * qdGz - qdGq * qdGs * qdGz + qdGq * qdGr * qcPq - qdHx * qdGu * qcPq - qdHy * qdGr * qcPs + qdHx * qdGs * qcPs;
            qhHq[14] = qdGq * qdGs * qdGv - qdHy * qdGu * qdGv - qdGq * qdGr * qdGw + qdHx * qdGu * qdGw + qdHy * qdGr * qdGy - qdHx * qdGs * qdGy;
            qhHq[3] = qdGt * qdGw * qdGz - qdGs * qdGx * qdGz - qdGt * qdGv * qcPq + qdGr * qdGx * qcPq + qdGs * qdGv * qcPr - qdGr * qdGw * qcPr;
            qhHq[7] = qdHy * qdGx * qdGz - qdHz * qdGw * qdGz + qdHz * qdGv * qcPq - qdHx * qdGx * qcPq - qdHy * qdGv * qcPr + qdHx * qdGw * qcPr;
            qhHq[11] = qdHz * qdGs * qdGz - qdHy * qdGt * qdGz - qdHz * qdGr * qcPq + qdHx * qdGt * qcPq + qdHy * qdGr * qcPr - qdHx * qdGs * qcPr;
            qhHq[15] = qdHy * qdGt * qdGv - qdHz * qdGs * qdGv + qdHz * qdGr * qdGw - qdHx * qdGt * qdGw - qdHy * qdGr * qdGx + qdHx * qdGs * qdGx;
            var qeOz = qdHx * qhHq[0] + qdGr * qhHq[4] + qdGv * qhHq[8] + qdGz * qhHq[12];
            if (qeOz == 0) {
                var qdHv = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
                if (rhHrG || false) {
                    throw new Error(qdHv);
                } else {
                    RFITE.warn(qdHv);
                }
                this.vgLq();
                return this;
            }
            this.riKsH(1 / qeOz);
            return this;
        },
        translate: function(v) {
            RFITE.error('THREE.Matrix4: .translate() has been removed.');
        },
        ugGy: function(rcOr) {
            RFITE.error('THREE.Matrix4: .rotateX() has been removed.');
        },
        ugGz: function(rcOr) {
            RFITE.error('THREE.Matrix4: .rotateY() has been removed.');
        },
        ufPq: function(rcOr) {
            RFITE.error('THREE.Matrix4: .rotateZ() has been removed.');
        },
        zcKs: function(qaHt, rcOr) {
            RFITE.error('THREE.Matrix4: .rotateByAxis() has been removed.');
        },
        scale: function(v) {
            var qhHq = this.elements;
            var x = v.x,
                y = v.y,
                z = v.z;
            qhHq[0] *= x;
            qhHq[4] *= y;
            qhHq[8] *= z;
            qhHq[1] *= x;
            qhHq[5] *= y;
            qhHq[9] *= z;
            qhHq[2] *= x;
            qhHq[6] *= y;
            qhHq[10] *= z;
            qhHq[3] *= x;
            qhHq[7] *= y;
            qhHq[11] *= z;
            return this;
        },
        rhJxJ: function() {
            var qhHq = this.elements;
            var vcHs = qhHq[0] * qhHq[0] + qhHq[1] * qhHq[1] + qhHq[2] * qhHq[2];
            var vcHt = qhHq[4] * qhHq[4] + qhHq[5] * qhHq[5] + qhHq[6] * qhHq[6];
            var vcHu = qhHq[8] * qhHq[8] + qhHq[9] * qhHq[9] + qhHq[10] * qhHq[10];
            return Math.sqrt(Math.max(vcHs, Math.max(vcHt, vcHu)));
        },
        riGwF: function(x, y, z) {
            this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);
            return this;
        },
        rjMtB: function(sgMy) {
            var c = Math.cos(sgMy),
                s = Math.sin(sgMy);
            this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);
            return this;
        },
        rjMtA: function(sgMy) {
            var c = Math.cos(sgMy),
                s = Math.sin(sgMy);
            this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);
            return this;
        },
        rjMuK: function(sgMy) {
            var c = Math.cos(sgMy),
                s = Math.sin(sgMy);
            this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
            return this;
        },
        rhMxH: function(qaHt, rcOr) {
            var c = Math.cos(rcOr);
            var s = Math.sin(rcOr);
            var t = 1 - c;
            var x = qaHt.x,
                y = qaHt.y,
                z = qaHt.z;
            var qhHx = t * x,
                qhHy = t * y;
            this.set(qhHx * x + c, qhHx * y - s * z, qhHx * z + s * y, 0, qhHx * y + s * z, qhHy * y + c, qhHy * z - s * x, 0, qhHx * z - s * y, qhHy * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);
            return this;
        },
        wdJz: function(x, y, z) {
            this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);
            return this;
        },
        tcMu: function(position, xaLy, scale) {
            this.rgGtD(xaLy);
            this.scale(scale);
            this.yaHw(position);
            return this;
        },
        whGw: function() {
            var tfKy = new RFITE.udor();
            var tjLs = new RFITE.uilr();
            return function(position, xaLy, scale) {
                var qhHq = this.elements;
                var qhIs = tfKy.set(qhHq[0], qhHq[1], qhHq[2]).length();
                var qhIt = tfKy.set(qhHq[4], qhHq[5], qhHq[6]).length();
                var qhIu = tfKy.set(qhHq[8], qhHq[9], qhHq[10]).length();
                var qeOz = this.yeMv();
                if (qeOz < 0) {
                    qhIs = -qhIs;
                }
                position.x = qhHq[12];
                position.y = qhHq[13];
                position.z = qhHq[14];
                tjLs.elements.set(this.elements);
                var sjPq = 1 / qhIs;
                var sjPr = 1 / qhIt;
                var sjPs = 1 / qhIu;
                tjLs.elements[0] *= sjPq;
                tjLs.elements[1] *= sjPq;
                tjLs.elements[2] *= sjPq;
                tjLs.elements[4] *= sjPr;
                tjLs.elements[5] *= sjPr;
                tjLs.elements[6] *= sjPr;
                tjLs.elements[8] *= sjPs;
                tjLs.elements[9] *= sjPs;
                tjLs.elements[10] *= sjPs;
                xaLy.rgJrK(tjLs);
                scale.x = qhIs;
                scale.y = qhIt;
                scale.z = qhIu;
                return this;
            };
        }(),
        ycKu: function(left, right, bottom, top, rgMv, qeJq) {
            var qhHq = this.elements;
            var x = 2 * rgMv / (right - left);
            var y = 2 * rgMv / (top - bottom);
            var a = (right + left) / (right - left);
            var b = (top + bottom) / (top - bottom);
            var c = -(qeJq + rgMv) / (qeJq - rgMv);
            var d = -2 * qeJq * rgMv / (qeJq - rgMv);
            qhHq[0] = x;
            qhHq[4] = 0;
            qhHq[8] = a;
            qhHq[12] = 0;
            qhHq[1] = 0;
            qhHq[5] = y;
            qhHq[9] = b;
            qhHq[13] = 0;
            qhHq[2] = 0;
            qhHq[6] = 0;
            qhHq[10] = c;
            qhHq[14] = d;
            qhHq[3] = 0;
            qhHq[7] = 0;
            qhHq[11] = -1;
            qhHq[15] = 0;
            return this;
        },
        riGwG: function(qeIu, seKv, rgMv, qeJq) {
            var rdMs = rgMv * Math.tan(RFITE.Math.viOx(qeIu * 0.5));
            var rdMt = -rdMs;
            var rdNz = rdMt * seKv;
            var rdNy = rdMs * seKv;
            return this.ycKu(rdNz, rdNy, rdMt, rdMs, rgMv, qeJq);
        },
        rhMxJ: function(left, right, top, bottom, rgMv, qeJq) {
            var qhHq = this.elements;
            var w = right - left;
            var h = top - bottom;
            var p = qeJq - rgMv;
            var x = (right + left) / w;
            var y = (top + bottom) / h;
            var z = (qeJq + rgMv) / p;
            qhHq[0] = 2 / w;
            qhHq[4] = 0;
            qhHq[8] = 0;
            qhHq[12] = -x;
            qhHq[1] = 0;
            qhHq[5] = 2 / h;
            qhHq[9] = 0;
            qhHq[13] = -y;
            qhHq[2] = 0;
            qhHq[6] = 0;
            qhHq[10] = -2 / p;
            qhHq[14] = -z;
            qhHq[3] = 0;
            qhHq[7] = 0;
            qhHq[11] = 0;
            qhHq[15] = 1;
            return this;
        },
        wfMy: function(array) {
            this.elements.set(array);
            return this;
        },
        ueKr: function() {
            var qhHq = this.elements;
            return [qhHq[0], qhHq[1], qhHq[2], qhHq[3], qhHq[4], qhHq[5], qhHq[6], qhHq[7], qhHq[8], qhHq[9], qhHq[10], qhHq[11], qhHq[12], qhHq[13], qhHq[14], qhHq[15]];
        },
        rbPq: function() {
            return new RFITE.uilr().wfMy(this.elements);
        }
    };
    RFITE.qcir = function(origin, direction) {
        this.origin = (origin !== undefined) ? origin : new RFITE.udor();
        this.direction = (direction !== undefined) ? direction : new RFITE.udor();
    };
    RFITE.qcir.prototype = {
        constructor: RFITE.qcir,
        set: function(origin, direction) {
            this.origin.rjLt(origin);
            this.direction.rjLt(direction);
            return this;
        },
        rjLt: function(qcIr) {
            this.origin.rjLt(qcIr.origin);
            this.direction.rjLt(qcIr.direction);
            return this;
        },
        qjNu: function(t, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.rjLt(this.direction).riKsH(t).add(this.origin);
        },
        thNw: function() {
            var qgPv = new RFITE.udor();
            return function(t) {
                this.origin.rjLt(this.qjNu(t, qgPv));
                return this;
            };
        }(),
        rgOvG: function(point, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            thLx.yiMs(point, this.origin);
            var rhJuG = thLx.qeMq(this.direction);
            if (rhJuG < 0) {
                return thLx.rjLt(this.origin);
            }
            return thLx.rjLt(this.direction).riKsH(rhJuG).add(this.origin);
        },
        riHxF: function() {
            var qgPv = new RFITE.udor();
            return function(point) {
                var rhJuG = qgPv.yiMs(point, this.origin).qeMq(this.direction);
                if (rhJuG < 0) {
                    return this.origin.xeMv(point);
                }
                qgPv.rjLt(this.direction).riKsH(rhJuG).add(this.origin);
                return qgPv.xeMv(point);
            };
        }(),
        rgOxJ: function() {
            var waJu = new RFITE.udor();
            var thHy = new RFITE.udor();
            var rjIx = new RFITE.udor();
            return function(qgPu, qgPv, rgPqH, rgIqC) {
                waJu.rjLt(qgPu).add(qgPv).riKsH(0.5);
                thHy.rjLt(qgPv).sub(qgPu).normalize();
                rjIx.rjLt(this.origin).sub(waJu);
                var waJw = qgPu.xeMv(qgPv) * 0.5;
                var qgHw = -this.direction.qeMq(thHy);
                var qjNy = rjIx.qeMq(this.direction);
                var qjNz = -rjIx.qeMq(thHy);
                var c = rjIx.vfMw();
                var qeOz = Math.abs(1 - qgHw * qgHw);
                var qhKs, qhKt, ufHz, scGq;
                if (qeOz > 0) {
                    qhKs = qgHw * qjNz - qjNy;
                    qhKt = qgHw * qjNy - qjNz;
                    scGq = waJw * qeOz;
                    if (qhKs >= 0) {
                        if (qhKt >= -scGq) {
                            if (qhKt <= scGq) {
                                var saLs = 1 / qeOz;
                                qhKs *= saLs;
                                qhKt *= saLs;
                                ufHz = qhKs * (qhKs + qgHw * qhKt + 2 * qjNy) + qhKt * (qgHw * qhKs + qhKt + 2 * qjNz) + c;
                            } else {
                                qhKt = waJw;
                                qhKs = Math.max(0, -(qgHw * qhKt + qjNy));
                                ufHz = -qhKs * qhKs + qhKt * (qhKt + 2 * qjNz) + c;
                            }
                        } else {
                            qhKt = -waJw;
                            qhKs = Math.max(0, -(qgHw * qhKt + qjNy));
                            ufHz = -qhKs * qhKs + qhKt * (qhKt + 2 * qjNz) + c;
                        }
                    } else {
                        if (qhKt <= -scGq) {
                            qhKs = Math.max(0, -(-qgHw * waJw + qjNy));
                            qhKt = (qhKs > 0) ? -waJw : Math.min(Math.max(-waJw, -qjNz), waJw);
                            ufHz = -qhKs * qhKs + qhKt * (qhKt + 2 * qjNz) + c;
                        } else if (qhKt <= scGq) {
                            qhKs = 0;
                            qhKt = Math.min(Math.max(-waJw, -qjNz), waJw);
                            ufHz = qhKt * (qhKt + 2 * qjNz) + c;
                        } else {
                            qhKs = Math.max(0, -(qgHw * waJw + qjNy));
                            qhKt = (qhKs > 0) ? waJw : Math.min(Math.max(-waJw, -qjNz), waJw);
                            ufHz = -qhKs * qhKs + qhKt * (qhKt + 2 * qjNz) + c;
                        }
                    }
                } else {
                    qhKt = (qgHw > 0) ? -waJw : waJw;
                    qhKs = Math.max(0, -(qgHw * qhKt + qjNy));
                    ufHz = -qhKs * qhKs + qhKt * (qhKt + 2 * qjNz) + c;
                }
                if (rgPqH) {
                    rgPqH.rjLt(this.direction).riKsH(qhKs).add(this.origin);
                }
                if (rgIqC) {
                    rgIqC.rjLt(thHy).riKsH(qhKt).add(waJu);
                }
                return ufHz;
            };
        }(),
        rgLqJ: function(tgLq) {
            return this.riHxF(tgLq.rfOsH) <= tgLq.thOs;
        },
        riGuF: function() {
            var qgPv = new RFITE.udor();
            return function(tgLq, riKvH) {
                qgPv.yiMs(tgLq.rfOsH, this.origin);
                var qbNz = qgPv.qeMq(this.direction);
                var qjJs = qgPv.qeMq(qgPv) - qbNz * qbNz;
                var ugLq = tgLq.thOs * tgLq.thOs;
                if (qjJs > ugLq) return null;
                var qbMu = Math.sqrt(ugLq - qjJs);
                var qhIv = qbNz - qbMu;
                var qhIw = qbNz + qbMu;
                if (qhIv < 0 && qhIw < 0) return null;
                if (qhIv < 0) return this.qjNu(qhIw, riKvH);
                return this.qjNu(qhIv, riKvH);
            }
        }(),
        rgNqD: function(siIw) {
            var yeKs = siIw.riHxF(this.origin);
            if (yeKs === 0) {
                return true;
            }
            var yeNr = siIw.normal.qeMq(this.direction);
            if (yeNr * yeKs < 0) {
                return true;
            }
            return false;
        },
        riHxG: function(siIw) {
            var yeNr = siIw.normal.qeMq(this.direction);
            if (yeNr == 0) {
                if (siIw.riHxF(this.origin) == 0) {
                    return 0;
                }
                return null;
            }
            var t = -(this.origin.qeMq(siIw.normal) + siIw.vjJv) / yeNr;
            return t >= 0 ? t : null;
        },
        riLwF: function(siIw, riKvH) {
            var t = this.riHxG(siIw);
            if (t === null) {
                return null;
            }
            return this.qjNu(t, riKvH);
        },
        rhJzC: function() {
            var v = new RFITE.udor();
            return function(rfPxD) {
                return this.zeOu(rfPxD, v) !== null;
            };
        }(),
        zeOu: function(rfPxD, riKvH) {
            var reKu, reKt, sgIv, sgIu, sgHq, sgIz;
            var ujLq = 1 / this.direction.x,
                ujLr = 1 / this.direction.y,
                ujLs = 1 / this.direction.z;
            var origin = this.origin;
            if (ujLq >= 0) {
                reKu = (rfPxD.min.x - origin.x) * ujLq;
                reKt = (rfPxD.max.x - origin.x) * ujLq;
            } else {
                reKu = (rfPxD.max.x - origin.x) * ujLq;
                reKt = (rfPxD.min.x - origin.x) * ujLq;
            }
            if (ujLr >= 0) {
                sgIv = (rfPxD.min.y - origin.y) * ujLr;
                sgIu = (rfPxD.max.y - origin.y) * ujLr;
            } else {
                sgIv = (rfPxD.max.y - origin.y) * ujLr;
                sgIu = (rfPxD.min.y - origin.y) * ujLr;
            }
            if ((reKu > sgIu) || (sgIv > reKt)) return null;
            if (sgIv > reKu || reKu !== reKu) reKu = sgIv;
            if (sgIu < reKt || reKt !== reKt) reKt = sgIu;
            if (ujLs >= 0) {
                sgHq = (rfPxD.min.z - origin.z) * ujLs;
                sgIz = (rfPxD.max.z - origin.z) * ujLs;
            } else {
                sgHq = (rfPxD.max.z - origin.z) * ujLs;
                sgIz = (rfPxD.min.z - origin.z) * ujLs;
            }
            if ((reKu > sgIz) || (sgHq > reKt)) return null;
            if (sgHq > reKu || reKu !== reKu) reKu = sgHq;
            if (sgIz < reKt || reKt !== reKt) reKt = sgIz;
            if (reKt < 0) return null;
            return this.qjNu(reKu >= 0 ? reKu : reKt, riKvH);
        },
        rhJzE: function() {
            var rjIx = new RFITE.udor();
            var rbJw = new RFITE.udor();
            var rbJx = new RFITE.udor();
            var normal = new RFITE.udor();
            return function(a, b, c, riIzF, riKvH) {
                rbJw.yiMs(b, a);
                rbJx.yiMs(c, a);
                normal.zgKq(rbJw, rbJx);
                var qeov = this.direction.qeMq(normal);
                var rfHu;
                if (qeov > 0) {
                    if (riIzF) return null;
                    rfHu = 1;
                } else if (qeov < 0) {
                    rfHu = -1;
                    qeov = -qeov;
                } else {
                    return null;
                }
                rjIx.yiMs(this.origin, a);
                var scox = rfHu * this.direction.qeMq(rbJx.zgKq(rjIx, rbJx));
                if (scox < 0) {
                    return null;
                }
                var scow = rfHu * this.direction.qeMq(rbJw.rbOw(rjIx));
                if (scow < 0) {
                    return null;
                }
                if (scox + scow > qeov) {
                    return null;
                }
                var qcjv = -rfHu * rjIx.qeMq(normal);
                if (qcjv < 0) {
                    return null;
                }
                return this.qjNu(qcjv / qeov, riKvH);
            };
        }(),
        zhJr: function(uiLr) {
            this.direction.add(this.origin).zhJr(uiLr);
            this.origin.zhJr(uiLr);
            this.direction.sub(this.origin);
            this.direction.normalize();
            return this;
        },
        scIw: function(qcIr) {
            return qcIr.origin.scIw(this.origin) && qcIr.direction.scIw(this.direction);
        },
        rbPq: function() {
            return new RFITE.qcir().rjLt(this);
        }
    };
    RFITE.tglq = function(rfOsH, thOs) {
        this.rfOsH = (rfOsH !== undefined) ? rfOsH : new RFITE.udor();
        this.thOs = (thOs !== undefined) ? thOs : 0;
    };
    RFITE.tglq.prototype = {
        constructor: RFITE.tglq,
        set: function(rfOsH, thOs) {
            this.rfOsH.rjLt(rfOsH);
            this.thOs = thOs;
            return this;
        },
        rjKrC: function() {
            var rfPxD = new RFITE.rjnq();
            return function(tiHx, riKvK) {
                var rfOsH = this.rfOsH;
                if (riKvK !== undefined) {
                    rfOsH.rjLt(riKvK);
                } else {
                    rfPxD.rjKrC(tiHx).rfOsH(rfOsH);
                }
                var ycJy = 0;
                for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                    ycJy = Math.max(ycJy, rfOsH.rhJuC(tiHx[i]));
                }
                this.thOs = Math.sqrt(ycJy);
                return this;
            };
        }(),
        rjLt: function(tgLq) {
            this.rfOsH.rjLt(tgLq.rfOsH);
            this.thOs = tgLq.thOs;
            return this;
        },
        rbIv: function() {
            return (this.thOs <= 0);
        },
        rjOrC: function(point) {
            return (point.rhJuC(this.rfOsH) <= (this.thOs * this.thOs));
        },
        riHxF: function(point) {
            return (point.xeMv(this.rfOsH) - this.thOs);
        },
        rhMvH: function(tgLq) {
            var wbHx = this.thOs + tgLq.thOs;
            return tgLq.rfOsH.rhJuC(this.rfOsH) <= (wbHx * wbHx);
        },
        xfNu: function(point, riKvH) {
            var rjOwJ = this.rfOsH.rhJuC(point);
            var thLx = riKvH || new RFITE.udor();
            thLx.rjLt(point);
            if (rjOwJ > (this.thOs * this.thOs)) {
                thLx.sub(this.rfOsH).normalize();
                thLx.riKsH(this.thOs).add(this.rfOsH);
            }
            return thLx;
        },
        riLqH: function(riKvH) {
            var rfPxD = riKvH || new RFITE.rjnq();
            rfPxD.set(this.rfOsH, this.rfOsH);
            rfPxD.riMwA(this.thOs);
            return rfPxD;
        },
        zhJr: function(tjLs) {
            this.rfOsH.zhJr(tjLs);
            this.thOs = this.thOs * tjLs.rhJxJ();
            return this;
        },
        translate: function(tiOt) {
            this.rfOsH.add(tiOt);
            return this;
        },
        scIw: function(tgLq) {
            return tgLq.rfOsH.scIw(this.rfOsH) && (tgLq.thOs === this.thOs);
        },
        rbPq: function() {
            return new RFITE.tglq().rjLt(this);
        }
    };
    RFITE.tanx = function(qhPz, qhOq, qhOr, qhOs, qhOt, qhOu) {
        this.tiIz = [(qhPz !== undefined) ? qhPz : new RFITE.siiw(), (qhOq !== undefined) ? qhOq : new RFITE.siiw(), (qhOr !== undefined) ? qhOr : new RFITE.siiw(), (qhOs !== undefined) ? qhOs : new RFITE.siiw(), (qhOt !== undefined) ? qhOt : new RFITE.siiw(), (qhOu !== undefined) ? qhOu : new RFITE.siiw()];
    };
    RFITE.tanx.prototype = {
        constructor: RFITE.tanx,
        set: function(qhPz, qhOq, qhOr, qhOs, qhOt, qhOu) {
            var tiIz = this.tiIz;
            tiIz[0].rjLt(qhPz);
            tiIz[1].rjLt(qhOq);
            tiIz[2].rjLt(qhOr);
            tiIz[3].rjLt(qhOs);
            tiIz[4].rjLt(qhOt);
            tiIz[5].rjLt(qhOu);
            return this;
        },
        rjLt: function(taNx) {
            var tiIz = this.tiIz;
            for (var i = 0; i < 6; i++) {
                tiIz[i].rjLt(taNx.tiIz[i]);
            }
            return this;
        },
        rjKrE: function(m) {
            var tiIz = this.tiIz;
            var qiIq = m.elements;
            var qdJx = qiIq[0],
                qdJy = qiIq[1],
                qdJz = qiIq[2],
                qdIq = qiIq[3];
            var qdIr = qiIq[4],
                qdIs = qiIq[5],
                qdIt = qiIq[6],
                qdIu = qiIq[7];
            var qdIv = qiIq[8],
                qdIw = qiIq[9],
                rgPt = qiIq[10],
                rgPu = qiIq[11];
            var rgPv = qiIq[12],
                rgPw = qiIq[13],
                rgPx = qiIq[14],
                rgPy = qiIq[15];
            tiIz[0].rjKrK(qdIq - qdJx, qdIu - qdIr, rgPu - qdIv, rgPy - rgPv).normalize();
            tiIz[1].rjKrK(qdIq + qdJx, qdIu + qdIr, rgPu + qdIv, rgPy + rgPv).normalize();
            tiIz[2].rjKrK(qdIq + qdJy, qdIu + qdIs, rgPu + qdIw, rgPy + rgPw).normalize();
            tiIz[3].rjKrK(qdIq - qdJy, qdIu - qdIs, rgPu - qdIw, rgPy - rgPw).normalize();
            tiIz[4].rjKrK(qdIq - qdJz, qdIu - qdIt, rgPu - rgPt, rgPy - rgPx).normalize();
            tiIz[5].rjKrK(qdIq + qdJz, qdIu + qdIt, rgPu + rgPt, rgPy + rgPx).normalize();
            return this;
        },
        rhMvK: function() {
            var tgLq = new RFITE.tglq();
            return function(object) {
                var vhHr = object.vhHr;
                if (vhHr.riNyH === null) vhHr.rgKsJ();
                tgLq.rjLt(vhHr.riNyH);
                tgLq.zhJr(object.ycJs);
                return this.rhMvH(tgLq);
            };
        }(),
        rhMvH: function(tgLq) {
            var tiIz = this.tiIz;
            var rfOsH = tgLq.rfOsH;
            var wcMy = -tgLq.thOs;
            for (var i = 0; i < 6; i++) {
                var viLy = tiIz[i].riHxF(rfOsH);
                if (viLy < wcMy) {
                    return false;
                }
            }
            return true;
        },
        rjNzE: function() {
            var qhOq = new RFITE.udor(),
                qhOr = new RFITE.udor();
            return function(rfPxD) {
                var tiIz = this.tiIz;
                for (var i = 0; i < 6; i++) {
                    var siIw = tiIz[i];
                    qhOq.x = siIw.normal.x > 0 ? rfPxD.min.x : rfPxD.max.x;
                    qhOr.x = siIw.normal.x > 0 ? rfPxD.max.x : rfPxD.min.x;
                    qhOq.y = siIw.normal.y > 0 ? rfPxD.min.y : rfPxD.max.y;
                    qhOr.y = siIw.normal.y > 0 ? rfPxD.max.y : rfPxD.min.y;
                    qhOq.z = siIw.normal.z > 0 ? rfPxD.min.z : rfPxD.max.z;
                    qhOr.z = siIw.normal.z > 0 ? rfPxD.max.z : rfPxD.min.z;
                    var qjJr = siIw.riHxF(qhOq);
                    var qjJs = siIw.riHxF(qhOr);
                    if (qjJr < 0 && qjJs < 0) {
                        return false;
                    }
                }
                return true;
            };
        }(),
        rjOrC: function(point) {
            var tiIz = this.tiIz;
            for (var i = 0; i < 6; i++) {
                if (tiIz[i].riHxF(point) < 0) {
                    return false;
                }
            }
            return true;
        },
        rbPq: function() {
            return new RFITE.tanx().rjLt(this);
        }
    };
    RFITE.siiw = function(normal, vjJv) {
        this.normal = (normal !== undefined) ? normal : new RFITE.udor(1, 0, 0);
        this.vjJv = (vjJv !== undefined) ? vjJv : 0;
    };
    RFITE.siiw.prototype = {
        constructor: RFITE.siiw,
        set: function(normal, vjJv) {
            this.normal.rjLt(normal);
            this.vjJv = vjJv;
            return this;
        },
        rjKrK: function(x, y, z, w) {
            this.normal.set(x, y, z);
            this.vjJv = w;
            return this;
        },
        rfPqF: function(normal, point) {
            this.normal.rjLt(normal);
            this.vjJv = -point.qeMq(this.normal);
            return this;
        },
        rgJqB: function() {
            var qgPv = new RFITE.udor();
            var qgPw = new RFITE.udor();
            return function(a, b, c) {
                var normal = qgPv.yiMs(c, b).rbOw(qgPw.yiMs(a, b)).normalize();
                this.rfPqF(normal, a);
                return this;
            };
        }(),
        rjLt: function(siIw) {
            this.normal.rjLt(siIw.normal);
            this.vjJv = siIw.vjJv;
            return this;
        },
        normalize: function() {
            var rgNqF = 1.0 / this.normal.length();
            this.normal.riKsH(rgNqF);
            this.vjJv *= rgNqF;
            return this;
        },
        tjHz: function() {
            this.vjJv *= -1;
            this.normal.tjHz();
            return this;
        },
        riHxF: function(point) {
            return this.normal.qeMq(point) + this.vjJv;
        },
        rhNyC: function(tgLq) {
            return this.riHxF(tgLq.rfOsH) - tgLq.thOs;
        },
        zcPy: function(point, riKvH) {
            return this.xbIw(point, riKvH).sub(point).tjHz();
        },
        xbIw: function(point, riKvH) {
            var rgIqA = this.riHxF(point);
            var thLx = riKvH || new RFITE.udor();
            return thLx.rjLt(this.normal).riKsH(rgIqA);
        },
        rhGwH: function(rhJz) {
            var xjLt = this.riHxF(rhJz.rfIsA);
            var tbLv = this.riHxF(rhJz.rfOxC);
            return (xjLt < 0 && tbLv > 0) || (tbLv < 0 && xjLt > 0);
        },
        rjNzF: function() {
            var qgPv = new RFITE.udor();
            return function(rhJz, riKvH) {
                var thLx = riKvH || new RFITE.udor();
                var direction = rhJz.rbMt(qgPv);
                var yeNr = this.normal.qeMq(direction);
                if (yeNr == 0) {
                    if (this.riHxF(rhJz.rfIsA) == 0) {
                        return thLx.rjLt(rhJz.rfIsA);
                    }
                    return undefined;
                }
                var t = -(rhJz.rfIsA.qeMq(this.normal) + this.vjJv) / yeNr;
                if (t < 0 || t > 1) {
                    return undefined;
                }
                return thLx.rjLt(direction).riKsH(t).add(rhJz.rfIsA);
            };
        }(),
        rjOsJ: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.rjLt(this.normal).riKsH(-this.vjJv);
        },
        zhJr: function() {
            var qgPv = new RFITE.udor();
            var qgPw = new RFITE.udor();
            var qiJw = new RFITE.uilq();
            return function(tjLs, rgLsB) {
                var normalMatrix = rgLsB || qiJw.riGrA(tjLs);
                var wcLr = qgPv.rjLt(this.normal).zhJq(normalMatrix);
                var rhLqF = this.rjOsJ(qgPw);
                rhLqF.zhJr(tjLs);
                this.rfPqF(wcLr, rhLqF);
                return this;
            };
        }(),
        translate: function(tiOt) {
            this.vjJv = this.vjJv - tiOt.qeMq(this.normal);
            return this;
        },
        scIw: function(siIw) {
            return siIw.normal.scIw(this.normal) && (siIw.vjJv == this.vjJv);
        },
        rbPq: function() {
            return new RFITE.siiw().rjLt(this);
        }
    };
    RFITE.Math = {
        zfLv: function() {
            var rcHx = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
            var reIw = new Array(36);
            var qcHr = 0,
                r;
            return function() {
                for (var i = 0; i < 36; i++) {
                    if (i == 8 || i == 13 || i == 18 || i == 23) {
                        reIw[i] = '-';
                    } else if (i == 14) {
                        reIw[i] = '4';
                    } else {
                        if (qcHr <= 0x02) qcHr = 0x2000000 + (Math.random() * 0x1000000) | 0;
                        r = qcHr & 0xf;
                        qcHr = qcHr >> 4;
                        reIw[i] = rcHx[(i == 19) ? (r & 0x3) | 0x8 : r];
                    }
                }
                return reIw.join('');
            };
        }(),
        rcGt: function(x, a, b) {
            return (x < a) ? a : ((x > b) ? b : x);
        },
        yfLz: function(x, a) {
            return x < a ? a : x;
        },
        wdIu: function(x, qjOq, qjOr, qjNz, qjMq) {
            return qjNz + (x - qjOq) * (qjMq - qjNz) / (qjOr - qjOq);
        },
        yjIw: function(x, min, max) {
            if (x <= min) return 0;
            if (x >= max) return 1;
            x = (x - min) / (max - min);
            return x * x * (3 - 2 * x);
        },
        zbPv: function(x, min, max) {
            if (x <= min) return 0;
            if (x >= max) return 1;
            x = (x - min) / (max - min);
            return x * x * x * (x * (x * 6 - 15) + 10);
        },
        vdHz: function() {
            return (65280 * Math.random() + 255 * Math.random()) / 65535;
        },
        ugLr: function(qdLy, riGx) {
            return Math.floor(this.wbHz(qdLy, riGx));
        },
        wbHz: function(qdLy, riGx) {
            return qdLy + Math.random() * (riGx - qdLy);
        },
        rhPwC: function(shPr) {
            return shPr * (0.5 - Math.random());
        },
        viOx: function() {
            var rgKsA = Math.PI / 180;
            return function(tcGq) {
                return tcGq * rgKsA;
            };
        }(),
        vdHy: function() {
            var rgKzF = 180 / Math.PI;
            return function(ugMz) {
                return ugMz * rgKzF;
            };
        }(),
        zeNt: function(value) {
            return (value & (value - 1)) === 0 && value !== 0;
        },
        riKsE: function(value) {
            value--;
            value |= value >> 1;
            value |= value >> 2;
            value |= value >> 4;
            value |= value >> 8;
            value |= value >> 16;
            value++;
            return value;
        }
    };
    RFITE.tglw = function(tiHx) {
        this.tiHx = tiHx;
        var c = [],
            qgPx = {
                x: 0,
                y: 0,
                z: 0
            },
            point, vgIx, tfIu, qgNw, qgNx, qhOv, qhOw, pc, qhOx;
        this.rjNyH = function(a) {
            this.tiHx = [];
            for (var i = 0; i < a.length; i++) {
                this.tiHx[i] = {
                    x: a[i][0],
                    y: a[i][1],
                    z: a[i][2]
                };
            }
        };
        this.vhGx = function(k) {
            point = (this.tiHx.length - 1) * k;
            vgIx = Math.floor(point);
            tfIu = point - vgIx;
            c[0] = vgIx === 0 ? vgIx : vgIx - 1;
            c[1] = vgIx;
            c[2] = vgIx > this.tiHx.length - 2 ? this.tiHx.length - 1 : vgIx + 1;
            c[3] = vgIx > this.tiHx.length - 3 ? this.tiHx.length - 1 : vgIx + 2;
            qhOv = this.tiHx[c[0]];
            qhOw = this.tiHx[c[1]];
            pc = this.tiHx[c[2]];
            qhOx = this.tiHx[c[3]];
            qgNw = tfIu * tfIu;
            qgNx = tfIu * qgNw;
            qgPx.x = ycOq(qhOv.x, qhOw.x, pc.x, qhOx.x, tfIu, qgNw, qgNx);
            qgPx.y = ycOq(qhOv.y, qhOw.y, pc.y, qhOx.y, tfIu, qgNw, qgNx);
            qgPx.z = ycOq(qhOv.z, qhOw.z, pc.z, qhOx.z, tfIu, qgNw, qgNx);
            return qgPx;
        };
        this.rgKtA = function() {
            var i, p, l = this.tiHx.length,
                sdHw = [];
            for (i = 0; i < l; i++) {
                p = this.tiHx[i];
                sdHw[i] = [p.x, p.y, p.z];
            }
            return sdHw;
        };
        this.wfIt = function(rjMyH) {
            var i, index, veLw, position, point = 0,
                vgIx = 0,
                ybOz = 0,
                ybNq = new RFITE.udor(),
                tfOs = new RFITE.udor(),
                zgOw = [],
                zjHu = 0;
            zgOw[0] = 0;
            if (!rjMyH) rjMyH = 100;
            veLw = this.tiHx.length * rjMyH;
            ybNq.rjLt(this.tiHx[0]);
            for (i = 1; i < veLw; i++) {
                index = i / veLw;
                position = this.vhGx(index);
                tfOs.rjLt(position);
                zjHu += tfOs.xeMv(ybNq);
                ybNq.rjLt(position);
                point = (this.tiHx.length - 1) * index;
                vgIx = Math.floor(point);
                if (vgIx != ybOz) {
                    zgOw[vgIx] = zjHu;
                    ybOz = vgIx;
                }
            }
            zgOw[zgOw.length] = zjHu;
            return {
                sdKt: zgOw,
                sgJq: zjHu
            };
        };
        this.rgHwJ = function(zcKu) {
            var i, j, index, zfGw, weLt, zcNq, vcIv, position, wcLs = [],
                tfOs = new RFITE.udor(),
                qhJt = this.wfIt();
            wcLs.push(tfOs.rjLt(this.tiHx[0]).rbPq());
            for (i = 1; i < this.tiHx.length; i++) {
                zcNq = qhJt.sdKt[i] - qhJt.sdKt[i - 1];
                vcIv = Math.ceil(zcKu * zcNq / qhJt.sgJq);
                zfGw = (i - 1) / (this.tiHx.length - 1);
                weLt = i / (this.tiHx.length - 1);
                for (j = 1; j < vcIv - 1; j++) {
                    index = zfGw + j * (1 / vcIv) * (weLt - zfGw);
                    position = this.vhGx(index);
                    wcLs.push(tfOs.rjLt(position).rbPq());
                }
                wcLs.push(tfOs.rjLt(this.tiHx[i]).rbPq());
            }
            this.tiHx = wcLs;
        };

        function ycOq(qhPz, qhOq, qhOr, qhOs, t, qhIx, qhIy) {
            var qgPu = (qhOr - qhPz) * 0.5,
                qgPv = (qhOs - qhOq) * 0.5;
            return (2 * (qhOq - qhOr) + qgPu + qgPv) * qhIy + (-3 * (qhOq - qhOr) - 2 * qgPu - qgPv) * qhIx + qgPu * t + qhOq;
        };
    };
    RFITE.valz = function(a, b, c) {
        this.a = (a !== undefined) ? a : new RFITE.udor();
        this.b = (b !== undefined) ? b : new RFITE.udor();
        this.c = (c !== undefined) ? c : new RFITE.udor();
    };
    RFITE.valz.normal = function() {
        var qgPu = new RFITE.udor();
        return function(a, b, c, riKvH) {
            var thLx = riKvH || new RFITE.udor();
            thLx.yiMs(c, b);
            qgPu.yiMs(a, b);
            thLx.rbOw(qgPu);
            var riJrH = thLx.vfMw();
            if (riJrH > 0) {
                return thLx.riKsH(1 / Math.sqrt(riJrH));
            }
            return thLx.set(0, 0, 0);
        };
    }();
    RFITE.valz.rhHxD = function() {
        var qgPu = new RFITE.udor();
        var qgPv = new RFITE.udor();
        var qgPw = new RFITE.udor();
        return function(point, a, b, c, riKvH) {
            qgPu.yiMs(c, a);
            qgPv.yiMs(b, a);
            qgPw.yiMs(point, a);
            var rbLz = qgPu.qeMq(qgPu);
            var rbKq = qgPu.qeMq(qgPv);
            var rbKr = qgPu.qeMq(qgPw);
            var rbKs = qgPv.qeMq(qgPv);
            var rbKt = qgPv.qeMq(qgPw);
            var rbMv = (rbLz * rbKs - rbKq * rbKq);
            var thLx = riKvH || new RFITE.udor();
            if (rbMv == 0) {
                return thLx.set(-2, -1, -1);
            }
            var vgIy = 1 / rbMv;
            var u = (rbKs * rbKr - rbKq * rbKt) * vgIy;
            var v = (rbLz * rbKt - rbKq * rbKr) * vgIy;
            return thLx.set(1 - u - v, v, u);
        };
    }();
    RFITE.valz.rjOrC = function() {
        var qgPv = new RFITE.udor();
        return function(point, a, b, c) {
            var thLx = RFITE.valz.rhHxD(point, a, b, c, qgPv);
            return (thLx.x >= 0) && (thLx.y >= 0) && ((thLx.x + thLx.y) <= 1);
        };
    }();
    RFITE.valz.prototype = {
        constructor: RFITE.valz,
        set: function(a, b, c) {
            this.a.rjLt(a);
            this.b.rjLt(b);
            this.c.rjLt(c);
            return this;
        },
        rgHqD: function(tiHx, qiNw, qiNx, qiNy) {
            this.a.rjLt(tiHx[qiNw]);
            this.b.rjLt(tiHx[qiNx]);
            this.c.rjLt(tiHx[qiNy]);
            return this;
        },
        rjLt: function(vaLz) {
            this.a.rjLt(vaLz.a);
            this.b.rjLt(vaLz.b);
            this.c.rjLt(vaLz.c);
            return this;
        },
        area: function() {
            var qgPu = new RFITE.udor();
            var qgPv = new RFITE.udor();
            return function() {
                qgPu.yiMs(this.c, this.b);
                qgPv.yiMs(this.a, this.b);
                return qgPu.rbOw(qgPv).length() * 0.5;
            };
        }(),
        vfGt: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            return thLx.xgMr(this.a, this.b).add(this.c).riKsH(1 / 3);
        },
        normal: function(riKvH) {
            return RFITE.valz.normal(this.a, this.b, this.c, riKvH);
        },
        siIw: function(riKvH) {
            var thLx = riKvH || new RFITE.siiw();
            return thLx.rgJqB(this.a, this.b, this.c);
        },
        rhHxD: function(point, riKvH) {
            return RFITE.valz.rhHxD(point, this.a, this.b, this.c, riKvH);
        },
        rjOrC: function(point) {
            return RFITE.valz.rjOrC(point, this.a, this.b, this.c);
        },
        scIw: function(vaLz) {
            return vaLz.a.scIw(this.a) && vaLz.b.scIw(this.b) && vaLz.c.scIw(this.c);
        },
        rbPq: function() {
            return new RFITE.valz().rjLt(this);
        }
    };
    RFITE.rcgz = function(wiJv) {
        this.wiJv = (wiJv !== undefined) ? wiJv : true;
        this.xjLu = 0;
        this.uhNs = 0;
        this.elapsedTime = 0;
        this.ufPv = false;
    };
    RFITE.rcgz.prototype = {
        constructor: RFITE.rcgz,
        rfIsA: function() {
            this.xjLu = self.ybJs !== undefined && self.ybJs.now !== undefined ? self.ybJs.now() : Date.now();
            this.uhNs = this.xjLu;
            this.ufPv = true;
        },
        stop: function() {
            this.riLqE();
            this.ufPv = false;
        },
        riLqE: function() {
            this.vhHw();
            return this.elapsedTime;
        },
        vhHw: function() {
            var rjIx = 0;
            if (this.wiJv && !this.ufPv) {
                this.rfIsA();
            }
            if (this.ufPv) {
                var uiGt = self.ybJs !== undefined && self.ybJs.now !== undefined ? self.ybJs.now() : Date.now();
                rjIx = 0.001 * (uiGt - this.uhNs);
                this.uhNs = uiGt;
                this.elapsedTime += rjIx;
            }
            return rjIx;
        }
    };
    RFITE.rihya = function() {};
    RFITE.rihya.prototype = {
        constructor: RFITE.rihya,
        apply: function(object) {
            object.addEventListener = RFITE.rihya.prototype.addEventListener;
            object.rhMtA = RFITE.rihya.prototype.rhMtA;
            object.removeEventListener = RFITE.rihya.prototype.removeEventListener;
            object.rjOxD = RFITE.rihya.prototype.rjOxD;
        },
        addEventListener: function(type, vfLz) {
            if (this.xhJw === undefined) this.xhJw = {};
            var wdLw = this.xhJw;
            if (wdLw[type] === undefined) {
                wdLw[type] = [];
            }
            if (wdLw[type].indexOf(vfLz) === -1) {
                wdLw[type].push(vfLz);
            }
        },
        rhMtA: function(type, vfLz) {
            if (this.xhJw === undefined) return false;
            var wdLw = this.xhJw;
            if (wdLw[type] !== undefined && wdLw[type].indexOf(vfLz) !== -1) {
                return true;
            }
            return false;
        },
        removeEventListener: function(type, vfLz) {
            if (this.xhJw === undefined) return;
            var wdLw = this.xhJw;
            var rjMsA = wdLw[type];
            if (rjMsA !== undefined) {
                var index = rjMsA.indexOf(vfLz);
                if (index !== -1) {
                    rjMsA.splice(index, 1);
                }
            }
        },
        rjOxD: function(event) {
            if (this.xhJw === undefined) return;
            var wdLw = this.xhJw;
            var rjMsA = wdLw[event.type];
            if (rjMsA !== undefined) {
                event.target = this;
                var array = [];
                var length = rjMsA.length;
                for (var i = 0; i < length; i++) {
                    array[i] = rjMsA[i];
                }
                for (var i = 0; i < length; i++) {
                    array[i].call(this, event);
                }
            }
        }
    };
    (function(RFITE) {
        RFITE.wbgr = function(origin, direction, rgMv, qeJq) {
            this.qcIr = new RFITE.qcir(origin, direction);
            this.rgMv = rgMv || 0;
            this.qeJq = qeJq || Infinity;
            this.tiLv = {
                rfisb: {},
                rgos: {},
                xaot: {
                    xjGy: 1
                },
                QDLU: {},
                rhjz: {}
            };
        };
        var viNv = function(a, b) {
            return a.viLy - b.viLy;
        };
        var riGuG = function(object, wbGr, xcLy, wbGz) {
            object.ugLv(wbGr, xcLy);
            if (wbGz === true) {
                var children = object.children;
                for (var i = 0, l = children.length; i < l; i++) {
                    riGuG(children[i], wbGr, xcLy, true);
                }
            }
        };
        RFITE.wbgr.prototype = {
            constructor: RFITE.wbgr,
            precision: 0.0001,
            rjMsB: 1,
            set: function(origin, direction) {
                this.qcIr.set(origin, direction);
            },
            rjKrF: function(sdHw, sdNw) {
                if (sdNw instanceof RFITE.rhivj) {
                    this.qcIr.origin.rjLt(sdNw.position);
                    this.qcIr.direction.set(sdHw.x, sdHw.y, 0.5).xiKu(sdNw).sub(sdNw.position).normalize();
                } else if (sdNw instanceof RFITE.rgpqg) {
                    this.qcIr.origin.set(sdHw.x, sdHw.y, -1).xiKu(sdNw);
                    this.qcIr.direction.set(0, 0, -1).rgPyJ(sdNw.ycJs);
                } else {
                    RFITE.error('THREE.Raycaster: Unsupported camera type.');
                }
            },
            riGuG: function(object, wbGz) {
                var xcLy = [];
                riGuG(object, this, xcLy, wbGz);
                xcLy.sort(viNv);
                return xcLy;
            },
            rhMuA: function(reOzG, wbGz) {
                var xcLy = [];
                if (reOzG instanceof Array === false) {
                    RFITE.warn('THREE.Raycaster.intersectObjects: reOzG is rfKxG an Array.');
                    return xcLy;
                }
                for (var i = 0, l = reOzG.length; i < l; i++) {
                    riGuG(reOzG[i], this, xcLy, wbGz);
                }
                xcLy.sort(viNv);
                return xcLy;
            }
        };
    }(RFITE));
    RFITE.veju = function() {
        Object.defineProperty(this, 'id', {
            value: RFITE.rhprj++
        });
        this.reIw = RFITE.Math.zfLv();
        this.name = '';
        this.type = 'Object3D';
        this.parent = undefined;
        this.children = [];
        this.up = RFITE.veju.wgpr.rbPq();
        var position = new RFITE.udor();
        var rfIqD = new RFITE.rbhs();
        var xaLy = new RFITE.xaly();
        var scale = new RFITE.udor(1, 1, 1);
        var rhLsE = function() {
            xaLy.zcHq(rfIqD, false);
        };
        var rhGzB = function() {
            rfIqD.rhIyK(xaLy, undefined, false);
        };
        rfIqD.onChange(rhLsE);
        xaLy.onChange(rhGzB);
        Object.defineProperties(this, {
            position: {
                enumerable: true,
                value: position
            },
            rfIqD: {
                enumerable: true,
                value: rfIqD
            },
            xaLy: {
                enumerable: true,
                value: xaLy
            },
            scale: {
                enumerable: true,
                value: scale
            }
        });
        this.rgPuK = true;
        this.tjLs = new RFITE.uilr();
        this.ycJs = new RFITE.uilr();
        this.rhMxA = true;
        this.rgJzK = false;
        this.rfIxE = true;
        this.xfOq = false;
        this.rjLwE = false;
        this.rjNsH = true;
        this.reNqD = 0;
        this.vaHq = {};
    };
    RFITE.veju.wgpr = new RFITE.udor(0, 1, 0);
    RFITE.veju.prototype = {
        constructor: RFITE.veju,
        get xeIx() {
            RFITE.warn('THREE.Object3D: .eulerOrder has been moved to .rfIqD.order.');
            return this.rfIqD.order;
        },
        set xeIx(value) {
            RFITE.warn('THREE.Object3D: .eulerOrder has been moved to .rfIqD.order.');
            this.rfIqD.order = value;
        },
        get rjJrD() {
            RFITE.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
        },
        set rjJrD(value) {
            RFITE.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
        },
        ygHq: function(tjLs) {
            this.tjLs.rhLqJ(tjLs, this.tjLs);
            this.tjLs.whGw(this.position, this.xaLy, this.scale);
        },
        rgHwD: function(qaHt, rcOr) {
            this.xaLy.rhLwB(qaHt, rcOr);
        },
        rgLvF: function(rbHs) {
            this.xaLy.zcHq(rbHs, true);
        },
        rgJrH: function(m) {
            this.xaLy.rgJrK(m);
        },
        rgGrG: function(q) {
            this.xaLy.rjLt(q);
        },
        zcKt: function() {
            var qhNz = new RFITE.xaly();
            return function(qaHt, rcOr) {
                qhNz.rhLwB(qaHt, rcOr);
                this.xaLy.veOs(qhNz);
                return this;
            }
        }(),
        ugGy: function() {
            var qgPv = new RFITE.udor(1, 0, 0);
            return function(rcOr) {
                return this.zcKt(qgPv, rcOr);
            };
        }(),
        ugGz: function() {
            var qgPv = new RFITE.udor(0, 1, 0);
            return function(rcOr) {
                return this.zcKt(qgPv, rcOr);
            };
        }(),
        ufPq: function() {
            var qgPv = new RFITE.udor(0, 0, 1);
            return function(rcOr) {
                return this.zcKt(qgPv, rcOr);
            };
        }(),
        rhOsB: function() {
            var qgPv = new RFITE.udor();
            return function(qaHt, viLy) {
                qgPv.rjLt(qaHt).riIyD(this.xaLy);
                this.position.add(qgPv.riKsH(viLy));
                return this;
            }
        }(),
        translate: function(viLy, qaHt) {
            RFITE.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');
            return this.rhOsB(qaHt, viLy);
        },
        yiHt: function() {
            var qgPv = new RFITE.udor(1, 0, 0);
            return function(viLy) {
                return this.rhOsB(qgPv, viLy);
            };
        }(),
        yiHu: function() {
            var qgPv = new RFITE.udor(0, 1, 0);
            return function(viLy) {
                return this.rhOsB(qgPv, viLy);
            };
        }(),
        yiHv: function() {
            var qgPv = new RFITE.udor(0, 0, 1);
            return function(viLy) {
                return this.rhOsB(qgPv, viLy);
            };
        }(),
        zeJx: function(tfKy) {
            return tfKy.zhJr(this.ycJs);
        },
        zaOv: function() {
            var qiJw = new RFITE.uilr();
            return function(tfKy) {
                return tfKy.zhJr(qiJw.xdJv(this.ycJs));
            };
        }(),
        tjNr: function() {
            var qiJw = new RFITE.uilr();
            return function(tfKy) {
                qiJw.tjNr(tfKy, this.position, this.up);
                this.xaLy.rgJrK(qiJw);
            };
        }(),
        add: function(object) {
            if (arguments.length > 1) {
                for (var i = 0; i < arguments.length; i++) {
                    this.add(arguments[i]);
                }
                return this;
            };
            if (object === this) {
                RFITE.error("THREE.Object3D.add: object can't be added as a child of itself.", object);
                return this;
            }
            if (object instanceof RFITE.veju) {
                if (object.parent !== undefined) {
                    object.parent.thMz(object);
                }
                object.parent = this;
                object.rjOxD({
                    type: 'added'
                });
                this.children.push(object);
            } else {
                RFITE.error("THREE.Object3D.add: object rfKxG an vgJy of THREE.Object3D.", object);
            }
            return this;
        },
        thMz: function(object) {
            if (arguments.length > 1) {
                for (var i = 0; i < arguments.length; i++) {
                    this.thMz(arguments[i]);
                }
            };
            var index = this.children.indexOf(object);
            if (index !== -1) {
                object.parent = undefined;
                object.rjOxD({
                    type: 'removed'
                });
                this.children.splice(index, 1);
            }
        },
        riLqG: function(name) {
            RFITE.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');
            return this.riGsJ(name);
        },
        rjNuB: function(id) {
            return this.rgOyD('id', id);
        },
        riGsJ: function(name) {
            return this.rgOyD('name', name);
        },
        rgOyD: function(name, value) {
            if (this[name] === value) return this;
            for (var i = 0, l = this.children.length; i < l; i++) {
                var rcGq = this.children[i];
                var object = rcGq.rgOyD(name, value);
                if (object !== undefined) {
                    return object;
                }
            }
            return undefined;
        },
        rhMtK: function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            this.rhHsG(true);
            return thLx.rgJqA(this.ycJs);
        },
        rhGuA: function() {
            var position = new RFITE.udor();
            var scale = new RFITE.udor();
            return function(riKvH) {
                var thLx = riKvH || new RFITE.xaly();
                this.rhHsG(true);
                this.ycJs.whGw(position, thLx, scale);
                return thLx;
            }
        }(),
        rhMtJ: function() {
            var xaLy = new RFITE.xaly();
            return function(riKvH) {
                var thLx = riKvH || new RFITE.rbhs();
                this.rhGuA(xaLy);
                return thLx.rhIyK(xaLy, this.rfIqD.order, false);
            }
        }(),
        rjNvE: function() {
            var position = new RFITE.udor();
            var xaLy = new RFITE.xaly();
            return function(riKvH) {
                var thLx = riKvH || new RFITE.udor();
                this.rhHsG(true);
                this.ycJs.whGw(position, xaLy, thLx);
                return thLx;
            }
        }(),
        rhJyH: function() {
            var xaLy = new RFITE.xaly();
            return function(riKvH) {
                var thLx = riKvH || new RFITE.udor();
                this.rhGuA(xaLy);
                return thLx.set(0, 0, 1).riIyD(xaLy);
            }
        }(),
        ugLv: function() {},
        vaLx: function(uaGu) {
            uaGu(this);
            for (var i = 0, l = this.children.length; i < l; i++) {
                this.children[i].vaLx(uaGu);
            }
        },
        rhOsA: function(uaGu) {
            if (this.rfIxE === false) return;
            uaGu(this);
            for (var i = 0, l = this.children.length; i < l; i++) {
                this.children[i].rhOsA(uaGu);
            }
        },
        rhHsK: function(uaGu) {
            if (this.parent) {
                uaGu(this.parent);
                this.parent.rhHsK(uaGu);
            }
        },
        zbHq: function() {
            this.tjLs.tcMu(this.position, this.xaLy, this.scale);
            this.rgJzK = true;
        },
        rhHsG: function(raNu) {
            if (this.rhMxA === true) this.zbHq();
            if (this.rgJzK === true || raNu === true) {
                if (this.parent === undefined) {
                    this.ycJs.rjLt(this.tjLs);
                } else {
                    this.ycJs.rhLqJ(this.parent.ycJs, this.tjLs);
                }
                this.rgJzK = false;
                raNu = true;
            }
            for (var i = 0, l = this.children.length; i < l; i++) {
                this.children[i].rhHsG(raNu);
            }
        },
        toJSON: function() {
            var tiMy = {
                vfGs: {
                    reNrE: 4.3,
                    type: 'Object',
                    wfJq: 'ObjectExporter'
                }
            };
            var xdKz = {};
            var rjLsJ = function(vhHr) {
                if (tiMy.xdKz === undefined) {
                    tiMy.xdKz = [];
                }
                if (xdKz[vhHr.reIw] === undefined) {
                    var json = vhHr.toJSON();
                    delete json.vfGs;
                    xdKz[vhHr.reIw] = json;
                    tiMy.xdKz.push(json);
                }
                return vhHr.reIw;
            };
            var wdIz = {};
            var rjLsH = function(vfIz) {
                if (tiMy.wdIz === undefined) {
                    tiMy.wdIz = [];
                }
                if (wdIz[vfIz.reIw] === undefined) {
                    var json = vfIz.toJSON();
                    delete json.vfGs;
                    wdIz[vfIz.reIw] = json;
                    tiMy.wdIz.push(json);
                }
                return vfIz.reIw;
            };
            var ybKv = function(object) {
                var data = {};
                data.reIw = object.reIw;
                data.type = object.type;
                if (object.name !== '') data.name = object.name;
                if (JSON.stringify(object.vaHq) !== '{}') data.vaHq = object.vaHq;
                if (object.rfIxE !== true) data.rfIxE = object.rfIxE;
                if (object instanceof RFITE.rhivj) {
                    data.qeIu = object.qeIu;
                    data.seKv = object.seKv;
                    data.rgMv = object.rgMv;
                    data.qeJq = object.qeJq;
                } else if (object instanceof RFITE.rgpqg) {
                    data.left = object.left;
                    data.right = object.right;
                    data.top = object.top;
                    data.bottom = object.bottom;
                    data.rgMv = object.rgMv;
                    data.qeJq = object.qeJq;
                } else if (object instanceof RFITE.zhks) {
                    data.color = object.color.sbJz();
                } else if (object instanceof RFITE.rhnyg) {
                    data.color = object.color.sbJz();
                    data.weIw = object.weIw;
                } else if (object instanceof RFITE.xaow) {
                    data.color = object.color.sbJz();
                    data.weIw = object.weIw;
                    data.viLy = object.viLy;
                    data.rbNz = object.rbNz;
                } else if (object instanceof RFITE.xjmv) {
                    data.color = object.color.sbJz();
                    data.weIw = object.weIw;
                    data.viLy = object.viLy;
                    data.rcOr = object.rcOr;
                    data.vhPt = object.vhPt;
                    data.rbNz = object.rbNz;
                } else if (object instanceof RFITE.rigth) {
                    data.color = object.color.sbJz();
                    data.ydKx = object.ydKx.sbJz();
                } else if (object instanceof RFITE.rgos || object instanceof RFITE.rhjz || object instanceof RFITE.xaot) {
                    data.vhHr = rjLsJ(object.vhHr);
                    data.vfIz = rjLsH(object.vfIz);
                    if (object instanceof RFITE.rhjz) data.rgNt = object.rgNt;
                } else if (object instanceof RFITE.rfisb) {
                    data.vfIz = rjLsH(object.vfIz);
                }
                data.tjLs = object.tjLs.ueKr();
                if (object.children.length > 0) {
                    data.children = [];
                    for (var i = 0; i < object.children.length; i++) {
                        data.children.push(ybKv(object.children[i]));
                    }
                }
                return data;
            };
            tiMy.object = ybKv(this);
            return tiMy;
        },
        rbPq: function(object, wbGz) {
            if (object === undefined) object = new RFITE.veju();
            if (wbGz === undefined) wbGz = true;
            object.name = this.name;
            object.up.rjLt(this.up);
            object.position.rjLt(this.position);
            object.xaLy.rjLt(this.xaLy);
            object.scale.rjLt(this.scale);
            object.rgPuK = this.rgPuK;
            object.tjLs.rjLt(this.tjLs);
            object.ycJs.rjLt(this.ycJs);
            object.rhMxA = this.rhMxA;
            object.rgJzK = this.rgJzK;
            object.rfIxE = this.rfIxE;
            object.xfOq = this.xfOq;
            object.rjLwE = this.rjLwE;
            object.rjNsH = this.rjNsH;
            object.vaHq = JSON.parse(JSON.stringify(this.vaHq));
            if (wbGz === true) {
                for (var i = 0; i < this.children.length; i++) {
                    var rcGq = this.children[i];
                    object.add(rcGq.rbPq());
                }
            }
            return object;
        }
    };
    RFITE.rihya.prototype.apply(RFITE.veju.prototype);
    RFITE.rhprj = 0;
    RFITE.rbgq = function(a, b, c, normal, color, rjMuB) {
        this.a = a;
        this.b = b;
        this.c = c;
        this.normal = normal instanceof RFITE.udor ? normal : new RFITE.udor();
        this.rjJsD = normal instanceof Array ? normal : [];
        this.color = color instanceof RFITE.Color ? color : new RFITE.Color();
        this.zbGu = color instanceof Array ? color : [];
        this.riIqK = [];
        this.rjMuB = rjMuB !== undefined ? rjMuB : 0;
    };
    RFITE.rbgq.prototype = {
        constructor: RFITE.rbgq,
        rbPq: function() {
            var riOw = new RFITE.rbgq(this.a, this.b, this.c);
            riOw.normal.rjLt(this.normal);
            riOw.color.rjLt(this.color);
            riOw.rjMuB = this.rjMuB;
            for (var i = 0, qiMv = this.rjJsD.length; i < qiMv; i++) {
                riOw.rjJsD[i] = this.rjJsD[i].rbPq();
            }
            for (var i = 0, qiMv = this.zbGu.length; i < qiMv; i++) {
                riOw.zbGu[i] = this.zbGu[i].rbPq();
            }
            for (var i = 0, qiMv = this.riIqK.length; i < qiMv; i++) {
                riOw.riIqK[i] = this.riIqK[i].rbPq();
            }
            return riOw;
        }
    };
    RFITE.rbgr = function(a, b, c, d, normal, color, rjMuB) {
        RFITE.warn('THREE.Face4 has been removed. A THREE.Face3 rfIxA be created instead.');
        return new RFITE.rbgq(a, b, c, normal, color, rjMuB);
    };
    RFITE.rihrh = function(array, vfPv) {
        this.array = array;
        this.vfPv = vfPv;
        this.ycGw = false;
    };
    RFITE.rihrh.prototype = {
        constructor: RFITE.rihrh,
        get length() {
            return this.array.length;
        },
        sdHz: function(saNw, wiKx, saNx) {
            saNw *= this.vfPv;
            saNx *= wiKx.vfPv;
            for (var i = 0, l = this.vfPv; i < l; i++) {
                this.array[saNw + i] = wiKx.array[saNx + i];
            }
            return this;
        },
        set: function(value, tiOt) {
            if (tiOt === undefined) tiOt = 0;
            this.array.set(value, tiOt);
            return this;
        },
        rfIu: function(index, x) {
            this.array[index * this.vfPv] = x;
            return this;
        },
        rfIv: function(index, y) {
            this.array[index * this.vfPv + 1] = y;
            return this;
        },
        rfIw: function(index, z) {
            this.array[index * this.vfPv + 2] = z;
            return this;
        },
        shLr: function(index, x, y) {
            index *= this.vfPv;
            this.array[index] = x;
            this.array[index + 1] = y;
            return this;
        },
        tgPr: function(index, x, y, z) {
            index *= this.vfPv;
            this.array[index] = x;
            this.array[index + 1] = y;
            this.array[index + 2] = z;
            return this;
        },
        ufLq: function(index, x, y, z, w) {
            index *= this.vfPv;
            this.array[index] = x;
            this.array[index + 1] = y;
            this.array[index + 2] = z;
            this.array[index + 3] = w;
            return this;
        },
        rbPq: function() {
            return new RFITE.rihrh(new this.array.constructor(this.array), this.vfPv);
        }
    };
    RFITE.rjnzk = function(data, vfPv) {
        RFITE.warn('THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rijyb = function(data, vfPv) {
        RFITE.warn('THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rgjsj = function(data, vfPv) {
        RFITE.warn('THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rilva = function(data, vfPv) {
        RFITE.warn('THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rhotc = function(data, vfPv) {
        RFITE.warn('THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rilwk = function(data, vfPv) {
        RFITE.warn('THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rhotb = function(data, vfPv) {
        RFITE.warn('THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rhmqj = function(data, vfPv) {
        RFITE.warn('THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rhmqh = function(data, vfPv) {
        RFITE.warn('THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.');
        return new RFITE.rihrh(data, vfPv);
    };
    RFITE.rgjxh = function(array, vfPv) {
        RFITE.rihrh.call(this, array, vfPv);
        this.ziOz = {
            tiOt: 0,
            count: -1
        };
    };
    RFITE.rgjxh.prototype = Object.create(RFITE.rihrh.prototype);
    RFITE.rgjxh.prototype.constructor = RFITE.rgjxh;
    RFITE.rgjxh.prototype.rbPq = function() {
        return new RFITE.rgjxh(new this.array.constructor(this.array), this.vfPv);
    };
    RFITE.rinyf = function() {
        Object.defineProperty(this, 'id', {
            value: RFITE.rigrh++
        });
        this.reIw = RFITE.Math.zfLv();
        this.name = '';
        this.type = 'BufferGeometry';
        this.attributes = {};
        this.riNwF = [];
        this.wgKu = [];
        this.uhOz = this.wgKu;
        this.yfNv = null;
        this.riNyH = null;
    };
    RFITE.rinyf.prototype = {
        constructor: RFITE.rinyf,
        zhMz: function(name, wiKx) {
            if (wiKx instanceof RFITE.rihrh === false) {
                RFITE.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');
                this.attributes[name] = {
                    array: arguments[1],
                    vfPv: arguments[2]
                };
                return;
            }
            this.attributes[name] = wiKx;
            this.riNwF = Object.keys(this.attributes);
        },
        getAttribute: function(name) {
            return this.attributes[name];
        },
        ygKx: function(rfIsA, count, ydHw) {
            this.wgKu.push({
                rfIsA: rfIsA,
                count: count,
                index: ydHw !== undefined ? ydHw : 0
            });
        },
        ygHq: function(tjLs) {
            var position = this.attributes.position;
            if (position !== undefined) {
                tjLs.rgOuE(position.array);
                position.ycGw = true;
            }
            var normal = this.attributes.normal;
            if (normal !== undefined) {
                var normalMatrix = new RFITE.uilq().riGrA(tjLs);
                normalMatrix.rgOuE(normal.array);
                normal.ycGw = true;
            }
            if (this.yfNv !== null) {
                this.rhGqJ();
            }
            if (this.riNyH !== null) {
                this.rgKsJ();
            }
        },
        rfOsH: function() {
            this.rhGqJ();
            var tiOt = this.yfNv.rfOsH().tjHz();
            this.ygHq(new RFITE.uilr().yaHw(tiOt));
            return tiOt;
        },
        zfMy: function(vhHr, vbOz) {
            vbOz = vbOz || {
                'vertexColors': RFITE.vemy
            };
            var wjPq = vhHr.wjPq;
            var rbGu = vhHr.rbGu;
            var rjNqG = vhHr.rjNqG;
            var zbGu = vbOz.zbGu;
            var riGtJ = rjNqG[0].length > 0;
            var rgMzD = rbGu[0].rjJsD.length == 3;
            var wbKs = new Float32Array(rbGu.length * 3 * 3);
            this.zhMz('position', new RFITE.rihrh(wbKs, 3));
            var uhPu = new Float32Array(rbGu.length * 3 * 3);
            this.zhMz('normal', new RFITE.rihrh(uhPu, 3));
            if (zbGu !== RFITE.vemy) {
                var sdIw = new Float32Array(rbGu.length * 3 * 3);
                this.zhMz('color', new RFITE.rihrh(sdIw, 3));
            }
            if (riGtJ === true) {
                var qbJv = new Float32Array(rbGu.length * 3 * 2);
                this.zhMz('uv', new RFITE.rihrh(qbJv, 2));
            }
            for (var i = 0, qiNy = 0, qiNz = 0; i < rbGu.length; i++, qiNy += 6, qiNz += 9) {
                var riOw = rbGu[i];
                var a = wjPq[riOw.a];
                var b = wjPq[riOw.b];
                var c = wjPq[riOw.c];
                wbKs[qiNz] = a.x;
                wbKs[qiNz + 1] = a.y;
                wbKs[qiNz + 2] = a.z;
                wbKs[qiNz + 3] = b.x;
                wbKs[qiNz + 4] = b.y;
                wbKs[qiNz + 5] = b.z;
                wbKs[qiNz + 6] = c.x;
                wbKs[qiNz + 7] = c.y;
                wbKs[qiNz + 8] = c.z;
                if (rgMzD === true) {
                    var qiHv = riOw.rjJsD[0];
                    var qiHw = riOw.rjJsD[1];
                    var qiHx = riOw.rjJsD[2];
                    uhPu[qiNz] = qiHv.x;
                    uhPu[qiNz + 1] = qiHv.y;
                    uhPu[qiNz + 2] = qiHv.z;
                    uhPu[qiNz + 3] = qiHw.x;
                    uhPu[qiNz + 4] = qiHw.y;
                    uhPu[qiNz + 5] = qiHw.z;
                    uhPu[qiNz + 6] = qiHx.x;
                    uhPu[qiNz + 7] = qiHx.y;
                    uhPu[qiNz + 8] = qiHx.z;
                } else {
                    var n = riOw.normal;
                    uhPu[qiNz] = n.x;
                    uhPu[qiNz + 1] = n.y;
                    uhPu[qiNz + 2] = n.z;
                    uhPu[qiNz + 3] = n.x;
                    uhPu[qiNz + 4] = n.y;
                    uhPu[qiNz + 5] = n.z;
                    uhPu[qiNz + 6] = n.x;
                    uhPu[qiNz + 7] = n.y;
                    uhPu[qiNz + 8] = n.z;
                }
                if (zbGu === RFITE.xegs) {
                    var qjGy = riOw.color;
                    sdIw[qiNz] = qjGy.r;
                    sdIw[qiNz + 1] = qjGy.g;
                    sdIw[qiNz + 2] = qjGy.b;
                    sdIw[qiNz + 3] = qjGy.r;
                    sdIw[qiNz + 4] = qjGy.g;
                    sdIw[qiNz + 5] = qjGy.b;
                    sdIw[qiNz + 6] = qjGy.r;
                    sdIw[qiNz + 7] = qjGy.g;
                    sdIw[qiNz + 8] = qjGy.b;
                } else if (zbGu === RFITE.zbgu) {
                    var qbIz = riOw.zbGu[0];
                    var qbHq = riOw.zbGu[1];
                    var qbHr = riOw.zbGu[2];
                    sdIw[qiNz] = qbIz.r;
                    sdIw[qiNz + 1] = qbIz.g;
                    sdIw[qiNz + 2] = qbIz.b;
                    sdIw[qiNz + 3] = qbHq.r;
                    sdIw[qiNz + 4] = qbHq.g;
                    sdIw[qiNz + 5] = qbHq.b;
                    sdIw[qiNz + 6] = qbHr.r;
                    sdIw[qiNz + 7] = qbHr.g;
                    sdIw[qiNz + 8] = qbHr.b;
                }
                if (riGtJ === true) {
                    var qbJq = rjNqG[0][i][0];
                    var qbJr = rjNqG[0][i][1];
                    var qbJs = rjNqG[0][i][2];
                    qbJv[qiNy] = qbJq.x;
                    qbJv[qiNy + 1] = qbJq.y;
                    qbJv[qiNy + 2] = qbJr.x;
                    qbJv[qiNy + 3] = qbJr.y;
                    qbJv[qiNy + 4] = qbJs.x;
                    qbJv[qiNy + 5] = qbJs.y;
                }
            }
            this.rgKsJ();
            return this;
        },
        rhGqJ: function() {
            var tfKy = new RFITE.udor();
            return function() {
                if (this.yfNv === null) {
                    this.yfNv = new RFITE.rjnq();
                }
                var wbKs = this.attributes.position.array;
                if (wbKs) {
                    var qjMs = this.yfNv;
                    qjMs.wdJy();
                    for (var i = 0, qiMv = wbKs.length; i < qiMv; i += 3) {
                        tfKy.set(wbKs[i], wbKs[i + 1], wbKs[i + 2]);
                        qjMs.rjOzD(tfKy);
                    }
                }
                if (wbKs === undefined || wbKs.length === 0) {
                    this.yfNv.min.set(0, 0, 0);
                    this.yfNv.max.set(0, 0, 0);
                }
                if (isNaN(this.yfNv.min.x) || isNaN(this.yfNv.min.y) || isNaN(this.yfNv.min.z)) {
                    RFITE.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max rfHtE NaN values. The "position" attribute is likely to rfHtE NaN values.');
                }
            }
        }(),
        rgKsJ: function() {
            var rfPxD = new RFITE.rjnq();
            var tfKy = new RFITE.udor();
            return function() {
                if (this.riNyH === null) {
                    this.riNyH = new RFITE.tglq();
                }
                var wbKs = this.attributes.position.array;
                if (wbKs) {
                    rfPxD.wdJy();
                    var rfOsH = this.riNyH.rfOsH;
                    for (var i = 0, qiMv = wbKs.length; i < qiMv; i += 3) {
                        tfKy.set(wbKs[i], wbKs[i + 1], wbKs[i + 2]);
                        rfPxD.rjOzD(tfKy);
                    }
                    rfPxD.rfOsH(rfOsH);
                    var ycJy = 0;
                    for (var i = 0, qiMv = wbKs.length; i < qiMv; i += 3) {
                        tfKy.set(wbKs[i], wbKs[i + 1], wbKs[i + 2]);
                        ycJy = Math.max(ycJy, rfOsH.rhJuC(tfKy));
                    }
                    this.riNyH.thOs = Math.sqrt(ycJy);
                    if (isNaN(this.riNyH.thOs)) {
                        RFITE.error('THREE.BufferGeometry.computeBoundingSphere(): Computed thOs is NaN. The "position" attribute is likely to rfHtE NaN values.');
                    }
                }
            }
        }(),
        rhGqH: function() {},
        rgMuB: function() {
            var attributes = this.attributes;
            if (attributes.position) {
                var wbKs = attributes.position.array;
                if (attributes.normal === undefined) {
                    this.zhMz('normal', new RFITE.rihrh(new Float32Array(wbKs.length), 3));
                } else {
                    var uhPu = attributes.normal.array;
                    for (var i = 0, qiMv = uhPu.length; i < qiMv; i++) {
                        uhPu[i] = 0;
                    }
                }
                var uhPu = attributes.normal.array;
                var qgOq, qgOr, qgOs, qhOv = new RFITE.udor(),
                    qhOw = new RFITE.udor(),
                    pC = new RFITE.udor(),
                    qjLy = new RFITE.udor(),
                    qjOt = new RFITE.udor();
                if (attributes.index) {
                    var ujNx = attributes.index.array;
                    var uhOz = (this.uhOz.length > 0 ? this.uhOz : [{
                        rfIsA: 0,
                        count: ujNx.length,
                        index: 0
                    }]);
                    for (var j = 0, qiLy = uhOz.length; j < qiLy; ++j) {
                        var rfIsA = uhOz[j].rfIsA;
                        var count = uhOz[j].count;
                        var index = uhOz[j].index;
                        for (var i = rfIsA, qiMv = rfIsA + count; i < qiMv; i += 3) {
                            qgOq = (index + ujNx[i]) * 3;
                            qgOr = (index + ujNx[i + 1]) * 3;
                            qgOs = (index + ujNx[i + 2]) * 3;
                            qhOv.wfMy(wbKs, qgOq);
                            qhOw.wfMy(wbKs, qgOr);
                            pC.wfMy(wbKs, qgOs);
                            qjLy.yiMs(pC, qhOw);
                            qjOt.yiMs(qhOv, qhOw);
                            qjLy.rbOw(qjOt);
                            uhPu[qgOq] += qjLy.x;
                            uhPu[qgOq + 1] += qjLy.y;
                            uhPu[qgOq + 2] += qjLy.z;
                            uhPu[qgOr] += qjLy.x;
                            uhPu[qgOr + 1] += qjLy.y;
                            uhPu[qgOr + 2] += qjLy.z;
                            uhPu[qgOs] += qjLy.x;
                            uhPu[qgOs + 1] += qjLy.y;
                            uhPu[qgOs + 2] += qjLy.z;
                        }
                    }
                } else {
                    for (var i = 0, qiMv = wbKs.length; i < qiMv; i += 9) {
                        qhOv.wfMy(wbKs, i);
                        qhOw.wfMy(wbKs, i + 3);
                        pC.wfMy(wbKs, i + 6);
                        qjLy.yiMs(pC, qhOw);
                        qjOt.yiMs(qhOv, qhOw);
                        qjLy.rbOw(qjOt);
                        uhPu[i] = qjLy.x;
                        uhPu[i + 1] = qjLy.y;
                        uhPu[i + 2] = qjLy.z;
                        uhPu[i + 3] = qjLy.x;
                        uhPu[i + 4] = qjLy.y;
                        uhPu[i + 5] = qjLy.z;
                        uhPu[i + 6] = qjLy.x;
                        uhPu[i + 7] = qjLy.y;
                        uhPu[i + 8] = qjLy.z;
                    }
                }
                this.rhLqB();
                attributes.normal.ycGw = true;
            }
        },
        riHuJ: function() {
            if (this.attributes.index === undefined || this.attributes.position === undefined || this.attributes.normal === undefined || this.attributes.uv === undefined) {
                RFITE.warn('THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()');
                return;
            }
            var ujNx = this.attributes.index.array;
            var wbKs = this.attributes.position.array;
            var uhPu = this.attributes.normal.array;
            var qbJv = this.attributes.uv.array;
            var wcKx = wbKs.length / 3;
            if (this.attributes.tangent === undefined) {
                this.zhMz('tangent', new RFITE.rihrh(new Float32Array(4 * wcKx), 4));
            }
            var vaPr = this.attributes.tangent.array;
            var reNz = [],
                reMq = [];
            for (var k = 0; k < wcKx; k++) {
                reNz[k] = new RFITE.udor();
                reMq[k] = new RFITE.udor();
            }
            var qgOq = new RFITE.udor(),
                qgOr = new RFITE.udor(),
                qgOs = new RFITE.udor(),
                qbJq = new RFITE.udoq(),
                qbJr = new RFITE.udoq(),
                qbJs = new RFITE.udoq(),
                qgMv, qgMw, qgKt, qgKu, qgJw, qgJx, qhKt, qhKu, qhIw, qhIx, r;
            var rfJr = new RFITE.udor(),
                reMu = new RFITE.udor();

            function riLtA(a, b, c) {
                qgOq.wfMy(wbKs, a * 3);
                qgOr.wfMy(wbKs, b * 3);
                qgOs.wfMy(wbKs, c * 3);
                qbJq.wfMy(qbJv, a * 2);
                qbJr.wfMy(qbJv, b * 2);
                qbJs.wfMy(qbJv, c * 2);
                qgMv = qgOr.x - qgOq.x;
                qgMw = qgOs.x - qgOq.x;
                qgKt = qgOr.y - qgOq.y;
                qgKu = qgOs.y - qgOq.y;
                qgJw = qgOr.z - qgOq.z;
                qgJx = qgOs.z - qgOq.z;
                qhKt = qbJr.x - qbJq.x;
                qhKu = qbJs.x - qbJq.x;
                qhIw = qbJr.y - qbJq.y;
                qhIx = qbJs.y - qbJq.y;
                r = 1.0 / (qhKt * qhIx - qhKu * qhIw);
                rfJr.set((qhIx * qgMv - qhIw * qgMw) * r, (qhIx * qgKt - qhIw * qgKu) * r, (qhIx * qgJw - qhIw * qgJx) * r);
                reMu.set((qhKt * qgMw - qhKu * qgMv) * r, (qhKt * qgKu - qhKu * qgKt) * r, (qhKt * qgJx - qhKu * qgJw) * r);
                reNz[a].add(rfJr);
                reNz[b].add(rfJr);
                reNz[c].add(rfJr);
                reMq[a].add(reMu);
                reMq[b].add(reMu);
                reMq[c].add(reMu);
            }
            var i, qiMv;
            var j, qiLy;
            var qiMq, qiMr, qiMs;
            if (this.wgKu.length === 0) {
                this.ygKx(0, ujNx.length, 0);
            }
            var wgKu = this.wgKu;
            for (j = 0, qiLy = wgKu.length; j < qiLy; ++j) {
                var rfIsA = wgKu[j].rfIsA;
                var count = wgKu[j].count;
                var index = wgKu[j].index;
                for (i = rfIsA, qiMv = rfIsA + count; i < qiMv; i += 3) {
                    qiMq = index + ujNx[i];
                    qiMr = index + ujNx[i + 1];
                    qiMs = index + ujNx[i + 2];
                    riLtA(qiMq, qiMr, qiMs);
                }
            }
            var qbMx = new RFITE.udor(),
                reKv = new RFITE.udor();
            var n = new RFITE.udor(),
                qiHs = new RFITE.udor();
            var w, t, test;

            function zfHw(v) {
                n.wfMy(uhPu, v * 3);
                qiHs.rjLt(n);
                t = reNz[v];
                qbMx.rjLt(t);
                qbMx.sub(n.riKsH(n.qeMq(t))).normalize();
                reKv.zgKq(qiHs, t);
                test = reKv.qeMq(reMq[v]);
                w = (test < 0.0) ? -1.0 : 1.0;
                vaPr[v * 4] = qbMx.x;
                vaPr[v * 4 + 1] = qbMx.y;
                vaPr[v * 4 + 2] = qbMx.z;
                vaPr[v * 4 + 3] = w;
            }
            for (j = 0, qiLy = wgKu.length; j < qiLy; ++j) {
                var rfIsA = wgKu[j].rfIsA;
                var count = wgKu[j].count;
                var index = wgKu[j].index;
                for (i = rfIsA, qiMv = rfIsA + count; i < qiMv; i += 3) {
                    qiMq = index + ujNx[i];
                    qiMr = index + ujNx[i + 1];
                    qiMs = index + ujNx[i + 2];
                    zfHw(qiMq);
                    zfHw(qiMr);
                    zfHw(qiMs);
                }
            }
        },
        riMrA: function(size) {
            if (size === undefined) size = 65535;
            var ujNx = this.attributes.index.array;
            var wjPq = this.attributes.position.array;
            var xeGu = (ujNx.length / 3);
            var rjKuF = new Uint16Array(ujNx.length);
            var vgKu = 0;
            var xiHr = 0;
            var uhOz = [{
                rfIsA: 0,
                count: 0,
                index: 0
            }];
            var tiOt = uhOz[0];
            var rhGsB = 0;
            var riKsF = 0;
            var zfOw = new xclu(6);
            var xiHq = new xclu(wjPq.length);
            var zcLy = new xclu(wjPq.length);
            for (var j = 0; j < wjPq.length; j++) {
                xiHq[j] = -1;
                zcLy[j] = -1;
            }
            for (var sbNx = 0; sbNx < xeGu; sbNx++) {
                riKsF = 0;
                for (var qgOz = 0; qgOz < 3; qgOz++) {
                    var qbHv = ujNx[sbNx * 3 + qgOz];
                    if (xiHq[qbHv] == -1) {
                        zfOw[qgOz * 2] = qbHv;
                        zfOw[qgOz * 2 + 1] = -1;
                        riKsF++;
                    } else if (xiHq[qbHv] < tiOt.index) {
                        zfOw[qgOz * 2] = qbHv;
                        zfOw[qgOz * 2 + 1] = -1;
                        rhGsB++;
                    } else {
                        zfOw[qgOz * 2] = qbHv;
                        zfOw[qgOz * 2 + 1] = xiHq[qbHv];
                    }
                }
                var tbIy = xiHr + riKsF;
                if (tbIy > (tiOt.index + size)) {
                    var xbMt = {
                        rfIsA: vgKu,
                        count: 0,
                        index: xiHr
                    };
                    uhOz.push(xbMt);
                    tiOt = xbMt;
                    for (var v = 0; v < 6; v += 2) {
                        var uiHw = zfOw[v + 1];
                        if (uiHw > -1 && uiHw < tiOt.index) zfOw[v + 1] = -1;
                    }
                }
                for (var v = 0; v < 6; v += 2) {
                    var qbHv = zfOw[v];
                    var uiHw = zfOw[v + 1];
                    if (uiHw === -1) uiHw = xiHr++;
                    xiHq[qbHv] = uiHw;
                    zcLy[uiHw] = qbHv;
                    rjKuF[vgKu++] = uiHw - tiOt.index;
                    tiOt.count++;
                }
            }
            this.riJqF(rjKuF, zcLy, xiHr);
            this.uhOz = uhOz;
            this.wgKu = uhOz;
            return uhOz;
        },
        sjHt: function(vhHr, tiOt) {
            if (vhHr instanceof RFITE.rinyf === false) {
                RFITE.error('THREE.BufferGeometry.merge(): geometry rfKxG an vgJy of THREE.BufferGeometry.', vhHr);
                return;
            }
            if (tiOt === undefined) tiOt = 0;
            var attributes = this.attributes;
            for (var key in attributes) {
                if (vhHr.attributes[key] === undefined) continue;
                var xgKs = attributes[key];
                var riIyA = xgKs.array;
                var xgKt = vhHr.attributes[key];
                var riIzK = xgKt.array;
                var rjPwC = xgKt.vfPv;
                for (var i = 0, j = rjPwC * tiOt; i < riIzK.length; i++, j++) {
                    riIyA[j] = riIzK[i];
                }
            }
            return this;
        },
        rhLqB: function() {
            var uhPu = this.attributes.normal.array;
            var x, y, z, n;
            for (var i = 0, qiMv = uhPu.length; i < qiMv; i += 3) {
                x = uhPu[i];
                y = uhPu[i + 1];
                z = uhPu[i + 2];
                n = 1.0 / Math.sqrt(x * x + y * y + z * z);
                uhPu[i] *= n;
                uhPu[i + 1] *= n;
                uhPu[i + 2] *= n;
            }
        },
        riJqF: function(ydHv, vgKt, ziMq) {
            var rhLyG = {};
            for (var qaIz in this.attributes) {
                if (qaIz == 'index') continue;
                var zjOu = this.attributes[qaIz].array;
                rhLyG[qaIz] = new zjOu.constructor(this.attributes[qaIz].vfPv * ziMq);
            }
            for (var uiHw = 0; uiHw < ziMq; uiHw++) {
                var qbHv = vgKt[uiHw];
                for (var qaIz in this.attributes) {
                    if (qaIz == 'index') continue;
                    var wiKw = this.attributes[qaIz].array;
                    var uaMs = this.attributes[qaIz].vfPv;
                    var yjHr = rhLyG[qaIz];
                    for (var k = 0; k < uaMs; k++) yjHr[uiHw * uaMs + k] = wiKw[qbHv * uaMs + k];
                }
            }
            this.attributes['index'].array = ydHv;
            for (var qaIz in this.attributes) {
                if (qaIz == 'index') continue;
                this.attributes[qaIz].array = rhLyG[qaIz];
                this.attributes[qaIz].veLz = this.attributes[qaIz].vfPv * ziMq;
            }
        },
        toJSON: function() {
            var tiMy = {
                vfGs: {
                    reNrE: 4.0,
                    type: 'BufferGeometry',
                    wfJq: 'BufferGeometryExporter'
                },
                reIw: this.reIw,
                type: this.type,
                data: {
                    attributes: {}
                }
            };
            var attributes = this.attributes;
            var uhOz = this.uhOz;
            var riNyH = this.riNyH;
            for (var key in attributes) {
                var wiKx = attributes[key];
                var array = Array.prototype.slice.call(wiKx.array);
                tiMy.data.attributes[key] = {
                    vfPv: wiKx.vfPv,
                    type: wiKx.array.constructor.name,
                    array: array
                }
            }
            if (uhOz.length > 0) {
                tiMy.data.uhOz = JSON.parse(JSON.stringify(uhOz));
            }
            if (riNyH !== null) {
                tiMy.data.riNyH = {
                    rfOsH: riNyH.rfOsH.ueKr(),
                    thOs: riNyH.thOs
                }
            }
            return tiMy;
        },
        rbPq: function() {
            var vhHr = new RFITE.rinyf();
            for (var qaIz in this.attributes) {
                var yjHs = this.attributes[qaIz];
                vhHr.zhMz(qaIz, yjHs.rbPq());
            }
            for (var i = 0, qiMv = this.uhOz.length; i < qiMv; i++) {
                var tiOt = this.uhOz[i];
                vhHr.uhOz.push({
                    rfIsA: tiOt.rfIsA,
                    index: tiOt.index,
                    count: tiOt.count
                });
            }
            return vhHr;
        },
        tbOw: function() {
            this.rjOxD({
                type: 'dispose'
            });
        }
    };
    RFITE.rihya.prototype.apply(RFITE.rinyf.prototype);
    RFITE.vhhr = function() {
        Object.defineProperty(this, 'id', {
            value: RFITE.rigrh++
        });
        this.reIw = RFITE.Math.zfLv();
        this.name = '';
        this.type = 'Geometry';
        this.wjPq = [];
        this.sdIw = [];
        this.rbGu = [];
        this.rjNqG = [
            []
        ];
        this.zdOs = [];
        this.ycHs = [];
        this.zdPt = [];
        this.zjPv = [];
        this.zjPt = [];
        this.rjMsE = [];
        this.yfNv = null;
        this.riNyH = null;
        this.ydJt = false;
        this.tbNv = true;
        this.rgPzH = false;
        this.rhGsA = false;
        this.rjJsK = false;
        this.rhItH = false;
        this.rgPxG = false;
        this.rhNvG = false;
        this.rgIyD = false;
        this.rhMtD = false;
    };
    RFITE.vhhr.prototype = {
        constructor: RFITE.vhhr,
        ygHq: function(tjLs) {
            var normalMatrix = new RFITE.uilq().riGrA(tjLs);
            for (var i = 0, qiMv = this.wjPq.length; i < qiMv; i++) {
                var tfJs = this.wjPq[i];
                tfJs.zhJr(tjLs);
            }
            for (var i = 0, qiMv = this.rbGu.length; i < qiMv; i++) {
                var riOw = this.rbGu[i];
                riOw.normal.zhJq(normalMatrix).normalize();
                for (var j = 0, qiLy = riOw.rjJsD.length; j < qiLy; j++) {
                    riOw.rjJsD[j].zhJq(normalMatrix).normalize();
                }
            }
            if (this.yfNv !== null) {
                this.rhGqJ();
            }
            if (this.riNyH !== null) {
                this.rgKsJ();
            }
            this.rgPzH = true;
            this.rhItH = true;
        },
        rhGtD: function(vhHr) {
            var shMr = this;
            var attributes = vhHr.attributes;
            var wjPq = attributes.position.array;
            var ujNx = attributes.index !== undefined ? attributes.index.array : undefined;
            var uhPu = attributes.normal !== undefined ? attributes.normal.array : undefined;
            var sdIw = attributes.color !== undefined ? attributes.color.array : undefined;
            var qbJv = attributes.uv !== undefined ? attributes.uv.array : undefined;
            var zjKw = [];
            var ueNx = [];
            for (var i = 0, j = 0; i < wjPq.length; i += 3, j += 2) {
                shMr.wjPq.push(new RFITE.udor(wjPq[i], wjPq[i + 1], wjPq[i + 2]));
                if (uhPu !== undefined) {
                    zjKw.push(new RFITE.udor(uhPu[i], uhPu[i + 1], uhPu[i + 2]));
                }
                if (sdIw !== undefined) {
                    shMr.sdIw.push(new RFITE.Color(sdIw[i], sdIw[i + 1], sdIw[i + 2]));
                }
                if (qbJv !== undefined) {
                    ueNx.push(new RFITE.udoq(qbJv[j], qbJv[j + 1]));
                }
            }
            var teIt = function(a, b, c) {
                var rjJsD = uhPu !== undefined ? [zjKw[a].rbPq(), zjKw[b].rbPq(), zjKw[c].rbPq()] : [];
                var zbGu = sdIw !== undefined ? [shMr.sdIw[a].rbPq(), shMr.sdIw[b].rbPq(), shMr.sdIw[c].rbPq()] : [];
                shMr.rbGu.push(new RFITE.rbgq(a, b, c, rjJsD, zbGu));
                if (qbJv !== undefined) {
                    shMr.rjNqG[0].push([ueNx[a].rbPq(), ueNx[b].rbPq(), ueNx[c].rbPq()]);
                }
            };
            if (ujNx !== undefined) {
                var wgKu = vhHr.wgKu;
                if (wgKu.length > 0) {
                    for (var i = 0; i < wgKu.length; i++) {
                        var viKu = wgKu[i];
                        var rfIsA = viKu.rfIsA;
                        var count = viKu.count;
                        var index = viKu.index;
                        for (var j = rfIsA, qiLy = rfIsA + count; j < qiLy; j += 3) {
                            teIt(index + ujNx[j], index + ujNx[j + 1], index + ujNx[j + 2]);
                        }
                    }
                } else {
                    for (var i = 0; i < ujNx.length; i += 3) {
                        teIt(ujNx[i], ujNx[i + 1], ujNx[i + 2]);
                    }
                }
            } else {
                for (var i = 0; i < wjPq.length / 3; i += 3) {
                    teIt(i, i + 1, i + 2);
                }
            }
            this.rhGqH();
            if (vhHr.yfNv !== null) {
                this.yfNv = vhHr.yfNv.rbPq();
            }
            if (vhHr.riNyH !== null) {
                this.riNyH = vhHr.riNyH.rbPq();
            }
            return this;
        },
        rfOsH: function() {
            this.rhGqJ();
            var tiOt = this.yfNv.rfOsH().tjHz();
            this.ygHq(new RFITE.uilr().yaHw(tiOt));
            return tiOt;
        },
        rhGqH: function() {
            var qjLy = new RFITE.udor(),
                qjOt = new RFITE.udor();
            for (var f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                var riOw = this.rbGu[f];
                var qgOq = this.wjPq[riOw.a];
                var qgOr = this.wjPq[riOw.b];
                var qgOs = this.wjPq[riOw.c];
                qjLy.yiMs(qgOs, qgOr);
                qjOt.yiMs(qgOq, qgOr);
                qjLy.rbOw(qjOt);
                qjLy.normalize();
                riOw.normal.rjLt(qjLy);
            }
        },
        rgMuB: function(zhJt) {
            var v, qgOx, f, qiPr, riOw, wjPq;
            wjPq = new Array(this.wjPq.length);
            for (v = 0, qgOx = this.wjPq.length; v < qgOx; v++) {
                wjPq[v] = new RFITE.udor();
            }
            if (zhJt) {
                var qgOq, qgOr, qgOs;
                var qjLy = new RFITE.udor(),
                    qjOt = new RFITE.udor();
                for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                    riOw = this.rbGu[f];
                    qgOq = this.wjPq[riOw.a];
                    qgOr = this.wjPq[riOw.b];
                    qgOs = this.wjPq[riOw.c];
                    qjLy.yiMs(qgOs, qgOr);
                    qjOt.yiMs(qgOq, qgOr);
                    qjLy.rbOw(qjOt);
                    wjPq[riOw.a].add(qjLy);
                    wjPq[riOw.b].add(qjLy);
                    wjPq[riOw.c].add(qjLy);
                }
            } else {
                for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                    riOw = this.rbGu[f];
                    wjPq[riOw.a].add(riOw.normal);
                    wjPq[riOw.b].add(riOw.normal);
                    wjPq[riOw.c].add(riOw.normal);
                }
            }
            for (v = 0, qgOx = this.wjPq.length; v < qgOx; v++) {
                wjPq[v].normalize();
            }
            for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                riOw = this.rbGu[f];
                riOw.rjJsD[0] = wjPq[riOw.a].rbPq();
                riOw.rjJsD[1] = wjPq[riOw.b].rbPq();
                riOw.rjJsD[2] = wjPq[riOw.c].rbPq();
            }
        },
        rgOwK: function() {
            var i, qiMv, f, qiPr, riOw;
            for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                riOw = this.rbGu[f];
                if (!riOw.rgMqK) {
                    riOw.rgMqK = riOw.normal.rbPq();
                } else {
                    riOw.rgMqK.rjLt(riOw.normal);
                }
                if (!riOw.rgIuK) riOw.rgIuK = [];
                for (i = 0, qiMv = riOw.rjJsD.length; i < qiMv; i++) {
                    if (!riOw.rgIuK[i]) {
                        riOw.rgIuK[i] = riOw.rjJsD[i].rbPq();
                    } else {
                        riOw.rgIuK[i].rjLt(riOw.rjJsD[i]);
                    }
                }
            }
            var tfOr = new RFITE.vhhr();
            tfOr.rbGu = this.rbGu;
            for (i = 0, qiMv = this.zdOs.length; i < qiMv; i++) {
                if (!this.zdPt[i]) {
                    this.zdPt[i] = {};
                    this.zdPt[i].yeHz = [];
                    this.zdPt[i].rjJsD = [];
                    var riMvA = this.zdPt[i].yeHz;
                    var rhNzK = this.zdPt[i].rjJsD;
                    var xeGt, rjJsD;
                    for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                        xeGt = new RFITE.udor();
                        rjJsD = {
                            a: new RFITE.udor(),
                            b: new RFITE.udor(),
                            c: new RFITE.udor()
                        };
                        riMvA.push(xeGt);
                        rhNzK.push(rjJsD);
                    }
                }
                var zdPt = this.zdPt[i];
                tfOr.wjPq = this.zdOs[i].wjPq;
                tfOr.rhGqH();
                tfOr.rgMuB();
                var xeGt, rjJsD;
                for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                    riOw = this.rbGu[f];
                    xeGt = zdPt.yeHz[f];
                    rjJsD = zdPt.rjJsD[f];
                    xeGt.rjLt(riOw.normal);
                    rjJsD.a.rjLt(riOw.rjJsD[0]);
                    rjJsD.b.rjLt(riOw.rjJsD[1]);
                    rjJsD.c.rjLt(riOw.rjJsD[2]);
                }
            }
            for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                riOw = this.rbGu[f];
                riOw.normal = riOw.rgMqK;
                riOw.rjJsD = riOw.rgIuK;
            }
        },
        riHuJ: function() {
            var f, qiPr, v, qgOx, i, ziMr, riOw, uv, qgOq, qgOr, qgOs, qbJq, qbJr, qbJs, qgMv, qgMw, qgKt, qgKu, qgJw, qgJx, qhKt, qhKu, qhIw, qhIx, r, t, test, reNz = [],
                reMq = [],
                rfJr = new RFITE.udor(),
                reMu = new RFITE.udor(),
                qbMx = new RFITE.udor(),
                reKv = new RFITE.udor(),
                n = new RFITE.udor(),
                w;
            for (v = 0, qgOx = this.wjPq.length; v < qgOx; v++) {
                reNz[v] = new RFITE.udor();
                reMq[v] = new RFITE.udor();
            }

            function riLtA(tcLv, a, b, c, qhGu, qhGv, qhGw) {
                qgOq = tcLv.wjPq[a];
                qgOr = tcLv.wjPq[b];
                qgOs = tcLv.wjPq[c];
                qbJq = uv[qhGu];
                qbJr = uv[qhGv];
                qbJs = uv[qhGw];
                qgMv = qgOr.x - qgOq.x;
                qgMw = qgOs.x - qgOq.x;
                qgKt = qgOr.y - qgOq.y;
                qgKu = qgOs.y - qgOq.y;
                qgJw = qgOr.z - qgOq.z;
                qgJx = qgOs.z - qgOq.z;
                qhKt = qbJr.x - qbJq.x;
                qhKu = qbJs.x - qbJq.x;
                qhIw = qbJr.y - qbJq.y;
                qhIx = qbJs.y - qbJq.y;
                r = 1.0 / (qhKt * qhIx - qhKu * qhIw);
                rfJr.set((qhIx * qgMv - qhIw * qgMw) * r, (qhIx * qgKt - qhIw * qgKu) * r, (qhIx * qgJw - qhIw * qgJx) * r);
                reMu.set((qhKt * qgMw - qhKu * qgMv) * r, (qhKt * qgKu - qhKu * qgKt) * r, (qhKt * qgJx - qhKu * qgJw) * r);
                reNz[a].add(rfJr);
                reNz[b].add(rfJr);
                reNz[c].add(rfJr);
                reMq[a].add(reMu);
                reMq[b].add(reMu);
                reMq[c].add(reMu);
            }
            for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                riOw = this.rbGu[f];
                uv = this.rjNqG[0][f];
                riLtA(this, riOw.a, riOw.b, riOw.c, 0, 1, 2);
            }
            var wfPu = ['a', 'b', 'c', 'd'];
            for (f = 0, qiPr = this.rbGu.length; f < qiPr; f++) {
                riOw = this.rbGu[f];
                for (i = 0; i < Math.min(riOw.rjJsD.length, 3); i++) {
                    n.rjLt(riOw.rjJsD[i]);
                    ziMr = riOw[wfPu[i]];
                    t = reNz[ziMr];
                    qbMx.rjLt(t);
                    qbMx.sub(n.riKsH(n.qeMq(t))).normalize();
                    reKv.zgKq(riOw.rjJsD[i], t);
                    test = reKv.qeMq(reMq[ziMr]);
                    w = (test < 0.0) ? -1.0 : 1.0;
                    riOw.riIqK[i] = new RFITE.udos(qbMx.x, qbMx.y, qbMx.z, w);
                }
            }
            this.ydJt = true;
        },
        rgMuC: function() {
            var d = 0;
            var wjPq = this.wjPq;
            for (var i = 0, qiMv = wjPq.length; i < qiMv; i++) {
                if (i > 0) {
                    d += wjPq[i].xeMv(wjPq[i - 1]);
                }
                this.rjMsE[i] = d;
            }
        },
        rhGqJ: function() {
            if (this.yfNv === null) {
                this.yfNv = new RFITE.rjnq();
            }
            this.yfNv.rjKrC(this.wjPq);
        },
        rgKsJ: function() {
            if (this.riNyH === null) {
                this.riNyH = new RFITE.tglq();
            }
            this.riNyH.rjKrC(this.wjPq);
        },
        sjHt: function(vhHr, tjLs, rgNrD) {
            if (vhHr instanceof RFITE.vhhr === false) {
                RFITE.error('THREE.Geometry.merge(): geometry rfKxG an vgJy of THREE.Geometry.', vhHr);
                return;
            }
            var normalMatrix, zbGv = this.wjPq.length,
                xiHt = this.wjPq,
                xiHu = vhHr.wjPq,
                scGv = this.rbGu,
                scGw = vhHr.rbGu,
                reIy = this.rjNqG[0],
                reIz = vhHr.rjNqG[0];
            if (rgNrD === undefined) rgNrD = 0;
            if (tjLs !== undefined) {
                normalMatrix = new RFITE.uilq().riGrA(tjLs);
            }
            for (var i = 0, qiMv = xiHu.length; i < qiMv; i++) {
                var tfJs = xiHu[i];
                var yhMs = tfJs.rbPq();
                if (tjLs !== undefined) yhMs.zhJr(tjLs);
                xiHt.push(yhMs);
            }
            for (i = 0, qiMv = scGw.length; i < qiMv; i++) {
                var riOw = scGw[i],
                    vhOt, normal, color, rhJvG = riOw.rjJsD,
                    rhNzB = riOw.zbGu;
                vhOt = new RFITE.rbgq(riOw.a + zbGv, riOw.b + zbGv, riOw.c + zbGv);
                vhOt.normal.rjLt(riOw.normal);
                if (normalMatrix !== undefined) {
                    vhOt.normal.zhJq(normalMatrix).normalize();
                }
                for (var j = 0, qiLy = rhJvG.length; j < qiLy; j++) {
                    normal = rhJvG[j].rbPq();
                    if (normalMatrix !== undefined) {
                        normal.zhJq(normalMatrix).normalize();
                    }
                    vhOt.rjJsD.push(normal);
                }
                vhOt.color.rjLt(riOw.color);
                for (var j = 0, qiLy = rhNzB.length; j < qiLy; j++) {
                    color = rhNzB[j];
                    vhOt.zbGu.push(color.rbPq());
                }
                vhOt.rjMuB = riOw.rjMuB + rgNrD;
                scGv.push(vhOt);
            }
            for (i = 0, qiMv = reIz.length; i < qiMv; i++) {
                var uv = reIz[i],
                    tfKr = [];
                if (uv === undefined) {
                    continue;
                }
                for (var j = 0, qiLy = uv.length; j < qiLy; j++) {
                    tfKr.push(uv[j].rbPq());
                }
                reIy.push(tfKr);
            }
        },
        wdGw: function(rgOs) {
            if (rgOs instanceof RFITE.rgos === false) {
                RFITE.error('THREE.Geometry.mergeMesh(): mesh rfKxG an vgJy of THREE.Mesh.', rgOs);
                return;
            }
            rgOs.rhMxA && rgOs.zbHq();
            this.sjHt(rgOs.vhHr, rgOs.tjLs);
        },
        rjMvC: function() {
            var ziMs = {};
            var tfMv = [],
                tdGy = [];
            var v, key;
            var rhPvK = 4;
            var precision = Math.pow(10, rhPvK);
            var i, qiMv, riOw;
            var ujNx, j, qiLy;
            for (i = 0, qiMv = this.wjPq.length; i < qiMv; i++) {
                v = this.wjPq[i];
                key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);
                if (ziMs[key] === undefined) {
                    ziMs[key] = i;
                    tfMv.push(this.wjPq[i]);
                    tdGy[i] = tfMv.length - 1;
                } else {
                    tdGy[i] = tdGy[ziMs[key]];
                }
            };
            var rgOxB = [];
            for (i = 0, qiMv = this.rbGu.length; i < qiMv; i++) {
                riOw = this.rbGu[i];
                riOw.a = tdGy[riOw.a];
                riOw.b = tdGy[riOw.b];
                riOw.c = tdGy[riOw.c];
                ujNx = [riOw.a, riOw.b, riOw.c];
                var viKx = -1;
                for (var n = 0; n < 3; n++) {
                    if (ujNx[n] == ujNx[(n + 1) % 3]) {
                        viKx = n;
                        rgOxB.push(i);
                        break;
                    }
                }
            }
            for (i = rgOxB.length - 1; i >= 0; i--) {
                var qdOv = rgOxB[i];
                this.rbGu.splice(qdOv, 1);
                for (j = 0, qiLy = this.rjNqG.length; j < qiLy; j++) {
                    this.rjNqG[j].splice(qdOv, 1);
                }
            }
            var rjIx = this.wjPq.length - tfMv.length;
            this.wjPq = tfMv;
            return rjIx;
        },
        toJSON: function() {
            var tiMy = {
                vfGs: {
                    reNrE: 4.0,
                    type: 'BufferGeometry',
                    wfJq: 'BufferGeometryExporter'
                },
                reIw: this.reIw,
                type: this.type
            };
            if (this.name !== "") tiMy.name = this.name;
            if (this.xbGu !== undefined) {
                var xbGu = this.xbGu;
                for (var key in xbGu) {
                    if (xbGu[key] !== undefined) tiMy[key] = xbGu[key];
                }
                return tiMy;
            }
            var wjPq = [];
            for (var i = 0; i < this.wjPq.length; i++) {
                var tfJs = this.wjPq[i];
                wjPq.push(tfJs.x, tfJs.y, tfJs.z);
            }
            var rbGu = [];
            var uhPu = [];
            var ybPv = {};
            var sdIw = [];
            var xfLw = {};
            var qbJv = [];
            var udPw = {};
            for (var i = 0; i < this.rbGu.length; i++) {
                var riOw = this.rbGu[i];
                var ydJr = false;
                var wfGw = false;
                var riGtJ = this.rjNqG[0][i] !== undefined;
                var rjNwC = riOw.normal.length() > 0;
                var rgOzG = riOw.rjJsD.length > 0;
                var zfHy = riOw.color.r !== 1 || riOw.color.g !== 1 || riOw.color.b !== 1;
                var rhGvH = riOw.zbGu.length > 0;
                var vhOv = 0;
                vhOv = thGt(vhOv, 0, 0);
                vhOv = thGt(vhOv, 1, ydJr);
                vhOv = thGt(vhOv, 2, wfGw);
                vhOv = thGt(vhOv, 3, riGtJ);
                vhOv = thGt(vhOv, 4, rjNwC);
                vhOv = thGt(vhOv, 5, rgOzG);
                vhOv = thGt(vhOv, 6, zfHy);
                vhOv = thGt(vhOv, 7, rhGvH);
                rbGu.push(vhOv);
                rbGu.push(riOw.a, riOw.b, riOw.c);
                if (riGtJ) {
                    var rjNqG = this.rjNqG[0][i];
                    rbGu.push(xdIx(rjNqG[0]), xdIx(rjNqG[1]), xdIx(rjNqG[2]));
                }
                if (rjNwC) {
                    rbGu.push(riLrD(riOw.normal));
                }
                if (rgOzG) {
                    var rjJsD = riOw.rjJsD;
                    rbGu.push(riLrD(rjJsD[0]), riLrD(rjJsD[1]), riLrD(rjJsD[2]));
                }
                if (zfHy) {
                    rbGu.push(rjNuK(riOw.color));
                }
                if (rhGvH) {
                    var zbGu = riOw.zbGu;
                    rbGu.push(rjNuK(zbGu[0]), rjNuK(zbGu[1]), rjNuK(zbGu[2]));
                }
            }

            function thGt(value, position, tbMy) {
                return tbMy ? value | (1 << position) : value & (~(1 << position));
            }

            function riLrD(normal) {
                var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();
                if (ybPv[hash] !== undefined) {
                    return ybPv[hash];
                }
                ybPv[hash] = uhPu.length / 3;
                uhPu.push(normal.x, normal.y, normal.z);
                return ybPv[hash];
            }

            function rjNuK(color) {
                var hash = color.r.toString() + color.g.toString() + color.b.toString();
                if (xfLw[hash] !== undefined) {
                    return xfLw[hash];
                }
                xfLw[hash] = sdIw.length;
                sdIw.push(color.sbJz());
                return xfLw[hash];
            }

            function xdIx(uv) {
                var hash = uv.x.toString() + uv.y.toString();
                if (udPw[hash] !== undefined) {
                    return udPw[hash];
                }
                udPw[hash] = qbJv.length / 2;
                qbJv.push(uv.x, uv.y);
                return udPw[hash];
            }
            tiMy.data = {};
            tiMy.data.wjPq = wjPq;
            tiMy.data.uhPu = uhPu;
            if (sdIw.length > 0) tiMy.data.sdIw = sdIw;
            if (qbJv.length > 0) tiMy.data.qbJv = [qbJv];
            tiMy.data.rbGu = rbGu;
            return tiMy;
        },
        rbPq: function() {
            var vhHr = new RFITE.vhhr();
            var wjPq = this.wjPq;
            for (var i = 0, qiMv = wjPq.length; i < qiMv; i++) {
                vhHr.wjPq.push(wjPq[i].rbPq());
            }
            var rbGu = this.rbGu;
            for (var i = 0, qiMv = rbGu.length; i < qiMv; i++) {
                vhHr.rbGu.push(rbGu[i].rbPq());
            }
            for (var i = 0, qiMv = this.rjNqG.length; i < qiMv; i++) {
                var rjNqG = this.rjNqG[i];
                if (vhHr.rjNqG[i] === undefined) {
                    vhHr.rjNqG[i] = [];
                }
                for (var j = 0, qiLy = rjNqG.length; j < qiLy; j++) {
                    var qbJv = rjNqG[j],
                        udPv = [];
                    for (var k = 0, qiKx = qbJv.length; k < qiKx; k++) {
                        var uv = qbJv[k];
                        udPv.push(uv.rbPq());
                    }
                    vhHr.rjNqG[i].push(udPv);
                }
            }
            return vhHr;
        },
        tbOw: function() {
            this.rjOxD({
                type: 'dispose'
            });
        }
    };
    RFITE.rihya.prototype.apply(RFITE.vhhr.prototype);
    RFITE.rigrh = 0;
    RFITE.sdnw = function() {
        RFITE.veju.call(this);
        this.type = 'Camera';
        this.rhGxG = new RFITE.uilr();
        this.projectionMatrix = new RFITE.uilr();
    };
    RFITE.sdnw.prototype = Object.create(RFITE.veju.prototype);
    RFITE.sdnw.prototype.constructor = RFITE.sdnw;
    RFITE.sdnw.prototype.rhJyH = function() {
        var xaLy = new RFITE.xaly();
        return function(riKvH) {
            var thLx = riKvH || new RFITE.udor();
            this.rhGuA(xaLy);
            return thLx.set(0, 0, -1).riIyD(xaLy);
        }
    }();
    RFITE.sdnw.prototype.tjNr = function() {
        var qiJw = new RFITE.uilr();
        return function(tfKy) {
            qiJw.tjNr(this.position, tfKy, this.up);
            this.xaLy.rgJrK(qiJw);
        };
    }();
    RFITE.sdnw.prototype.rbPq = function(sdNw) {
        if (sdNw === undefined) sdNw = new RFITE.sdnw();
        RFITE.veju.prototype.rbPq.call(this, sdNw);
        sdNw.rhGxG.rjLt(this.rhGxG);
        sdNw.projectionMatrix.rjLt(this.projectionMatrix);
        return sdNw;
    };
    RFITE.xfhw = function(rgMv, qeJq, riMtD) {
        RFITE.veju.call(this);
        this.type = 'CubeCamera';
        var qeIu = 90,
            seKv = 1;
        var uaGy = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        uaGy.up.set(0, -1, 0);
        uaGy.tjNr(new RFITE.udor(1, 0, 0));
        this.add(uaGy);
        var uaGv = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        uaGv.up.set(0, -1, 0);
        uaGv.tjNr(new RFITE.udor(-1, 0, 0));
        this.add(uaGv);
        var uaGz = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        uaGz.up.set(0, 0, 1);
        uaGz.tjNr(new RFITE.udor(0, 1, 0));
        this.add(uaGz);
        var uaGw = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        uaGw.up.set(0, 0, -1);
        uaGw.tjNr(new RFITE.udor(0, -1, 0));
        this.add(uaGw);
        var vjPq = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        vjPq.up.set(0, -1, 0);
        vjPq.tjNr(new RFITE.udor(0, 0, 1));
        this.add(vjPq);
        var uaGx = new RFITE.rhivj(qeIu, seKv, rgMv, qeJq);
        uaGx.up.set(0, -1, 0);
        uaGx.tjNr(new RFITE.udor(0, 0, -1));
        this.add(uaGx);
        this.zcMx = new RFITE.rgjsb(riMtD, riMtD, {
            format: RFITE.wamx,
            wdJt: RFITE.zely,
            wcPw: RFITE.zely
        });
        this.rjJqC = function(rfGsE, shMq) {
            var zcMx = this.zcMx;
            var riGrK = zcMx.riGrK;
            zcMx.riGrK = false;
            zcMx.riNtC = 0;
            rfGsE.render(shMq, uaGy, zcMx);
            zcMx.riNtC = 1;
            rfGsE.render(shMq, uaGv, zcMx);
            zcMx.riNtC = 2;
            rfGsE.render(shMq, uaGz, zcMx);
            zcMx.riNtC = 3;
            rfGsE.render(shMq, uaGw, zcMx);
            zcMx.riNtC = 4;
            rfGsE.render(shMq, vjPq, zcMx);
            zcMx.riGrK = riGrK;
            zcMx.riNtC = 5;
            rfGsE.render(shMq, uaGx, zcMx);
        };
    };
    RFITE.xfhw.prototype = Object.create(RFITE.veju.prototype);
    RFITE.xfhw.prototype.constructor = RFITE.xfhw;
    RFITE.rgpqg = function(left, right, top, bottom, rgMv, qeJq) {
        RFITE.sdnw.call(this);
        this.type = 'OrthographicCamera';
        this.rdMy = 1;
        this.left = left;
        this.right = right;
        this.top = top;
        this.bottom = bottom;
        this.rgMv = (rgMv !== undefined) ? rgMv : 0.1;
        this.qeJq = (qeJq !== undefined) ? qeJq : 2000;
        this.rgItE();
    };
    RFITE.rgpqg.prototype = Object.create(RFITE.sdnw.prototype);
    RFITE.rgpqg.prototype.constructor = RFITE.rgpqg;
    RFITE.rgpqg.prototype.rgItE = function() {
        var qjIu = (this.right - this.left) / (2 * this.rdMy);
        var qjIv = (this.top - this.bottom) / (2 * this.rdMy);
        var qjKz = (this.right + this.left) / 2;
        var qjJq = (this.top + this.bottom) / 2;
        this.projectionMatrix.rhMxJ(qjKz - qjIu, qjKz + qjIu, qjJq + qjIv, qjJq - qjIv, this.rgMv, this.qeJq);
    };
    RFITE.rgpqg.prototype.rbPq = function() {
        var sdNw = new RFITE.rgpqg();
        RFITE.sdnw.prototype.rbPq.call(this, sdNw);
        sdNw.rdMy = this.rdMy;
        sdNw.left = this.left;
        sdNw.right = this.right;
        sdNw.top = this.top;
        sdNw.bottom = this.bottom;
        sdNw.rgMv = this.rgMv;
        sdNw.qeJq = this.qeJq;
        sdNw.projectionMatrix.rjLt(this.projectionMatrix);
        return sdNw;
    };
    RFITE.rhivj = function(qeIu, seKv, rgMv, qeJq) {
        RFITE.sdnw.call(this);
        this.type = 'PerspectiveCamera';
        this.rdMy = 1;
        this.qeIu = qeIu !== undefined ? qeIu : 50;
        this.seKv = seKv !== undefined ? seKv : 1;
        this.rgMv = rgMv !== undefined ? rgMv : 0.1;
        this.qeJq = qeJq !== undefined ? qeJq : 2000;
        this.rgItE();
    };
    RFITE.rhivj.prototype = Object.create(RFITE.sdnw.prototype);
    RFITE.rhivj.prototype.constructor = RFITE.rhivj;
    RFITE.rhivj.prototype.ufMr = function(ydPs, ydOr) {
        if (ydOr === undefined) ydOr = 24;
        this.qeIu = 2 * RFITE.Math.vdHy(Math.atan(ydOr / (ydPs * 2)));
        this.rgItE();
    };
    RFITE.rhivj.prototype.rjKsE = function(wfLx, xdLs, x, y, width, height) {
        this.wfLx = wfLx;
        this.xdLs = xdLs;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.rgItE();
    };
    RFITE.rhivj.prototype.rgItE = function() {
        var qeIu = RFITE.Math.vdHy(2 * Math.atan(Math.tan(RFITE.Math.viOx(this.qeIu) * 0.5) / this.rdMy));
        if (this.wfLx) {
            var seKv = this.wfLx / this.xdLs;
            var top = Math.tan(RFITE.Math.viOx(qeIu * 0.5)) * this.rgMv;
            var bottom = -top;
            var left = seKv * bottom;
            var right = seKv * top;
            var width = Math.abs(right - left);
            var height = Math.abs(top - bottom);
            this.projectionMatrix.ycKu(left + this.x * width / this.wfLx, left + (this.x + this.width) * width / this.wfLx, top - (this.y + this.height) * height / this.xdLs, top - this.y * height / this.xdLs, this.rgMv, this.qeJq);
        } else {
            this.projectionMatrix.riGwG(qeIu, this.seKv, this.rgMv, this.qeJq);
        }
    };
    RFITE.rhivj.prototype.rbPq = function() {
        var sdNw = new RFITE.rhivj();
        RFITE.sdnw.prototype.rbPq.call(this, sdNw);
        sdNw.rdMy = this.rdMy;
        sdNw.qeIu = this.qeIu;
        sdNw.seKv = this.seKv;
        sdNw.rgMv = this.rgMv;
        sdNw.qeJq = this.qeJq;
        sdNw.projectionMatrix.rjLt(this.projectionMatrix);
        return sdNw;
    };
    RFITE.sjlu = function(color) {
        RFITE.veju.call(this);
        this.type = 'Light';
        this.color = new RFITE.Color(color);
    };
    RFITE.sjlu.prototype = Object.create(RFITE.veju.prototype);
    RFITE.sjlu.prototype.constructor = RFITE.sjlu;
    RFITE.sjlu.prototype.rbPq = function(sjLu) {
        if (sjLu === undefined) sjLu = new RFITE.sjlu();
        RFITE.veju.prototype.rbPq.call(this, sjLu);
        sjLu.color.rjLt(this.color);
        return sjLu;
    };
    RFITE.zhks = function(color) {
        RFITE.sjlu.call(this, color);
        this.type = 'AmbientLight';
    };
    RFITE.zhks.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.zhks.prototype.constructor = RFITE.zhks;
    RFITE.zhks.prototype.rbPq = function() {
        var sjLu = new RFITE.zhks();
        RFITE.sjlu.prototype.rbPq.call(this, sjLu);
        return sjLu;
    };
    RFITE.wilw = function(color, weIw) {
        RFITE.sjlu.call(this, color);
        this.type = 'AreaLight';
        this.normal = new RFITE.udor(0, -1, 0);
        this.right = new RFITE.udor(1, 0, 0);
        this.weIw = (weIw !== undefined) ? weIw : 1;
        this.width = 1.0;
        this.height = 1.0;
        this.rgOwJ = 1.5;
        this.rhIqG = 0.5;
        this.rgLtC = 0.1;
    };
    RFITE.wilw.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.wilw.prototype.constructor = RFITE.wilw;
    RFITE.rhnyg = function(color, weIw) {
        RFITE.sjlu.call(this, color);
        this.type = 'DirectionalLight';
        this.position.set(0, 1, 0);
        this.target = new RFITE.veju();
        this.weIw = (weIw !== undefined) ? weIw : 1;
        this.xfOq = false;
        this.xbKy = false;
        this.rhLxD = 50;
        this.rhPzF = 5000;
        this.rhLxE = -500;
        this.rhIyE = 500;
        this.rhPzD = 500;
        this.rgPvK = -500;
        this.rgNwA = false;
        this.yjKy = 0;
        this.riJtB = 0.5;
        this.riJuK = 512;
        this.rhPzB = 512;
        this.rjKsB = false;
        this.rgNxJ = new RFITE.udor(0, 0, -1000);
        this.rgPvH = 2;
        this.rhIyD = [0, 0, 0];
        this.rgPvF = [512, 512, 512];
        this.rgNxK = [512, 512, 512];
        this.rgPvG = [-1.000, 0.990, 0.998];
        this.rhIyC = [0.990, 0.998, 1.000];
        this.rgPvJ = [];
        this.waGz = null;
        this.rjKsA = null;
        this.zcGs = null;
        this.zcGv = null;
    };
    RFITE.rhnyg.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.rhnyg.prototype.constructor = RFITE.rhnyg;
    RFITE.rhnyg.prototype.rbPq = function() {
        var sjLu = new RFITE.rhnyg();
        RFITE.sjlu.prototype.rbPq.call(this, sjLu);
        sjLu.target = this.target.rbPq();
        sjLu.weIw = this.weIw;
        sjLu.xfOq = this.xfOq;
        sjLu.xbKy = this.xbKy;
        sjLu.rhLxD = this.rhLxD;
        sjLu.rhPzF = this.rhPzF;
        sjLu.rhLxE = this.rhLxE;
        sjLu.rhIyE = this.rhIyE;
        sjLu.rhPzD = this.rhPzD;
        sjLu.rgPvK = this.rgPvK;
        sjLu.rgNwA = this.rgNwA;
        sjLu.yjKy = this.yjKy;
        sjLu.riJtB = this.riJtB;
        sjLu.riJuK = this.riJuK;
        sjLu.rhPzB = this.rhPzB;
        sjLu.rjKsB = this.rjKsB;
        sjLu.rgNxJ.rjLt(this.rgNxJ);
        sjLu.rgPvH = this.rgPvH;
        sjLu.rhIyD = this.rhIyD.slice(0);
        sjLu.rgPvF = this.rgPvF.slice(0);
        sjLu.rgNxK = this.rgNxK.slice(0);
        sjLu.rgPvG = this.rgPvG.slice(0);
        sjLu.rhIyC = this.rhIyC.slice(0);
        return sjLu;
    };
    RFITE.rigth = function(vbLr, ydKx, weIw) {
        RFITE.sjlu.call(this, vbLr);
        this.type = 'HemisphereLight';
        this.position.set(0, 100, 0);
        this.ydKx = new RFITE.Color(ydKx);
        this.weIw = (weIw !== undefined) ? weIw : 1;
    };
    RFITE.rigth.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.rigth.prototype.constructor = RFITE.rigth;
    RFITE.rigth.prototype.rbPq = function() {
        var sjLu = new RFITE.rigth();
        RFITE.sjlu.prototype.rbPq.call(this, sjLu);
        sjLu.ydKx.rjLt(this.ydKx);
        sjLu.weIw = this.weIw;
        return sjLu;
    };
    RFITE.xaow = function(color, weIw, viLy, rbNz) {
        RFITE.sjlu.call(this, color);
        this.type = 'PointLight';
        this.weIw = (weIw !== undefined) ? weIw : 1;
        this.viLy = (viLy !== undefined) ? viLy : 0;
        this.rbNz = (rbNz !== undefined) ? rbNz : 1;
    };
    RFITE.xaow.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.xaow.prototype.constructor = RFITE.xaow;
    RFITE.xaow.prototype.rbPq = function() {
        var sjLu = new RFITE.xaow();
        RFITE.sjlu.prototype.rbPq.call(this, sjLu);
        sjLu.weIw = this.weIw;
        sjLu.viLy = this.viLy;
        sjLu.rbNz = this.rbNz;
        return sjLu;
    };
    RFITE.xjmv = function(color, weIw, viLy, rcOr, vhPt, rbNz) {
        RFITE.sjlu.call(this, color);
        this.type = 'SpotLight';
        this.position.set(0, 1, 0);
        this.target = new RFITE.veju();
        this.weIw = (weIw !== undefined) ? weIw : 1;
        this.viLy = (viLy !== undefined) ? viLy : 0;
        this.rcOr = (rcOr !== undefined) ? rcOr : Math.PI / 3;
        this.vhPt = (vhPt !== undefined) ? vhPt : 10;
        this.rbNz = (rbNz !== undefined) ? rbNz : 1;
        this.xfOq = false;
        this.xbKy = false;
        this.rhLxD = 50;
        this.rhPzF = 5000;
        this.rhPzE = 50;
        this.rgNwA = false;
        this.yjKy = 0;
        this.riJtB = 0.5;
        this.riJuK = 512;
        this.rhPzB = 512;
        this.waGz = null;
        this.rjKsA = null;
        this.zcGs = null;
        this.zcGv = null;
    };
    RFITE.xjmv.prototype = Object.create(RFITE.sjlu.prototype);
    RFITE.xjmv.prototype.constructor = RFITE.xjmv;
    RFITE.xjmv.prototype.rbPq = function() {
        var sjLu = new RFITE.xjmv();
        RFITE.sjlu.prototype.rbPq.call(this, sjLu);
        sjLu.target = this.target.rbPq();
        sjLu.weIw = this.weIw;
        sjLu.viLy = this.viLy;
        sjLu.rcOr = this.rcOr;
        sjLu.vhPt = this.vhPt;
        sjLu.rbNz = this.rbNz;
        sjLu.xfOq = this.xfOq;
        sjLu.xbKy = this.xbKy;
        sjLu.rhLxD = this.rhLxD;
        sjLu.rhPzF = this.rhPzF;
        sjLu.rhPzE = this.rhPzE;
        sjLu.rgNwA = this.rgNwA;
        sjLu.yjKy = this.yjKy;
        sjLu.riJtB = this.riJtB;
        sjLu.riJuK = this.riJuK;
        sjLu.rhPzB = this.rhPzB;
        return sjLu;
    };
    RFITE.rciy = {
        files: {},
        add: function(key, riNy) {
            this.files[key] = riNy;
        },
        get: function(key) {
            return this.files[key];
        },
        thMz: function(key) {
            delete this.files[key];
        },
        clear: function() {
            this.files = {}
        }
    };
    RFITE.rfkse = function(yjJu) {
        this.yjJu = yjJu;
        this.rhLyA = yjJu ? RFITE.rfkse.prototype.rhNsF() : null;
        this.ydIw = new RFITE.ydiw();
        this.onLoadStart = function() {};
        this.riKuF = function() {};
        this.riKuG = function() {};
    };
    RFITE.rfkse.prototype = {
        constructor: RFITE.rfkse,
        crossOrigin: undefined,
        rhNsF: function() {
            var e = document.createElement('div');
            e.style.position = 'absolute';
            e.style.right = '0px';
            e.style.top = '0px';
            e.style.fontSize = '0.8em';
            e.style.textAlign = 'left';
            e.style.background = 'rgba(0,0,0,0.25)';
            e.style.color = '#fff';
            e.style.width = '120px';
            e.style.padding = '0.5em 0.5em 0.5em 0.5em';
            e.style.zIndex = 1000;
            e.innerHTML = 'rfksc ...';
            return e;
        },
        riJzE: function(rfJyB) {
            var message = 'Loaded ';
            if (rfJyB.sgJq) {
                message += (100 * rfJyB.tjOx / rfJyB.sgJq).toFixed(0) + '%';
            } else {
                message += (rfJyB.tjOx / 1024).toFixed(2) + ' KB';
            }
            this.rhLyA.innerHTML = message;
        },
        riMxE: function(url) {
            var siJr = url.split('/');
            if (siJr.length === 1) return './';
            siJr.pop();
            return siJr.join('/') + '/';
        },
        rjNyG: function(wdIz, zjJv) {
            var array = [];
            for (var i = 0; i < wdIz.length; ++i) {
                array[i] = this.riMtH(wdIz[i], zjJv);
            }
            return array;
        },
        rjMxE: function(wdIz) {
            for (var i = 0, qiMv = wdIz.length; i < qiMv; i++) {
                var m = wdIz[i];
                if (m instanceof RFITE.rijtc) return true;
            }
            return false;
        },
        riMtH: function(m, zjJv) {
            var shMr = this;

            function zdNt(n) {
                var l = Math.log(n) / Math.LN2;
                return Math.pow(2, Math.round(l));
            }

            function riMsB(sfNq, name, yjHt, repeat, tiOt, rdNv, xgLr) {
                var vhJu = zjJv + yjHt;
                var ueMt;
                var rfKsE = RFITE.rfkse.vgox.get(vhJu);
                if (rfKsE !== null) {
                    ueMt = rfKsE.load(vhJu);
                } else {
                    ueMt = new RFITE.uemt();
                    rfKsE = shMr.ydIw;
                    rfKsE.crossOrigin = shMr.crossOrigin;
                    rfKsE.load(vhJu, function(image) {
                        if (RFITE.Math.zeNt(image.width) === false || RFITE.Math.zeNt(image.height) === false) {
                            var width = zdNt(image.width);
                            var height = zdNt(image.height);
                            var canvas = document.createElement('canvas');
                            canvas.width = width;
                            canvas.height = height;
                            var tcLv = canvas.getContext('2d');
                            tcLv.drawImage(image, 0, 0, width, height);
                            ueMt.image = canvas;
                        } else {
                            ueMt.image = image;
                        }
                        ueMt.ycGw = true;
                    });
                }
                ueMt.yjHt = yjHt;
                if (repeat) {
                    ueMt.repeat.set(repeat[0], repeat[1]);
                    if (repeat[0] !== 1) ueMt.sfMy = RFITE.rijqe;
                    if (repeat[1] !== 1) ueMt.sfMz = RFITE.rijqe;
                }
                if (tiOt) {
                    ueMt.tiOt.set(tiOt[0], tiOt[1]);
                }
                if (rdNv) {
                    var udLv = {
                        'repeat': RFITE.rijqe,
                        'mirror': RFITE.rgjzj
                    };
                    if (udLv[rdNv[0]] !== undefined) ueMt.sfMy = udLv[rdNv[0]];
                    if (udLv[rdNv[1]] !== undefined) ueMt.sfMz = udLv[rdNv[1]];
                }
                if (xgLr) {
                    ueMt.xgLr = xgLr;
                }
                sfNq[name] = ueMt;
            }

            function ugGt(qcIx) {
                return (qcIx[0] * 255 << 16) + (qcIx[1] * 255 << 8) + qcIx[2] * 255;
            }
            var siPu = 'rgnrb';
            var siPr = {
                color: 0xeeeeee,
                opacity: 1.0,
                map: null,
                vfLw: null,
                wcKq: null,
                tdJv: null,
                xiGt: false
            };
            if (m.ufLt) {
                var ufLt = m.ufLt.toLowerCase();
                if (ufLt === 'phong') siPu = 'rhisj';
                else if (ufLt === 'basic') siPu = 'rhira';
            }
            if (m.uaKz !== undefined && RFITE[m.uaKz] !== undefined) {
                siPr.uaKz = RFITE[m.uaKz];
            }
            if (m.zjGv !== undefined) {
                siPr.zjGv = m.zjGv;
            }
            if (m.opacity !== undefined && m.opacity < 1.0) {
                siPr.zjGv = true;
            }
            if (m.wgOs !== undefined) {
                siPr.wgOs = m.wgOs;
            }
            if (m.xeOu !== undefined) {
                siPr.xeOu = m.xeOu;
            }
            if (m.rfIxE !== undefined) {
                siPr.rfIxE = m.rfIxE;
            }
            if (m.wfOz !== undefined) {
                siPr.rfHr = RFITE.ualq;
            }
            if (m.yeKv !== undefined) {
                siPr.rfHr = RFITE.xels;
            }
            if (m.xiGt !== undefined) {
                siPr.xiGt = m.xiGt;
            }
            if (m.zbGu !== undefined) {
                if (m.zbGu === 'face') {
                    siPr.zbGu = RFITE.xegs;
                } else if (m.zbGu) {
                    siPr.zbGu = RFITE.zbgu;
                }
            }
            if (m.zgNw) {
                siPr.color = ugGt(m.zgNw);
            } else if (m.vipv) {
                siPr.color = m.vipv;
            }
            if (m.rjOqC) {
                siPr.vbKw = ugGt(m.rjOqC);
            }
            if (m.rjOqE) {
                siPr.viJv = ugGt(m.rjOqE);
            }
            if (m.zbJw !== undefined) {
                console.warn('THREE.Loader: transparency has been renamed to opacity');
                m.opacity = m.zbJw;
            }
            if (m.opacity !== undefined) {
                siPr.opacity = m.opacity;
            }
            if (m.zbOs) {
                siPr.xjPq = m.zbOs;
            }
            if (m.xbPw && zjJv) {
                riMsB(siPr, 'map', m.xbPw, m.rhMxF, m.rhMxG, m.riLzC, m.rgLrD);
            }
            if (m.vfIs && zjJv) {
                riMsB(siPr, 'vfLw', m.vfIs, m.riLzA, m.riLzB, m.zeIw, m.rhGxJ);
            }
            if (m.uiMq && zjJv) {
                riMsB(siPr, 'tdJv', m.uiMq, m.rjMuF, m.rjMuG, m.ycKx, m.rhIrH);
            }
            if (m.wdIv && zjJv) {
                riMsB(siPr, 'wcKq', m.wdIv, m.riGwA, m.riGwB, m.rjMuC, m.rgNrE);
            }
            if (m.ycKz && zjJv) {
                riMsB(siPr, 'zjOy', m.ycKz, m.rhIrD, m.rhIrE, m.riGxK, m.rgKwD);
            }
            if (m.vfIq && zjJv) {
                riMsB(siPr, 'uaPv', m.vfIq, m.riLzD, m.riLzE, m.zeIs, m.rhGxK);
            }
            if (m.zeIu) {
                siPr.whPw = m.zeIu;
            }
            if (m.riGwC) {
                siPr.ybPu = new RFITE.udoq(m.riGwC, m.riGwC);
            }
            var vfIz = new RFITE[siPu](siPr);
            if (m.tchq !== undefined) vfIz.name = m.tchq;
            return vfIz;
        }
    };
    RFITE.rfkse.vgox = {
        vgOx: [],
        add: function(shPy, rfKsE) {
            this.vgOx.push(shPy, rfKsE);
        },
        get: function(riNy) {
            for (var i = 0, l = this.vgOx.length; i < l; i += 2) {
                var shPy = this.vgOx[i];
                var rfKsE = this.vgOx[i + 1];
                if (shPy.test(riNy)) {
                    return rfKsE;
                }
            }
            return null;
        }
    };
    RFITE.xhow = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
    };
    RFITE.xhow.prototype = {
        constructor: RFITE.xhow,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var sdNs = RFITE.rciy.get(url);
            if (sdNs !== undefined) {
                if (onLoad) onLoad(sdNs);
                return;
            }
            console.log(url, url._.wiOz('/'));
            this.vcLy = seiy.scNr(ruNcF[url._.wiOz('/')]);
            RFITE.rciy.add(url, this.vcLy);
            if (onLoad) onLoad(this.vcLy);
            return;
            var ugIv = new XMLHttpRequest();
            ugIv.open('GET', url, true);
            ugIv.addEventListener('load', function(event) {
                RFITE.rciy.add(url, this.vcLy);
                if (onLoad) onLoad(this.vcLy);
                shMr.uiNy.ujJw(url);
            }, false);
            if (onProgress !== undefined) {
                ugIv.addEventListener('rfJyB', function(event) {
                    onProgress(event);
                }, false);
            }
            if (onError !== undefined) {
                ugIv.addEventListener('error', function(event) {
                    onError(event);
                }, false);
            }
            if (this.crossOrigin !== undefined) ugIv.crossOrigin = this.crossOrigin;
            if (this.zcLu !== undefined) ugIv.zcLu = this.zcLu;
            ugIv.rfIq(null);
            shMr.uiNy.wdPq(url);
        },
        rhPzH: function(value) {
            this.zcLu = value;
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        }
    };
    RFITE.ydiw = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
    };
    RFITE.ydiw.prototype = {
        constructor: RFITE.ydiw,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var sdNs = RFITE.rciy.get(url);
            if (sdNs !== undefined) {
                onLoad(sdNs);
                return;
            }
            var image = document.createElement('img');
            image.addEventListener('load', function(event) {
                RFITE.rciy.add(url, this);
                if (onLoad) onLoad(this);
                shMr.uiNy.ujJw(url);
            }, false);
            if (onProgress !== undefined) {
                image.addEventListener('rfJyB', function(event) {
                    onProgress(event);
                }, false);
            }
            if (onError !== undefined) {
                image.addEventListener('error', function(event) {
                    onError(event);
                }, false);
            }
            if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;
            image.src = url;
            shMr.uiNy.wdPq(url);
            return image;
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        }
    };
    RFITE.xcjt = function(yjJu) {
        RFITE.rfkse.call(this, yjJu);
        this.rhOwB = false;
    };
    RFITE.xcjt.prototype = Object.create(RFITE.rfkse.prototype);
    RFITE.xcjt.prototype.constructor = RFITE.xcjt;
    RFITE.xcjt.prototype.load = function(url, uaGu, zjJv) {
        zjJv = zjJv && (typeof zjJv === 'string') ? zjJv : this.riMxE(url);
        this.onLoadStart();
        this.zeKu(this, url, uaGu, zjJv);
    };
    RFITE.xcjt.prototype.zeKu = function(tcLv, url, uaGu, zjJv, rhNuK) {
        var qaOy = new XMLHttpRequest();
        var length = 0;
        qaOy.rhGzA = function() {
            if (qaOy.readyState === qaOy.RJHT) {
                if (qaOy.status === 200 || qaOy.status === 0) {
                    if (qaOy.zcLt) {
                        var json = JSON.parse(qaOy.zcLt);
                        var vfGs = json.vfGs;
                        if (vfGs !== undefined) {
                            if (vfGs.type === 'object') {
                                RFITE.error('THREE.xcjt: ' + url + ' should be loaded with THREE.ObjectLoader instead.');
                                return;
                            }
                            if (vfGs.type === 'scene') {
                                RFITE.error('THREE.xcjt: ' + url + ' seems to be a Scene. Use THREE.yaiq instead.');
                                return;
                            }
                        }
                        var thLx = tcLv.parse(json, zjJv);
                        uaGu(thLx.vhHr, thLx.wdIz);
                    } else {
                        RFITE.error('THREE.xcjt: ' + url + ' seems to be unreachable or the file is rbIv.');
                    }
                    tcLv.riKuG();
                } else {
                    RFITE.error('THREE.xcjt: Couldn\'t load ' + url + ' (' + qaOy.status + ')');
                }
            } else if (qaOy.readyState === qaOy.RFKSC) {
                if (rhNuK) {
                    if (length === 0) {
                        length = qaOy.rhJxB('Content-Length');
                    }
                    rhNuK({
                        sgJq: length,
                        tjOx: qaOy.zcLt.length
                    });
                }
            } else if (qaOy.readyState === qaOy.RHMUH) {
                if (rhNuK !== undefined) {
                    length = qaOy.rhJxB('Content-Length');
                }
            }
        };
        qaOy.open('GET', url, true);
        qaOy.rhOwB = this.rhOwB;
        qaOy.rfIq(null);
    };
    RFITE.xcjt.prototype.parse = function(json, zjJv) {
        var vhHr = new RFITE.vhhr(),
            scale = (json.scale !== undefined) ? 1.0 / json.scale : 1.0;
        xbGy(scale);
        wbNq();
        rjLsG(scale);
        vhHr.rhGqH();
        vhHr.rgKsJ();

        function xbGy(scale) {
            function vgHx(value, position) {
                return value & (1 << position);
            }
            var i, j, qiPq, tiOt, ubOu, xfLv, ybPs, udPs, rjMuB, type, saKw, ydJr, riGtJ, rjNwC, rgOzG, zfHy, rhGvH, tfJs, riOw, rbGs, rbGt, qeGy, normal, udPt, uv, u, v, rbGu = json.rbGu,
                wjPq = json.wjPq,
                uhPu = json.uhPu,
                sdIw = json.sdIw,
                wcKw = 0;
            if (json.qbJv !== undefined) {
                for (i = 0; i < json.qbJv.length; i++) {
                    if (json.qbJv[i].length) wcKw++;
                }
                for (i = 0; i < wcKw; i++) {
                    vhHr.rjNqG[i] = [];
                }
            }
            tiOt = 0;
            ubOu = wjPq.length;
            while (tiOt < ubOu) {
                tfJs = new RFITE.udor();
                tfJs.x = wjPq[tiOt++] * scale;
                tfJs.y = wjPq[tiOt++] * scale;
                tfJs.z = wjPq[tiOt++] * scale;
                vhHr.wjPq.push(tfJs);
            }
            tiOt = 0;
            ubOu = rbGu.length;
            while (tiOt < ubOu) {
                type = rbGu[tiOt++];
                saKw = vgHx(type, 0);
                ydJr = vgHx(type, 1);
                riGtJ = vgHx(type, 3);
                rjNwC = vgHx(type, 4);
                rgOzG = vgHx(type, 5);
                zfHy = vgHx(type, 6);
                rhGvH = vgHx(type, 7);
                if (saKw) {
                    rbGs = new RFITE.rbgq();
                    rbGs.a = rbGu[tiOt];
                    rbGs.b = rbGu[tiOt + 1];
                    rbGs.c = rbGu[tiOt + 3];
                    rbGt = new RFITE.rbgq();
                    rbGt.a = rbGu[tiOt + 1];
                    rbGt.b = rbGu[tiOt + 2];
                    rbGt.c = rbGu[tiOt + 3];
                    tiOt += 4;
                    if (ydJr) {
                        rjMuB = rbGu[tiOt++];
                        rbGs.rjMuB = rjMuB;
                        rbGt.rjMuB = rjMuB;
                    }
                    qiPq = vhHr.rbGu.length;
                    if (riGtJ) {
                        for (i = 0; i < wcKw; i++) {
                            udPt = json.qbJv[i];
                            vhHr.rjNqG[i][qiPq] = [];
                            vhHr.rjNqG[i][qiPq + 1] = [];
                            for (j = 0; j < 4; j++) {
                                udPs = rbGu[tiOt++];
                                u = udPt[udPs * 2];
                                v = udPt[udPs * 2 + 1];
                                uv = new RFITE.udoq(u, v);
                                if (j !== 2) vhHr.rjNqG[i][qiPq].push(uv);
                                if (j !== 0) vhHr.rjNqG[i][qiPq + 1].push(uv);
                            }
                        }
                    }
                    if (rjNwC) {
                        ybPs = rbGu[tiOt++] * 3;
                        rbGs.normal.set(uhPu[ybPs++], uhPu[ybPs++], uhPu[ybPs]);
                        rbGt.normal.rjLt(rbGs.normal);
                    }
                    if (rgOzG) {
                        for (i = 0; i < 4; i++) {
                            ybPs = rbGu[tiOt++] * 3;
                            normal = new RFITE.udor(uhPu[ybPs++], uhPu[ybPs++], uhPu[ybPs]);
                            if (i !== 2) rbGs.rjJsD.push(normal);
                            if (i !== 0) rbGt.rjJsD.push(normal);
                        }
                    }
                    if (zfHy) {
                        xfLv = rbGu[tiOt++];
                        qeGy = sdIw[xfLv];
                        rbGs.color.thGv(qeGy);
                        rbGt.color.thGv(qeGy);
                    }
                    if (rhGvH) {
                        for (i = 0; i < 4; i++) {
                            xfLv = rbGu[tiOt++];
                            qeGy = sdIw[xfLv];
                            if (i !== 2) rbGs.zbGu.push(new RFITE.Color(qeGy));
                            if (i !== 0) rbGt.zbGu.push(new RFITE.Color(qeGy));
                        }
                    }
                    vhHr.rbGu.push(rbGs);
                    vhHr.rbGu.push(rbGt);
                } else {
                    riOw = new RFITE.rbgq();
                    riOw.a = rbGu[tiOt++];
                    riOw.b = rbGu[tiOt++];
                    riOw.c = rbGu[tiOt++];
                    if (ydJr) {
                        rjMuB = rbGu[tiOt++];
                        riOw.rjMuB = rjMuB;
                    }
                    qiPq = vhHr.rbGu.length;
                    if (riGtJ) {
                        for (i = 0; i < wcKw; i++) {
                            udPt = json.qbJv[i];
                            vhHr.rjNqG[i][qiPq] = [];
                            for (j = 0; j < 3; j++) {
                                udPs = rbGu[tiOt++];
                                u = udPt[udPs * 2];
                                v = udPt[udPs * 2 + 1];
                                uv = new RFITE.udoq(u, v);
                                vhHr.rjNqG[i][qiPq].push(uv);
                            }
                        }
                    }
                    if (rjNwC) {
                        ybPs = rbGu[tiOt++] * 3;
                        riOw.normal.set(uhPu[ybPs++], uhPu[ybPs++], uhPu[ybPs]);
                    }
                    if (rgOzG) {
                        for (i = 0; i < 3; i++) {
                            ybPs = rbGu[tiOt++] * 3;
                            normal = new RFITE.udor(uhPu[ybPs++], uhPu[ybPs++], uhPu[ybPs]);
                            riOw.rjJsD.push(normal);
                        }
                    }
                    if (zfHy) {
                        xfLv = rbGu[tiOt++];
                        riOw.color.thGv(sdIw[xfLv]);
                    }
                    if (rhGvH) {
                        for (i = 0; i < 3; i++) {
                            xfLv = rbGu[tiOt++];
                            riOw.zbGu.push(new RFITE.Color(sdIw[xfLv]));
                        }
                    }
                    vhHr.rbGu.push(riOw);
                }
            }
        };

        function wbNq() {
            var rgNqK = (json.rgNqK !== undefined) ? json.rgNqK : 2;
            if (json.zjPv) {
                for (var i = 0, l = json.zjPv.length; i < l; i += rgNqK) {
                    var x = json.zjPv[i];
                    var y = (rgNqK > 1) ? json.zjPv[i + 1] : 0;
                    var z = (rgNqK > 2) ? json.zjPv[i + 2] : 0;
                    var w = (rgNqK > 3) ? json.zjPv[i + 3] : 0;
                    vhHr.zjPv.push(new RFITE.udos(x, y, z, w));
                }
            }
            if (json.zjPt) {
                for (var i = 0, l = json.zjPt.length; i < l; i += rgNqK) {
                    var a = json.zjPt[i];
                    var b = (rgNqK > 1) ? json.zjPt[i + 1] : 0;
                    var c = (rgNqK > 2) ? json.zjPt[i + 2] : 0;
                    var d = (rgNqK > 3) ? json.zjPt[i + 3] : 0;
                    vhHr.zjPt.push(new RFITE.udos(a, b, c, d));
                }
            }
            vhHr.rcJr = json.rcJr;
            if (vhHr.rcJr && vhHr.rcJr.length > 0 && (vhHr.zjPv.length !== vhHr.zjPt.length || vhHr.zjPt.length !== vhHr.wjPq.length)) {
                RFITE.warn('THREE.xcjt: When skinning, number of vertices (' + vhHr.wjPq.length + '), skinIndices (' + vhHr.zjPt.length + '), and skinWeights (' + vhHr.zjPv.length + ') should match.');
            }
            vhHr.animation = json.animation;
            vhHr.animations = json.animations;
        };

        function rjLsG(scale) {
            if (json.zdOs !== undefined) {
                var i, l, v, qgOx, yeKz, zjNw;
                for (i = 0, l = json.zdOs.length; i < l; i++) {
                    vhHr.zdOs[i] = {};
                    vhHr.zdOs[i].name = json.zdOs[i].name;
                    vhHr.zdOs[i].wjPq = [];
                    yeKz = vhHr.zdOs[i].wjPq;
                    zjNw = json.zdOs[i].wjPq;
                    for (v = 0, qgOx = zjNw.length; v < qgOx; v += 3) {
                        var tfJs = new RFITE.udor();
                        tfJs.x = zjNw[v] * scale;
                        tfJs.y = zjNw[v + 1] * scale;
                        tfJs.z = zjNw[v + 2] * scale;
                        yeKz.push(tfJs);
                    }
                }
            }
            if (json.ycHs !== undefined) {
                var i, l, c, qjKt, wgJt, xjMy, color;
                for (i = 0, l = json.ycHs.length; i < l; i++) {
                    vhHr.ycHs[i] = {};
                    vhHr.ycHs[i].name = json.ycHs[i].name;
                    vhHr.ycHs[i].sdIw = [];
                    wgJt = vhHr.ycHs[i].sdIw;
                    xjMy = json.ycHs[i].sdIw;
                    for (c = 0, qjKt = xjMy.length; c < qjKt; c += 3) {
                        color = new RFITE.Color(0xffaa00);
                        color.thGx(xjMy[c], xjMy[c + 1], xjMy[c + 2]);
                        wgJt.push(color);
                    }
                }
            }
        };
        if (json.wdIz === undefined || json.wdIz.length === 0) {
            return {
                vhHr: vhHr
            };
        } else {
            var wdIz = this.rjNyG(json.wdIz, zjJv);
            if (this.rjMxE(wdIz)) {
                vhHr.riHuJ();
            }
            return {
                vhHr: vhHr,
                wdIz: wdIz
            };
        }
    };
    RFITE.rilzh = function(onLoad, onProgress, onError) {
        var shMr = this;
        var tjOx = 0,
            sgJq = 0;
        this.onLoad = onLoad;
        this.onProgress = onProgress;
        this.onError = onError;
        this.wdPq = function(url) {
            sgJq++;
        };
        this.ujJw = function(url) {
            tjOx++;
            if (shMr.onProgress !== undefined) {
                shMr.onProgress(url, tjOx, sgJq);
            }
            if (tjOx === sgJq && shMr.onLoad !== undefined) {
                shMr.onLoad();
            }
        };
    };
    RFITE.rgksb = new RFITE.rilzh();
    RFITE.rgmtb = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
    };
    RFITE.rgmtb.prototype = {
        constructor: RFITE.rgmtb,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var rfKsE = new RFITE.xhow(shMr.uiNy);
            rfKsE.riJsD(this.crossOrigin);
            rfKsE.load(url, function(text) {
                onLoad(shMr.parse(JSON.parse(text)));
            }, onProgress, onError);
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        },
        parse: function(json) {
            var vhHr = new RFITE.rinyf();
            var attributes = json.data.attributes;
            for (var key in attributes) {
                var wiKx = attributes[key];
                var yiGz = new self[wiKx.type](wiKx.array);
                vhHr.zhMz(key, new RFITE.rihrh(yiGz, wiKx.vfPv));
            }
            var uhOz = json.data.uhOz;
            if (uhOz !== undefined) {
                vhHr.uhOz = JSON.parse(JSON.stringify(uhOz));
            }
            var riNyH = json.data.riNyH;
            if (riNyH !== undefined) {
                var rfOsH = new RFITE.udor();
                if (riNyH.rfOsH !== undefined) {
                    rfOsH.wfMy(riNyH.rfOsH);
                }
                vhHr.riNyH = new RFITE.tglq(rfOsH, riNyH.thOs);
            }
            return vhHr;
        }
    };
    RFITE.rikqj = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
    };
    RFITE.rikqj.prototype = {
        constructor: RFITE.rikqj,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var rfKsE = new RFITE.xhow(shMr.uiNy);
            rfKsE.riJsD(this.crossOrigin);
            rfKsE.load(url, function(text) {
                onLoad(shMr.parse(JSON.parse(text)));
            }, onProgress, onError);
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        },
        parse: function(json) {
            var vfIz = new RFITE[json.type];
            if (json.color !== undefined) vfIz.color.thGv(json.color);
            if (json.viJv !== undefined) vfIz.viJv.thGv(json.viJv);
            if (json.vbKw !== undefined) vfIz.vbKw.thGv(json.vbKw);
            if (json.xjPq !== undefined) vfIz.xjPq = json.xjPq;
            if (json.vaJx !== undefined) vfIz.vaJx = json.vaJx;
            if (json.zbGw !== undefined) vfIz.zbGw = json.zbGw;
            if (json.riMyF !== undefined) vfIz.riMyF = json.riMyF;
            if (json.zbGu !== undefined) vfIz.zbGu = json.zbGu;
            if (json.ufLt !== undefined) vfIz.ufLt = json.ufLt;
            if (json.uaKz !== undefined) vfIz.uaKz = json.uaKz;
            if (json.rfHr !== undefined) vfIz.rfHr = json.rfHr;
            if (json.opacity !== undefined) vfIz.opacity = json.opacity;
            if (json.zjGv !== undefined) vfIz.zjGv = json.zjGv;
            if (json.xiGt !== undefined) vfIz.xiGt = json.xiGt;
            if (json.size !== undefined) vfIz.size = json.size;
            if (json.rhOqE !== undefined) vfIz.rhOqE = json.rhOqE;
            if (json.wdIz !== undefined) {
                for (var i = 0, l = json.wdIz.length; i < l; i++) {
                    vfIz.wdIz.push(this.parse(json.wdIz[i]));
                }
            }
            return vfIz;
        }
    };
    RFITE.zdmy = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
        this.zjJv = '';
    };
    RFITE.zdmy.prototype = {
        constructor: RFITE.zdmy,
        load: function(url, onLoad, onProgress, onError) {
            if (this.zjJv === '') {
                this.zjJv = url.substring(0, url.lastIndexOf('/') + 1);
            }
            var shMr = this;
            var rfKsE = new RFITE.xhow(shMr.uiNy);
            rfKsE.riJsD(this.crossOrigin);
            rfKsE.load(url, function(text) {
                shMr.parse(JSON.parse(text), onLoad);
            }, onProgress, onError);
        },
        riJtE: function(value) {
            this.zjJv = value;
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        },
        parse: function(json, onLoad) {
            var xdKz = this.rhPtF(json.xdKz);
            var images = this.ybKu(json.images, function() {
                if (onLoad !== undefined) onLoad(object);
            });
            var vaOy = this.rjLsE(json.vaOy, images);
            var wdIz = this.riKwJ(json.wdIz, vaOy);
            var object = this.ybKv(json.object, xdKz, wdIz);
            if (json.images === undefined || json.images.length === 0) {
                if (onLoad !== undefined) onLoad(object);
            }
            return object;
        },
        rhPtF: function(json) {
            var xdKz = {};
            if (json !== undefined) {
                var riMzB = new RFITE.xcjt();
                var rgMtB = new RFITE.rgmtb();
                for (var i = 0, l = json.length; i < l; i++) {
                    var vhHr;
                    var data = json[i];
                    switch (data.type) {
                        case 'PlaneGeometry':
                        case 'PlaneBufferGeometry':
                            vhHr = new RFITE[data.type](data.width, data.height, data.rjJtC, data.riLuH);
                            break;
                        case 'BoxGeometry':
                        case 'CubeGeometry':
                            vhHr = new RFITE.yfnx(data.width, data.height, data.depth, data.rjJtC, data.riLuH, data.rjOwF);
                            break;
                        case 'CircleGeometry':
                            vhHr = new RFITE.rimqc(data.thOs, data.vcGy);
                            break;
                        case 'CylinderGeometry':
                            vhHr = new RFITE.rhnxh(data.wbHy, data.zcOw, data.height, data.riKzH, data.riLuH, data.wcHw);
                            break;
                        case 'SphereGeometry':
                            vhHr = new RFITE.rijvk(data.thOs, data.rjJtC, data.riLuH, data.vdNs, data.wbMt, data.yiKy, data.zjIr);
                            break;
                        case 'IcosahedronGeometry':
                            vhHr = new RFITE.rgozc(data.thOs, data.detail);
                            break;
                        case 'TorusGeometry':
                            vhHr = new RFITE.rjkzk(data.thOs, data.reJu, data.riKzH, data.rhOtH, data.arc);
                            break;
                        case 'TorusKnotGeometry':
                            vhHr = new RFITE.rhhrf(data.thOs, data.reJu, data.riKzH, data.rhOtH, data.p, data.q, data.ydJx);
                            break;
                        case 'BufferGeometry':
                            vhHr = rgMtB.parse(data);
                            break;
                        case 'Geometry':
                            vhHr = riMzB.parse(data.data).vhHr;
                            break;
                    }
                    vhHr.reIw = data.reIw;
                    if (data.name !== undefined) vhHr.name = data.name;
                    xdKz[data.reIw] = vhHr;
                }
            }
            return xdKz;
        },
        riKwJ: function(json, vaOy) {
            var wdIz = {};
            if (json !== undefined) {
                var xdIw = function(name) {
                    if (vaOy[name] === undefined) {
                        RFITE.warn('THREE.ObjectLoader: Undefined texture', name);
                    }
                    return vaOy[name];
                };
                var rfKsE = new RFITE.rikqj();
                for (var i = 0, l = json.length; i < l; i++) {
                    var data = json[i];
                    var vfIz = rfKsE.parse(data);
                    vfIz.reIw = data.reIw;
                    if (data.name !== undefined) vfIz.name = data.name;
                    if (data.map !== undefined) {
                        vfIz.map = xdIw(data.map);
                    }
                    if (data.tdJv !== undefined) {
                        vfIz.tdJv = xdIw(data.tdJv);
                        if (data.whPw) {
                            vfIz.whPw = new RFITE.udoq(data.whPw, data.whPw);
                        }
                    }
                    if (data.uaPv !== undefined) {
                        vfIz.uaPv = xdIw(data.uaPv);
                    }
                    if (data.scIv !== undefined) {
                        vfIz.scIv = xdIw(data.scIv);
                    }
                    if (data.wcKq !== undefined) {
                        vfIz.wcKq = xdIw(data.wcKq);
                        if (data.ybPu) {
                            vfIz.ybPu = new RFITE.udoq(data.ybPu, data.ybPu);
                        }
                    }
                    if (data.vfLw !== undefined) {
                        vfIz.vfLw = xdIw(data.vfLw);
                    }
                    if (data.zjOy !== undefined) {
                        vfIz.zjOy = xdIw(data.zjOy);
                    }
                    wdIz[data.reIw] = vfIz;
                }
            }
            return wdIz;
        },
        ybKu: function(json, onLoad) {
            var shMr = this;
            var images = {};
            if (json !== undefined && json.length > 0) {
                var uiNy = new RFITE.rilzh(onLoad);
                var rfKsE = new RFITE.ydiw(uiNy);
                rfKsE.riJsD(this.crossOrigin);
                var wdKr = function(url) {
                    shMr.uiNy.wdPq(url);
                    return rfKsE.load(url, function() {
                        shMr.uiNy.ujJw(url);
                    });
                };
                for (var i = 0, l = json.length; i < l; i++) {
                    var image = json[i];
                    var rgHx = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url) ? image.url : shMr.zjJv + image.url;
                    images[image.reIw] = wdKr(rgHx);
                }
            }
            return images;
        },
        rjLsE: function(json, images) {
            var vaOy = {};
            if (json !== undefined) {
                for (var i = 0, l = json.length; i < l; i++) {
                    var data = json[i];
                    if (data.image === undefined) {
                        RFITE.warn('THREE.ObjectLoader: No "image" speficied for', data.reIw);
                    }
                    if (images[data.image] === undefined) {
                        RFITE.warn('THREE.ObjectLoader: Undefined image', data.image);
                    }
                    var ueMt = new RFITE.uemt(images[data.image]);
                    ueMt.ycGw = true;
                    ueMt.reIw = data.reIw;
                    if (data.name !== undefined) ueMt.name = data.name;
                    if (data.repeat !== undefined) ueMt.repeat = new RFITE.udoq(data.repeat[0], data.repeat[1]);
                    if (data.wcPw !== undefined) ueMt.wcPw = RFITE[data.wcPw];
                    if (data.wdJt !== undefined) ueMt.wdJt = RFITE[data.wdJt];
                    if (data.xgLr !== undefined) ueMt.xgLr = data.xgLr;
                    if (data.rdNv instanceof Array) {
                        ueMt.sfMy = RFITE[data.rdNv[0]];
                        ueMt.sfMz = RFITE[data.rdNv[1]];
                    }
                    vaOy[data.reIw] = ueMt;
                }
            }
            return vaOy;
        },
        ybKv: function() {
            var tjLs = new RFITE.uilr();
            return function(data, xdKz, wdIz) {
                var object;
                var ydMu = function(name) {
                    if (xdKz[name] === undefined) {
                        RFITE.warn('THREE.ObjectLoader: Undefined geometry', name);
                    }
                    return xdKz[name];
                };
                var ydMy = function(name) {
                    if (wdIz[name] === undefined) {
                        RFITE.warn('THREE.ObjectLoader: Undefined material', name);
                    }
                    return wdIz[name];
                };
                switch (data.type) {
                    case 'Scene':
                        object = new RFITE.shmq();
                        break;
                    case 'PerspectiveCamera':
                        object = new RFITE.rhivj(data.qeIu, data.seKv, data.rgMv, data.qeJq);
                        break;
                    case 'OrthographicCamera':
                        object = new RFITE.rgpqg(data.left, data.right, data.top, data.bottom, data.rgMv, data.qeJq);
                        break;
                    case 'AmbientLight':
                        object = new RFITE.zhks(data.color);
                        break;
                    case 'DirectionalLight':
                        object = new RFITE.rhnyg(data.color, data.weIw);
                        break;
                    case 'PointLight':
                        object = new RFITE.xaow(data.color, data.weIw, data.viLy, data.rbNz);
                        break;
                    case 'SpotLight':
                        object = new RFITE.xjmv(data.color, data.weIw, data.viLy, data.rcOr, data.vhPt, data.rbNz);
                        break;
                    case 'HemisphereLight':
                        object = new RFITE.rigth(data.color, data.ydKx, data.weIw);
                        break;
                    case 'Mesh':
                        object = new RFITE.rgos(ydMu(data.vhHr), ydMy(data.vfIz));
                        break;
                    case 'Line':
                        object = new RFITE.rhjz(ydMu(data.vhHr), ydMy(data.vfIz), data.rgNt);
                        break;
                    case 'PointCloud':
                        object = new RFITE.xaot(ydMu(data.vhHr), ydMy(data.vfIz));
                        break;
                    case 'rfisb':
                        object = new RFITE.rfisb(ydMy(data.vfIz));
                        break;
                    case 'Group':
                        object = new RFITE.Group();
                        break;
                    default:
                        object = new RFITE.veju();
                }
                object.reIw = data.reIw;
                if (data.name !== undefined) object.name = data.name;
                if (data.tjLs !== undefined) {
                    tjLs.wfMy(data.tjLs);
                    tjLs.whGw(object.position, object.xaLy, object.scale);
                } else {
                    if (data.position !== undefined) object.position.wfMy(data.position);
                    if (data.rfIqD !== undefined) object.rfIqD.wfMy(data.rfIqD);
                    if (data.scale !== undefined) object.scale.wfMy(data.scale);
                }
                if (data.rfIxE !== undefined) object.rfIxE = data.rfIxE;
                if (data.vaHq !== undefined) object.vaHq = data.vaHq;
                if (data.children !== undefined) {
                    for (var rcGq in data.children) {
                        object.add(this.ybKv(data.children[rcGq], xdKz, wdIz));
                    }
                }
                return object;
            }
        }()
    };
    RFITE.rjkxc = function(uiNy) {
        this.uiNy = (uiNy !== undefined) ? uiNy : RFITE.rgksb;
    };
    RFITE.rjkxc.prototype = {
        constructor: RFITE.rjkxc,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var rfKsE = new RFITE.ydiw(shMr.uiNy);
            rfKsE.riJsD(this.crossOrigin);
            rfKsE.load(url, function(image) {
                var ueMt = new RFITE.uemt(image);
                ueMt.ycGw = true;
                if (onLoad !== undefined) {
                    onLoad(ueMt);
                }
            }, onProgress, onError);
        },
        riJsD: function(value) {
            this.crossOrigin = value;
        }
    };
    RFITE.rhjtf = RFITE.rgoub = function() {
        this.teMw = null;
    };
    RFITE.rgoub.prototype = {
        constructor: RFITE.rgoub,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var ueMt = new RFITE.yeor();
            var rfKsE = new RFITE.xhow();
            rfKsE.rhPzH('arraybuffer');
            rfKsE.load(url, function(buffer) {
                var ueMs = shMr.teMw(buffer);
                if (!ueMs) return;
                if (undefined !== ueMs.image) {
                    ueMt.image = ueMs.image;
                } else if (undefined !== ueMs.data) {
                    ueMt.image.width = ueMs.width;
                    ueMt.image.height = ueMs.height;
                    ueMt.image.data = ueMs.data;
                }
                ueMt.sfMy = undefined !== ueMs.sfMy ? ueMs.sfMy : RFITE.rgovj;
                ueMt.sfMz = undefined !== ueMs.sfMz ? ueMs.sfMz : RFITE.rgovj;
                ueMt.wdJt = undefined !== ueMs.wdJt ? ueMs.wdJt : RFITE.zely;
                ueMt.wcPw = undefined !== ueMs.wcPw ? ueMs.wcPw : RFITE.rghvh;
                ueMt.xgLr = undefined !== ueMs.xgLr ? ueMs.xgLr : 1;
                if (undefined !== ueMs.format) {
                    ueMt.format = ueMs.format;
                }
                if (undefined !== ueMs.type) {
                    ueMt.type = ueMs.type;
                }
                if (undefined !== ueMs.uiJs) {
                    ueMt.uiJs = ueMs.uiJs;
                }
                if (1 === ueMs.ycIw) {
                    ueMt.wcPw = RFITE.zely;
                }
                ueMt.ycGw = true;
                if (onLoad) onLoad(ueMt, ueMs);
            }, onProgress, onError);
            return ueMt;
        }
    };
    RFITE.rgixk = function() {
        this.teMw = null;
    };
    RFITE.rgixk.prototype = {
        constructor: RFITE.rgixk,
        load: function(url, onLoad, onError) {
            var shMr = this;
            var images = [];
            var ueMt = new RFITE.rhjrb();
            ueMt.image = images;
            var rfKsE = new RFITE.xhow();
            rfKsE.rhPzH('arraybuffer');
            if (url instanceof Array) {
                var tjOx = 0;
                var ycKr = function(i) {
                    rfKsE.load(url[i], function(buffer) {
                        var vaOs = shMr.teMw(buffer, true);
                        images[i] = {
                            width: vaOs.width,
                            height: vaOs.height,
                            format: vaOs.format,
                            uiJs: vaOs.uiJs
                        };
                        tjOx += 1;
                        if (tjOx === 6) {
                            if (vaOs.ycIw == 1) ueMt.wcPw = RFITE.zely;
                            ueMt.format = vaOs.format;
                            ueMt.ycGw = true;
                            if (onLoad) onLoad(ueMt);
                        }
                    });
                };
                for (var i = 0, qiMv = url.length; i < qiMv; ++i) {
                    ycKr(i);
                }
            } else {
                rfKsE.load(url, function(buffer) {
                    var vaOs = shMr.teMw(buffer, true);
                    if (vaOs.weHy) {
                        var rbGu = vaOs.uiJs.length / vaOs.ycIw;
                        for (var f = 0; f < rbGu; f++) {
                            images[f] = {
                                uiJs: []
                            };
                            for (var i = 0; i < vaOs.ycIw; i++) {
                                images[f].uiJs.push(vaOs.uiJs[f * vaOs.ycIw + i]);
                                images[f].format = vaOs.format;
                                images[f].width = vaOs.width;
                                images[f].height = vaOs.height;
                            }
                        }
                    } else {
                        ueMt.image.width = vaOs.width;
                        ueMt.image.height = vaOs.height;
                        ueMt.uiJs = vaOs.uiJs;
                    }
                    if (vaOs.ycIw === 1) {
                        ueMt.wcPw = RFITE.zely;
                    }
                    ueMt.format = vaOs.format;
                    ueMt.ycGw = true;
                    if (onLoad) onLoad(ueMt);
                });
            }
            return ueMt;
        }
    };
    RFITE.vfiz = function() {
        Object.defineProperty(this, 'id', {
            value: RFITE.rigxh++
        });
        this.reIw = RFITE.Math.zfLv();
        this.name = '';
        this.type = 'Material';
        this.rfHr = RFITE.wflt;
        this.opacity = 1;
        this.zjGv = false;
        this.uaKz = RFITE.riksc;
        this.uaJq = RFITE.rijvb;
        this.uaKx = RFITE.rgiqe;
        this.rjPxD = RFITE.ygky;
        this.rjPxA = null;
        this.rjPxE = null;
        this.rhHyJ = null;
        this.wgOs = true;
        this.xeOu = true;
        this.xfLx = true;
        this.rjLtB = false;
        this.rgNuB = 0;
        this.rgPsK = 0;
        this.wiNy = 0;
        this.vdPs = 0;
        this.rfIxE = true;
        this.ziGv = true;
    };
    RFITE.vfiz.prototype = {
        constructor: RFITE.vfiz,
        get ycGw() {
            return this.ziGv;
        },
        set ycGw(value) {
            if (value === true) this.update();
            this.ziGv = value;
        },
        waHz: function(values) {
            if (values === undefined) return;
            for (var key in values) {
                var veNy = values[key];
                if (veNy === undefined) {
                    RFITE.warn("THREE.Material: '" + key + "' parameter is undefined.");
                    continue;
                }
                if (key in this) {
                    var zgJy = this[key];
                    if (zgJy instanceof RFITE.Color) {
                        zgJy.set(veNy);
                    } else if (zgJy instanceof RFITE.udor && veNy instanceof RFITE.udor) {
                        zgJy.rjLt(veNy);
                    } else if (key == 'overdraw') {
                        this[key] = Number(veNy);
                    } else {
                        this[key] = veNy;
                    }
                }
            }
        },
        toJSON: function() {
            var tiMy = {
                vfGs: {
                    reNrE: 4.2,
                    type: 'material',
                    wfJq: 'MaterialExporter'
                },
                reIw: this.reIw,
                type: this.type
            };
            if (this.name !== "") tiMy.name = this.name;
            if (this instanceof RFITE.rhira) {
                tiMy.color = this.color.sbJz();
                if (this.zbGu !== RFITE.vemy) tiMy.zbGu = this.zbGu;
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
                if (this.rfHr !== RFITE.wflt) tiMy.rfHr = this.rfHr;
            } else if (this instanceof RFITE.rgnrb) {
                tiMy.color = this.color.sbJz();
                tiMy.viJv = this.viJv.sbJz();
                if (this.zbGu !== RFITE.vemy) tiMy.zbGu = this.zbGu;
                if (this.ufLt !== RFITE.rjkuj) tiMy.ufLt = this.ufLt;
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
                if (this.rfHr !== RFITE.wflt) tiMy.rfHr = this.rfHr;
            } else if (this instanceof RFITE.rhisj) {
                tiMy.color = this.color.sbJz();
                tiMy.viJv = this.viJv.sbJz();
                tiMy.vbKw = this.vbKw.sbJz();
                tiMy.xjPq = this.xjPq;
                if (this.zbGu !== RFITE.vemy) tiMy.zbGu = this.zbGu;
                if (this.ufLt !== RFITE.rjkuj) tiMy.ufLt = this.ufLt;
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
                if (this.rfHr !== RFITE.wflt) tiMy.rfHr = this.rfHr;
            } else if (this instanceof RFITE.rhgxe) {
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
                if (this.rfHr !== RFITE.wflt) tiMy.rfHr = this.rfHr;
            } else if (this instanceof RFITE.rhisk) {
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
                if (this.rfHr !== RFITE.wflt) tiMy.rfHr = this.rfHr;
            } else if (this instanceof RFITE.rgprf) {
                tiMy.size = this.size;
                tiMy.rhOqE = this.rhOqE;
                tiMy.color = this.color.sbJz();
                if (this.zbGu !== RFITE.vemy) tiMy.zbGu = this.zbGu;
                if (this.uaKz !== RFITE.riksc) tiMy.uaKz = this.uaKz;
            } else if (this instanceof RFITE.rijtc) {
                tiMy.vaJx = this.vaJx;
                tiMy.zbGw = this.zbGw;
                tiMy.riMyF = this.riMyF;
            } else if (this instanceof RFITE.rijve) {
                tiMy.color = this.color.sbJz();
            }
            if (this.opacity < 1) tiMy.opacity = this.opacity;
            if (this.zjGv !== false) tiMy.zjGv = this.zjGv;
            if (this.xiGt !== false) tiMy.xiGt = this.xiGt;
            return tiMy;
        },
        rbPq: function(vfIz) {
            if (vfIz === undefined) vfIz = new RFITE.vfiz();
            vfIz.name = this.name;
            vfIz.rfHr = this.rfHr;
            vfIz.opacity = this.opacity;
            vfIz.zjGv = this.zjGv;
            vfIz.uaKz = this.uaKz;
            vfIz.uaJq = this.uaJq;
            vfIz.uaKx = this.uaKx;
            vfIz.rjPxD = this.rjPxD;
            vfIz.rjPxA = this.rjPxA;
            vfIz.rjPxE = this.rjPxE;
            vfIz.rhHyJ = this.rhHyJ;
            vfIz.wgOs = this.wgOs;
            vfIz.xeOu = this.xeOu;
            vfIz.rjLtB = this.rjLtB;
            vfIz.rgNuB = this.rgNuB;
            vfIz.rgPsK = this.rgPsK;
            vfIz.wiNy = this.wiNy;
            vfIz.vdPs = this.vdPs;
            vfIz.rfIxE = this.rfIxE;
            return vfIz;
        },
        update: function() {
            this.rjOxD({
                type: 'update'
            });
        },
        tbOw: function() {
            this.rjOxD({
                type: 'dispose'
            });
        }
    };
    RFITE.rihya.prototype.apply(RFITE.vfiz.prototype);
    RFITE.rigxh = 0;
    RFITE.rhiqf = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rhiqf';
        this.color = new RFITE.Color(0xffffff);
        this.linewidth = 1;
        this.linecap = 'round';
        this.linejoin = 'round';
        this.zbGu = RFITE.vemy;
        this.qeIr = true;
        this.waHz(xbGu);
    };
    RFITE.rhiqf.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhiqf.prototype.constructor = RFITE.rhiqf;
    RFITE.rhiqf.prototype.rbPq = function() {
        var vfIz = new RFITE.rhiqf();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.linewidth = this.linewidth;
        vfIz.linecap = this.linecap;
        vfIz.linejoin = this.linejoin;
        vfIz.zbGu = this.zbGu;
        vfIz.qeIr = this.qeIr;
        return vfIz;
    };
    RFITE.rhgwe = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rhgwe';
        this.color = new RFITE.Color(0xffffff);
        this.linewidth = 1;
        this.scale = 1;
        this.viPr = 3;
        this.taMy = 1;
        this.zbGu = false;
        this.qeIr = true;
        this.waHz(xbGu);
    };
    RFITE.rhgwe.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhgwe.prototype.constructor = RFITE.rhgwe;
    RFITE.rhgwe.prototype.rbPq = function() {
        var vfIz = new RFITE.rhgwe();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.linewidth = this.linewidth;
        vfIz.scale = this.scale;
        vfIz.viPr = this.viPr;
        vfIz.taMy = this.taMy;
        vfIz.zbGu = this.zbGu;
        vfIz.qeIr = this.qeIr;
        return vfIz;
    };
    RFITE.rhira = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rhira';
        this.color = new RFITE.Color(0xffffff);
        this.map = null;
        this.vfLw = null;
        this.zjOy = null;
        this.uaPv = null;
        this.scIv = null;
        this.tcNx = RFITE.rhisb;
        this.zcNt = 1;
        this.rhPwA = 0.98;
        this.qeIr = true;
        this.ufLt = RFITE.rjkuj;
        this.xiGt = false;
        this.rgPzB = 1;
        this.rhKtG = 'round';
        this.rhHtE = 'round';
        this.zbGu = RFITE.vemy;
        this.vbMz = false;
        this.zdOs = false;
        this.waHz(xbGu);
    };
    RFITE.rhira.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhira.prototype.constructor = RFITE.rhira;
    RFITE.rhira.prototype.rbPq = function() {
        var vfIz = new RFITE.rhira();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.map = this.map;
        vfIz.vfLw = this.vfLw;
        vfIz.zjOy = this.zjOy;
        vfIz.uaPv = this.uaPv;
        vfIz.scIv = this.scIv;
        vfIz.tcNx = this.tcNx;
        vfIz.zcNt = this.zcNt;
        vfIz.rhPwA = this.rhPwA;
        vfIz.qeIr = this.qeIr;
        vfIz.ufLt = this.ufLt;
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        vfIz.rhKtG = this.rhKtG;
        vfIz.rhHtE = this.rhHtE;
        vfIz.zbGu = this.zbGu;
        vfIz.vbMz = this.vbMz;
        vfIz.zdOs = this.zdOs;
        return vfIz;
    };
    RFITE.rgnrb = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rgnrb';
        this.color = new RFITE.Color(0xffffff);
        this.viJv = new RFITE.Color(0x000000);
        this.yhKv = false;
        this.udLy = new RFITE.udor(1, 1, 1);
        this.map = null;
        this.vfLw = null;
        this.zjOy = null;
        this.uaPv = null;
        this.scIv = null;
        this.tcNx = RFITE.rhisb;
        this.zcNt = 1;
        this.rhPwA = 0.98;
        this.qeIr = true;
        this.ufLt = RFITE.rjkuj;
        this.xiGt = false;
        this.rgPzB = 1;
        this.rhKtG = 'round';
        this.rhHtE = 'round';
        this.zbGu = RFITE.vemy;
        this.vbMz = false;
        this.zdOs = false;
        this.zdPt = false;
        this.waHz(xbGu);
    };
    RFITE.rgnrb.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rgnrb.prototype.constructor = RFITE.rgnrb;
    RFITE.rgnrb.prototype.rbPq = function() {
        var vfIz = new RFITE.rgnrb();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.viJv.rjLt(this.viJv);
        vfIz.yhKv = this.yhKv;
        vfIz.udLy.rjLt(this.udLy);
        vfIz.map = this.map;
        vfIz.vfLw = this.vfLw;
        vfIz.zjOy = this.zjOy;
        vfIz.uaPv = this.uaPv;
        vfIz.scIv = this.scIv;
        vfIz.tcNx = this.tcNx;
        vfIz.zcNt = this.zcNt;
        vfIz.rhPwA = this.rhPwA;
        vfIz.qeIr = this.qeIr;
        vfIz.ufLt = this.ufLt;
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        vfIz.rhKtG = this.rhKtG;
        vfIz.rhHtE = this.rhHtE;
        vfIz.zbGu = this.zbGu;
        vfIz.vbMz = this.vbMz;
        vfIz.zdOs = this.zdOs;
        vfIz.zdPt = this.zdPt;
        return vfIz;
    };
    RFITE.rhisj = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rhisj';
        this.color = new RFITE.Color(0xffffff);
        this.viJv = new RFITE.Color(0x000000);
        this.vbKw = new RFITE.Color(0x111111);
        this.xjPq = 30;
        this.sjHv = false;
        this.yhKv = false;
        this.udLy = new RFITE.udor(1, 1, 1);
        this.map = null;
        this.vfLw = null;
        this.tdJv = null;
        this.whPw = 1;
        this.wcKq = null;
        this.ybPu = new RFITE.udoq(1, 1);
        this.zjOy = null;
        this.uaPv = null;
        this.scIv = null;
        this.tcNx = RFITE.rhisb;
        this.zcNt = 1;
        this.rhPwA = 0.98;
        this.qeIr = true;
        this.ufLt = RFITE.rjkuj;
        this.xiGt = false;
        this.rgPzB = 1;
        this.rhKtG = 'round';
        this.rhHtE = 'round';
        this.zbGu = RFITE.vemy;
        this.vbMz = false;
        this.zdOs = false;
        this.zdPt = false;
        this.waHz(xbGu);
    };
    RFITE.rhisj.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhisj.prototype.constructor = RFITE.rhisj;
    RFITE.rhisj.prototype.rbPq = function() {
        var vfIz = new RFITE.rhisj();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.viJv.rjLt(this.viJv);
        vfIz.vbKw.rjLt(this.vbKw);
        vfIz.xjPq = this.xjPq;
        vfIz.sjHv = this.sjHv;
        vfIz.yhKv = this.yhKv;
        vfIz.udLy.rjLt(this.udLy);
        vfIz.map = this.map;
        vfIz.vfLw = this.vfLw;
        vfIz.tdJv = this.tdJv;
        vfIz.whPw = this.whPw;
        vfIz.wcKq = this.wcKq;
        vfIz.ybPu.rjLt(this.ybPu);
        vfIz.zjOy = this.zjOy;
        vfIz.uaPv = this.uaPv;
        vfIz.scIv = this.scIv;
        vfIz.tcNx = this.tcNx;
        vfIz.zcNt = this.zcNt;
        vfIz.rhPwA = this.rhPwA;
        vfIz.qeIr = this.qeIr;
        vfIz.ufLt = this.ufLt;
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        vfIz.rhKtG = this.rhKtG;
        vfIz.rhHtE = this.rhHtE;
        vfIz.zbGu = this.zbGu;
        vfIz.vbMz = this.vbMz;
        vfIz.zdOs = this.zdOs;
        vfIz.zdPt = this.zdPt;
        return vfIz;
    };
    RFITE.rhisk = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rhisk';
        this.zdOs = false;
        this.xiGt = false;
        this.rgPzB = 1;
        this.waHz(xbGu);
    };
    RFITE.rhisk.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhisk.prototype.constructor = RFITE.rhisk;
    RFITE.rhisk.prototype.rbPq = function() {
        var vfIz = new RFITE.rhisk();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        return vfIz;
    };
    RFITE.rhgxe = function(xbGu) {
        RFITE.vfiz.call(this, xbGu);
        this.type = 'rhgxe';
        this.xiGt = false;
        this.rgPzB = 1;
        this.zdOs = false;
        this.waHz(xbGu);
    };
    RFITE.rhgxe.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rhgxe.prototype.constructor = RFITE.rhgxe;
    RFITE.rhgxe.prototype.rbPq = function() {
        var vfIz = new RFITE.rhgxe();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        return vfIz;
    };
    RFITE.rhmzk = function(wdIz) {
        this.reIw = RFITE.Math.zfLv();
        this.type = 'MeshFaceMaterial';
        this.wdIz = wdIz instanceof Array ? wdIz : [];
    };
    RFITE.rhmzk.prototype = {
        constructor: RFITE.rhmzk,
        toJSON: function() {
            var tiMy = {
                vfGs: {
                    reNrE: 4.2,
                    type: 'material',
                    wfJq: 'MaterialExporter'
                },
                reIw: this.reIw,
                type: this.type,
                wdIz: []
            };
            for (var i = 0, l = this.wdIz.length; i < l; i++) {
                tiMy.wdIz.push(this.wdIz[i].toJSON());
            }
            return tiMy;
        },
        rbPq: function() {
            var vfIz = new RFITE.rhmzk();
            for (var i = 0; i < this.wdIz.length; i++) {
                vfIz.wdIz.push(this.wdIz[i].rbPq());
            }
            return vfIz;
        }
    };
    RFITE.rgprf = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'rgprf';
        this.color = new RFITE.Color(0xffffff);
        this.map = null;
        this.size = 1;
        this.rhOqE = true;
        this.zbGu = RFITE.vemy;
        this.qeIr = true;
        this.waHz(xbGu);
    };
    RFITE.rgprf.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rgprf.prototype.constructor = RFITE.rgprf;
    RFITE.rgprf.prototype.rbPq = function() {
        var vfIz = new RFITE.rgprf();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.map = this.map;
        vfIz.size = this.size;
        vfIz.rhOqE = this.rhOqE;
        vfIz.zbGu = this.zbGu;
        vfIz.qeIr = this.qeIr;
        return vfIz;
    };
    RFITE.rgkye = function(xbGu) {
        RFITE.warn('THREE.ParticleBasicMaterial has been renamed to THREE.rgprf.');
        return new RFITE.rgprf(xbGu);
    };
    RFITE.rgiqb = function(xbGu) {
        RFITE.warn('THREE.ParticleSystemMaterial has been renamed to THREE.rgprf.');
        return new RFITE.rgprf(xbGu);
    };
    RFITE.rijtc = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'ShaderMaterial';
        this.tcHz = {};
        this.vaJx = {};
        this.attributes = null;
        this.zbGw = 'void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}';
        this.riMyF = 'void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}';
        this.ufLt = RFITE.rjkuj;
        this.linewidth = 1;
        this.xiGt = false;
        this.rgPzB = 1;
        this.qeIr = false;
        this.tjPw = false;
        this.zbGu = RFITE.vemy;
        this.vbMz = false;
        this.zdOs = false;
        this.zdPt = false;
        this.rgJwD = {
            'color': [1, 1, 1],
            'uv': [0, 0],
            'uv2': [0, 0]
        };
        this.rgOzA = undefined;
        this.waHz(xbGu);
    };
    RFITE.rijtc.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rijtc.prototype.constructor = RFITE.rijtc;
    RFITE.rijtc.prototype.rbPq = function() {
        var vfIz = new RFITE.rijtc();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.riMyF = this.riMyF;
        vfIz.zbGw = this.zbGw;
        vfIz.vaJx = RFITE.rjjqj.rbPq(this.vaJx);
        vfIz.attributes = this.attributes;
        vfIz.tcHz = this.tcHz;
        vfIz.ufLt = this.ufLt;
        vfIz.xiGt = this.xiGt;
        vfIz.rgPzB = this.rgPzB;
        vfIz.qeIr = this.qeIr;
        vfIz.tjPw = this.tjPw;
        vfIz.zbGu = this.zbGu;
        vfIz.vbMz = this.vbMz;
        vfIz.zdOs = this.zdOs;
        vfIz.zdPt = this.zdPt;
        return vfIz;
    };
    RFITE.rhiwe = function(xbGu) {
        RFITE.rijtc.call(this, xbGu);
        this.type = 'RawShaderMaterial';
    };
    RFITE.rhiwe.prototype = Object.create(RFITE.rijtc.prototype);
    RFITE.rhiwe.prototype.constructor = RFITE.rhiwe;
    RFITE.rhiwe.prototype.rbPq = function() {
        var vfIz = new RFITE.rhiwe();
        RFITE.rijtc.prototype.rbPq.call(this, vfIz);
        return vfIz;
    };
    RFITE.rijve = function(xbGu) {
        RFITE.vfiz.call(this);
        this.type = 'SpriteMaterial';
        this.color = new RFITE.Color(0xffffff);
        this.map = null;
        this.rfIqD = 0;
        this.qeIr = false;
        this.waHz(xbGu);
    };
    RFITE.rijve.prototype = Object.create(RFITE.vfiz.prototype);
    RFITE.rijve.prototype.constructor = RFITE.rijve;
    RFITE.rijve.prototype.rbPq = function() {
        var vfIz = new RFITE.rijve();
        RFITE.vfiz.prototype.rbPq.call(this, vfIz);
        vfIz.color.rjLt(this.color);
        vfIz.map = this.map;
        vfIz.rfIqD = this.rfIqD;
        vfIz.qeIr = this.qeIr;
        return vfIz;
    };
    RFITE.uemt = function(image, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr) {
        Object.defineProperty(this, 'id', {
            value: RFITE.rijxg++
        });
        this.reIw = RFITE.Math.zfLv();
        this.name = '';
        this.yjHt = '';
        this.image = image !== undefined ? image : RFITE.uemt.RJOVH;
        this.uiJs = [];
        this.uiMs = uiMs !== undefined ? uiMs : RFITE.uemt.RIHWG;
        this.sfMy = sfMy !== undefined ? sfMy : RFITE.rgovj;
        this.sfMz = sfMz !== undefined ? sfMz : RFITE.rgovj;
        this.wdJt = wdJt !== undefined ? wdJt : RFITE.zely;
        this.wcPw = wcPw !== undefined ? wcPw : RFITE.rghvh;
        this.xgLr = xgLr !== undefined ? xgLr : 1;
        this.format = format !== undefined ? format : RFITE.yjps;
        this.type = type !== undefined ? type : RFITE.rhkrf;
        this.tiOt = new RFITE.udoq(0, 0);
        this.repeat = new RFITE.udoq(1, 1);
        this.riGrK = true;
        this.rhLuG = false;
        this.raOv = true;
        this.rhOuK = 4;
        this.ziGv = false;
        this.veHr = null;
    };
    RFITE.uemt.RJOVH = undefined;
    RFITE.uemt.RIHWG = RFITE.xijz;
    RFITE.uemt.prototype = {
        constructor: RFITE.uemt,
        get ycGw() {
            return this.ziGv;
        },
        set ycGw(value) {
            if (value === true) this.update();
            this.ziGv = value;
        },
        rbPq: function(ueMt) {
            if (ueMt === undefined) ueMt = new RFITE.uemt();
            ueMt.image = this.image;
            ueMt.uiJs = this.uiJs.slice(0);
            ueMt.uiMs = this.uiMs;
            ueMt.sfMy = this.sfMy;
            ueMt.sfMz = this.sfMz;
            ueMt.wdJt = this.wdJt;
            ueMt.wcPw = this.wcPw;
            ueMt.xgLr = this.xgLr;
            ueMt.format = this.format;
            ueMt.type = this.type;
            ueMt.tiOt.rjLt(this.tiOt);
            ueMt.repeat.rjLt(this.repeat);
            ueMt.riGrK = this.riGrK;
            ueMt.rhLuG = this.rhLuG;
            ueMt.raOv = this.raOv;
            ueMt.rhOuK = this.rhOuK;
            return ueMt;
        },
        update: function() {
            this.rjOxD({
                type: 'update'
            });
        },
        tbOw: function() {
            this.rjOxD({
                type: 'dispose'
            });
        }
    };
    RFITE.rihya.prototype.apply(RFITE.uemt.prototype);
    RFITE.rijxg = 0;
    RFITE.yfgz = function(images, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr) {
        uiMs = uiMs !== undefined ? uiMs : RFITE.rgksf;
        RFITE.uemt.call(this, images, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr);
        this.images = images;
    };
    RFITE.yfgz.prototype = Object.create(RFITE.uemt.prototype);
    RFITE.yfgz.prototype.constructor = RFITE.yfgz;
    RFITE.yfgz.rbPq = function(ueMt) {
        if (ueMt === undefined) ueMt = new RFITE.yfgz();
        RFITE.uemt.prototype.rbPq.call(this, ueMt);
        ueMt.images = this.images;
        return ueMt;
    };
    RFITE.rhjrb = function(uiJs, width, height, format, type, uiMs, sfMy, sfMz, wdJt, wcPw, xgLr) {
        RFITE.uemt.call(this, null, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr);
        this.image = {
            width: width,
            height: height
        };
        this.uiJs = uiJs;
        this.raOv = false;
        this.riGrK = false;
    };
    RFITE.rhjrb.prototype = Object.create(RFITE.uemt.prototype);
    RFITE.rhjrb.prototype.constructor = RFITE.rhjrb;
    RFITE.rhjrb.prototype.rbPq = function() {
        var ueMt = new RFITE.rhjrb();
        RFITE.uemt.prototype.rbPq.call(this, ueMt);
        return ueMt;
    };
    RFITE.yeor = function(data, width, height, format, type, uiMs, sfMy, sfMz, wdJt, wcPw, xgLr) {
        RFITE.uemt.call(this, null, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr);
        this.image = {
            data: data,
            width: width,
            height: height
        };
    };
    RFITE.yeor.prototype = Object.create(RFITE.uemt.prototype);
    RFITE.yeor.prototype.constructor = RFITE.yeor;
    RFITE.yeor.prototype.rbPq = function() {
        var ueMt = new RFITE.yeor();
        RFITE.uemt.prototype.rbPq.call(this, ueMt);
        return ueMt;
    };
    RFITE.zbgx = function(sfPw, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr) {
        RFITE.uemt.call(this, sfPw, uiMs, sfMy, sfMz, wdJt, wcPw, format, type, xgLr);
        this.riGrK = false;
        var shMr = this;
        var update = function() {
            requestAnimationFrame(update);
            if (sfPw.readyState === sfPw.RHMUJ) {
                shMr.ycGw = true;
            }
        };
        update();
    };
    RFITE.zbgx.prototype = Object.create(RFITE.uemt.prototype);
    RFITE.zbgx.prototype.constructor = RFITE.zbgx;
    RFITE.Group = function() {
        RFITE.veju.call(this);
        this.type = 'Group';
    };
    RFITE.Group.prototype = Object.create(RFITE.veju.prototype);
    RFITE.Group.prototype.constructor = RFITE.Group;
    RFITE.xaot = function(vhHr, vfIz) {
        RFITE.veju.call(this);
        this.type = 'PointCloud';
        this.vhHr = vhHr !== undefined ? vhHr : new RFITE.vhhr();
        this.vfIz = vfIz !== undefined ? vfIz : new RFITE.rgprf({
            color: Math.random() * 0xffffff
        });
    };
    RFITE.xaot.prototype = Object.create(RFITE.veju.prototype);
    RFITE.xaot.prototype.constructor = RFITE.xaot;
    RFITE.xaot.prototype.ugLv = (function() {
        var rjNzB = new RFITE.uilr();
        var qcIr = new RFITE.qcir();
        return function(wbGr, xcLy) {
            var object = this;
            var vhHr = object.vhHr;
            var xjGy = wbGr.tiLv.xaot.xjGy;
            rjNzB.xdJv(this.ycJs);
            qcIr.rjLt(wbGr.qcIr).zhJr(rjNzB);
            if (vhHr.yfNv !== null) {
                if (qcIr.rhJzC(vhHr.yfNv) === false) {
                    return;
                }
            }
            var riLzF = xjGy / ((this.scale.x + this.scale.y + this.scale.z) / 3);
            var position = new RFITE.udor();
            var xjIx = function(point, index) {
                var rhLvF = qcIr.riHxF(point);
                if (rhLvF < riLzF) {
                    var riLwE = qcIr.rgOvG(point);
                    riLwE.zhJr(object.ycJs);
                    var viLy = wbGr.qcIr.origin.xeMv(riLwE);
                    xcLy.push({
                        viLy: viLy,
                        rjOxB: rhLvF,
                        point: riLwE.rbPq(),
                        index: index,
                        riOw: null,
                        object: object
                    });
                }
            };
            if (vhHr instanceof RFITE.rinyf) {
                var attributes = vhHr.attributes;
                var wbKs = attributes.position.array;
                if (attributes.index !== undefined) {
                    var ujNx = attributes.index.array;
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        var tiOt = {
                            rfIsA: 0,
                            count: ujNx.length,
                            index: 0
                        };
                        uhOz = [tiOt];
                    }
                    for (var qhPq = 0, qhPt = uhOz.length; qhPq < qhPt; ++qhPq) {
                        var rfIsA = uhOz[qhPq].rfIsA;
                        var count = uhOz[qhPq].count;
                        var index = uhOz[qhPq].index;
                        for (var i = rfIsA, qiMv = rfIsA + count; i < qiMv; i++) {
                            var a = index + ujNx[i];
                            position.wfMy(wbKs, a * 3);
                            xjIx(position, a);
                        }
                    }
                } else {
                    var xaOu = wbKs.length / 3;
                    for (var i = 0; i < xaOu; i++) {
                        position.set(wbKs[3 * i], wbKs[3 * i + 1], wbKs[3 * i + 2]);
                        xjIx(position, i);
                    }
                }
            } else {
                var wjPq = this.vhHr.wjPq;
                for (var i = 0; i < wjPq.length; i++) {
                    xjIx(wjPq[i], i);
                }
            }
        };
    }());
    RFITE.xaot.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.xaot(this.vhHr, this.vfIz);
        RFITE.veju.prototype.rbPq.call(this, object);
        return object;
    };
    RFITE.rikwe = function(vhHr, vfIz) {
        RFITE.warn('THREE.ParticleSystem has been renamed to THREE.PointCloud.');
        return new RFITE.xaot(vhHr, vfIz);
    };
    RFITE.rhjz = function(vhHr, vfIz, rgNt) {
        RFITE.veju.call(this);
        this.type = 'Line';
        this.vhHr = vhHr !== undefined ? vhHr : new RFITE.vhhr();
        this.vfIz = vfIz !== undefined ? vfIz : new RFITE.rhiqf({
            color: Math.random() * 0xffffff
        });
        this.rgNt = rgNt !== undefined ? rgNt : RFITE.wdls;
    };
    RFITE.wdls = 0;
    RFITE.xchx = 1;
    RFITE.rhjz.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rhjz.prototype.constructor = RFITE.rhjz;
    RFITE.rhjz.prototype.ugLv = (function() {
        var rjNzB = new RFITE.uilr();
        var qcIr = new RFITE.qcir();
        var tgLq = new RFITE.tglq();
        return function(wbGr, xcLy) {
            var precision = wbGr.rjMsB;
            var ybGu = precision * precision;
            var vhHr = this.vhHr;
            if (vhHr.riNyH === null) vhHr.rgKsJ();
            tgLq.rjLt(vhHr.riNyH);
            tgLq.zhJr(this.ycJs);
            if (wbGr.qcIr.rgLqJ(tgLq) === false) {
                return;
            }
            rjNzB.xdJv(this.ycJs);
            qcIr.rjLt(wbGr.qcIr).zhJr(rjNzB);
            var tfJx = new RFITE.udor();
            var reGs = new RFITE.udor();
            var zeOx = new RFITE.udor();
            var vgIv = new RFITE.udor();
            var reOx = this.rgNt === RFITE.wdls ? 1 : 2;
            if (vhHr instanceof RFITE.rinyf) {
                var attributes = vhHr.attributes;
                if (attributes.index !== undefined) {
                    var ujNx = attributes.index.array;
                    var wbKs = attributes.position.array;
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        uhOz = [{
                            rfIsA: 0,
                            count: ujNx.length,
                            index: 0
                        }];
                    }
                    for (var qhPq = 0; qhPq < uhOz.length; qhPq++) {
                        var rfIsA = uhOz[qhPq].rfIsA;
                        var count = uhOz[qhPq].count;
                        var index = uhOz[qhPq].index;
                        for (var i = rfIsA; i < rfIsA + count - 1; i += reOx) {
                            var a = index + ujNx[i];
                            var b = index + ujNx[i + 1];
                            tfJx.wfMy(wbKs, a * 3);
                            reGs.wfMy(wbKs, b * 3);
                            var scLu = qcIr.rgOxJ(tfJx, reGs, vgIv, zeOx);
                            if (scLu > ybGu) continue;
                            var viLy = qcIr.origin.xeMv(vgIv);
                            if (viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                            xcLy.push({
                                viLy: viLy,
                                point: zeOx.rbPq().zhJr(this.ycJs),
                                index: i,
                                ybOw: qhPq,
                                riOw: null,
                                wfPu: null,
                                object: this
                            });
                        }
                    }
                } else {
                    var wbKs = attributes.position.array;
                    for (var i = 0; i < wbKs.length / 3 - 1; i += reOx) {
                        tfJx.wfMy(wbKs, 3 * i);
                        reGs.wfMy(wbKs, 3 * i + 3);
                        var scLu = qcIr.rgOxJ(tfJx, reGs, vgIv, zeOx);
                        if (scLu > ybGu) continue;
                        var viLy = qcIr.origin.xeMv(vgIv);
                        if (viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                        xcLy.push({
                            viLy: viLy,
                            point: zeOx.rbPq().zhJr(this.ycJs),
                            index: i,
                            riOw: null,
                            wfPu: null,
                            object: this
                        });
                    }
                }
            } else if (vhHr instanceof RFITE.vhhr) {
                var wjPq = vhHr.wjPq;
                var xbMs = wjPq.length;
                for (var i = 0; i < xbMs - 1; i += reOx) {
                    var scLu = qcIr.rgOxJ(wjPq[i], wjPq[i + 1], vgIv, zeOx);
                    if (scLu > ybGu) continue;
                    var viLy = qcIr.origin.xeMv(vgIv);
                    if (viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                    xcLy.push({
                        viLy: viLy,
                        point: zeOx.rbPq().zhJr(this.ycJs),
                        index: i,
                        riOw: null,
                        wfPu: null,
                        object: this
                    });
                }
            }
        };
    }());
    RFITE.rhjz.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.rhjz(this.vhHr, this.vfIz, this.rgNt);
        RFITE.veju.prototype.rbPq.call(this, object);
        return object;
    };
    RFITE.rgos = function(vhHr, vfIz) {
        RFITE.veju.call(this);
        this.type = 'Mesh';
        this.vhHr = vhHr !== undefined ? vhHr : new RFITE.vhhr();
        this.vfIz = vfIz !== undefined ? vfIz : new RFITE.rhira({
            color: Math.random() * 0xffffff
        });
        this.rgPyC();
    };
    RFITE.rgos.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rgos.prototype.constructor = RFITE.rgos;
    RFITE.rgos.prototype.rgPyC = function() {
        if (this.vhHr.zdOs !== undefined && this.vhHr.zdOs.length > 0) {
            this.riGyB = -1;
            this.rgJzH = [];
            this.morphTargetInfluences = [];
            this.rgKwC = {};
            for (var m = 0, qiIt = this.vhHr.zdOs.length; m < qiIt; m++) {
                this.morphTargetInfluences.push(0);
                this.rgKwC[this.vhHr.zdOs[m].name] = m;
            }
        }
    };
    RFITE.rgos.prototype.rgHzF = function(name) {
        if (this.rgKwC[name] !== undefined) {
            return this.rgKwC[name];
        }
        RFITE.warn('THREE.Mesh.getMorphTargetIndexByName: morph target ' + name + ' does rfKxG exist. Returning 0.');
        return 0;
    };
    RFITE.rgos.prototype.ugLv = (function() {
        var rjNzB = new RFITE.uilr();
        var qcIr = new RFITE.qcir();
        var tgLq = new RFITE.tglq();
        var qgOq = new RFITE.udor();
        var qgOr = new RFITE.udor();
        var qgOs = new RFITE.udor();
        return function(wbGr, xcLy) {
            var vhHr = this.vhHr;
            if (vhHr.riNyH === null) vhHr.rgKsJ();
            tgLq.rjLt(vhHr.riNyH);
            tgLq.zhJr(this.ycJs);
            if (wbGr.qcIr.rgLqJ(tgLq) === false) {
                return;
            }
            rjNzB.xdJv(this.ycJs);
            qcIr.rjLt(wbGr.qcIr).zhJr(rjNzB);
            if (vhHr.yfNv !== null) {
                if (qcIr.rhJzC(vhHr.yfNv) === false) {
                    return;
                }
            }
            if (vhHr instanceof RFITE.rinyf) {
                var vfIz = this.vfIz;
                if (vfIz === undefined) return;
                var attributes = vhHr.attributes;
                var a, b, c;
                var precision = wbGr.precision;
                if (attributes.index !== undefined) {
                    var ujNx = attributes.index.array;
                    var wbKs = attributes.position.array;
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        uhOz = [{
                            rfIsA: 0,
                            count: ujNx.length,
                            index: 0
                        }];
                    }
                    for (var qhPq = 0, qhPt = uhOz.length; qhPq < qhPt; ++qhPq) {
                        var rfIsA = uhOz[qhPq].rfIsA;
                        var count = uhOz[qhPq].count;
                        var index = uhOz[qhPq].index;
                        for (var i = rfIsA, qiMv = rfIsA + count; i < qiMv; i += 3) {
                            a = index + ujNx[i];
                            b = index + ujNx[i + 1];
                            c = index + ujNx[i + 2];
                            qgOq.wfMy(wbKs, a * 3);
                            qgOr.wfMy(wbKs, b * 3);
                            qgOs.wfMy(wbKs, c * 3);
                            if (vfIz.rfHr === RFITE.ualq) {
                                var rhJzF = qcIr.rhJzE(qgOs, qgOr, qgOq, true);
                            } else {
                                var rhJzF = qcIr.rhJzE(qgOq, qgOr, qgOs, vfIz.rfHr !== RFITE.xels);
                            }
                            if (rhJzF === null) continue;
                            rhJzF.zhJr(this.ycJs);
                            var viLy = wbGr.qcIr.origin.xeMv(rhJzF);
                            if (viLy < precision || viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                            xcLy.push({
                                viLy: viLy,
                                point: rhJzF,
                                riOw: new RFITE.rbgq(a, b, c, RFITE.valz.normal(qgOq, qgOr, qgOs)),
                                wfPu: null,
                                object: this
                            });
                        }
                    }
                } else {
                    var wbKs = attributes.position.array;
                    for (var i = 0, j = 0, qiMv = wbKs.length; i < qiMv; i += 3, j += 9) {
                        a = i;
                        b = i + 1;
                        c = i + 2;
                        qgOq.wfMy(wbKs, j);
                        qgOr.wfMy(wbKs, j + 3);
                        qgOs.wfMy(wbKs, j + 6);
                        if (vfIz.rfHr === RFITE.ualq) {
                            var rhJzF = qcIr.rhJzE(qgOs, qgOr, qgOq, true);
                        } else {
                            var rhJzF = qcIr.rhJzE(qgOq, qgOr, qgOs, vfIz.rfHr !== RFITE.xels);
                        }
                        if (rhJzF === null) continue;
                        rhJzF.zhJr(this.ycJs);
                        var viLy = wbGr.qcIr.origin.xeMv(rhJzF);
                        if (viLy < precision || viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                        xcLy.push({
                            viLy: viLy,
                            point: rhJzF,
                            riOw: new RFITE.rbgq(a, b, c, RFITE.valz.normal(qgOq, qgOr, qgOs)),
                            wfPu: null,
                            object: this
                        });
                    }
                }
            } else if (vhHr instanceof RFITE.vhhr) {
                var riLwA = this.vfIz instanceof RFITE.rhmzk;
                var rhPrH = riLwA === true ? this.vfIz.wdIz : null;
                var a, b, c;
                var precision = wbGr.precision;
                var wjPq = vhHr.wjPq;
                for (var f = 0, qiPr = vhHr.rbGu.length; f < qiPr; f++) {
                    var riOw = vhHr.rbGu[f];
                    var vfIz = riLwA === true ? rhPrH[riOw.rjMuB] : this.vfIz;
                    if (vfIz === undefined) continue;
                    a = wjPq[riOw.a];
                    b = wjPq[riOw.b];
                    c = wjPq[riOw.c];
                    if (vfIz.zdOs === true) {
                        var zdOs = vhHr.zdOs;
                        var riGyC = this.morphTargetInfluences;
                        qgOq.set(0, 0, 0);
                        qgOr.set(0, 0, 0);
                        qgOs.set(0, 0, 0);
                        for (var t = 0, qhHs = zdOs.length; t < qhHs; t++) {
                            var weLz = riGyC[t];
                            if (weLz === 0) continue;
                            var ueNw = zdOs[t].wjPq;
                            qgOq.x += (ueNw[riOw.a].x - a.x) * weLz;
                            qgOq.y += (ueNw[riOw.a].y - a.y) * weLz;
                            qgOq.z += (ueNw[riOw.a].z - a.z) * weLz;
                            qgOr.x += (ueNw[riOw.b].x - b.x) * weLz;
                            qgOr.y += (ueNw[riOw.b].y - b.y) * weLz;
                            qgOr.z += (ueNw[riOw.b].z - b.z) * weLz;
                            qgOs.x += (ueNw[riOw.c].x - c.x) * weLz;
                            qgOs.y += (ueNw[riOw.c].y - c.y) * weLz;
                            qgOs.z += (ueNw[riOw.c].z - c.z) * weLz;
                        }
                        qgOq.add(a);
                        qgOr.add(b);
                        qgOs.add(c);
                        a = qgOq;
                        b = qgOr;
                        c = qgOs;
                    }
                    if (vfIz.rfHr === RFITE.ualq) {
                        var rhJzF = qcIr.rhJzE(c, b, a, true);
                    } else {
                        var rhJzF = qcIr.rhJzE(a, b, c, vfIz.rfHr !== RFITE.xels);
                    }
                    if (rhJzF === null) continue;
                    rhJzF.zhJr(this.ycJs);
                    var viLy = wbGr.qcIr.origin.xeMv(rhJzF);
                    if (viLy < precision || viLy < wbGr.rgMv || viLy > wbGr.qeJq) continue;
                    xcLy.push({
                        viLy: viLy,
                        point: rhJzF,
                        riOw: riOw,
                        wfPu: f,
                        object: this
                    });
                }
            }
        };
    }());
    RFITE.rgos.prototype.rbPq = function(object, wbGz) {
        if (object === undefined) object = new RFITE.rgos(this.vhHr, this.vfIz);
        RFITE.veju.prototype.rbPq.call(this, object, wbGz);
        return object;
    };
    RFITE.rjou = function(rfHz) {
        RFITE.veju.call(this);
        this.type = 'Bone';
        this.rfHz = rfHz;
    };
    RFITE.rjou.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rjou.prototype.constructor = RFITE.rjou;
    RFITE.vbmy = function(rcJr, zhHs, rhKsG) {
        this.rhKsG = rhKsG !== undefined ? rhKsG : true;
        this.riLuE = new RFITE.uilr();
        rcJr = rcJr || [];
        this.rcJr = rcJr.slice(0);
        if (this.rhKsG) {
            var size;
            if (this.rcJr.length > 256) size = 64;
            else if (this.rcJr.length > 64) size = 32;
            else if (this.rcJr.length > 16) size = 16;
            elsesize = 8;
            this.boneTextureWidth = size;
            this.boneTextureHeight = size;
            this.zhHt = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4);
            this.boneTexture = new RFITE.yeor(this.zhHt, this.boneTextureWidth, this.boneTextureHeight, RFITE.yjps, RFITE.wfnq);
            this.boneTexture.wcPw = RFITE.rjmxg;
            this.boneTexture.wdJt = RFITE.rjmxg;
            this.boneTexture.riGrK = false;
            this.boneTexture.raOv = false;
        } else {
            this.zhHt = new Float32Array(16 * this.rcJr.length);
        }
        if (zhHs === undefined) {
            this.rhJqK();
        } else {
            if (this.rcJr.length === zhHs.length) {
                this.zhHs = zhHs.slice(0);
            } else {
                RFITE.warn('THREE.Skeleton bonInverses is the wrong length.');
                this.zhHs = [];
                for (var b = 0, qjMy = this.rcJr.length; b < qjMy; b++) {
                    this.zhHs.push(new RFITE.uilr());
                }
            }
        }
    };
    RFITE.vbmy.prototype.rhJqK = function() {
        this.zhHs = [];
        for (var b = 0, qjMy = this.rcJr.length; b < qjMy; b++) {
            var ujLt = new RFITE.uilr();
            if (this.rcJr[b]) {
                ujLt.xdJv(this.rcJr[b].ycJs);
            }
            this.zhHs.push(ujLt);
        }
    };
    RFITE.vbmy.prototype.rfPy = function() {
        var rjOu;
        for (var b = 0, qjMy = this.rcJr.length; b < qjMy; b++) {
            rjOu = this.rcJr[b];
            if (rjOu) {
                rjOu.ycJs.xdJv(this.zhHs[b]);
            }
        }
        for (var b = 0, qjMy = this.rcJr.length; b < qjMy; b++) {
            rjOu = this.rcJr[b];
            if (rjOu) {
                if (rjOu.parent) {
                    rjOu.tjLs.xdJv(rjOu.parent.ycJs);
                    rjOu.tjLs.veOs(rjOu.ycJs);
                } else {
                    rjOu.tjLs.rjLt(rjOu.ycJs);
                }
                rjOu.tjLs.whGw(rjOu.position, rjOu.xaLy, rjOu.scale);
            }
        }
    };
    RFITE.vbmy.prototype.update = (function() {
        var zdLv = new RFITE.uilr();
        return function() {
            for (var b = 0, qjMy = this.rcJr.length; b < qjMy; b++) {
                var tjLs = this.rcJr[b] ? this.rcJr[b].ycJs : this.riLuE;
                zdLv.rhLqJ(tjLs, this.zhHs[b]);
                zdLv.rgMxG(this.zhHt, b * 16);
            }
            if (this.rhKsG) {
                this.boneTexture.ycGw = true;
            }
        };
    })();
    RFITE.zjpu = function(vhHr, vfIz, rhKsG) {
        RFITE.rgos.call(this, vhHr, vfIz);
        this.type = 'SkinnedMesh';
        this.uaKt = "attached";
        this.bindMatrix = new RFITE.uilr();
        this.bindMatrixInverse = new RFITE.uilr();
        var rcJr = [];
        if (this.vhHr && this.vhHr.rcJr !== undefined) {
            var rjOu, raMz, p, q, s;
            for (var b = 0, qjMy = this.vhHr.rcJr.length; b < qjMy; ++b) {
                raMz = this.vhHr.rcJr[b];
                p = raMz.qcLw;
                q = raMz.rfLx;
                s = raMz.qcGr;
                rjOu = new RFITE.rjou(this);
                rcJr.push(rjOu);
                rjOu.name = raMz.name;
                rjOu.position.set(p[0], p[1], p[2]);
                rjOu.xaLy.set(q[0], q[1], q[2], q[3]);
                if (s !== undefined) {
                    rjOu.scale.set(s[0], s[1], s[2]);
                } else {
                    rjOu.scale.set(1, 1, 1);
                }
            }
            for (var b = 0, qjMy = this.vhHr.rcJr.length; b < qjMy; ++b) {
                raMz = this.vhHr.rcJr[b];
                if (raMz.parent !== -1) {
                    rcJr[raMz.parent].add(rcJr[b]);
                } else {
                    this.add(rcJr[b]);
                }
            }
        }
        this.rgLsG();
        this.rhHsG(true);
        this.bind(new RFITE.vbmy(rcJr, undefined, rhKsG));
    };
    RFITE.zjpu.prototype = Object.create(RFITE.rgos.prototype);
    RFITE.zjpu.prototype.constructor = RFITE.zjpu;
    RFITE.zjpu.prototype.bind = function(vbMy, bindMatrix) {
        this.vbMy = vbMy;
        if (bindMatrix === undefined) {
            this.rhHsG(true);
            bindMatrix = this.ycJs;
        }
        this.bindMatrix.rjLt(bindMatrix);
        this.bindMatrixInverse.xdJv(bindMatrix);
    };
    RFITE.zjpu.prototype.rfPy = function() {
        this.vbMy.rfPy();
    };
    RFITE.zjpu.prototype.rgLsG = function() {
        if (this.vhHr instanceof RFITE.vhhr) {
            for (var i = 0; i < this.vhHr.zjPt.length; i++) {
                var qhIr = this.vhHr.zjPv[i];
                var scale = 1.0 / qhIr.riGvG();
                if (scale !== Infinity) {
                    qhIr.riKsH(scale);
                } else {
                    qhIr.set(1);
                }
            }
        } else {}
    };
    RFITE.zjpu.prototype.rhHsG = function(raNu) {
        RFITE.rgos.prototype.rhHsG.call(this, true);
        if (this.uaKt === "attached") {
            this.bindMatrixInverse.xdJv(this.ycJs);
        } else if (this.uaKt === "detached") {
            this.bindMatrixInverse.xdJv(this.bindMatrix);
        } else {
            RFITE.warn('THREE.SkinnedMesh unreckognized bindMode: ' + this.uaKt);
        }
    };
    RFITE.zjpu.prototype.rbPq = function(object) {
        if (object === undefined) {
            object = new RFITE.zjpu(this.vhHr, this.vfIz, this.rhKsG);
        }
        RFITE.rgos.prototype.rbPq.call(this, object);
        return object;
    };
    RFITE.rjmwf = function(vhHr, vfIz) {
        RFITE.rgos.call(this, vhHr, vfIz);
        this.type = 'MorphAnimMesh';
        this.duration = 1000;
        this.zeGs = false;
        this.time = 0;
        this.zeMw = 0;
        this.riHvE = 0;
        this.direction = 1;
        this.rhGsG = false;
        this.rjKrG(0, this.vhHr.zdOs.length - 1);
    };
    RFITE.rjmwf.prototype = Object.create(RFITE.rgos.prototype);
    RFITE.rjmwf.prototype.constructor = RFITE.rjmwf;
    RFITE.rjmwf.prototype.rjKrG = function(rfIsA, rfOxC) {
        this.rjKvD = rfIsA;
        this.yeIs = rfOxC;
        this.length = this.yeIs - this.rjKvD + 1;
    };
    RFITE.rjmwf.prototype.rgNwE = function() {
        this.direction = 1;
        this.rhGsG = false;
    };
    RFITE.rjmwf.prototype.rgLvH = function() {
        this.direction = -1;
        this.rhGsG = true;
    };
    RFITE.rjmwf.prototype.rhPtH = function() {
        var vhHr = this.vhHr;
        if (!vhHr.animations) vhHr.animations = {};
        var riMxA, animations = vhHr.animations;
        var uhJw = /([a-z]+)_?(\d+)/;
        for (var i = 0, qiMv = vhHr.zdOs.length; i < qiMv; i++) {
            var sjGx = vhHr.zdOs[i];
            var siJr = sjGx.name.match(uhJw);
            if (siJr && siJr.length > 1) {
                var rfLwD = siJr[1];
                if (!animations[rfLwD]) animations[rfLwD] = {
                    rfIsA: Infinity,
                    rfOxC: -Infinity
                };
                var animation = animations[rfLwD];
                if (i < animation.rfIsA) animation.rfIsA = i;
                if (i > animation.rfOxC) animation.rfOxC = i;
                if (!riMxA) riMxA = rfLwD;
            }
        }
        vhHr.riMxA = riMxA;
    };
    RFITE.rjmwf.prototype.rhIxB = function(rfLwD, rfIsA, rfOxC) {
        if (!this.vhHr.animations) this.vhHr.animations = {};
        this.vhHr.animations[rfLwD] = {
            rfIsA: rfIsA,
            rfOxC: rfOxC
        };
    };
    RFITE.rjmwf.prototype.rjLtH = function(rfLwD, qeIv) {
        var animation = this.vhHr.animations[rfLwD];
        if (animation) {
            this.rjKrG(animation.rfIsA, animation.rfOxC);
            this.duration = 1000 * ((animation.rfOxC - animation.rfIsA) / qeIv);
            this.time = 0;
        } else {
            RFITE.warn('THREE.MorphAnimMesh: animation[' + rfLwD + '] undefined in .playAnimation()');
        }
    };
    RFITE.rjmwf.prototype.rhOuG = function(rbMt) {
        var wfMv = this.duration / this.length;
        this.time += this.direction * rbMt;
        if (this.zeGs) {
            if (this.time > this.duration || this.time < 0) {
                this.direction *= -1;
                if (this.time > this.duration) {
                    this.time = this.duration;
                    this.rhGsG = true;
                }
                if (this.time < 0) {
                    this.time = 0;
                    this.rhGsG = false;
                }
            }
        } else {
            this.time = this.time % this.duration;
            if (this.time < 0) this.time += this.duration;
        }
        var vfOx = this.rjKvD + RFITE.Math.rcGt(Math.floor(this.time / wfMv), 0, this.length - 1);
        if (vfOx !== this.riHvE) {
            this.morphTargetInfluences[this.zeMw] = 0;
            this.morphTargetInfluences[this.riHvE] = 1;
            this.morphTargetInfluences[vfOx] = 0;
            this.zeMw = this.riHvE;
            this.riHvE = vfOx;
        }
        var qdHq = (this.time % wfMv) / wfMv;
        if (this.rhGsG) {
            qdHq = 1 - qdHq;
        }
        this.morphTargetInfluences[this.riHvE] = qdHq;
        this.morphTargetInfluences[this.zeMw] = 1 - qdHq;
    };
    RFITE.rjmwf.prototype.rhGvD = function(a, b, t) {
        var xcNz = this.morphTargetInfluences;
        for (var i = 0, l = xcNz.length; i < l; i++) {
            xcNz[i] = 0;
        }
        if (a > -1) xcNz[a] = 1 - t;
        if (b > -1) xcNz[b] = t;
    };
    RFITE.rjmwf.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.rjmwf(this.vhHr, this.vfIz);
        object.duration = this.duration;
        object.zeGs = this.zeGs;
        object.time = this.time;
        object.zeMw = this.zeMw;
        object.riHvE = this.riHvE;
        object.direction = this.direction;
        object.rhGsG = this.rhGsG;
        RFITE.rgos.prototype.rbPq.call(this, object);
        return object;
    };
    RFITE.QDLU = function() {
        RFITE.veju.call(this);
        this.reOzG = [];
    };
    RFITE.QDLU.prototype = Object.create(RFITE.veju.prototype);
    RFITE.QDLU.prototype.constructor = RFITE.QDLU;
    RFITE.QDLU.prototype.ubGr = function(object, viLy) {
        if (viLy === undefined) viLy = 0;
        viLy = Math.abs(viLy);
        for (var l = 0; l < this.reOzG.length; l++) {
            if (viLy < this.reOzG[l].viLy) {
                break;
            }
        }
        this.reOzG.splice(l, 0, {
            viLy: viLy,
            object: object
        });
        this.add(object);
    };
    RFITE.QDLU.prototype.rgMzK = function(viLy) {
        for (var i = 1, l = this.reOzG.length; i < l; i++) {
            if (viLy < this.reOzG[i].viLy) {
                break;
            }
        }
        return this.reOzG[i - 1].object;
    };
    RFITE.QDLU.prototype.ugLv = (function() {
        var riKqF = new RFITE.udor();
        return function(wbGr, xcLy) {
            riKqF.rgJqA(this.ycJs);
            var viLy = wbGr.qcIr.origin.xeMv(riKqF);
            this.rgMzK(viLy).ugLv(wbGr, xcLy);
        };
    }());
    RFITE.QDLU.prototype.update = function() {
        var qgPv = new RFITE.udor();
        var qgPw = new RFITE.udor();
        return function(sdNw) {
            if (this.reOzG.length > 1) {
                qgPv.rgJqA(sdNw.ycJs);
                qgPw.rgJqA(this.ycJs);
                var viLy = qgPv.xeMv(qgPw);
                this.reOzG[0].object.rfIxE = true;
                for (var i = 1, l = this.reOzG.length; i < l; i++) {
                    if (viLy >= this.reOzG[i].viLy) {
                        this.reOzG[i - 1].object.rfIxE = false;
                        this.reOzG[i].object.rfIxE = true;
                    } else {
                        break;
                    }
                }
                for (; i < l; i++) {
                    this.reOzG[i].object.rfIxE = false;
                }
            }
        };
    }();
    RFITE.QDLU.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.QDLU();
        RFITE.veju.prototype.rbPq.call(this, object);
        for (var i = 0, l = this.reOzG.length; i < l; i++) {
            var x = this.reOzG[i].object.rbPq();
            x.rfIxE = i === 0;
            object.ubGr(x, this.reOzG[i].viLy);
        }
        return object;
    };
    RFITE.rfisb = (function() {
        var ujNx = new Uint16Array([0, 1, 2, 0, 2, 3]);
        var wjPq = new Float32Array([-0.5, -0.5, 0, 0.5, -0.5, 0, 0.5, 0.5, 0, -0.5, 0.5, 0]);
        var qbJv = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
        var vhHr = new RFITE.rinyf();
        vhHr.zhMz('index', new RFITE.rihrh(ujNx, 1));
        vhHr.zhMz('position', new RFITE.rihrh(wjPq, 3));
        vhHr.zhMz('uv', new RFITE.rihrh(qbJv, 2));
        return function(vfIz) {
            RFITE.veju.call(this);
            this.type = 'rfisb';
            this.vhHr = vhHr;
            this.vfIz = (vfIz !== undefined) ? vfIz : new RFITE.rijve();
        };
    })();
    RFITE.rfisb.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rfisb.prototype.constructor = RFITE.rfisb;
    RFITE.rfisb.prototype.ugLv = (function() {
        var riKqF = new RFITE.udor();
        return function(wbGr, xcLy) {
            riKqF.rgJqA(this.ycJs);
            var viLy = wbGr.qcIr.riHxF(riKqF);
            if (viLy > this.scale.x) {
                return;
            }
            xcLy.push({
                viLy: viLy,
                point: this.position,
                riOw: null,
                object: this
            });
        };
    }());
    RFITE.rfisb.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.rfisb(this.vfIz);
        RFITE.veju.prototype.rbPq.call(this, object);
        return object;
    };
    RFITE.vdov = RFITE.rfisb;
    RFITE.wdns = function(ueMt, size, viLy, uaKz, color) {
        RFITE.veju.call(this);
        this.xcIv = [];
        this.riKxB = new RFITE.udor();
        this.rgMvA = undefined;
        if (ueMt !== undefined) {
            this.add(ueMt, size, viLy, uaKz, color);
        }
    };
    RFITE.wdns.prototype = Object.create(RFITE.veju.prototype);
    RFITE.wdns.prototype.constructor = RFITE.wdns;
    RFITE.wdns.prototype.add = function(ueMt, size, viLy, uaKz, color, opacity) {
        if (size === undefined) size = -1;
        if (viLy === undefined) viLy = 0;
        if (opacity === undefined) opacity = 1;
        if (color === undefined) color = new RFITE.Color(0xffffff);
        if (uaKz === undefined) uaKz = RFITE.riksc;
        viLy = Math.min(viLy, Math.max(0, viLy));
        this.xcIv.push({
            ueMt: ueMt,
            size: size,
            viLy: viLy,
            x: 0,
            y: 0,
            z: 0,
            scale: 1,
            rfIqD: 1,
            opacity: opacity,
            color: color,
            uaKz: uaKz
        });
    };
    RFITE.wdns.prototype.rhKrC = function() {
        var f, qiPr = this.xcIv.length;
        var raOt;
        var reGq = -this.riKxB.x * 2;
        var reGr = -this.riKxB.y * 2;
        for (f = 0; f < qiPr; f++) {
            raOt = this.xcIv[f];
            raOt.x = this.riKxB.x + reGq * raOt.viLy;
            raOt.y = this.riKxB.y + reGr * raOt.viLy;
            raOt.riIqF = raOt.x * Math.PI * 0.25;
            raOt.rfIqD += (raOt.riIqF - raOt.rfIqD) * 0.25;
        }
    };
    RFITE.shmq = function() {
        RFITE.veju.call(this);
        this.type = 'Scene';
        this.qeIr = null;
        this.rhLsA = null;
        this.xgJq = true;
    };
    RFITE.shmq.prototype = Object.create(RFITE.veju.prototype);
    RFITE.shmq.prototype.constructor = RFITE.shmq;
    RFITE.shmq.prototype.rbPq = function(object) {
        if (object === undefined) object = new RFITE.shmq();
        RFITE.veju.prototype.rbPq.call(this, object);
        if (this.qeIr !== null) object.qeIr = this.qeIr.rbPq();
        if (this.rhLsA !== null) object.rhLsA = this.rhLsA.rbPq();
        object.xgJq = this.xgJq;
        object.rhMxA = this.rhMxA;
        return object;
    };
    RFITE.qeir = function(color, rgMv, qeJq) {
        this.name = '';
        this.color = new RFITE.Color(color);
        this.rgMv = (rgMv !== undefined) ? rgMv : 1;
        this.qeJq = (qeJq !== undefined) ? qeJq : 1000;
    };
    RFITE.qeir.prototype.rbPq = function() {
        return new RFITE.qeir(this.color.sbJz(), this.rgMv, this.qeJq);
    };
    RFITE.tapz = function(color, tcGu) {
        this.name = '';
        this.color = new RFITE.Color(color);
        this.tcGu = (tcGu !== undefined) ? tcGu : 0.00025;
    };
    RFITE.tapz.prototype.rbPq = function() {
        return new RFITE.tapz(this.color.sbJz(), this.tcGu);
    };
    RFITE.yagu = {};
    RFITE.yagu['sdHq'] = "#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\nfloat square( in float a ) { return a*a; }\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\nfloat average( in float a ) { return a; }\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n return normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n}\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n return normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\n float distance = dot( planeNormal, point-pointOnPlane );\n return point - distance * planeNormal;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n return pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\n}\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n if ( decayExponent > 0.0 ) {\n   return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\n }\n return 1.0;\n}\n\nvec3 inputToLinear( in vec3 a ) {\n#ifdef GAMMA_INPUT\n return pow( a, vec3( float( GAMMA_FACTOR ) ) );\n#else\n return a;\n#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n#ifdef GAMMA_OUTPUT\n return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n#else\n return a;\n#endif\n}\n";
    RFITE.yagu['alphatest_fragment'] = "#ifdef ALPHATEST\n\n if ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n";
    RFITE.yagu['lights_lambert_vertex'] = "vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n vLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n vec3 dirVector = transformDirection( rgHzK[ i ], viewMatrix );\n\n float dotProduct = dot( transformedNormal, dirVector );\n vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n #ifdef DOUBLE_SIDED\n\n  vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n  #ifdef WRAP_AROUND\n\n   vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n  #endif\n\n #endif\n\n #ifdef WRAP_AROUND\n\n  vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n  directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, udLy );\n\n  #ifdef DOUBLE_SIDED\n\n   directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, udLy );\n\n  #endif\n\n #endif\n\n vLightFront += rgKtJ[ i ] * directionalLightWeighting;\n\n #ifdef DOUBLE_SIDED\n\n  vLightBack += rgKtJ[ i ] * directionalLightWeightingBack;\n\n #endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n  vec4 lPosition = viewMatrix * vec4( rgPrA[ i ], 1.0 );\n  vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n  float attenuation = calcLightAttenuation( length( lVector ), rgPrB[ i ], rhPuB[ i ] );\n\n  lVector = normalize( lVector );\n  float dotProduct = dot( transformedNormal, lVector );\n\n  vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n  #ifdef DOUBLE_SIDED\n\n   vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n   #ifdef WRAP_AROUND\n\n    vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n   #endif\n\n  #endif\n\n  #ifdef WRAP_AROUND\n\n   vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n   pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, udLy );\n\n   #ifdef DOUBLE_SIDED\n\n    pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, udLy );\n\n   #endif\n\n  #endif\n\n  vLightFront += rhPuC[ i ] * pointLightWeighting * attenuation;\n\n  #ifdef DOUBLE_SIDED\n\n   vLightBack += rhPuC[ i ] * pointLightWeightingBack * attenuation;\n\n  #endif\n\n }\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n  vec4 lPosition = viewMatrix * vec4( rhHqK[ i ], 1.0 );\n  vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n  float spotEffect = dot( rgPwK[ i ], normalize( rhHqK[ i ] - worldPosition.xyz ) );\n\n  if ( spotEffect > rhIzC[ i ] ) {\n\n   spotEffect = max( pow( max( spotEffect, 0.0 ), rhIzA[ i ] ), 0.0 );\n\n   float attenuation = calcLightAttenuation( length( lVector ), rhIzB[ i ], riJvF[ i ] );\n\n   lVector = normalize( lVector );\n\n   float dotProduct = dot( transformedNormal, lVector );\n   vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n   #ifdef DOUBLE_SIDED\n\n    vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n    #ifdef WRAP_AROUND\n\n     vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n    #endif\n\n   #endif\n\n   #ifdef WRAP_AROUND\n\n    vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n    spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, udLy );\n\n    #ifdef DOUBLE_SIDED\n\n     spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, udLy );\n\n    #endif\n\n   #endif\n\n   vLightFront += riJvG[ i ] * spotLightWeighting * attenuation * spotEffect;\n\n   #ifdef DOUBLE_SIDED\n\n    vLightBack += riJvG[ i ] * spotLightWeightingBack * attenuation * spotEffect;\n\n   #endif\n\n  }\n\n }\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n  vec3 lVector = transformDirection( rgHuA[ i ], viewMatrix );\n\n  float dotProduct = dot( transformedNormal, lVector );\n\n  float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n  float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n  vLightFront += mix( rgGtG[ i ], rgIyJ[ i ], hemiDiffuseWeight );\n\n  #ifdef DOUBLE_SIDED\n\n   vLightBack += mix( rgGtG[ i ], rgIyJ[ i ], hemiDiffuseWeightBack );\n\n  #endif\n\n }\n\n#endif\n\nvLightFront += rhKyB;\n\n#ifdef DOUBLE_SIDED\n\n vLightBack += rhKyB;\n\n#endif\n";
    RFITE.yagu['map_particle_pars_fragment'] = "#ifdef USE_MAP\n\n uniform vec4 zdLw;\n uniform sampler2D map;\n\n#endif\n";
    RFITE.yagu['default_vertex'] = "#ifdef USE_SKINNING\n\n vec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n vec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n";
    RFITE.yagu['map_pars_fragment'] = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n varying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n uniform sampler2D map;\n\n#endif";
    RFITE.yagu['skinnormal_vertex'] = "#ifdef USE_SKINNING\n\n mat4 skinMatrix = mat4( 0.0 );\n skinMatrix += skinWeight.x * boneMatX;\n skinMatrix += skinWeight.y * boneMatY;\n skinMatrix += skinWeight.z * boneMatZ;\n skinMatrix += skinWeight.w * boneMatW;\n skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n #ifdef USE_MORPHNORMALS\n\n vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n #else\n\n vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n #endif\n\n#endif\n";
    RFITE.yagu['logdepthbuf_pars_vertex'] = "#ifdef USE_LOGDEPTHBUF\n\n #ifdef USE_LOGDEPTHBUF_EXT\n\n  varying float vFragDepth;\n\n #endif\n\n uniform float logDepthBufFC;\n\n#endif";
    RFITE.yagu['lightmap_pars_vertex'] = "#ifdef USE_LIGHTMAP\n\n varying vec2 vUv2;\n\n#endif";
    RFITE.yagu['lights_phong_fragment'] = "#ifndef FLAT_SHADED\n\n vec3 normal = normalize( vNormal );\n\n #ifdef DOUBLE_SIDED\n\n  normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n #endif\n\n#else\n\n vec3 fdx = dFdx( vViewPosition );\n vec3 fdy = dFdy( vViewPosition );\n vec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef USE_NORMALMAP\n\n normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n  vec4 lPosition = viewMatrix * vec4( rgPrA[ i ], 1.0 );\n  vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n  float attenuation = calcLightAttenuation( length( lVector ), rgPrB[ i ], rhPuB[ i ] );\n\n  lVector = normalize( lVector );\n\n  // tbPy\n\n  float dotProduct = dot( normal, lVector );\n\n  #ifdef WRAP_AROUND\n\n   float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n   float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n   vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), udLy );\n\n  #else\n\n   float pointDiffuseWeight = max( dotProduct, 0.0 );\n\n  #endif\n\n  totalDiffuseLight += rhPuC[ i ] * pointDiffuseWeight * attenuation;\n\n    // vbKw\n\n  vec3 pointHalfVector = normalize( lVector + viewPosition );\n  float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n  float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, xjPq ), 0.0 );\n\n  float specularNormalization = ( xjPq + 2.0 ) / 8.0;\n\n  vec3 schlick = vbKw + vec3( 1.0 - vbKw ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n  totalSpecularLight += schlick * rhPuC[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\n\n }\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n  vec4 lPosition = viewMatrix * vec4( rhHqK[ i ], 1.0 );\n  vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n  float attenuation = calcLightAttenuation( length( lVector ), rhIzB[ i ], riJvF[ i ] );\n\n  lVector = normalize( lVector );\n\n  float spotEffect = dot( rgPwK[ i ], normalize( rhHqK[ i ] - vWorldPosition ) );\n\n  if ( spotEffect > rhIzC[ i ] ) {\n\n   spotEffect = max( pow( max( spotEffect, 0.0 ), rhIzA[ i ] ), 0.0 );\n\n   // tbPy\n\n   float dotProduct = dot( normal, lVector );\n\n   #ifdef WRAP_AROUND\n\n    float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n    float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n    vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), udLy );\n\n   #else\n\n    float spotDiffuseWeight = max( dotProduct, 0.0 );\n\n   #endif\n\n   totalDiffuseLight += riJvG[ i ] * spotDiffuseWeight * attenuation * spotEffect;\n\n   // vbKw\n\n   vec3 spotHalfVector = normalize( lVector + viewPosition );\n   float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n   float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, xjPq ), 0.0 );\n\n   float specularNormalization = ( xjPq + 2.0 ) / 8.0;\n\n   vec3 schlick = vbKw + vec3( 1.0 - vbKw ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n   totalSpecularLight += schlick * riJvG[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\n\n  }\n\n }\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n  vec3 dirVector = transformDirection( rgHzK[ i ], viewMatrix );\n\n  // tbPy\n\n  float dotProduct = dot( normal, dirVector );\n\n  #ifdef WRAP_AROUND\n\n   float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n   float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n   vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), udLy );\n\n  #else\n\n   float dirDiffuseWeight = max( dotProduct, 0.0 );\n\n  #endif\n\n  totalDiffuseLight += rgKtJ[ i ] * dirDiffuseWeight;\n\n  // vbKw\n\n  vec3 dirHalfVector = normalize( dirVector + viewPosition );\n  float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n  float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, xjPq ), 0.0 );\n\n  \n\n  \n\n  float specularNormalization = ( xjPq + 2.0 ) / 8.0;\n\n  //   dirSpecular += vbKw * rgKtJ[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n  vec3 schlick = vbKw + vec3( 1.0 - vbKw ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n  totalSpecularLight += schlick * rgKtJ[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n }\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n  vec3 lVector = transformDirection( rgHuA[ i ], viewMatrix );\n\n  // tbPy\n\n  float dotProduct = dot( normal, lVector );\n  float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n  vec3 hemiColor = mix( rgGtG[ i ], rgIyJ[ i ], hemiDiffuseWeight );\n\n  totalDiffuseLight += hemiColor;\n\n  // vbKw (sky light)\n\n  vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n  float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n  float hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), xjPq ), 0.0 );\n\n  // vbKw (ground light)\n\n  vec3 lVectorGround = -lVector;\n\n  vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n  float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n  float hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), xjPq ), 0.0 );\n\n  float dotProductGround = dot( normal, lVectorGround );\n\n  float specularNormalization = ( xjPq + 2.0 ) / 8.0;\n\n  vec3 schlickSky = vbKw + vec3( 1.0 - vbKw ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n  vec3 schlickGround = vbKw + vec3( 1.0 - vbKw ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n  totalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n }\n\n#endif\n\n#ifdef METAL\n\n outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + rhKyB ) * vbKw + totalSpecularLight + viJv;\n\n#else\n\n outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + rhKyB ) + totalSpecularLight + viJv;\n\n#endif\n";
    RFITE.yagu['fog_pars_fragment'] = "#ifdef USE_FOG\n\n uniform vec3 rePsG;\n\n #ifdef FOG_EXP2\n\n  uniform float xdOz;\n\n #else\n\n  uniform float taOq;\n  uniform float sbMz;\n #endif\n\n#endif";
    RFITE.yagu['morphnormal_vertex'] = "#ifdef USE_MORPHNORMALS\n\n vec3 morphedNormal = vec3( 0.0 );\n\n morphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n morphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n morphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n morphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n morphedNormal += normal;\n\n#endif";
    RFITE.yagu['envmap_pars_fragment'] = "#ifdef USE_ENVMAP\n\n uniform float zcNt;\n #ifdef ENVMAP_TYPE_CUBE\n  uniform samplerCube scIv;\n #else\n  uniform sampler2D scIv;\n #endif\n uniform float xdOu;\n\n #if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n  uniform float rhPwA;\n\n #else\n\n  varying vec3 vReflect;\n\n #endif\n\n#endif\n";
    RFITE.yagu['logdepthbuf_fragment'] = "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif";
    RFITE.yagu['normalmap_pars_fragment'] = "#ifdef USE_NORMALMAP\n\n uniform sampler2D wcKq;\n uniform vec2 ybPu;\n\n // Per-Pixel Tangent Space Normal Mapping\n // http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n  vec3 q0 = dFdx( eye_pos.xyz );\n  vec3 q1 = dFdy( eye_pos.xyz );\n  vec2 st0 = dFdx( vUv.st );\n  vec2 st1 = dFdy( vUv.st );\n\n  vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n  vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n  vec3 N = normalize( surf_norm );\n\n  vec3 mapN = texture2D( wcKq, vUv ).xyz * 2.0 - 1.0;\n  mapN.xy = ybPu * mapN.xy;\n  mat3 tsn = mat3( S, T, N );\n  return normalize( tsn * mapN );\n\n }\n\n#endif\n";
    RFITE.yagu['lights_phong_pars_vertex'] = "#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n varying vec3 vWorldPosition;\n\n#endif\n";
    RFITE.yagu['lightmap_pars_fragment'] = "#ifdef USE_LIGHTMAP\n\n varying vec2 vUv2;\n uniform sampler2D vfLw;\n\n#endif";
    RFITE.yagu['shadowmap_vertex'] = "#ifdef USE_SHADOWMAP\n\n for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n  vShadowCoord[ i ] = zcGv[ i ] * worldPosition;\n\n }\n\n#endif";
    RFITE.yagu['lights_phong_vertex'] = "#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n vWorldPosition = worldPosition.xyz;\n\n#endif";
    RFITE.yagu['map_fragment'] = "#ifdef USE_MAP\n\n vec4 texelColor = texture2D( map, vUv );\n\n texelColor.xyz = inputToLinear( texelColor.xyz );\n\n diffuseColor *= texelColor;\n\n#endif";
    RFITE.yagu['lightmap_vertex'] = "#ifdef USE_LIGHTMAP\n\n vUv2 = uv2;\n\n#endif";
    RFITE.yagu['map_particle_fragment'] = "#ifdef USE_MAP\n\n diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * zdLw.zw + zdLw.xy );\n\n#endif\n";
    RFITE.yagu['color_pars_fragment'] = "#ifdef USE_COLOR\n\n varying vec3 vColor;\n\n#endif\n";
    RFITE.yagu['color_vertex'] = "#ifdef USE_COLOR\n\n vColor.xyz = inputToLinear( color.xyz );\n\n#endif";
    RFITE.yagu['skinning_vertex'] = "#ifdef USE_SKINNING\n\n #ifdef USE_MORPHTARGETS\n\n vec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n #else\n\n vec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n #endif\n\n vec4 skinned = vec4( 0.0 );\n skinned += boneMatX * skinVertex * skinWeight.x;\n skinned += boneMatY * skinVertex * skinWeight.y;\n skinned += boneMatZ * skinVertex * skinWeight.z;\n skinned += boneMatW * skinVertex * skinWeight.w;\n skinned  = bindMatrixInverse * skinned;\n\n#endif\n";
    RFITE.yagu['envmap_pars_vertex'] = "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n varying vec3 vReflect;\n\n uniform float rhPwA;\n\n#endif\n";
    RFITE.yagu['linear_to_gamma_fragment'] = "\n outgoingLight = linearToOutput( outgoingLight );\n";
    RFITE.yagu['color_pars_vertex'] = "#ifdef USE_COLOR\n\n varying vec3 vColor;\n\n#endif";
    RFITE.yagu['lights_lambert_pars_vertex'] = "uniform vec3 rhKyB;\n\n#if MAX_DIR_LIGHTS > 0\n\n uniform vec3 rgKtJ[ MAX_DIR_LIGHTS ];\n uniform vec3 rgHzK[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n uniform vec3 rgIyJ[ MAX_HEMI_LIGHTS ];\n uniform vec3 rgGtG[ MAX_HEMI_LIGHTS ];\n uniform vec3 rgHuA[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n uniform vec3 rhPuC[ MAX_POINT_LIGHTS ];\n uniform vec3 rgPrA[ MAX_POINT_LIGHTS ];\n uniform float rgPrB[ MAX_POINT_LIGHTS ];\n uniform float rhPuB[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n uniform vec3 riJvG[ MAX_SPOT_LIGHTS ];\n uniform vec3 rhHqK[ MAX_SPOT_LIGHTS ];\n uniform vec3 rgPwK[ MAX_SPOT_LIGHTS ];\n uniform float rhIzB[ MAX_SPOT_LIGHTS ];\n uniform float rhIzC[ MAX_SPOT_LIGHTS ];\n uniform float rhIzA[ MAX_SPOT_LIGHTS ];\n uniform float riJvF[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n uniform vec3 udLy;\n\n#endif\n";
    RFITE.yagu['map_pars_vertex'] = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n varying vec2 vUv;\n uniform vec4 zdLw;\n\n#endif\n";
    RFITE.yagu['envmap_fragment'] = "#ifdef USE_ENVMAP\n\n #if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n  vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n  // Transforming Normal Vectors with the Inverse Transformation\n  vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n  #ifdef ENVMAP_MODE_REFLECTION\n\n   vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n  #else\n\n   vec3 reflectVec = refract( cameraToVertex, worldNormal, rhPwA );\n\n  #endif\n\n #else\n\n  vec3 reflectVec = vReflect;\n\n #endif\n\n #ifdef DOUBLE_SIDED\n  float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n #else\n  float flipNormal = 1.0;\n #endif\n\n #ifdef ENVMAP_TYPE_CUBE\n  vec4 envColor = textureCube( scIv, flipNormal * vec3( xdOu * reflectVec.x, reflectVec.yz ) );\n\n #elif defined( ENVMAP_TYPE_EQUIREC )\n  vec2 sampleUV;\n  sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n  sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n  vec4 envColor = texture2D( scIv, sampleUV );\n\n #elif defined( ENVMAP_TYPE_SPHERE )\n  vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n  vec4 envColor = texture2D( scIv, reflectView.xy * 0.5 + 0.5 );\n #endif\n\n envColor.xyz = inputToLinear( envColor.xyz );\n\n #ifdef ENVMAP_BLENDING_MULTIPLY\n\n  outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * zcNt );\n\n #elif defined( ENVMAP_BLENDING_MIX )\n\n  outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * zcNt );\n\n #elif defined( ENVMAP_BLENDING_ADD )\n\n  outgoingLight += envColor.xyz * specularStrength * zcNt;\n\n #endif\n\n#endif\n";
    RFITE.yagu['specularmap_pars_fragment'] = "#ifdef USE_SPECULARMAP\n\n uniform sampler2D zjOy;\n\n#endif";
    RFITE.yagu['logdepthbuf_vertex'] = "#ifdef USE_LOGDEPTHBUF\n\n gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n #ifdef USE_LOGDEPTHBUF_EXT\n\n  vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n  gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n #endif\n\n#endif";
    RFITE.yagu['morphtarget_pars_vertex'] = "#ifdef USE_MORPHTARGETS\n\n #ifndef USE_MORPHNORMALS\n\n uniform float morphTargetInfluences[ 8 ];\n\n #else\n\n uniform float morphTargetInfluences[ 4 ];\n\n #endif\n\n#endif";
    RFITE.yagu['specularmap_fragment'] = "float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n vec4 texelSpecular = texture2D( zjOy, vUv );\n specularStrength = texelSpecular.r;\n\n#else\n\n specularStrength = 1.0;\n\n#endif";
    RFITE.yagu['fog_fragment'] = "#ifdef USE_FOG\n\n #ifdef USE_LOGDEPTHBUF_EXT\n\n  float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n #else\n\n  float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n #endif\n\n #ifdef FOG_EXP2\n\n  float fogFactor = exp2( - square( xdOz ) * square( depth ) * LOG2 );\n  fogFactor = whiteCompliment( fogFactor );\n\n #else\n\n  float fogFactor = smoothstep( taOq, sbMz, depth );\n\n #endif\n \n outgoingLight = mix( outgoingLight, rePsG, fogFactor );\n\n#endif";
    RFITE.yagu['bumpmap_pars_fragment'] = "#ifdef USE_BUMPMAP\n\n uniform sampler2D tdJv;\n uniform float whPw;\n\n // Derivative maps - rjNs mapping unparametrized surfaces by Morten Mikkelsen\n // http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n // Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n vec2 dHdxy_fwd() {\n\n  vec2 dSTdx = dFdx( vUv );\n  vec2 dSTdy = dFdy( vUv );\n\n  float Hll = whPw * texture2D( tdJv, vUv ).x;\n  float dBx = whPw * texture2D( tdJv, vUv + dSTdx ).x - Hll;\n  float dBy = whPw * texture2D( tdJv, vUv + dSTdy ).x - Hll;\n\n  return vec2( dBx, dBy );\n\n }\n\n vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n  vec3 vSigmaX = dFdx( surf_pos );\n  vec3 vSigmaY = dFdy( surf_pos );\n  vec3 vN = surf_norm;  // normalized\n\n  vec3 R1 = cross( vSigmaY, vN );\n  vec3 R2 = cross( vN, vSigmaX );\n\n  float fDet = dot( vSigmaX, R1 );\n\n  vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n  return normalize( abs( fDet ) * surf_norm - vGrad );\n\n }\n\n#endif\n";
    RFITE.yagu['defaultnormal_vertex'] = "#ifdef USE_SKINNING\n\n vec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n vec3 objectNormal = morphedNormal;\n\n#else\n\n vec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n";
    RFITE.yagu['lights_phong_pars_fragment'] = "uniform vec3 rhKyB;\n\n#if MAX_DIR_LIGHTS > 0\n\n uniform vec3 rgKtJ[ MAX_DIR_LIGHTS ];\n uniform vec3 rgHzK[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n uniform vec3 rgIyJ[ MAX_HEMI_LIGHTS ];\n uniform vec3 rgGtG[ MAX_HEMI_LIGHTS ];\n uniform vec3 rgHuA[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n uniform vec3 rhPuC[ MAX_POINT_LIGHTS ];\n\n uniform vec3 rgPrA[ MAX_POINT_LIGHTS ];\n uniform float rgPrB[ MAX_POINT_LIGHTS ];\n uniform float rhPuB[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n uniform vec3 riJvG[ MAX_SPOT_LIGHTS ];\n uniform vec3 rhHqK[ MAX_SPOT_LIGHTS ];\n uniform vec3 rgPwK[ MAX_SPOT_LIGHTS ];\n uniform float rhIzC[ MAX_SPOT_LIGHTS ];\n uniform float rhIzA[ MAX_SPOT_LIGHTS ];\n uniform float rhIzB[ MAX_SPOT_LIGHTS ];\n uniform float riJvF[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n varying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n uniform vec3 udLy;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n varying vec3 vNormal;\n\n#endif\n";
    RFITE.yagu['skinbase_vertex'] = "#ifdef USE_SKINNING\n\n mat4 boneMatX = getBoneMatrix( skinIndex.x );\n mat4 boneMatY = getBoneMatrix( skinIndex.y );\n mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif";
    RFITE.yagu['map_vertex'] = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n vUv = uv * zdLw.zw + zdLw.xy;\n\n#endif";
    RFITE.yagu['lightmap_fragment'] = "#ifdef USE_LIGHTMAP\n\n outgoingLight *= diffuseColor.xyz * texture2D( vfLw, vUv2 ).xyz;\n\n#endif";
    RFITE.yagu['shadowmap_pars_vertex'] = "#ifdef USE_SHADOWMAP\n\n varying vec4 vShadowCoord[ MAX_SHADOWS ];\n uniform mat4 zcGv[ MAX_SHADOWS ];\n\n#endif";
    RFITE.yagu['color_fragment'] = "#ifdef USE_COLOR\n\n diffuseColor.rgb *= vColor;\n\n#endif";
    RFITE.yagu['morphtarget_vertex'] = "#ifdef USE_MORPHTARGETS\n\n vec3 morphed = vec3( 0.0 );\n morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n #ifndef USE_MORPHNORMALS\n\n morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n #endif\n\n morphed += position;\n\n#endif";
    RFITE.yagu['envmap_vertex'] = "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n vec3 worldNormal = transformDirection( objectNormal, modelMatrix );\n\n vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n #ifdef ENVMAP_MODE_REFLECTION\n\n  vReflect = reflect( cameraToVertex, worldNormal );\n\n #else\n\n  vReflect = refract( cameraToVertex, worldNormal, rhPwA );\n\n #endif\n\n#endif\n";
    RFITE.yagu['shadowmap_fragment'] = "#ifdef USE_SHADOWMAP\n\n #ifdef SHADOWMAP_DEBUG\n\n  vec3 frustumColors[3];\n  frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n  frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n  frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n #endif\n\n #ifdef SHADOWMAP_CASCADE\n\n  int inFrustumCount = 0;\n\n #endif\n\n float fDepth;\n vec3 shadowColor = vec3( 1.0 );\n\n for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n  vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n    // if ( something && something ) breaks ATI OpenGL shader compiler\n    // if ( all( something, something ) ) using this instead\n\n  bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n  bool inFrustum = all( inFrustumVec );\n\n    // don't reOwE pixels outside of light frustum\n    // use just raPz frustum (for cascades)\n    // don't reOwE pixels behind far plane of light frustum\n\n  #ifdef SHADOWMAP_CASCADE\n\n   inFrustumCount += int( inFrustum );\n   bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n  #else\n\n   bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n  #endif\n\n  bool frustumTest = all( frustumTestVec );\n\n  if ( frustumTest ) {\n\n   shadowCoord.z += yjKy[ i ];\n\n   #if defined( SHADOWMAP_TYPE_PCF )\n\n      // Percentage-close filtering\n      // (9 pixel kernel)\n      // http://fabiensanglard.net/shadowmappingPCF/\n\n    float reOwE = 0.0;\n\n  \n\n    const float shadowDelta = 1.0 / 9.0;\n\n    float xPixelOffset = 1.0 / rjKsA[ i ].x;\n    float yPixelOffset = 1.0 / rjKsA[ i ].y;\n\n    float dx0 = -1.25 * xPixelOffset;\n    float dy0 = -1.25 * yPixelOffset;\n    float dx1 = 1.25 * xPixelOffset;\n    float dy1 = 1.25 * yPixelOffset;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    fDepth = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n    if ( fDepth < shadowCoord.z ) reOwE += shadowDelta;\n\n    shadowColor = shadowColor * vec3( ( 1.0 - riJtB[ i ] * reOwE ) );\n\n   #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n      // Percentage-close filtering\n      // (9 pixel kernel)\n      // http://fabiensanglard.net/shadowmappingPCF/\n\n    float reOwE = 0.0;\n\n    float xPixelOffset = 1.0 / rjKsA[ i ].x;\n    float yPixelOffset = 1.0 / rjKsA[ i ].y;\n\n    float dx0 = -1.0 * xPixelOffset;\n    float dy0 = -1.0 * yPixelOffset;\n    float dx1 = 1.0 * xPixelOffset;\n    float dy1 = 1.0 * yPixelOffset;\n\n    mat3 shadowKernel;\n    mat3 depthKernel;\n\n    depthKernel[0][0] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n    depthKernel[0][1] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n    depthKernel[0][2] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n    depthKernel[1][0] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n    depthKernel[1][1] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy ) );\n    depthKernel[1][2] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n    depthKernel[2][0] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n    depthKernel[2][1] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n    depthKernel[2][2] = unpackDepth( texture2D( waGz[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n    vec3 shadowZ = vec3( shadowCoord.z );\n    shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n    shadowKernel[0] *= vec3(0.25);\n\n    shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n    shadowKernel[1] *= vec3(0.25);\n\n    shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n    shadowKernel[2] *= vec3(0.25);\n\n    vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * rjKsA[i].xy );\n\n    shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n    shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n    vec4 shadowValues;\n    shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n    shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n    shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n    shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n    reOwE = dot( shadowValues, vec4( 1.0 ) );\n\n    shadowColor = shadowColor * vec3( ( 1.0 - riJtB[ i ] * reOwE ) );\n\n   #else\n\n    vec4 rgbaDepth = texture2D( waGz[ i ], shadowCoord.xy );\n    float fDepth = unpackDepth( rgbaDepth );\n\n    if ( fDepth < shadowCoord.z )\n\n  // spot with multiple shadows is darker\n\n     shadowColor = shadowColor * vec3( 1.0 - riJtB[ i ] );\n\n  // spot with multiple shadows has the same color as single reOwE spot\n\n  //      shadowColor = min( shadowColor, vec3( riJtB[ i ] ) );\n\n   #endif\n\n  }\n\n\n  #ifdef SHADOWMAP_DEBUG\n\n   #ifdef SHADOWMAP_CASCADE\n\n    if ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\n\n   #else\n\n    if ( inFrustum ) outgoingLight *= frustumColors[ i ];\n\n   #endif\n\n  #endif\n\n }\n\n // NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\n shadowColor = inputToLinear( shadowColor );\n\n outgoingLight = outgoingLight * shadowColor;\n\n#endif\n";
    RFITE.yagu['worldpos_vertex'] = "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n #ifdef USE_SKINNING\n\n  vec4 worldPosition = modelMatrix * skinned;\n\n #elif defined( USE_MORPHTARGETS )\n\n  vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n #else\n\n  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n #endif\n\n#endif\n";
    RFITE.yagu['shadowmap_pars_fragment'] = "#ifdef USE_SHADOWMAP\n\n uniform sampler2D waGz[ MAX_SHADOWS ];\n uniform vec2 rjKsA[ MAX_SHADOWS ];\n\n uniform float riJtB[ MAX_SHADOWS ];\n uniform float yjKy[ MAX_SHADOWS ];\n\n varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n float unpackDepth( const in vec4 rgba_depth ) {\n\n  const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n  float depth = dot( rgba_depth, bit_shift );\n  return depth;\n\n }\n\n#endif";
    RFITE.yagu['skinning_pars_vertex'] = "#ifdef USE_SKINNING\n\n uniform mat4 bindMatrix;\n uniform mat4 bindMatrixInverse;\n\n #ifdef BONE_TEXTURE\n\n  uniform sampler2D boneTexture;\n  uniform int boneTextureWidth;\n  uniform int boneTextureHeight;\n\n  mat4 getBoneMatrix( const in float i ) {\n\n   float j = i * 4.0;\n   float x = mod( j, float( boneTextureWidth ) );\n   float y = floor( j / float( boneTextureWidth ) );\n\n   float dx = 1.0 / float( boneTextureWidth );\n   float dy = 1.0 / float( boneTextureHeight );\n\n   y = dy * ( y + 0.5 );\n\n   vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n   vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n   vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n   vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n   mat4 bone = mat4( v1, v2, v3, v4 );\n\n   return bone;\n\n  }\n\n #else\n\n  uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n  mat4 getBoneMatrix( const in float i ) {\n\n   mat4 bone = boneGlobalMatrices[ int(i) ];\n   return bone;\n\n  }\n\n #endif\n\n#endif\n";
    RFITE.yagu['logdepthbuf_pars_fragment'] = "#ifdef USE_LOGDEPTHBUF\n\n uniform float logDepthBufFC;\n\n #ifdef USE_LOGDEPTHBUF_EXT\n\n  #extension GL_EXT_frag_depth : enable\n  varying float vFragDepth;\n\n #endif\n\n#endif";
    RFITE.yagu['alphamap_fragment'] = "#ifdef USE_ALPHAMAP\n\n diffuseColor.a *= texture2D( uaPv, vUv ).g;\n\n#endif\n";
    RFITE.yagu['alphamap_pars_fragment'] = "#ifdef USE_ALPHAMAP\n\n uniform sampler2D uaPv;\n\n#endif\n";
    RFITE.rjjqj = {
        sjHt: function(vaJx) {
            var tjKq = {};
            for (var u = 0; u < vaJx.length; u++) {
                var qbMx = this.rbPq(vaJx[u]);
                for (var p in qbMx) {
                    tjKq[p] = qbMx[p];
                }
            }
            return tjKq;
        },
        rbPq: function(zbIt) {
            var zbIs = {};
            for (var u in zbIt) {
                zbIs[u] = {};
                for (var p in zbIt[u]) {
                    var rjLsK = zbIt[u][p];
                    if (rjLsK instanceof RFITE.Color || rjLsK instanceof RFITE.udoq || rjLsK instanceof RFITE.udor || rjLsK instanceof RFITE.udos || rjLsK instanceof RFITE.uilr || rjLsK instanceof RFITE.uemt) {
                        zbIs[u][p] = rjLsK.rbPq();
                    } else if (rjLsK instanceof Array) {
                        zbIs[u][p] = rjLsK.slice();
                    } else {
                        zbIs[u][p] = rjLsK;
                    }
                }
            }
            return zbIs;
        }
    };
    RFITE.zipy = {
        sdHq: {
            "tbPy": {
                type: "c",
                value: new RFITE.Color(0xeeeeee)
            },
            "opacity": {
                type: "f",
                value: 1.0
            },
            "map": {
                type: "t",
                value: null
            },
            "zdLw": {
                type: "v4",
                value: new RFITE.udos(0, 0, 1, 1)
            },
            "vfLw": {
                type: "t",
                value: null
            },
            "zjOy": {
                type: "t",
                value: null
            },
            "uaPv": {
                type: "t",
                value: null
            },
            "scIv": {
                type: "t",
                value: null
            },
            "xdOu": {
                type: "f",
                value: -1
            },
            "zcNt": {
                type: "f",
                value: 1.0
            },
            "rhPwA": {
                type: "f",
                value: 0.98
            },
            "morphTargetInfluences": {
                type: "f",
                value: 0
            }
        },
        rjNs: {
            "tdJv": {
                type: "t",
                value: null
            },
            "whPw": {
                type: "f",
                value: 1
            }
        },
        wcKq: {
            "wcKq": {
                type: "t",
                value: null
            },
            "ybPu": {
                type: "v2",
                value: new RFITE.udoq(1, 1)
            }
        },
        qeIr: {
            "xdOz": {
                type: "f",
                value: 0.00025
            },
            "taOq": {
                type: "f",
                value: 1
            },
            "sbMz": {
                type: "f",
                value: 2000
            },
            "rePsG": {
                type: "c",
                value: new RFITE.Color(0xffffff)
            }
        },
        tjPw: {
            "rhKyB": {
                type: "fv",
                value: []
            },
            "rgHzK": {
                type: "fv",
                value: []
            },
            "rgKtJ": {
                type: "fv",
                value: []
            },
            "rgHuA": {
                type: "fv",
                value: []
            },
            "rgIyJ": {
                type: "fv",
                value: []
            },
            "rgGtG": {
                type: "fv",
                value: []
            },
            "rhPuC": {
                type: "fv",
                value: []
            },
            "rgPrA": {
                type: "fv",
                value: []
            },
            "rgPrB": {
                type: "fv1",
                value: []
            },
            "rhPuB": {
                type: "fv1",
                value: []
            },
            "riJvG": {
                type: "fv",
                value: []
            },
            "rhHqK": {
                type: "fv",
                value: []
            },
            "rgPwK": {
                type: "fv",
                value: []
            },
            "rhIzB": {
                type: "fv1",
                value: []
            },
            "rhIzC": {
                type: "fv1",
                value: []
            },
            "rhIzA": {
                type: "fv1",
                value: []
            },
            "riJvF": {
                type: "fv1",
                value: []
            }
        },
        vdOv: {
            "ugNq": {
                type: "c",
                value: new RFITE.Color(0xeeeeee)
            },
            "opacity": {
                type: "f",
                value: 1.0
            },
            "size": {
                type: "f",
                value: 1.0
            },
            "scale": {
                type: "f",
                value: 1.0
            },
            "map": {
                type: "t",
                value: null
            },
            "zdLw": {
                type: "v4",
                value: new RFITE.udos(0, 0, 1, 1)
            },
            "xdOz": {
                type: "f",
                value: 0.00025
            },
            "taOq": {
                type: "f",
                value: 1
            },
            "sbMz": {
                type: "f",
                value: 2000
            },
            "rePsG": {
                type: "c",
                value: new RFITE.Color(0xffffff)
            }
        },
        waGz: {
            "waGz": {
                type: "tv",
                value: []
            },
            "rjKsA": {
                type: "v2v",
                value: []
            },
            "yjKy": {
                type: "fv1",
                value: []
            },
            "riJtB": {
                type: "fv1",
                value: []
            },
            "zcGv": {
                type: "m4v",
                value: []
            }
        }
    };
    RFITE.wagv = {
        'basic': {
            vaJx: RFITE.rjjqj.sjHt([RFITE.zipy["sdHq"], RFITE.zipy["qeIr"], RFITE.zipy["waGz"]]),
            zbGw: [RFITE.yagu["sdHq"], RFITE.yagu["map_pars_vertex"], RFITE.yagu["lightmap_pars_vertex"], RFITE.yagu["envmap_pars_vertex"], RFITE.yagu["color_pars_vertex"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["skinning_pars_vertex"], RFITE.yagu["shadowmap_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["map_vertex"], RFITE.yagu["lightmap_vertex"], RFITE.yagu["color_vertex"], RFITE.yagu["skinbase_vertex"], " #ifdef USE_ENVMAP", RFITE.yagu["morphnormal_vertex"], RFITE.yagu["skinnormal_vertex"], RFITE.yagu["defaultnormal_vertex"], " #endif", RFITE.yagu["morphtarget_vertex"], RFITE.yagu["skinning_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], RFITE.yagu["worldpos_vertex"], RFITE.yagu["envmap_vertex"], RFITE.yagu["shadowmap_vertex"], "}"].join("\n"),
            riMyF: ["uniform vec3 tbPy;", "uniform float opacity;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_fragment"], RFITE.yagu["map_pars_fragment"], RFITE.yagu["alphamap_pars_fragment"], RFITE.yagu["lightmap_pars_fragment"], RFITE.yagu["envmap_pars_fragment"], RFITE.yagu["fog_pars_fragment"], RFITE.yagu["shadowmap_pars_fragment"], RFITE.yagu["specularmap_pars_fragment"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " vec3 outgoingLight = vec3( 0.0 );", " vec4 diffuseColor = vec4( tbPy, opacity );", RFITE.yagu["logdepthbuf_fragment"], RFITE.yagu["map_fragment"], RFITE.yagu["color_fragment"], RFITE.yagu["alphamap_fragment"], RFITE.yagu["alphatest_fragment"], RFITE.yagu["specularmap_fragment"], " outgoingLight = diffuseColor.rgb;", RFITE.yagu["lightmap_fragment"], RFITE.yagu["envmap_fragment"], RFITE.yagu["shadowmap_fragment"], RFITE.yagu["linear_to_gamma_fragment"], RFITE.yagu["fog_fragment"], " gl_FragColor = vec4( outgoingLight, diffuseColor.a );", "}"].join("\n")
        },
        'lambert': {
            vaJx: RFITE.rjjqj.sjHt([RFITE.zipy["sdHq"], RFITE.zipy["qeIr"], RFITE.zipy["tjPw"], RFITE.zipy["waGz"], {
                "viJv": {
                    type: "c",
                    value: new RFITE.Color(0x000000)
                },
                "udLy": {
                    type: "v3",
                    value: new RFITE.udor(1, 1, 1)
                }
            }]),
            zbGw: ["#define LAMBERT", "varying vec3 vLightFront;", "#ifdef DOUBLE_SIDED", " varying vec3 vLightBack;", "#endif", RFITE.yagu["sdHq"], RFITE.yagu["map_pars_vertex"], RFITE.yagu["lightmap_pars_vertex"], RFITE.yagu["envmap_pars_vertex"], RFITE.yagu["lights_lambert_pars_vertex"], RFITE.yagu["color_pars_vertex"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["skinning_pars_vertex"], RFITE.yagu["shadowmap_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["map_vertex"], RFITE.yagu["lightmap_vertex"], RFITE.yagu["color_vertex"], RFITE.yagu["morphnormal_vertex"], RFITE.yagu["skinbase_vertex"], RFITE.yagu["skinnormal_vertex"], RFITE.yagu["defaultnormal_vertex"], RFITE.yagu["morphtarget_vertex"], RFITE.yagu["skinning_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], RFITE.yagu["worldpos_vertex"], RFITE.yagu["envmap_vertex"], RFITE.yagu["lights_lambert_vertex"], RFITE.yagu["shadowmap_vertex"], "}"].join("\n"),
            riMyF: ["uniform vec3 tbPy;", "uniform vec3 viJv;", "uniform float opacity;", "varying vec3 vLightFront;", "#ifdef DOUBLE_SIDED", " varying vec3 vLightBack;", "#endif", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_fragment"], RFITE.yagu["map_pars_fragment"], RFITE.yagu["alphamap_pars_fragment"], RFITE.yagu["lightmap_pars_fragment"], RFITE.yagu["envmap_pars_fragment"], RFITE.yagu["fog_pars_fragment"], RFITE.yagu["shadowmap_pars_fragment"], RFITE.yagu["specularmap_pars_fragment"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " vec3 outgoingLight = vec3( 0.0 );", " vec4 diffuseColor = vec4( tbPy, opacity );", RFITE.yagu["logdepthbuf_fragment"], RFITE.yagu["map_fragment"], RFITE.yagu["color_fragment"], RFITE.yagu["alphamap_fragment"], RFITE.yagu["alphatest_fragment"], RFITE.yagu["specularmap_fragment"], " #ifdef DOUBLE_SIDED", "  if ( gl_FrontFacing )", "   outgoingLight += diffuseColor.rgb * vLightFront + viJv;", "  else", "   outgoingLight += diffuseColor.rgb * vLightBack + viJv;", " #else", "  outgoingLight += diffuseColor.rgb * vLightFront + viJv;", " #endif", RFITE.yagu["lightmap_fragment"], RFITE.yagu["envmap_fragment"], RFITE.yagu["shadowmap_fragment"], RFITE.yagu["linear_to_gamma_fragment"], RFITE.yagu["fog_fragment"], " gl_FragColor = vec4( outgoingLight, diffuseColor.a );", "}"].join("\n")
        },
        'phong': {
            vaJx: RFITE.rjjqj.sjHt([RFITE.zipy["sdHq"], RFITE.zipy["rjNs"], RFITE.zipy["wcKq"], RFITE.zipy["qeIr"], RFITE.zipy["tjPw"], RFITE.zipy["waGz"], {
                "viJv": {
                    type: "c",
                    value: new RFITE.Color(0x000000)
                },
                "vbKw": {
                    type: "c",
                    value: new RFITE.Color(0x111111)
                },
                "xjPq": {
                    type: "f",
                    value: 30
                },
                "udLy": {
                    type: "v3",
                    value: new RFITE.udor(1, 1, 1)
                }
            }]),
            zbGw: ["#define PHONG", "varying vec3 vViewPosition;", "#ifndef FLAT_SHADED", " varying vec3 vNormal;", "#endif", RFITE.yagu["sdHq"], RFITE.yagu["map_pars_vertex"], RFITE.yagu["lightmap_pars_vertex"], RFITE.yagu["envmap_pars_vertex"], RFITE.yagu["lights_phong_pars_vertex"], RFITE.yagu["color_pars_vertex"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["skinning_pars_vertex"], RFITE.yagu["shadowmap_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["map_vertex"], RFITE.yagu["lightmap_vertex"], RFITE.yagu["color_vertex"], RFITE.yagu["morphnormal_vertex"], RFITE.yagu["skinbase_vertex"], RFITE.yagu["skinnormal_vertex"], RFITE.yagu["defaultnormal_vertex"], "#ifndef FLAT_SHADED", " vNormal = normalize( transformedNormal );", "#endif", RFITE.yagu["morphtarget_vertex"], RFITE.yagu["skinning_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], " vViewPosition = -mvPosition.xyz;", RFITE.yagu["worldpos_vertex"], RFITE.yagu["envmap_vertex"], RFITE.yagu["lights_phong_vertex"], RFITE.yagu["shadowmap_vertex"], "}"].join("\n"),
            riMyF: ["#define PHONG", "uniform vec3 tbPy;", "uniform vec3 viJv;", "uniform vec3 vbKw;", "uniform float xjPq;", "uniform float opacity;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_fragment"], RFITE.yagu["map_pars_fragment"], RFITE.yagu["alphamap_pars_fragment"], RFITE.yagu["lightmap_pars_fragment"], RFITE.yagu["envmap_pars_fragment"], RFITE.yagu["fog_pars_fragment"], RFITE.yagu["lights_phong_pars_fragment"], RFITE.yagu["shadowmap_pars_fragment"], RFITE.yagu["bumpmap_pars_fragment"], RFITE.yagu["normalmap_pars_fragment"], RFITE.yagu["specularmap_pars_fragment"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " vec3 outgoingLight = vec3( 0.0 );", " vec4 diffuseColor = vec4( tbPy, opacity );", RFITE.yagu["logdepthbuf_fragment"], RFITE.yagu["map_fragment"], RFITE.yagu["color_fragment"], RFITE.yagu["alphamap_fragment"], RFITE.yagu["alphatest_fragment"], RFITE.yagu["specularmap_fragment"], RFITE.yagu["lights_phong_fragment"], RFITE.yagu["lightmap_fragment"], RFITE.yagu["envmap_fragment"], RFITE.yagu["shadowmap_fragment"], RFITE.yagu["linear_to_gamma_fragment"], RFITE.yagu["fog_fragment"], " gl_FragColor = vec4( outgoingLight, diffuseColor.a );", "}"].join("\n")
        },
        'particle_basic': {
            vaJx: RFITE.rjjqj.sjHt([RFITE.zipy["vdOv"], RFITE.zipy["waGz"]]),
            zbGw: ["uniform float size;", "uniform float scale;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_vertex"], RFITE.yagu["shadowmap_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["color_vertex"], " vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", " #ifdef USE_SIZEATTENUATION", "  gl_PointSize = size * ( scale / length( mvPosition.xyz ) );", " #else", "  gl_PointSize = size;", " #endif", " gl_Position = projectionMatrix * mvPosition;", RFITE.yagu["logdepthbuf_vertex"], RFITE.yagu["worldpos_vertex"], RFITE.yagu["shadowmap_vertex"], "}"].join("\n"),
            riMyF: ["uniform vec3 ugNq;", "uniform float opacity;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_fragment"], RFITE.yagu["map_particle_pars_fragment"], RFITE.yagu["fog_pars_fragment"], RFITE.yagu["shadowmap_pars_fragment"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " vec3 outgoingLight = vec3( 0.0 );", " vec4 diffuseColor = vec4( ugNq, opacity );", RFITE.yagu["logdepthbuf_fragment"], RFITE.yagu["map_particle_fragment"], RFITE.yagu["color_fragment"], RFITE.yagu["alphatest_fragment"], " outgoingLight = diffuseColor.rgb;", RFITE.yagu["shadowmap_fragment"], RFITE.yagu["fog_fragment"], " gl_FragColor = vec4( outgoingLight, diffuseColor.a );", "}"].join("\n")
        },
        'dashed': {
            vaJx: RFITE.rjjqj.sjHt([RFITE.zipy["sdHq"], RFITE.zipy["qeIr"], {
                "scale": {
                    type: "f",
                    value: 1
                },
                "dashSize": {
                    type: "f",
                    value: 1
                },
                "totalSize": {
                    type: "f",
                    value: 2
                }
            }]),
            zbGw: ["uniform float scale;", "attribute float lineDistance;", "varying float vLineDistance;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["color_vertex"], " vLineDistance = scale * lineDistance;", " vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", " gl_Position = projectionMatrix * mvPosition;", RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: ["uniform vec3 tbPy;", "uniform float opacity;", "uniform float dashSize;", "uniform float totalSize;", "varying float vLineDistance;", RFITE.yagu["sdHq"], RFITE.yagu["color_pars_fragment"], RFITE.yagu["fog_pars_fragment"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " if ( mod( vLineDistance, totalSize ) > dashSize ) {", "  discard;", " }", " vec3 outgoingLight = vec3( 0.0 );", " vec4 diffuseColor = vec4( tbPy, opacity );", RFITE.yagu["logdepthbuf_fragment"], RFITE.yagu["color_fragment"], " outgoingLight = diffuseColor.rgb;", RFITE.yagu["fog_fragment"], " gl_FragColor = vec4( outgoingLight, diffuseColor.a );", "}"].join("\n")
        },
        'depth': {
            vaJx: {
                "mNear": {
                    type: "f",
                    value: 1.0
                },
                "mFar": {
                    type: "f",
                    value: 2000.0
                },
                "opacity": {
                    type: "f",
                    value: 1.0
                }
            },
            zbGw: [RFITE.yagu["sdHq"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["morphtarget_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: ["uniform float mNear;", "uniform float mFar;", "uniform float opacity;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", RFITE.yagu["logdepthbuf_fragment"], " #ifdef USE_LOGDEPTHBUF_EXT", "  float depth = gl_FragDepthEXT / gl_FragCoord.w;", " #else", "  float depth = gl_FragCoord.z / gl_FragCoord.w;", " #endif", " float color = 1.0 - smoothstep( mNear, mFar, depth );", " gl_FragColor = vec4( vec3( color ), opacity );", "}"].join("\n")
        },
        'normal': {
            vaJx: {
                "opacity": {
                    type: "f",
                    value: 1.0
                }
            },
            zbGw: ["varying vec3 vNormal;", RFITE.yagu["sdHq"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", " vNormal = normalize( normalMatrix * normal );", RFITE.yagu["morphtarget_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: ["uniform float opacity;", "varying vec3 vNormal;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );", RFITE.yagu["logdepthbuf_fragment"], "}"].join("\n")
        },
        'cube': {
            vaJx: {
                "tCube": {
                    type: "t",
                    value: null
                },
                "tFlip": {
                    type: "f",
                    value: -1
                }
            },
            zbGw: ["varying vec3 vWorldPosition;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", " vWorldPosition = transformDirection( position, modelMatrix );", " gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: ["uniform samplerCube tCube;", "uniform float tFlip;", "varying vec3 vWorldPosition;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", " gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );", RFITE.yagu["logdepthbuf_fragment"], "}"].join("\n")
        },
        'equirect': {
            vaJx: {
                "tEquirect": {
                    type: "t",
                    value: null
                },
                "tFlip": {
                    type: "f",
                    value: -1
                }
            },
            zbGw: ["varying vec3 vWorldPosition;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", " vWorldPosition = transformDirection( position, modelMatrix );", " gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: ["uniform sampler2D tEquirect;", "uniform float tFlip;", "varying vec3 vWorldPosition;", RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_fragment"], "void main() {", "vec3 direction = normalize( vWorldPosition );", "vec2 sampleUV;", "sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );", "sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "gl_FragColor = texture2D( tEquirect, sampleUV );", RFITE.yagu["logdepthbuf_fragment"], "}"].join("\n")
        },
        'depthRGBA': {
            vaJx: {},
            zbGw: [RFITE.yagu["sdHq"], RFITE.yagu["morphtarget_pars_vertex"], RFITE.yagu["skinning_pars_vertex"], RFITE.yagu["logdepthbuf_pars_vertex"], "void main() {", RFITE.yagu["skinbase_vertex"], RFITE.yagu["morphtarget_vertex"], RFITE.yagu["skinning_vertex"], RFITE.yagu["default_vertex"], RFITE.yagu["logdepthbuf_vertex"], "}"].join("\n"),
            riMyF: [RFITE.yagu["sdHq"], RFITE.yagu["logdepthbuf_pars_fragment"], "vec4 pack_depth( const in float depth ) {", " const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );", " const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );", " vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );", " res -= res.xxyz * bit_mask;", " return res;", "}", "void main() {", RFITE.yagu["logdepthbuf_fragment"], " #ifdef USE_LOGDEPTHBUF_EXT", "  gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );", " #else", "  gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );", " #endif", "}"].join("\n")
        }
    };
    RFITE.rjjtf = function(xbGu) {
        console.log('THREE.WebGLRenderer', RFITE.VCJQ);
        xbGu = xbGu || {};
        var teOr = xbGu.canvas !== undefined ? xbGu.canvas : document.createElement('canvas'),
            ubNv = xbGu.tcLv !== undefined ? xbGu.tcLv : null,
            xaPy = 1,
            xhHr = xbGu.precision !== undefined ? xbGu.precision : 'highp',
            sfJv = xbGu.alpha !== undefined ? xbGu.alpha : false,
            sfIv = xbGu.depth !== undefined ? xbGu.depth : true,
            ubJs = xbGu.stencil !== undefined ? xbGu.stencil : true,
            xhNy = xbGu.antialias !== undefined ? xbGu.antialias : false,
            rgOtH = xbGu.premultipliedAlpha !== undefined ? xbGu.premultipliedAlpha : true,
            rgJuD = xbGu.preserveDrawingBuffer !== undefined ? xbGu.preserveDrawingBuffer : false,
            rgIvG = xbGu.rgJyB !== undefined ? xbGu.rgJyB : false,
            yhIz = new RFITE.Color(0x000000),
            yhIx = 0;
        var tjPw = [];
        var rjPrA = {};
        var rgJuB = [];
        var rjLqE = [];
        var rgPyG = [];
        var ufHy = [];
        var xcIv = [];
        this.xeLq = teOr;
        this.tcLv = null;
        this.wiJq = true;
        this.riNwE = true;
        this.riNwD = true;
        this.rhNsB = true;
        this.zjOs = true;
        this.ydNt = 2.0;
        this.xdKr = false;
        this.ydNu = false;
        this.rhLxA = false;
        this.rjKtK = RFITE.zdiu;
        this.rhIyA = RFITE.rjotk;
        this.riJtA = false;
        this.rhLxB = false;
        this.riGxA = 8;
        this.riGxB = 4;
        this.rhKzK = true;
        this.info = {
            tjLy: {
                vdIt: 0,
                xdKz: 0,
                vaOy: 0
            },
            render: {
                rcIz: 0,
                wjPq: 0,
                rbGu: 0,
                tiHx: 0
            }
        };
        var rdIw = this,
            wjHs = [],
            riIsJ = null,
            rgOrF = null,
            rhHuF = -1,
            rgIuD = '',
            rjJwC = null,
            rhKyK = 0,
            xgPv = 0,
            xgPw = 0,
            rjIsH = teOr.width,
            riIwB = teOr.height,
            zaMz = 0,
            rjJwB = 0,
            ubMy = new RFITE.tanx(),
            rhKxK = new RFITE.uilr(),
            ubJx = new RFITE.udor(),
            xhLq = new RFITE.udor(),
            rhKvE = true,
            teNw = {
                tdPs: [0, 0, 0],
                directional: {
                    length: 0,
                    sdIw: [],
                    wbKs: []
                },
                point: {
                    length: 0,
                    sdIw: [],
                    wbKs: [],
                    wgLq: [],
                    scOz: []
                },
                spot: {
                    length: 0,
                    sdIw: [],
                    wbKs: [],
                    wgLq: [],
                    xeNx: [],
                    wiMv: [],
                    wgGv: [],
                    scOz: []
                },
                hemi: {
                    length: 0,
                    xjOt: [],
                    zfHv: [],
                    wbKs: []
                }
            };
        var qgIy;
        try {
            var attributes = {
                alpha: sfJv,
                depth: sfIv,
                stencil: ubJs,
                antialias: xhNy,
                premultipliedAlpha: rgOtH,
                preserveDrawingBuffer: rgJuD
            };
            qgIy = ubNv || teOr.getContext('webgl', attributes) || teOr.getContext('experimental-webgl', attributes);
            if (qgIy === null) {
                if (teOr.getContext('webgl') !== null) {
                    throw 'Error creating WebGL context with your selected attributes.';
                } else {
                    throw 'Error creating WebGL context.';
                }
            }
            teOr.addEventListener('webglcontextlost', function(event) {
                event.preventDefault();
                zcLq();
                rhIxA();
                rjPrA = {};
            }, false);
        } catch (error) {
            RFITE.error('THREE.WebGLRenderer: ' + error);
        }
        _._3gl = qgIy;
        var shGz = new RFITE.yhls(qgIy, riKvB);
        if (qgIy.getShaderPrecisionFormat === undefined) {
            qgIy.getShaderPrecisionFormat = function() {
                return {
                    'rangeMin': 1,
                    'rangeMax': 1,
                    'precision': 1
                };
            }
        }
        var xeHw = new RFITE.rhowh(qgIy);
        xeHw.get('OES_texture_float');
        xeHw.get('OES_texture_float_linear');
        xeHw.get('OES_texture_half_float');
        xeHw.get('OES_texture_half_float_linear');
        xeHw.get('OES_standard_derivatives');
        if (rgIvG) {
            xeHw.get('EXT_frag_depth');
        }
        var zfHq = function(r, g, b, a) {
            if (rgOtH === true) {
                r *= a;
                g *= a;
                b *= a;
            }
            qgIy.clearColor(r, g, b, a);
        };
        var rhIxA = function() {
            qgIy.clearColor(0, 0, 0, 1);
            qgIy.clearDepth(1);
            qgIy.clearStencil(0);
            qgIy.enable(qgIy.DEPTH_TEST);
            qgIy.depthFunc(qgIy.LEQUAL);
            qgIy.frontFace(qgIy.CCW);
            qgIy.cullFace(qgIy.BACK);
            qgIy.enable(qgIy.CULL_FACE);
            qgIy.enable(qgIy.BLEND);
            qgIy.blendEquation(qgIy.FUNC_ADD);
            qgIy.blendFunc(qgIy.SRC_ALPHA, qgIy.ONE_MINUS_SRC_ALPHA);
            qgIy.viewport(xgPv, xgPw, rjIsH, riIwB);
            zfHq(yhIz.r, yhIz.g, yhIz.b, yhIx);
        };
        var zcLq = function() {
            riIsJ = null;
            rjJwC = null;
            rgIuD = '';
            rhHuF = -1;
            rhKvE = true;
            shGz.reset();
        };
        this.tcLv = qgIy;
        this.shGz = shGz;
        var ziGu = qgIy.getParameter(qgIy.MAX_TEXTURE_IMAGE_UNITS);
        var rhHvD = qgIy.getParameter(qgIy.MAX_VERTEX_TEXTURE_IMAGE_UNITS);
        var riItA = qgIy.getParameter(qgIy.MAX_TEXTURE_SIZE);
        var riItB = qgIy.getParameter(qgIy.MAX_CUBE_MAP_TEXTURE_SIZE);
        var rgIvA = rhHvD > 0;
        var rgKqF = rgIvA && xeHw.get('OES_texture_float');
        var rfPtC = qgIy.getShaderPrecisionFormat(qgIy.VERTEX_SHADER, qgIy.HIGH_FLOAT);
        var rfPuC = qgIy.getShaderPrecisionFormat(qgIy.VERTEX_SHADER, qgIy.MEDIUM_FLOAT);
        var rfPuD = qgIy.getShaderPrecisionFormat(qgIy.FRAGMENT_SHADER, qgIy.HIGH_FLOAT);
        var rfPvJ = qgIy.getShaderPrecisionFormat(qgIy.FRAGMENT_SHADER, qgIy.MEDIUM_FLOAT);
        var rgGwD = (function() {
            var array;
            return function() {
                if (array !== undefined) {
                    return array;
                }
                array = [];
                if (xeHw.get('WEBGL_compressed_texture_pvrtc') || xeHw.get('WEBGL_compressed_texture_s3tc')) {
                    var taOx = qgIy.getParameter(qgIy.COMPRESSED_TEXTURE_FORMATS);
                    for (var i = 0; i < taOx.length; i++) {
                        array.push(taOx[i]);
                    }
                }
                return array;
            };
        })();
        var riLuG = rfPtC.precision > 0 && rfPuD.precision > 0;
        var rhMyA = rfPuC.precision > 0 && rfPvJ.precision > 0;
        if (xhHr === 'highp' && !riLuG) {
            if (rhMyA) {
                xhHr = 'mediump';
                RFITE.warn('THREE.WebGLRenderer: highp rfKxG xjJy, using mediump.');
            } else {
                xhHr = 'lowp';
                RFITE.warn('THREE.WebGLRenderer: highp and mediump rfKxG xjJy, using lowp.');
            }
        }
        if (xhHr === 'mediump' && !rhMyA) {
            xhHr = 'lowp';
            RFITE.warn('THREE.WebGLRenderer: mediump rfKxG xjJy, using lowp.');
        }
        var rhPzA = new RFITE.rhpza(this, tjPw, rjPrA, rgJuB);
        var zbOx = new RFITE.zbox(this, ufHy);
        var riGvF = new RFITE.rigvf(this, xcIv);
        this.getContext = function() {
            return qgIy;
        };
        this.rhMqF = function() {
            xeHw.get('WEBGL_lose_context').ycKt();
        };
        this.rgIsA = function() {
            return rgIvA;
        };
        this.rgJrB = function() {
            return xeHw.get('OES_texture_float');
        };
        this.rgGrD = function() {
            return xeHw.get('OES_texture_half_float');
        };
        this.rgGxG = function() {
            return xeHw.get('OES_standard_derivatives');
        };
        this.rfPqE = function() {
            return xeHw.get('WEBGL_compressed_texture_s3tc');
        };
        this.rfPsF = function() {
            return xeHw.get('WEBGL_compressed_texture_pvrtc');
        };
        this.rgNxC = function() {
            return xeHw.get('EXT_blend_minmax');
        };
        this.rhMsK = (function() {
            var value;
            return function() {
                if (value !== undefined) {
                    return value;
                }
                var wgGy = xeHw.get('EXT_texture_filter_anisotropic');
                value = wgGy !== null ? qgIy.getParameter(wgGy.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;
                return value;
            }
        })();
        this.zfJv = function() {
            return xhHr;
        };
        this.rjNvK = function() {
            return xaPy;
        };
        this.rjKrB = function(value) {
            xaPy = value;
        };
        this.ufMu = function(width, height, ziNr) {
            teOr.width = width * xaPy;
            teOr.height = height * xaPy;
            if (ziNr !== false) {
                teOr.style.width = width + 'px';
                teOr.style.height = height + 'px';
            }
            this.yaGt(0, 0, width, height);
        };
        this.yaGt = function(x, y, width, height) {
            xgPv = x * xaPy;
            xgPw = y * xaPy;
            rjIsH = width * xaPy;
            riIwB = height * xaPy;
            qgIy.viewport(xgPv, xgPw, rjIsH, riIwB);
        };
        this.yjLx = function(x, y, width, height) {
            qgIy.scissor(x * xaPy, y * xaPy, width * xaPy, height * xaPy);
        };
        this.rhJuA = function(scJs) {
            scJs ? qgIy.enable(qgIy.SCISSOR_TEST) : qgIy.disable(qgIy.SCISSOR_TEST);
        };
        this.rjNtA = function() {
            return yhIz;
        };
        this.rjKqB = function(color, alpha) {
            yhIz.set(color);
            yhIx = alpha !== undefined ? alpha : 1;
            zfHq(yhIz.r, yhIz.g, yhIz.b, yhIx);
        };
        this.rjNtB = function() {
            return yhIx;
        };
        this.rjKqC = function(alpha) {
            yhIx = alpha;
            zfHq(yhIz.r, yhIz.g, yhIz.b, yhIx);
        };
        this.clear = function(color, depth, stencil) {
            var rjPv = 0;
            if (color === undefined || color) rjPv |= qgIy.COLOR_BUFFER_BIT;
            if (depth === undefined || depth) rjPv |= qgIy.DEPTH_BUFFER_BIT;
            if (stencil === undefined || stencil) rjPv |= qgIy.STENCIL_BUFFER_BIT;
            qgIy.clear(rjPv);
        };
        this.xfNz = function() {
            qgIy.clear(qgIy.COLOR_BUFFER_BIT);
        };
        this.xfMq = function() {
            qgIy.clear(qgIy.DEPTH_BUFFER_BIT);
        };
        this.zgOy = function() {
            qgIy.clear(qgIy.STENCIL_BUFFER_BIT);
        };
        this.yfKw = function(zcMx, color, depth, stencil) {
            this.rhPzJ(zcMx);
            this.clear(color, depth, stencil);
        };
        this.zcLq = zcLq;

        function rgKsG(vhHr) {
            vhHr.rgOqE = qgIy.createBuffer();
            vhHr.rhHtB = qgIy.createBuffer();
            rdIw.info.tjLy.xdKz++;
        };

        function rhJsC(vhHr) {
            vhHr.rgOqE = qgIy.createBuffer();
            vhHr.rhHtB = qgIy.createBuffer();
            vhHr.rgHxD = qgIy.createBuffer();
            rdIw.info.tjLy.xdKz++;
        };

        function rhJsA(rjNtK) {
            rjNtK.rgOqE = qgIy.createBuffer();
            rjNtK.rgOqG = qgIy.createBuffer();
            rjNtK.rgMqH = qgIy.createBuffer();
            rjNtK.rhHtB = qgIy.createBuffer();
            rjNtK.riIrE = qgIy.createBuffer();
            rjNtK.rhOxB = qgIy.createBuffer();
            rjNtK.rgHrA = qgIy.createBuffer();
            rjNtK.rgHsK = qgIy.createBuffer();
            rjNtK.rhKtB = qgIy.createBuffer();
            rjNtK.rhKtA = qgIy.createBuffer();
            var rhPqF = rjNtK.rhPqF;
            if (rhPqF) {
                rjNtK.rgGsK = [];
                for (var m = 0, qiIt = rhPqF; m < qiIt; m++) {
                    rjNtK.rgGsK.push(qgIy.createBuffer());
                }
            }
            var rhPqG = rjNtK.rhPqG;
            if (rhPqG) {
                rjNtK.rgGrA = [];
                for (var m = 0, qiIt = rhPqG; m < qiIt; m++) {
                    rjNtK.rgGrA.push(qgIy.createBuffer());
                }
            }
            rdIw.info.tjLy.xdKz++;
        };
        var rhPsK = function(event) {
            var object = event.target;
            object.vaLx(function(rcGq) {
                rcGq.removeEventListener('remove', rhPsK);
                zcMq(rcGq);
            });
        };
        var rhItB = function(event) {
            var vhHr = event.target;
            vhHr.removeEventListener('dispose', rhItB);
            rhGrG(vhHr);
        };
        var rhLsD = function(event) {
            var ueMt = event.target;
            ueMt.removeEventListener('dispose', rhLsD);
            rhJtE(ueMt);
            rdIw.info.tjLy.vaOy--;
        };
        var rgKxA = function(event) {
            var zcMx = event.target;
            zcMx.removeEventListener('dispose', rgKxA);
            rgJwE(zcMx);
            rdIw.info.tjLy.vaOy--;
        };
        var rhIuK = function(event) {
            var vfIz = event.target;
            vfIz.removeEventListener('dispose', rhIuK);
            rhGrF(vfIz);
        };
        var rjOvB = function(vhHr) {
            var tdJt = ['__webglVertexBuffer', '__webglNormalBuffer', '__webglTangentBuffer', '__webglColorBuffer', '__webglUVBuffer', '__webglUV2Buffer', '__webglSkinIndicesBuffer', '__webglSkinWeightsBuffer', '__webglFaceBuffer', '__webglLineBuffer', '__webglLineDistanceBuffer'];
            for (var i = 0, l = tdJt.length; i < l; i++) {
                var name = tdJt[i];
                if (vhHr[name] !== undefined) {
                    qgIy.deleteBuffer(vhHr[name]);
                    delete vhHr[name];
                }
            }
            if (vhHr.rgGvF !== undefined) {
                for (var name in vhHr.rgGvF) {
                    qgIy.deleteBuffer(vhHr.rgGvF[name].buffer);
                }
                delete vhHr.rgGvF;
            }
            rdIw.info.tjLy.xdKz--;
        };
        var rhGrG = function(vhHr) {
            delete vhHr.yhJx;
            if (vhHr instanceof RFITE.rinyf) {
                for (var name in vhHr.attributes) {
                    var wiKx = vhHr.attributes[name];
                    if (wiKx.buffer !== undefined) {
                        qgIy.deleteBuffer(wiKx.buffer);
                        delete wiKx.buffer;
                    }
                }
                rdIw.info.tjLy.xdKz--;
            } else {
                var rhGuG = riMzC[vhHr.id];
                if (rhGuG !== undefined) {
                    for (var i = 0, l = rhGuG.length; i < l; i++) {
                        var rjNtK = rhGuG[i];
                        if (rjNtK.rhPqF !== undefined) {
                            for (var m = 0, qiIt = rjNtK.rhPqF; m < qiIt; m++) {
                                qgIy.deleteBuffer(rjNtK.rgGsK[m]);
                            }
                            delete rjNtK.rgGsK;
                        }
                        if (rjNtK.rhPqG !== undefined) {
                            for (var m = 0, qiIt = rjNtK.rhPqG; m < qiIt; m++) {
                                qgIy.deleteBuffer(rjNtK.rgGrA[m]);
                            }
                            delete rjNtK.rgGrA;
                        }
                        rjOvB(rjNtK);
                    }
                    delete riMzC[vhHr.id];
                } else {
                    rjOvB(vhHr);
                }
            }
            rgIuD = '';
        };
        var rhJtE = function(ueMt) {
            if (ueMt.image && ueMt.image.rhHuJ) {
                qgIy.deleteTexture(ueMt.image.rhHuJ);
                delete ueMt.image.rhHuJ;
            } else {
                if (ueMt.yhJx === undefined) return;
                qgIy.deleteTexture(ueMt.rjJvH);
                delete ueMt.rjJvH;
                delete ueMt.yhJx;
            }
        };
        var rgJwE = function(zcMx) {
            if (!zcMx || zcMx.rjJvH === undefined) return;
            qgIy.deleteTexture(zcMx.rjJvH);
            delete zcMx.rjJvH;
            if (zcMx instanceof RFITE.rgjsb) {
                for (var i = 0; i < 6; i++) {
                    qgIy.deleteFramebuffer(zcMx.rhHtA[i]);
                    qgIy.deleteRenderbuffer(zcMx.rgOqF[i]);
                }
            } else {
                qgIy.deleteFramebuffer(zcMx.rhHtA);
                qgIy.deleteRenderbuffer(zcMx.rgOqF);
            }
            delete zcMx.rhHtA;
            delete zcMx.rgOqF;
        };
        var rhGrF = function(vfIz) {
            var ugOt = vfIz.ugOt.ugOt;
            if (ugOt === undefined) return;
            vfIz.ugOt = undefined;
            var i, qiMv, ybGz;
            var rjOvA = false;
            for (i = 0, qiMv = wjHs.length; i < qiMv; i++) {
                ybGz = wjHs[i];
                if (ybGz.ugOt === ugOt) {
                    ybGz.xiJv--;
                    if (ybGz.xiJv === 0) {
                        rjOvA = true;
                    }
                    break;
                }
            }
            if (rjOvA === true) {
                var ycGx = [];
                for (i = 0, qiMv = wjHs.length; i < qiMv; i++) {
                    ybGz = wjHs[i];
                    if (ybGz.ugOt !== ugOt) {
                        ycGx.push(ybGz);
                    }
                }
                wjHs = ycGx;
                qgIy.deleteProgram(ugOt);
                rdIw.info.tjLy.vdIt--;
            }
        };

        function rgLqK(object) {
            var vhHr = object.vhHr;
            var vfIz = object.vfIz;
            var wcKx = vhHr.wjPq.length;
            if (vfIz.attributes) {
                if (vhHr.rgGvF === undefined) {
                    vhHr.rgGvF = [];
                }
                for (var name in vfIz.attributes) {
                    var wiKx = vfIz.attributes[name];
                    if (!wiKx.rhHuK || wiKx.rgOwF) {
                        wiKx.rhHuK = true;
                        var size = 1;
                        if (wiKx.type === 'v2') size = 2;
                        else if (wiKx.type === 'v3') size = 3;
                        else if (wiKx.type === 'v4') size = 4;
                        else if (wiKx.type === 'c') size = 3;
                        wiKx.size = size;
                        wiKx.array = new Float32Array(wcKx * size);
                        wiKx.buffer = qgIy.createBuffer();
                        wiKx.buffer.rhHxC = name;
                        wiKx.ycGw = true;
                    }
                    vhHr.rgGvF.push(wiKx);
                }
            }
        };

        function rgNqJ(vhHr, object) {
            var wcKx = vhHr.wjPq.length;
            vhHr.zaNv = new Float32Array(wcKx * 3);
            vhHr.ziJs = new Float32Array(wcKx * 3);
            vhHr.rgMqJ = wcKx;
            rgLqK(object);
        };

        function riGtB(vhHr, object) {
            var wcKx = vhHr.wjPq.length;
            vhHr.zaNv = new Float32Array(wcKx * 3);
            vhHr.ziJs = new Float32Array(wcKx * 3);
            vhHr.rgOqH = new Float32Array(wcKx * 1);
            vhHr.rhOxC = wcKx;
            rgLqK(object);
        };

        function riGtA(rjNtK, object) {
            var vhHr = object.vhHr,
                scGx = rjNtK.scGx,
                wcKx = scGx.length * 3,
                siNx = scGx.length * 1,
                tiPq = scGx.length * 3,
                vfIz = rhJxK(object, rjNtK);
            rjNtK.zaNv = new Float32Array(wcKx * 3);
            rjNtK.zaNt = new Float32Array(wcKx * 3);
            rjNtK.ziJs = new Float32Array(wcKx * 3);
            rjNtK.wjMy = new Float32Array(wcKx * 2);
            if (vhHr.rjNqG.length > 1) {
                rjNtK.xhNw = new Float32Array(wcKx * 2);
            }
            if (vhHr.ydJt) {
                rjNtK.rjJvJ = new Float32Array(wcKx * 4);
            }
            if (object.vhHr.zjPv.length && object.vhHr.zjPt.length) {
                rjNtK.rhOxF = new Float32Array(wcKx * 4);
                rjNtK.rhKtC = new Float32Array(wcKx * 4);
            }
            var xilr = xeHw.get('OES_element_index_uint') !== null && siNx > 21845 ? Uint32Array : Uint16Array;
            rjNtK.yhJw = xilr;
            rjNtK.yhJs = new xilr(siNx * 3);
            rjNtK.yhJu = new xilr(tiPq * 2);
            var rhPqF = rjNtK.rhPqF;
            if (rhPqF) {
                rjNtK.rgNzA = [];
                for (var m = 0, qiIt = rhPqF; m < qiIt; m++) {
                    rjNtK.rgNzA.push(new Float32Array(wcKx * 3));
                }
            }
            var rhPqG = rjNtK.rhPqG;
            if (rhPqG) {
                rjNtK.rgNzB = [];
                for (var m = 0, qiIt = rhPqG; m < qiIt; m++) {
                    rjNtK.rgNzB.push(new Float32Array(wcKx * 3));
                }
            }
            rjNtK.rhOxD = siNx * 3;
            rjNtK.rhOxC = tiPq * 2;
            if (vfIz.attributes) {
                if (rjNtK.rgGvF === undefined) {
                    rjNtK.rgGvF = [];
                }
                for (var name in vfIz.attributes) {
                    var rhIuC = vfIz.attributes[name];
                    var wiKx = {};
                    for (var vdIx in rhIuC) {
                        wiKx[vdIx] = rhIuC[vdIx];
                    }
                    if (!wiKx.rhHuK || wiKx.rgOwF) {
                        wiKx.rhHuK = true;
                        var size = 1;
                        if (wiKx.type === 'v2') size = 2;
                        else if (wiKx.type === 'v3') size = 3;
                        else if (wiKx.type === 'v4') size = 4;
                        else if (wiKx.type === 'c') size = 3;
                        wiKx.size = size;
                        wiKx.array = new Float32Array(wcKx * size);
                        wiKx.buffer = qgIy.createBuffer();
                        wiKx.buffer.rhHxC = name;
                        rhIuC.ycGw = true;
                        wiKx.xhNu = rhIuC;
                    }
                    rjNtK.rgGvF.push(wiKx);
                }
            }
            rjNtK.riIrG = true;
        };

        function rhJxK(object, rjNtK) {
            return object.vfIz instanceof RFITE.rhmzk ? object.vfIz.wdIz[rjNtK.rjMuB] : object.vfIz;
        }

        function rgHvG(vfIz) {
            return vfIz instanceof RFITE.rhisj === false && vfIz.ufLt === RFITE.yegz;
        }

        function rgPuA(vhHr, riGy, object) {
            var v, c, tfJs, tiOt, color, wjPq = vhHr.wjPq,
                qgOx = wjPq.length,
                sdIw = vhHr.sdIw,
                qjKt = sdIw.length,
                ziNz = vhHr.zaNv,
                xfLu = vhHr.ziJs,
                rjOxH = vhHr.rgPzH,
                yeLu = vhHr.rhNvG,
                rhNxK = vhHr.rgGvF,
                i, qiMv, qjLx, qfIw, value, riHvA;
            if (rjOxH) {
                for (v = 0; v < qgOx; v++) {
                    tfJs = wjPq[v];
                    tiOt = v * 3;
                    ziNz[tiOt] = tfJs.x;
                    ziNz[tiOt + 1] = tfJs.y;
                    ziNz[tiOt + 2] = tfJs.z;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, vhHr.rgOqE);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, ziNz, riGy);
            }
            if (yeLu) {
                for (c = 0; c < qjKt; c++) {
                    color = sdIw[c];
                    tiOt = c * 3;
                    xfLu[tiOt] = color.r;
                    xfLu[tiOt + 1] = color.g;
                    xfLu[tiOt + 2] = color.b;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, vhHr.rhHtB);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, xfLu, riGy);
            }
            if (rhNxK) {
                for (i = 0, qiMv = rhNxK.length; i < qiMv; i++) {
                    riHvA = rhNxK[i];
                    if (riHvA.ycGw && (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices')) {
                        qfIw = riHvA.value.length;
                        tiOt = 0;
                        if (riHvA.size === 1) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                riHvA.array[qjLx] = riHvA.value[qjLx];
                            }
                        } else if (riHvA.size === 2) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                value = riHvA.value[qjLx];
                                riHvA.array[tiOt] = value.x;
                                riHvA.array[tiOt + 1] = value.y;
                                tiOt += 2;
                            }
                        } else if (riHvA.size === 3) {
                            if (riHvA.type === 'c') {
                                for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                    value = riHvA.value[qjLx];
                                    riHvA.array[tiOt] = value.r;
                                    riHvA.array[tiOt + 1] = value.g;
                                    riHvA.array[tiOt + 2] = value.b;
                                    tiOt += 3;
                                }
                            } else {
                                for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                    value = riHvA.value[qjLx];
                                    riHvA.array[tiOt] = value.x;
                                    riHvA.array[tiOt + 1] = value.y;
                                    riHvA.array[tiOt + 2] = value.z;
                                    tiOt += 3;
                                }
                            }
                        } else if (riHvA.size === 4) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                value = riHvA.value[qjLx];
                                riHvA.array[tiOt] = value.x;
                                riHvA.array[tiOt + 1] = value.y;
                                riHvA.array[tiOt + 2] = value.z;
                                riHvA.array[tiOt + 3] = value.w;
                                tiOt += 4;
                            }
                        }
                    }
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, riHvA.buffer);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, riHvA.array, riGy);
                    riHvA.ycGw = false;
                }
            }
        }

        function riJtJ(vhHr, riGy) {
            var v, c, d, tfJs, tiOt, color, wjPq = vhHr.wjPq,
                sdIw = vhHr.sdIw,
                rjMsE = vhHr.rjMsE,
                qgOx = wjPq.length,
                qjKt = sdIw.length,
                qjJz = rjMsE.length,
                ziNz = vhHr.zaNv,
                xfLu = vhHr.ziJs,
                rhIqE = vhHr.rgOqH,
                rjOxH = vhHr.rgPzH,
                yeLu = vhHr.rhNvG,
                rhGsF = vhHr.rgIyD,
                rhNxK = vhHr.rgGvF,
                i, qiMv, qjLx, qfIw, value, riHvA;
            if (rjOxH) {
                for (v = 0; v < qgOx; v++) {
                    tfJs = wjPq[v];
                    tiOt = v * 3;
                    ziNz[tiOt] = tfJs.x;
                    ziNz[tiOt + 1] = tfJs.y;
                    ziNz[tiOt + 2] = tfJs.z;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, vhHr.rgOqE);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, ziNz, riGy);
            }
            if (yeLu) {
                for (c = 0; c < qjKt; c++) {
                    color = sdIw[c];
                    tiOt = c * 3;
                    xfLu[tiOt] = color.r;
                    xfLu[tiOt + 1] = color.g;
                    xfLu[tiOt + 2] = color.b;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, vhHr.rhHtB);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, xfLu, riGy);
            }
            if (rhGsF) {
                for (d = 0; d < qjJz; d++) {
                    rhIqE[d] = rjMsE[d];
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, vhHr.rgHxD);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, rhIqE, riGy);
            }
            if (rhNxK) {
                for (i = 0, qiMv = rhNxK.length; i < qiMv; i++) {
                    riHvA = rhNxK[i];
                    if (riHvA.ycGw && (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices')) {
                        tiOt = 0;
                        qfIw = riHvA.value.length;
                        if (riHvA.size === 1) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                riHvA.array[qjLx] = riHvA.value[qjLx];
                            }
                        } else if (riHvA.size === 2) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                value = riHvA.value[qjLx];
                                riHvA.array[tiOt] = value.x;
                                riHvA.array[tiOt + 1] = value.y;
                                tiOt += 2;
                            }
                        } else if (riHvA.size === 3) {
                            if (riHvA.type === 'c') {
                                for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                    value = riHvA.value[qjLx];
                                    riHvA.array[tiOt] = value.r;
                                    riHvA.array[tiOt + 1] = value.g;
                                    riHvA.array[tiOt + 2] = value.b;
                                    tiOt += 3;
                                }
                            } else {
                                for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                    value = riHvA.value[qjLx];
                                    riHvA.array[tiOt] = value.x;
                                    riHvA.array[tiOt + 1] = value.y;
                                    riHvA.array[tiOt + 2] = value.z;
                                    tiOt += 3;
                                }
                            }
                        } else if (riHvA.size === 4) {
                            for (qjLx = 0; qjLx < qfIw; qjLx++) {
                                value = riHvA.value[qjLx];
                                riHvA.array[tiOt] = value.x;
                                riHvA.array[tiOt + 1] = value.y;
                                riHvA.array[tiOt + 2] = value.z;
                                riHvA.array[tiOt + 3] = value.w;
                                tiOt += 4;
                            }
                        }
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, riHvA.buffer);
                        qgIy.bufferData(qgIy.ARRAY_BUFFER, riHvA.array, riGy);
                        riHvA.ycGw = false;
                    }
                }
            }
        }

        function riJtH(rjNtK, object, riGy, tbOw, vfIz) {
            if (!rjNtK.riIrG) {
                return;
            }
            var rhLqG = rgHvG(vfIz);
            var f, qiPr, qiPq, riOw, rjJsD, xeGt, zbGu, wfPt, riIqK, uv, uv2, qgPv, qgPw, qgPx, qhIw, qhIx, qhIy, qiHr, qiHs, qiHt, qjLu, qjLv, qjLw, qbNs, qbNt, qbNu, qbPs, qbPt, qbPu, i, qiMv, qgOy, qbJu, reIx, qgOw, qbHx, qbHw, qcOv, qfHy, rhJvG, ziMr = 0,
                tiOt = 0,
                wcJv = 0,
                xbLy = 0,
                ybOt = 0,
                rjMzH = 0,
                riKtF = 0,
                ybOu = 0,
                zdLt = 0,
                ybOv = 0,
                rhGzH = 0,
                rjMzJ = 0,
                value, ziNz = rjNtK.zaNv,
                udPr = rjNtK.wjMy,
                vaHv = rjNtK.xhNw,
                ybPr = rjNtK.zaNt,
                zbMt = rjNtK.rjJvJ,
                xfLu = rjNtK.ziJs,
                riJuE = rjNtK.rhOxF,
                rhOqB = rjNtK.rhKtC,
                rhGxA = rjNtK.rgNzA,
                rhGxC = rjNtK.rgNzB,
                rhNxK = rjNtK.rgGvF,
                riHvA, wfPs = rjNtK.yhJs,
                wdMz = rjNtK.yhJu,
                vhHr = object.vhHr,
                rjOxH = vhHr.rgPzH,
                rjOxK = vhHr.rhGsA,
                viMy = vhHr.rjJsK,
                zgGq = vhHr.rhItH,
                rjOxJ = vhHr.rgPxG,
                yeLu = vhHr.rhNvG,
                rhJuE = vhHr.rgJzF,
                wjPq = vhHr.wjPq,
                zgOv = rjNtK.scGx,
                wcKy = vhHr.rbGu,
                uhOr = vhHr.rjNqG[0],
                veJt = vhHr.rjNqG[1],
                rhPqA = vhHr.zjPt,
                rhPrK = vhHr.zjPv,
                zdOs = vhHr.zdOs,
                zdPt = vhHr.zdPt;
            if (rjOxH) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    riOw = wcKy[zgOv[f]];
                    qgPv = wjPq[riOw.a];
                    qgPw = wjPq[riOw.b];
                    qgPx = wjPq[riOw.c];
                    ziNz[tiOt] = qgPv.x;
                    ziNz[tiOt + 1] = qgPv.y;
                    ziNz[tiOt + 2] = qgPv.z;
                    ziNz[tiOt + 3] = qgPw.x;
                    ziNz[tiOt + 4] = qgPw.y;
                    ziNz[tiOt + 5] = qgPw.z;
                    ziNz[tiOt + 6] = qgPx.x;
                    ziNz[tiOt + 7] = qgPx.y;
                    ziNz[tiOt + 8] = qgPx.z;
                    tiOt += 9;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgOqE);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, ziNz, riGy);
            }
            if (rhJuE) {
                for (qgOw = 0, qbHx = zdOs.length; qgOw < qbHx; qgOw++) {
                    rhGzH = 0;
                    for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                        qfHy = zgOv[f];
                        riOw = wcKy[qfHy];
                        qgPv = zdOs[qgOw].wjPq[riOw.a];
                        qgPw = zdOs[qgOw].wjPq[riOw.b];
                        qgPx = zdOs[qgOw].wjPq[riOw.c];
                        qbHw = rhGxA[qgOw];
                        qbHw[rhGzH] = qgPv.x;
                        qbHw[rhGzH + 1] = qgPv.y;
                        qbHw[rhGzH + 2] = qgPv.z;
                        qbHw[rhGzH + 3] = qgPw.x;
                        qbHw[rhGzH + 4] = qgPw.y;
                        qbHw[rhGzH + 5] = qgPw.z;
                        qbHw[rhGzH + 6] = qgPx.x;
                        qbHw[rhGzH + 7] = qgPx.y;
                        qbHw[rhGzH + 8] = qgPx.z;
                        if (vfIz.zdPt) {
                            if (rhLqG) {
                                qiHr = zdPt[qgOw].yeHz[qfHy];
                                qiHs = qiHr;
                                qiHt = qiHr;
                            } else {
                                rhJvG = zdPt[qgOw].rjJsD[qfHy];
                                qiHr = rhJvG.a;
                                qiHs = rhJvG.b;
                                qiHt = rhJvG.c;
                            }
                            qcOv = rhGxC[qgOw];
                            qcOv[rhGzH] = qiHr.x;
                            qcOv[rhGzH + 1] = qiHr.y;
                            qcOv[rhGzH + 2] = qiHr.z;
                            qcOv[rhGzH + 3] = qiHs.x;
                            qcOv[rhGzH + 4] = qiHs.y;
                            qcOv[rhGzH + 5] = qiHs.z;
                            qcOv[rhGzH + 6] = qiHt.x;
                            qcOv[rhGzH + 7] = qiHt.y;
                            qcOv[rhGzH + 8] = qiHt.z;
                        }
                        rhGzH += 9;
                    }
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGsK[qgOw]);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, rhGxA[qgOw], riGy);
                    if (vfIz.zdPt) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGrA[qgOw]);
                        qgIy.bufferData(qgIy.ARRAY_BUFFER, rhGxC[qgOw], riGy);
                    }
                }
            }
            if (rhPrK.length) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    riOw = wcKy[zgOv[f]];
                    qbNs = rhPrK[riOw.a];
                    qbNt = rhPrK[riOw.b];
                    qbNu = rhPrK[riOw.c];
                    rhOqB[ybOv] = qbNs.x;
                    rhOqB[ybOv + 1] = qbNs.y;
                    rhOqB[ybOv + 2] = qbNs.z;
                    rhOqB[ybOv + 3] = qbNs.w;
                    rhOqB[ybOv + 4] = qbNt.x;
                    rhOqB[ybOv + 5] = qbNt.y;
                    rhOqB[ybOv + 6] = qbNt.z;
                    rhOqB[ybOv + 7] = qbNt.w;
                    rhOqB[ybOv + 8] = qbNu.x;
                    rhOqB[ybOv + 9] = qbNu.y;
                    rhOqB[ybOv + 10] = qbNu.z;
                    rhOqB[ybOv + 11] = qbNu.w;
                    qbPs = rhPqA[riOw.a];
                    qbPt = rhPqA[riOw.b];
                    qbPu = rhPqA[riOw.c];
                    riJuE[ybOv] = qbPs.x;
                    riJuE[ybOv + 1] = qbPs.y;
                    riJuE[ybOv + 2] = qbPs.z;
                    riJuE[ybOv + 3] = qbPs.w;
                    riJuE[ybOv + 4] = qbPt.x;
                    riJuE[ybOv + 5] = qbPt.y;
                    riJuE[ybOv + 6] = qbPt.z;
                    riJuE[ybOv + 7] = qbPt.w;
                    riJuE[ybOv + 8] = qbPu.x;
                    riJuE[ybOv + 9] = qbPu.y;
                    riJuE[ybOv + 10] = qbPu.z;
                    riJuE[ybOv + 11] = qbPu.w;
                    ybOv += 12;
                }
                if (ybOv > 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgHrA);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, riJuE, riGy);
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgHsK);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, rhOqB, riGy);
                }
            }
            if (yeLu) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    riOw = wcKy[zgOv[f]];
                    zbGu = riOw.zbGu;
                    wfPt = riOw.color;
                    if (zbGu.length === 3 && vfIz.zbGu === RFITE.zbgu) {
                        qjLu = zbGu[0];
                        qjLv = zbGu[1];
                        qjLw = zbGu[2];
                    } else {
                        qjLu = wfPt;
                        qjLv = wfPt;
                        qjLw = wfPt;
                    }
                    xfLu[zdLt] = qjLu.r;
                    xfLu[zdLt + 1] = qjLu.g;
                    xfLu[zdLt + 2] = qjLu.b;
                    xfLu[zdLt + 3] = qjLv.r;
                    xfLu[zdLt + 4] = qjLv.g;
                    xfLu[zdLt + 5] = qjLv.b;
                    xfLu[zdLt + 6] = qjLw.r;
                    xfLu[zdLt + 7] = qjLw.g;
                    xfLu[zdLt + 8] = qjLw.b;
                    zdLt += 9;
                }
                if (zdLt > 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rhHtB);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, xfLu, riGy);
                }
            }
            if (rjOxJ && vhHr.ydJt) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    riOw = wcKy[zgOv[f]];
                    riIqK = riOw.riIqK;
                    qhIw = riIqK[0];
                    qhIx = riIqK[1];
                    qhIy = riIqK[2];
                    zbMt[riKtF] = qhIw.x;
                    zbMt[riKtF + 1] = qhIw.y;
                    zbMt[riKtF + 2] = qhIw.z;
                    zbMt[riKtF + 3] = qhIw.w;
                    zbMt[riKtF + 4] = qhIx.x;
                    zbMt[riKtF + 5] = qhIx.y;
                    zbMt[riKtF + 6] = qhIx.z;
                    zbMt[riKtF + 7] = qhIx.w;
                    zbMt[riKtF + 8] = qhIy.x;
                    zbMt[riKtF + 9] = qhIy.y;
                    zbMt[riKtF + 10] = qhIy.z;
                    zbMt[riKtF + 11] = qhIy.w;
                    riKtF += 12;
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgMqH);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, zbMt, riGy);
            }
            if (zgGq) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    riOw = wcKy[zgOv[f]];
                    rjJsD = riOw.rjJsD;
                    xeGt = riOw.normal;
                    if (rjJsD.length === 3 && rhLqG === false) {
                        for (i = 0; i < 3; i++) {
                            qgOy = rjJsD[i];
                            ybPr[rjMzH] = qgOy.x;
                            ybPr[rjMzH + 1] = qgOy.y;
                            ybPr[rjMzH + 2] = qgOy.z;
                            rjMzH += 3;
                        }
                    } else {
                        for (i = 0; i < 3; i++) {
                            ybPr[rjMzH] = xeGt.x;
                            ybPr[rjMzH + 1] = xeGt.y;
                            ybPr[rjMzH + 2] = xeGt.z;
                            rjMzH += 3;
                        }
                    }
                }
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgOqG);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, ybPr, riGy);
            }
            if (viMy && uhOr) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    qiPq = zgOv[f];
                    uv = uhOr[qiPq];
                    if (uv === undefined) continue;
                    for (i = 0; i < 3; i++) {
                        qbJu = uv[i];
                        udPr[wcJv] = qbJu.x;
                        udPr[wcJv + 1] = qbJu.y;
                        wcJv += 2;
                    }
                }
                if (wcJv > 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.riIrE);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, udPr, riGy);
                }
            }
            if (viMy && veJt) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    qiPq = zgOv[f];
                    uv2 = veJt[qiPq];
                    if (uv2 === undefined) continue;
                    for (i = 0; i < 3; i++) {
                        reIx = uv2[i];
                        vaHv[xbLy] = reIx.x;
                        vaHv[xbLy + 1] = reIx.y;
                        xbLy += 2;
                    }
                }
                if (xbLy > 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rhOxB);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, vaHv, riGy);
                }
            }
            if (rjOxK) {
                for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                    wfPs[ybOt] = ziMr;
                    wfPs[ybOt + 1] = ziMr + 1;
                    wfPs[ybOt + 2] = ziMr + 2;
                    ybOt += 3;
                    wdMz[ybOu] = ziMr;
                    wdMz[ybOu + 1] = ziMr + 1;
                    wdMz[ybOu + 2] = ziMr;
                    wdMz[ybOu + 3] = ziMr + 2;
                    wdMz[ybOu + 4] = ziMr + 1;
                    wdMz[ybOu + 5] = ziMr + 2;
                    ybOu += 6;
                    ziMr += 3;
                }
                qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, rjNtK.rhKtB);
                qgIy.bufferData(qgIy.ELEMENT_ARRAY_BUFFER, wfPs, riGy);
                qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, rjNtK.rhKtA);
                qgIy.bufferData(qgIy.ELEMENT_ARRAY_BUFFER, wdMz, riGy);
            }
            if (rhNxK) {
                for (i = 0, qiMv = rhNxK.length; i < qiMv; i++) {
                    riHvA = rhNxK[i];
                    if (!riHvA.xhNu.ycGw) continue;
                    rjMzJ = 0;
                    if (riHvA.size === 1) {
                        if (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                riOw = wcKy[zgOv[f]];
                                riHvA.array[rjMzJ] = riHvA.value[riOw.a];
                                riHvA.array[rjMzJ + 1] = riHvA.value[riOw.b];
                                riHvA.array[rjMzJ + 2] = riHvA.value[riOw.c];
                                rjMzJ += 3;
                            }
                        } else if (riHvA.tdJq === 'faces') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                riHvA.array[rjMzJ] = value;
                                riHvA.array[rjMzJ + 1] = value;
                                riHvA.array[rjMzJ + 2] = value;
                                rjMzJ += 3;
                            }
                        }
                    } else if (riHvA.size === 2) {
                        if (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                riOw = wcKy[zgOv[f]];
                                qgPv = riHvA.value[riOw.a];
                                qgPw = riHvA.value[riOw.b];
                                qgPx = riHvA.value[riOw.c];
                                riHvA.array[rjMzJ] = qgPv.x;
                                riHvA.array[rjMzJ + 1] = qgPv.y;
                                riHvA.array[rjMzJ + 2] = qgPw.x;
                                riHvA.array[rjMzJ + 3] = qgPw.y;
                                riHvA.array[rjMzJ + 4] = qgPx.x;
                                riHvA.array[rjMzJ + 5] = qgPx.y;
                                rjMzJ += 6;
                            }
                        } else if (riHvA.tdJq === 'faces') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                qgPv = value;
                                qgPw = value;
                                qgPx = value;
                                riHvA.array[rjMzJ] = qgPv.x;
                                riHvA.array[rjMzJ + 1] = qgPv.y;
                                riHvA.array[rjMzJ + 2] = qgPw.x;
                                riHvA.array[rjMzJ + 3] = qgPw.y;
                                riHvA.array[rjMzJ + 4] = qgPx.x;
                                riHvA.array[rjMzJ + 5] = qgPx.y;
                                rjMzJ += 6;
                            }
                        }
                    } else if (riHvA.size === 3) {
                        var qhNr;
                        if (riHvA.type === 'c') {
                            qhNr = ['r', 'g', 'b'];
                        } else {
                            qhNr = ['x', 'y', 'z'];
                        }
                        if (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                riOw = wcKy[zgOv[f]];
                                qgPv = riHvA.value[riOw.a];
                                qgPw = riHvA.value[riOw.b];
                                qgPx = riHvA.value[riOw.c];
                                riHvA.array[rjMzJ] = qgPv[qhNr[0]];
                                riHvA.array[rjMzJ + 1] = qgPv[qhNr[1]];
                                riHvA.array[rjMzJ + 2] = qgPv[qhNr[2]];
                                riHvA.array[rjMzJ + 3] = qgPw[qhNr[0]];
                                riHvA.array[rjMzJ + 4] = qgPw[qhNr[1]];
                                riHvA.array[rjMzJ + 5] = qgPw[qhNr[2]];
                                riHvA.array[rjMzJ + 6] = qgPx[qhNr[0]];
                                riHvA.array[rjMzJ + 7] = qgPx[qhNr[1]];
                                riHvA.array[rjMzJ + 8] = qgPx[qhNr[2]];
                                rjMzJ += 9;
                            }
                        } else if (riHvA.tdJq === 'faces') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                qgPv = value;
                                qgPw = value;
                                qgPx = value;
                                riHvA.array[rjMzJ] = qgPv[qhNr[0]];
                                riHvA.array[rjMzJ + 1] = qgPv[qhNr[1]];
                                riHvA.array[rjMzJ + 2] = qgPv[qhNr[2]];
                                riHvA.array[rjMzJ + 3] = qgPw[qhNr[0]];
                                riHvA.array[rjMzJ + 4] = qgPw[qhNr[1]];
                                riHvA.array[rjMzJ + 5] = qgPw[qhNr[2]];
                                riHvA.array[rjMzJ + 6] = qgPx[qhNr[0]];
                                riHvA.array[rjMzJ + 7] = qgPx[qhNr[1]];
                                riHvA.array[rjMzJ + 8] = qgPx[qhNr[2]];
                                rjMzJ += 9;
                            }
                        } else if (riHvA.tdJq === 'faceVertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                qgPv = value[0];
                                qgPw = value[1];
                                qgPx = value[2];
                                riHvA.array[rjMzJ] = qgPv[qhNr[0]];
                                riHvA.array[rjMzJ + 1] = qgPv[qhNr[1]];
                                riHvA.array[rjMzJ + 2] = qgPv[qhNr[2]];
                                riHvA.array[rjMzJ + 3] = qgPw[qhNr[0]];
                                riHvA.array[rjMzJ + 4] = qgPw[qhNr[1]];
                                riHvA.array[rjMzJ + 5] = qgPw[qhNr[2]];
                                riHvA.array[rjMzJ + 6] = qgPx[qhNr[0]];
                                riHvA.array[rjMzJ + 7] = qgPx[qhNr[1]];
                                riHvA.array[rjMzJ + 8] = qgPx[qhNr[2]];
                                rjMzJ += 9;
                            }
                        }
                    } else if (riHvA.size === 4) {
                        if (riHvA.tdJq === undefined || riHvA.tdJq === 'vertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                riOw = wcKy[zgOv[f]];
                                qgPv = riHvA.value[riOw.a];
                                qgPw = riHvA.value[riOw.b];
                                qgPx = riHvA.value[riOw.c];
                                riHvA.array[rjMzJ] = qgPv.x;
                                riHvA.array[rjMzJ + 1] = qgPv.y;
                                riHvA.array[rjMzJ + 2] = qgPv.z;
                                riHvA.array[rjMzJ + 3] = qgPv.w;
                                riHvA.array[rjMzJ + 4] = qgPw.x;
                                riHvA.array[rjMzJ + 5] = qgPw.y;
                                riHvA.array[rjMzJ + 6] = qgPw.z;
                                riHvA.array[rjMzJ + 7] = qgPw.w;
                                riHvA.array[rjMzJ + 8] = qgPx.x;
                                riHvA.array[rjMzJ + 9] = qgPx.y;
                                riHvA.array[rjMzJ + 10] = qgPx.z;
                                riHvA.array[rjMzJ + 11] = qgPx.w;
                                rjMzJ += 12;
                            }
                        } else if (riHvA.tdJq === 'faces') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                qgPv = value;
                                qgPw = value;
                                qgPx = value;
                                riHvA.array[rjMzJ] = qgPv.x;
                                riHvA.array[rjMzJ + 1] = qgPv.y;
                                riHvA.array[rjMzJ + 2] = qgPv.z;
                                riHvA.array[rjMzJ + 3] = qgPv.w;
                                riHvA.array[rjMzJ + 4] = qgPw.x;
                                riHvA.array[rjMzJ + 5] = qgPw.y;
                                riHvA.array[rjMzJ + 6] = qgPw.z;
                                riHvA.array[rjMzJ + 7] = qgPw.w;
                                riHvA.array[rjMzJ + 8] = qgPx.x;
                                riHvA.array[rjMzJ + 9] = qgPx.y;
                                riHvA.array[rjMzJ + 10] = qgPx.z;
                                riHvA.array[rjMzJ + 11] = qgPx.w;
                                rjMzJ += 12;
                            }
                        } else if (riHvA.tdJq === 'faceVertices') {
                            for (f = 0, qiPr = zgOv.length; f < qiPr; f++) {
                                value = riHvA.value[zgOv[f]];
                                qgPv = value[0];
                                qgPw = value[1];
                                qgPx = value[2];
                                riHvA.array[rjMzJ] = qgPv.x;
                                riHvA.array[rjMzJ + 1] = qgPv.y;
                                riHvA.array[rjMzJ + 2] = qgPv.z;
                                riHvA.array[rjMzJ + 3] = qgPv.w;
                                riHvA.array[rjMzJ + 4] = qgPw.x;
                                riHvA.array[rjMzJ + 5] = qgPw.y;
                                riHvA.array[rjMzJ + 6] = qgPw.z;
                                riHvA.array[rjMzJ + 7] = qgPw.w;
                                riHvA.array[rjMzJ + 8] = qgPx.x;
                                riHvA.array[rjMzJ + 9] = qgPx.y;
                                riHvA.array[rjMzJ + 10] = qgPx.z;
                                riHvA.array[rjMzJ + 11] = qgPx.w;
                                rjMzJ += 12;
                            }
                        }
                    }
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, riHvA.buffer);
                    qgIy.bufferData(qgIy.ARRAY_BUFFER, riHvA.array, riGy);
                }
            }
            if (tbOw) {
                delete rjNtK.riIrG;
                delete rjNtK.ziJs;
                delete rjNtK.zaNt;
                delete rjNtK.rjJvJ;
                delete rjNtK.wjMy;
                delete rjNtK.xhNw;
                delete rjNtK.yhJs;
                delete rjNtK.zaNv;
                delete rjNtK.yhJu;
                delete rjNtK.rhOxF;
                delete rjNtK.rhKtC;
            }
        };
        this.rgKzA = function(object, ugOt, vfIz) {
            shGz.riLvK();
            if (object.zfGq && !object.rgOqE) object.rgOqE = qgIy.createBuffer();
            if (object.xdGu && !object.rgOqG) object.rgOqG = qgIy.createBuffer();
            if (object.saPr && !object.riIrE) object.riIrE = qgIy.createBuffer();
            if (object.wfGv && !object.rhHtB) object.rhHtB = qgIy.createBuffer();
            if (object.zfGq) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, object.rgOqE);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, object.rjLuK, qgIy.DYNAMIC_DRAW);
                shGz.riHyG(ugOt.attributes.position);
                qgIy.vertexAttribPointer(ugOt.attributes.position, 3, qgIy.FLOAT, false, 0, 0);
            }
            if (object.xdGu) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, object.rgOqG);
                if (vfIz instanceof RFITE.rhisj === false && vfIz.ufLt === RFITE.yegz) {
                    var qiGv, qiGw, qiGx, qcPu, qcPx, qcOq, qcPv, qcPy, qcOr, qcPw, qcPz, qcOs, ybPr, i, qiMv = object.count * 3;
                    for (i = 0; i < qiMv; i += 9) {
                        ybPr = object.ybPr;
                        qcPu = ybPr[i];
                        qcPv = ybPr[i + 1];
                        qcPw = ybPr[i + 2];
                        qcPx = ybPr[i + 3];
                        qcPy = ybPr[i + 4];
                        qcPz = ybPr[i + 5];
                        qcOq = ybPr[i + 6];
                        qcOr = ybPr[i + 7];
                        qcOs = ybPr[i + 8];
                        qiGv = (qcPu + qcPx + qcOq) / 3;
                        qiGw = (qcPv + qcPy + qcOr) / 3;
                        qiGx = (qcPw + qcPz + qcOs) / 3;
                        ybPr[i] = qiGv;
                        ybPr[i + 1] = qiGw;
                        ybPr[i + 2] = qiGx;
                        ybPr[i + 3] = qiGv;
                        ybPr[i + 4] = qiGw;
                        ybPr[i + 5] = qiGx;
                        ybPr[i + 6] = qiGv;
                        ybPr[i + 7] = qiGw;
                        ybPr[i + 8] = qiGx;
                    }
                }
                qgIy.bufferData(qgIy.ARRAY_BUFFER, object.ybPr, qgIy.DYNAMIC_DRAW);
                shGz.riHyG(ugOt.attributes.normal);
                qgIy.vertexAttribPointer(ugOt.attributes.normal, 3, qgIy.FLOAT, false, 0, 0);
            }
            if (object.saPr && vfIz.map) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, object.riIrE);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, object.udPr, qgIy.DYNAMIC_DRAW);
                shGz.riHyG(ugOt.attributes.uv);
                qgIy.vertexAttribPointer(ugOt.attributes.uv, 2, qgIy.FLOAT, false, 0, 0);
            }
            if (object.wfGv && vfIz.zbGu !== RFITE.vemy) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, object.rhHtB);
                qgIy.bufferData(qgIy.ARRAY_BUFFER, object.xfLu, qgIy.DYNAMIC_DRAW);
                shGz.riHyG(ugOt.attributes.color);
                qgIy.vertexAttribPointer(ugOt.attributes.color, 3, qgIy.FLOAT, false, 0, 0);
            }
            shGz.rgIxH();
            qgIy.drawArrays(qgIy.TRIANGLES, 0, object.count);
            object.count = 0;
        };

        function rgJrG(vfIz, ugOt, vhHr, yiPv) {
            var rhGuH = vhHr.attributes;
            var rhIwG = ugOt.attributes;
            var rgKzH = ugOt.riNwF;
            for (var i = 0, l = rgKzH.length; i < l; i++) {
                var key = rgKzH[i];
                var rhLuE = rhIwG[key];
                if (rhLuE >= 0) {
                    var rhJwC = rhGuH[key];
                    if (rhJwC !== undefined) {
                        var size = rhJwC.vfPv;
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rhJwC.buffer);
                        shGz.riHyG(rhLuE);
                        qgIy.vertexAttribPointer(rhLuE, size, qgIy.FLOAT, false, 0, yiPv * size * 4);
                    } else if (vfIz.rgJwD !== undefined) {
                        if (vfIz.rgJwD[key].length === 2) {
                            qgIy.vertexAttrib2fv(rhLuE, vfIz.rgJwD[key]);
                        } else if (vfIz.rgJwD[key].length === 3) {
                            qgIy.vertexAttrib3fv(rhLuE, vfIz.rgJwD[key]);
                        }
                    }
                }
            }
            shGz.rgIxH();
        }
        this.rgPtE = function(sdNw, tjPw, qeIr, vfIz, vhHr, object) {
            if (vfIz.rfIxE === false) return;
            zbHs(object);
            var ugOt = yjLw(sdNw, tjPw, qeIr, vfIz, object);
            var rjJqE = false,
                zaOt = vfIz.xiGt ? 1 : 0,
                riGrG = 'direct_' + vhHr.id + '_' + ugOt.id + '_' + zaOt;
            if (riGrG !== rgIuD) {
                rgIuD = riGrG;
                rjJqE = true;
            }
            if (rjJqE) {
                shGz.riLvK();
            }
            if (object instanceof RFITE.rgos) {
                var rgNt = vfIz.xiGt === true ? qgIy.LINES : qgIy.TRIANGLES;
                var index = vhHr.attributes.index;
                if (index) {
                    var type, size;
                    if (index.array instanceof Uint32Array && xeHw.get('OES_element_index_uint')) {
                        type = qgIy.UNSIGNED_INT;
                        size = 4;
                    } else {
                        type = qgIy.UNSIGNED_SHORT;
                        size = 2;
                    }
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        if (rjJqE) {
                            rgJrG(vfIz, ugOt, vhHr, 0);
                            qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                        }
                        qgIy.drawElements(rgNt, index.array.length, type, 0);
                        rdIw.info.render.rcIz++;
                        rdIw.info.render.wjPq += index.array.length;
                        rdIw.info.render.rbGu += index.array.length / 3;
                    } else {
                        rjJqE = true;
                        for (var i = 0, qiMv = uhOz.length; i < qiMv; i++) {
                            var yiPv = uhOz[i].index;
                            if (rjJqE) {
                                rgJrG(vfIz, ugOt, vhHr, yiPv);
                                qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                            }
                            qgIy.drawElements(rgNt, uhOz[i].count, type, uhOz[i].rfIsA * size);
                            rdIw.info.render.rcIz++;
                            rdIw.info.render.wjPq += uhOz[i].count;
                            rdIw.info.render.rbGu += uhOz[i].count / 3;
                        }
                    }
                } else {
                    if (rjJqE) {
                        rgJrG(vfIz, ugOt, vhHr, 0);
                    }
                    var position = vhHr.attributes['position'];
                    qgIy.drawArrays(rgNt, 0, position.array.length / position.vfPv);
                    rdIw.info.render.rcIz++;
                    rdIw.info.render.wjPq += position.array.length / position.vfPv;
                    rdIw.info.render.rbGu += position.array.length / (3 * position.vfPv);
                }
            } else if (object instanceof RFITE.xaot) {
                var rgNt = qgIy.POINTS;
                var index = vhHr.attributes.index;
                if (index) {
                    var type, size;
                    if (index.array instanceof Uint32Array && xeHw.get('OES_element_index_uint')) {
                        type = qgIy.UNSIGNED_INT;
                        size = 4;
                    } else {
                        type = qgIy.UNSIGNED_SHORT;
                        size = 2;
                    }
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        if (rjJqE) {
                            rgJrG(vfIz, ugOt, vhHr, 0);
                            qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                        }
                        qgIy.drawElements(rgNt, index.array.length, type, 0);
                        rdIw.info.render.rcIz++;
                        rdIw.info.render.tiHx += index.array.length;
                    } else {
                        if (uhOz.length > 1) rjJqE = true;
                        for (var i = 0, qiMv = uhOz.length; i < qiMv; i++) {
                            var yiPv = uhOz[i].index;
                            if (rjJqE) {
                                rgJrG(vfIz, ugOt, vhHr, yiPv);
                                qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                            }
                            qgIy.drawElements(rgNt, uhOz[i].count, type, uhOz[i].rfIsA * size);
                            rdIw.info.render.rcIz++;
                            rdIw.info.render.tiHx += uhOz[i].count;
                        }
                    }
                } else {
                    if (rjJqE) {
                        rgJrG(vfIz, ugOt, vhHr, 0);
                    }
                    var position = vhHr.attributes.position;
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        qgIy.drawArrays(rgNt, 0, position.array.length / 3);
                        rdIw.info.render.rcIz++;
                        rdIw.info.render.tiHx += position.array.length / 3;
                    } else {
                        for (var i = 0, qiMv = uhOz.length; i < qiMv; i++) {
                            qgIy.drawArrays(rgNt, uhOz[i].index, uhOz[i].count);
                            rdIw.info.render.rcIz++;
                            rdIw.info.render.tiHx += uhOz[i].count;
                        }
                    }
                }
            } else if (object instanceof RFITE.rhjz) {
                var rgNt = (object.rgNt === RFITE.wdls) ? qgIy.LINE_STRIP : qgIy.LINES;
                shGz.zcHr(vfIz.linewidth * xaPy);
                var index = vhHr.attributes.index;
                if (index) {
                    var type, size;
                    if (index.array instanceof Uint32Array) {
                        type = qgIy.UNSIGNED_INT;
                        size = 4;
                    } else {
                        type = qgIy.UNSIGNED_SHORT;
                        size = 2;
                    }
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        if (rjJqE) {
                            rgJrG(vfIz, ugOt, vhHr, 0);
                            qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                        }
                        qgIy.drawElements(rgNt, index.array.length, type, 0);
                        rdIw.info.render.rcIz++;
                        rdIw.info.render.wjPq += index.array.length;
                    } else {
                        if (uhOz.length > 1) rjJqE = true;
                        for (var i = 0, qiMv = uhOz.length; i < qiMv; i++) {
                            var yiPv = uhOz[i].index;
                            if (rjJqE) {
                                rgJrG(vfIz, ugOt, vhHr, yiPv);
                                qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, index.buffer);
                            }
                            qgIy.drawElements(rgNt, uhOz[i].count, type, uhOz[i].rfIsA * size);
                            rdIw.info.render.rcIz++;
                            rdIw.info.render.wjPq += uhOz[i].count;
                        }
                    }
                } else {
                    if (rjJqE) {
                        rgJrG(vfIz, ugOt, vhHr, 0);
                    }
                    var position = vhHr.attributes.position;
                    var uhOz = vhHr.uhOz;
                    if (uhOz.length === 0) {
                        qgIy.drawArrays(rgNt, 0, position.array.length / 3);
                        rdIw.info.render.rcIz++;
                        rdIw.info.render.wjPq += position.array.length / 3;
                    } else {
                        for (var i = 0, qiMv = uhOz.length; i < qiMv; i++) {
                            qgIy.drawArrays(rgNt, uhOz[i].index, uhOz[i].count);
                            rdIw.info.render.rcIz++;
                            rdIw.info.render.wjPq += uhOz[i].count;
                        }
                    }
                }
            }
        };
        this.zcMt = function(sdNw, tjPw, qeIr, vfIz, rjNtK, object) {
            if (vfIz.rfIxE === false) return;
            zbHs(object);
            var ugOt = yjLw(sdNw, tjPw, qeIr, vfIz, object);
            var attributes = ugOt.attributes;
            var rjJqE = false,
                zaOt = vfIz.xiGt ? 1 : 0,
                riGrG = rjNtK.id + '_' + ugOt.id + '_' + zaOt;
            if (riGrG !== rgIuD) {
                rgIuD = riGrG;
                rjJqE = true;
            }
            if (rjJqE) {
                shGz.riLvK();
            }
            if (!vfIz.zdOs && attributes.position >= 0) {
                if (rjJqE) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgOqE);
                    shGz.riHyG(attributes.position);
                    qgIy.vertexAttribPointer(attributes.position, 3, qgIy.FLOAT, false, 0, 0);
                }
            } else {
                if (object.riGyB) {
                    rhIyG(vfIz, rjNtK, object);
                }
            }
            if (rjJqE) {
                if (rjNtK.rgGvF) {
                    for (var i = 0, qiMv = rjNtK.rgGvF.length; i < qiMv; i++) {
                        var wiKx = rjNtK.rgGvF[i];
                        if (attributes[wiKx.buffer.rhHxC] >= 0) {
                            qgIy.bindBuffer(qgIy.ARRAY_BUFFER, wiKx.buffer);
                            shGz.riHyG(attributes[wiKx.buffer.rhHxC]);
                            qgIy.vertexAttribPointer(attributes[wiKx.buffer.rhHxC], wiKx.size, qgIy.FLOAT, false, 0, 0);
                        }
                    }
                }
                if (attributes.color >= 0) {
                    if (object.vhHr.sdIw.length > 0 || object.vhHr.rbGu.length > 0) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rhHtB);
                        shGz.riHyG(attributes.color);
                        qgIy.vertexAttribPointer(attributes.color, 3, qgIy.FLOAT, false, 0, 0);
                    } else if (vfIz.rgJwD !== undefined) {
                        qgIy.vertexAttrib3fv(attributes.color, vfIz.rgJwD.color);
                    }
                }
                if (attributes.normal >= 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgOqG);
                    shGz.riHyG(attributes.normal);
                    qgIy.vertexAttribPointer(attributes.normal, 3, qgIy.FLOAT, false, 0, 0);
                }
                if (attributes.tangent >= 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgMqH);
                    shGz.riHyG(attributes.tangent);
                    qgIy.vertexAttribPointer(attributes.tangent, 4, qgIy.FLOAT, false, 0, 0);
                }
                if (attributes.uv >= 0) {
                    if (object.vhHr.rjNqG[0]) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.riIrE);
                        shGz.riHyG(attributes.uv);
                        qgIy.vertexAttribPointer(attributes.uv, 2, qgIy.FLOAT, false, 0, 0);
                    } else if (vfIz.rgJwD !== undefined) {
                        qgIy.vertexAttrib2fv(attributes.uv, vfIz.rgJwD.uv);
                    }
                }
                if (attributes.uv2 >= 0) {
                    if (object.vhHr.rjNqG[1]) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rhOxB);
                        shGz.riHyG(attributes.uv2);
                        qgIy.vertexAttribPointer(attributes.uv2, 2, qgIy.FLOAT, false, 0, 0);
                    } else if (vfIz.rgJwD !== undefined) {
                        qgIy.vertexAttrib2fv(attributes.uv2, vfIz.rgJwD.uv2);
                    }
                }
                if (vfIz.vbMz && attributes.skinIndex >= 0 && attributes.skinWeight >= 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgHrA);
                    shGz.riHyG(attributes.skinIndex);
                    qgIy.vertexAttribPointer(attributes.skinIndex, 4, qgIy.FLOAT, false, 0, 0);
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgHsK);
                    shGz.riHyG(attributes.skinWeight);
                    qgIy.vertexAttribPointer(attributes.skinWeight, 4, qgIy.FLOAT, false, 0, 0);
                }
                if (attributes.lineDistance >= 0) {
                    qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgHxD);
                    shGz.riHyG(attributes.lineDistance);
                    qgIy.vertexAttribPointer(attributes.lineDistance, 1, qgIy.FLOAT, false, 0, 0);
                }
            }
            shGz.rgIxH();
            if (object instanceof RFITE.rgos) {
                var type = rjNtK.yhJw === Uint32Array ? qgIy.UNSIGNED_INT : qgIy.UNSIGNED_SHORT;
                if (vfIz.xiGt) {
                    shGz.zcHr(vfIz.rgPzB * xaPy);
                    if (rjJqE) qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, rjNtK.rhKtA);
                    qgIy.drawElements(qgIy.LINES, rjNtK.rhOxC, type, 0);
                } else {
                    if (rjJqE) qgIy.bindBuffer(qgIy.ELEMENT_ARRAY_BUFFER, rjNtK.rhKtB);
                    qgIy.drawElements(qgIy.TRIANGLES, rjNtK.rhOxD, type, 0);
                }
                rdIw.info.render.rcIz++;
                rdIw.info.render.wjPq += rjNtK.rhOxD;
                rdIw.info.render.rbGu += rjNtK.rhOxD / 3;
            } else if (object instanceof RFITE.rhjz) {
                var rgNt = (object.rgNt === RFITE.wdls) ? qgIy.LINE_STRIP : qgIy.LINES;
                shGz.zcHr(vfIz.linewidth * xaPy);
                qgIy.drawArrays(rgNt, 0, rjNtK.rhOxC);
                rdIw.info.render.rcIz++;
            } else if (object instanceof RFITE.xaot) {
                qgIy.drawArrays(qgIy.POINTS, 0, rjNtK.rgMqJ);
                rdIw.info.render.rcIz++;
                rdIw.info.render.tiHx += rjNtK.rgMqJ;
            }
        };

        function rhIyG(vfIz, rjNtK, object) {
            var attributes = vfIz.ugOt.attributes;
            if (object.riGyB !== -1 && attributes.position >= 0) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGsK[object.riGyB]);
                shGz.riHyG(attributes.position);
                qgIy.vertexAttribPointer(attributes.position, 3, qgIy.FLOAT, false, 0, 0);
            } else if (attributes.position >= 0) {
                qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgOqE);
                shGz.riHyG(attributes.position);
                qgIy.vertexAttribPointer(attributes.position, 3, qgIy.FLOAT, false, 0, 0);
            }
            if (object.rgJzH.length) {
                var m = 0;
                var order = object.rgJzH;
                var xcNz = object.morphTargetInfluences;
                var wiKx;
                while (m < vfIz.rgHvD && m < order.length) {
                    wiKx = attributes['morphTarget' + m];
                    if (wiKx >= 0) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGsK[order[m]]);
                        shGz.riHyG(wiKx);
                        qgIy.vertexAttribPointer(wiKx, 3, qgIy.FLOAT, false, 0, 0);
                    }
                    wiKx = attributes['morphNormal' + m];
                    if (wiKx >= 0 && vfIz.zdPt) {
                        qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGrA[order[m]]);
                        shGz.riHyG(wiKx);
                        qgIy.vertexAttribPointer(wiKx, 3, qgIy.FLOAT, false, 0, 0);
                    }
                    object.rgGxC[m] = xcNz[order[m]];
                    m++;
                }
            } else {
                var rgJvK = [];
                var xcNz = object.morphTargetInfluences;
                var zdOs = object.vhHr.zdOs;
                if (xcNz.length > zdOs.length) {
                    console.warn('THREE.WebGLRenderer: Influences array is bigger than morphTargets array.');
                    xcNz.length = zdOs.length;
                }
                for (var i = 0, qiMv = xcNz.length; i < qiMv; i++) {
                    var weLz = xcNz[i];
                    rgJvK.push([weLz, i]);
                }
                if (rgJvK.length > vfIz.rgHvD) {
                    rgJvK.sort(rjMyE);
                    rgJvK.length = vfIz.rgHvD;
                } else if (rgJvK.length > vfIz.rgHvE) {
                    rgJvK.sort(rjMyE);
                } else if (rgJvK.length === 0) {
                    rgJvK.push([0, 0]);
                }
                var wiKx;
                for (var m = 0, qiIt = vfIz.rgHvD; m < qiIt; m++) {
                    if (rgJvK[m]) {
                        var riLuB = rgJvK[m][1];
                        wiKx = attributes['morphTarget' + m];
                        if (wiKx >= 0) {
                            qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGsK[riLuB]);
                            shGz.riHyG(wiKx);
                            qgIy.vertexAttribPointer(wiKx, 3, qgIy.FLOAT, false, 0, 0);
                        }
                        wiKx = attributes['morphNormal' + m];
                        if (wiKx >= 0 && vfIz.zdPt) {
                            qgIy.bindBuffer(qgIy.ARRAY_BUFFER, rjNtK.rgGrA[riLuB]);
                            shGz.riHyG(wiKx);
                            qgIy.vertexAttribPointer(wiKx, 3, qgIy.FLOAT, false, 0, 0);
                        }
                        object.rgGxC[m] = xcNz[riLuB];
                    } else {
                        object.rgGxC[m] = 0;
                    }
                }
            }
            if (vfIz.ugOt.vaJx.morphTargetInfluences !== null) {
                qgIy.uniform1fv(vfIz.ugOt.vaJx.morphTargetInfluences, object.rgGxC);
            }
        }

        function rhIuA(a, b) {
            if (a.object.reNqD !== b.object.reNqD) {
                return a.object.reNqD - b.object.reNqD;
            } else if (a.vfIz.id !== b.vfIz.id) {
                return a.vfIz.id - b.vfIz.id;
            } else if (a.z !== b.z) {
                return a.z - b.z;
            } else {
                return a.id - b.id;
            }
        }

        function rgHwH(a, b) {
            if (a.object.reNqD !== b.object.reNqD) {
                return a.object.reNqD - b.object.reNqD;
            }
            if (a.z !== b.z) {
                return b.z - a.z;
            } else {
                return a.id - b.id;
            }
        }

        function rjMyE(a, b) {
            return b[0] - a[0];
        }
        this.render = function(shMq, sdNw, zcMx, xdNv) {
            if (sdNw instanceof RFITE.sdnw === false) {
                RFITE.error('THREE.WebGLRenderer.render: camera is rfKxG an vgJy of THREE.Camera.');
                return;
            }
            var qeIr = shMq.qeIr;
            rgIuD = '';
            rhHuF = -1;
            rjJwC = null;
            rhKvE = true;
            if (shMq.xgJq === true) shMq.rhHsG();
            if (sdNw.parent === undefined) sdNw.rhHsG();
            shMq.vaLx(function(object) {
                if (object instanceof RFITE.zjpu) {
                    object.vbMy.update();
                }
            });
            sdNw.rhGxG.xdJv(sdNw.ycJs);
            rhKxK.rhLqJ(sdNw.projectionMatrix, sdNw.rhGxG);
            ubMy.rjKrE(rhKxK);
            tjPw.length = 0;
            rjLqE.length = 0;
            rgPyG.length = 0;
            ufHy.length = 0;
            xcIv.length = 0;
            rjLvG(shMq);
            if (rdIw.zjOs === true) {
                rjLqE.sort(rhIuA);
                rgPyG.sort(rgHwH);
            }
            rhPzA.render(shMq, sdNw);
            rdIw.info.render.rcIz = 0;
            rdIw.info.render.wjPq = 0;
            rdIw.info.render.rbGu = 0;
            rdIw.info.render.tiHx = 0;
            this.rhPzJ(zcMx);
            if (this.wiJq || xdNv) {
                this.clear(this.riNwE, this.riNwD, this.rhNsB);
            }
            for (var i = 0, qiMv = rgJuB.length; i < qiMv; i++) {
                var ziLx = rgJuB[i];
                var object = ziLx.object;
                if (object.rfIxE) {
                    rjKsH(object, sdNw);
                    rfPqC(ziLx);
                }
            }
            if (shMq.rhLsA) {
                var rhLsA = shMq.rhLsA;
                yaHt(rhLsA);
                rjLxC(rjLqE, sdNw, tjPw, qeIr, rhLsA);
                rjLxC(rgPyG, sdNw, tjPw, qeIr, rhLsA);
                rgIrB(rgJuB, '', sdNw, tjPw, qeIr, rhLsA);
            } else {
                shGz.yaIx(RFITE.xbmv);
                rjLxC(rjLqE, sdNw, tjPw, qeIr, null);
                rgIrB(rgJuB, 'opaque', sdNw, tjPw, qeIr, null);
                rjLxC(rgPyG, sdNw, tjPw, qeIr, null);
                rgIrB(rgJuB, 'zjGv', sdNw, tjPw, qeIr, null);
            }
            zbOx.render(shMq, sdNw);
            riGvF.render(shMq, sdNw, zaMz, rjJwB);
            if (zcMx && zcMx.riGrK && zcMx.wcPw !== RFITE.rjmxg && zcMx.wcPw !== RFITE.zely) {
                rgHxK(zcMx);
            }
            shGz.zcIw(true);
            shGz.rjKrJ(true);
            shGz.rjKqA(true);
        };

        function rjLvG(object) {
            if (object.rfIxE === false) return;
            if (object instanceof RFITE.shmq || object instanceof RFITE.Group) {} else {
                xcMs(object);
                if (object instanceof RFITE.sjlu) {
                    tjPw.push(object);
                } else if (object instanceof RFITE.rfisb) {
                    ufHy.push(object);
                } else if (object instanceof RFITE.wdns) {
                    xcIv.push(object);
                } else {
                    var zaPv = rjPrA[object.id];
                    if (zaPv && (object.rjNsH === false || ubMy.rhMvK(object) === true)) {
                        for (var i = 0, l = zaPv.length; i < l; i++) {
                            var ziLx = zaPv[i];
                            rgLwE(ziLx);
                            ziLx.render = true;
                            if (rdIw.zjOs === true) {
                                ubJx.rgJqA(object.ycJs);
                                ubJx.riIyF(rhKxK);
                                ziLx.z = ubJx.z;
                            }
                        }
                    }
                }
            }
            for (var i = 0, l = object.children.length; i < l; i++) {
                rjLvG(object.children[i]);
            }
        }

        function rjLxC(xaHs, sdNw, tjPw, qeIr, rhLsA) {
            var vfIz;
            for (var i = 0, l = xaHs.length; i < l; i++) {
                var ziLx = xaHs[i];
                var object = ziLx.object;
                var buffer = ziLx.buffer;
                rjKsH(object, sdNw);
                if (rhLsA) {
                    vfIz = rhLsA;
                } else {
                    vfIz = ziLx.vfIz;
                    if (!vfIz) continue;
                    yaHt(vfIz);
                }
                rdIw.rhLwA(vfIz);
                if (buffer instanceof RFITE.rinyf) {
                    rdIw.rgPtE(sdNw, tjPw, qeIr, vfIz, buffer, object);
                } else {
                    rdIw.zcMt(sdNw, tjPw, qeIr, vfIz, buffer, object);
                }
            }
        }

        function rgIrB(xaHs, zeIz, sdNw, tjPw, qeIr, rhLsA) {
            var vfIz;
            for (var i = 0, l = xaHs.length; i < l; i++) {
                var ziLx = xaHs[i];
                var object = ziLx.object;
                if (object.rfIxE) {
                    if (rhLsA) {
                        vfIz = rhLsA;
                    } else {
                        vfIz = ziLx[zeIz];
                        if (!vfIz) continue;
                        yaHt(vfIz);
                    }
                    rdIw.rgJqK(sdNw, tjPw, qeIr, vfIz, object);
                }
            }
        }
        this.rgJqK = function(sdNw, tjPw, qeIr, vfIz, object) {
            var ugOt = yjLw(sdNw, tjPw, qeIr, vfIz, object);
            rgIuD = '';
            rdIw.rhLwA(vfIz);
            if (object.rgIyH) {
                object.rgIyH(ugOt, qgIy, ubMy);
            } else {
                object.render(function(object) {
                    rdIw.rgKzA(object, ugOt, vfIz);
                });
            }
        };

        function rfPqC(vgPz) {
            var object = vgPz.object,
                vfIz = object.vfIz;
            if (vfIz.zjGv) {
                vgPz.zjGv = vfIz;
                vgPz.tiMq = null;
            } else {
                vgPz.tiMq = vfIz;
                vgPz.zjGv = null;
            }
        }

        function rgLwE(vgPz) {
            var object = vgPz.object;
            var buffer = vgPz.buffer;
            var vhHr = object.vhHr;
            var vfIz = object.vfIz;
            if (vfIz instanceof RFITE.rhmzk) {
                var rjMuB = vhHr instanceof RFITE.rinyf ? 0 : buffer.rjMuB;
                vfIz = vfIz.wdIz[rjMuB];
                vgPz.vfIz = vfIz;
                if (vfIz.zjGv) {
                    rgPyG.push(vgPz);
                } else {
                    rjLqE.push(vgPz);
                }
            } else if (vfIz) {
                vgPz.vfIz = vfIz;
                if (vfIz.zjGv) {
                    rgPyG.push(vgPz);
                } else {
                    rjLqE.push(vgPz);
                }
            }
        }

        function xcMs(object) {
            if (object.yhJx === undefined) {
                object.yhJx = true;
                object.rhOzG = new RFITE.uilr();
                object.zaJy = new RFITE.uilq();
                object.addEventListener('removed', rhPsK);
            }
            var vhHr = object.vhHr;
            if (vhHr === undefined) {} else if (vhHr.yhJx === undefined) {
                vhHr.yhJx = true;
                vhHr.addEventListener('dispose', rhItB);
                if (vhHr instanceof RFITE.rinyf) {
                    rdIw.info.tjLy.xdKz++;
                } else if (object instanceof RFITE.rgos) {
                    rhGvF(object, vhHr);
                } else if (object instanceof RFITE.rhjz) {
                    if (vhHr.rgOqE === undefined) {
                        rhJsC(vhHr);
                        riGtB(vhHr, object);
                        vhHr.rgPzH = true;
                        vhHr.rhNvG = true;
                        vhHr.rgIyD = true;
                    }
                } else if (object instanceof RFITE.xaot) {
                    if (vhHr.rgOqE === undefined) {
                        rgKsG(vhHr);
                        rgNqJ(vhHr, object);
                        vhHr.rgPzH = true;
                        vhHr.rhNvG = true;
                    }
                }
            }
            if (object.zaNw === undefined) {
                object.zaNw = true;
                if (object instanceof RFITE.rgos) {
                    if (vhHr instanceof RFITE.rinyf) {
                        wiPv(rjPrA, vhHr, object);
                    } else if (vhHr instanceof RFITE.vhhr) {
                        var rhGuG = riMzC[vhHr.id];
                        for (var i = 0, l = rhGuG.length; i < l; i++) {
                            wiPv(rjPrA, rhGuG[i], object);
                        }
                    }
                } else if (object instanceof RFITE.rhjz || object instanceof RFITE.xaot) {
                    wiPv(rjPrA, vhHr, object);
                } else if (object instanceof RFITE.rgkua || object.rgIyH) {
                    rhHxJ(rgJuB, object);
                }
            }
        }
        var riMzC = {};
        var rgMyF = 0;

        function xbPt(vhHr, rhKsH) {
            var rhGxF = xeHw.get('OES_element_index_uint') ? 4294967296 : 65535;
            var wfHw, vgNs = {};
            var rhPqF = vhHr.zdOs.length;
            var rhPqG = vhHr.zdPt.length;
            var group;
            var sbGt = {};
            var xdHx = [];
            for (var f = 0, qiPr = vhHr.rbGu.length; f < qiPr; f++) {
                var riOw = vhHr.rbGu[f];
                var rjMuB = rhKsH ? riOw.rjMuB : 0;
                if (!(rjMuB in vgNs)) {
                    vgNs[rjMuB] = {
                        hash: rjMuB,
                        tcKv: 0
                    };
                }
                wfHw = vgNs[rjMuB].hash + '_' + vgNs[rjMuB].tcKv;
                if (!(wfHw in sbGt)) {
                    group = {
                        id: rgMyF++,
                        scGx: [],
                        rjMuB: rjMuB,
                        wjPq: 0,
                        rhPqF: rhPqF,
                        rhPqG: rhPqG
                    };
                    sbGt[wfHw] = group;
                    xdHx.push(group);
                }
                if (sbGt[wfHw].wjPq + 3 > rhGxF) {
                    vgNs[rjMuB].tcKv += 1;
                    wfHw = vgNs[rjMuB].hash + '_' + vgNs[rjMuB].tcKv;
                    if (!(wfHw in sbGt)) {
                        group = {
                            id: rgMyF++,
                            scGx: [],
                            rjMuB: rjMuB,
                            wjPq: 0,
                            rhPqF: rhPqF,
                            rhPqG: rhPqG
                        };
                        sbGt[wfHw] = group;
                        xdHx.push(group);
                    }
                }
                sbGt[wfHw].scGx.push(f);
                sbGt[wfHw].wjPq += 3;
            }
            return xdHx;
        }

        function rhGvF(object, vhHr) {
            var vfIz = object.vfIz,
                xgNs = false;
            if (riMzC[vhHr.id] === undefined || vhHr.rhMtD === true) {
                delete rjPrA[object.id];
                riMzC[vhHr.id] = xbPt(vhHr, vfIz instanceof RFITE.rhmzk);
                vhHr.rhMtD = false;
            }
            var rhGuG = riMzC[vhHr.id];
            for (var i = 0, qiMv = rhGuG.length; i < qiMv; i++) {
                var rjNtK = rhGuG[i];
                if (rjNtK.rgOqE === undefined) {
                    rhJsA(rjNtK);
                    riGtA(rjNtK, object);
                    vhHr.rgPzH = true;
                    vhHr.rgJzF = true;
                    vhHr.rhGsA = true;
                    vhHr.rjJsK = true;
                    vhHr.rhItH = true;
                    vhHr.rgPxG = true;
                    vhHr.rhNvG = true;
                    xgNs = true;
                } else {
                    xgNs = false;
                }
                if (xgNs || object.zaNw === undefined) {
                    wiPv(rjPrA, rjNtK, object);
                }
            }
            object.zaNw = true;
        }

        function wiPv(uhOu, buffer, object) {
            var id = object.id;
            uhOu[id] = uhOu[id] || [];
            uhOu[id].push({
                id: id,
                buffer: buffer,
                object: object,
                vfIz: null,
                z: 0
            });
        };

        function rhHxJ(uhOu, object) {
            uhOu.push({
                id: null,
                object: object,
                tiMq: null,
                zjGv: null,
                z: 0
            });
        };

        function zbHs(object) {
            var vhHr = object.vhHr;
            if (vhHr instanceof RFITE.rinyf) {
                var attributes = vhHr.attributes;
                var riNwF = vhHr.riNwF;
                for (var i = 0, l = riNwF.length; i < l; i++) {
                    var key = riNwF[i];
                    var wiKx = attributes[key];
                    var xgGs = (key === 'index') ? qgIy.ELEMENT_ARRAY_BUFFER : qgIy.ARRAY_BUFFER;
                    if (wiKx.buffer === undefined) {
                        wiKx.buffer = qgIy.createBuffer();
                        qgIy.bindBuffer(xgGs, wiKx.buffer);
                        qgIy.bufferData(xgGs, wiKx.array, (wiKx instanceof RFITE.rgjxh) ? qgIy.DYNAMIC_DRAW : qgIy.STATIC_DRAW);
                        wiKx.ycGw = false;
                    } else if (wiKx.ycGw === true) {
                        qgIy.bindBuffer(xgGs, wiKx.buffer);
                        if (wiKx.ziOz === undefined || wiKx.ziOz.count === -1) {
                            qgIy.bufferSubData(xgGs, 0, wiKx.array);
                        } else if (wiKx.ziOz.count === 0) {
                            console.error('THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually.');
                        } else {
                            qgIy.bufferSubData(xgGs, wiKx.ziOz.tiOt * wiKx.array.RHKZB, wiKx.array.subarray(wiKx.ziOz.tiOt, wiKx.ziOz.tiOt + wiKx.ziOz.count));
                            wiKx.ziOz.count = 0;
                        }
                        wiKx.ycGw = false;
                    }
                }
            } else if (object instanceof RFITE.rgos) {
                if (vhHr.rhMtD === true) {
                    rhGvF(object, vhHr);
                }
                var rhGuG = riMzC[vhHr.id];
                for (var i = 0, qiMv = rhGuG.length; i < qiMv; i++) {
                    var rjNtK = rhGuG[i];
                    var vfIz = rhJxK(object, rjNtK);
                    var rgKsD = vfIz.attributes && rgHtF(vfIz);
                    if (vhHr.rgPzH || vhHr.rgJzF || vhHr.rhGsA || vhHr.rjJsK || vhHr.rhItH || vhHr.rhNvG || vhHr.rgPxG || rgKsD) {
                        riJtH(rjNtK, object, qgIy.DYNAMIC_DRAW, !vhHr.tbNv, vfIz);
                    }
                }
                vhHr.rgPzH = false;
                vhHr.rgJzF = false;
                vhHr.rhGsA = false;
                vhHr.rjJsK = false;
                vhHr.rhItH = false;
                vhHr.rhNvG = false;
                vhHr.rgPxG = false;
                vfIz.attributes && rgKrB(vfIz);
            } else if (object instanceof RFITE.rhjz) {
                var vfIz = rhJxK(object, vhHr);
                var rgKsD = vfIz.attributes && rgHtF(vfIz);
                if (vhHr.rgPzH || vhHr.rhNvG || vhHr.rgIyD || rgKsD) {
                    riJtJ(vhHr, qgIy.DYNAMIC_DRAW);
                }
                vhHr.rgPzH = false;
                vhHr.rhNvG = false;
                vhHr.rgIyD = false;
                vfIz.attributes && rgKrB(vfIz);
            } else if (object instanceof RFITE.xaot) {
                var vfIz = rhJxK(object, vhHr);
                var rgKsD = vfIz.attributes && rgHtF(vfIz);
                if (vhHr.rgPzH || vhHr.rhNvG || rgKsD) {
                    rgPuA(vhHr, qgIy.DYNAMIC_DRAW, object);
                }
                vhHr.rgPzH = false;
                vhHr.rhNvG = false;
                vfIz.attributes && rgKrB(vfIz);
            }
        }

        function rgHtF(vfIz) {
            for (var name in vfIz.attributes) {
                if (vfIz.attributes[name].ycGw) return true;
            }
            return false;
        }

        function rgKrB(vfIz) {
            for (var name in vfIz.attributes) {
                vfIz.attributes[name].ycGw = false;
            }
        }

        function zcMq(object) {
            if (object instanceof RFITE.rgos || object instanceof RFITE.xaot || object instanceof RFITE.rhjz) {
                delete rjPrA[object.id];
            } else if (object instanceof RFITE.rgkua || object.rgIyH) {
                rhPxD(rgJuB, object);
            }
            delete object.yhJx;
            delete object.rhOzG;
            delete object.zaJy;
            delete object.zaNw;
        }

        function rhPxD(uhOu, object) {
            for (var o = uhOu.length - 1; o >= 0; o--) {
                if (uhOu[o].object === object) {
                    uhOu.splice(o, 1);
                }
            }
        }
        var waGu = {
            rhisk: 'depth',
            rhgxe: 'normal',
            rhira: 'basic',
            rgnrb: 'lambert',
            rhisj: 'phong',
            rhiqf: 'basic',
            rhgwe: 'dashed',
            rgprf: 'particle_basic'
        };

        function zePq(vfIz, tjPw, qeIr, object) {
            vfIz.addEventListener('dispose', rhIuK);
            var vbNr = waGu[vfIz.type];
            if (vbNr) {
                var tgPt = RFITE.wagv[vbNr];
                vfIz.zaNx = {
                    vaJx: RFITE.rjjqj.rbPq(tgPt.vaJx),
                    zbGw: tgPt.zbGw,
                    riMyF: tgPt.riMyF
                }
            } else {
                vfIz.zaNx = {
                    vaJx: vfIz.vaJx,
                    zbGw: vfIz.zbGw,
                    riMyF: vfIz.riMyF
                }
            }
            var rjMvF = riNuB(tjPw);
            var xbOs = riIxC(tjPw);
            var vfHu = rjPvK(object);
            var xbGu = {
                precision: xhHr,
                rgIsA: rgIvA,
                map: !!vfIz.map,
                scIv: !!vfIz.scIv,
                xeIs: vfIz.scIv && vfIz.scIv.uiMs,
                vfLw: !!vfIz.vfLw,
                tdJv: !!vfIz.tdJv,
                wcKq: !!vfIz.wcKq,
                zjOy: !!vfIz.zjOy,
                uaPv: !!vfIz.uaPv,
                tcNx: vfIz.tcNx,
                zbGu: vfIz.zbGu,
                qeIr: qeIr,
                tfLx: vfIz.qeIr,
                sbMy: qeIr instanceof RFITE.tapz,
                yeGz: vfIz.ufLt === RFITE.yegz,
                rhOqE: vfIz.rhOqE,
                rgJyB: rgIvG,
                vbMz: vfIz.vbMz,
                vfHu: vfHu,
                rhKsG: rgKqF && object && object.vbMy && object.vbMy.rhKsG,
                zdOs: vfIz.zdOs,
                zdPt: vfIz.zdPt,
                riGxA: rdIw.riGxA,
                riGxB: rdIw.riGxB,
                zeHs: rjMvF.directional,
                riKqB: rjMvF.point,
                rjMvE: rjMvF.spot,
                rjMvH: rjMvF.hemi,
                xbOs: xbOs,
                rhLxA: rdIw.rhLxA && object.rjLwE && xbOs > 0,
                rjKtK: rdIw.rjKtK,
                riJtA: rdIw.riJtA,
                rhLxB: rdIw.rhLxB,
                wiNy: vfIz.wiNy,
                sjHv: vfIz.sjHv,
                yhKv: vfIz.yhKv,
                yeKv: vfIz.rfHr === RFITE.xels,
                wfOz: vfIz.rfHr === RFITE.ualq
            };
            var sdKt = [];
            if (vbNr) {
                sdKt.push(vbNr);
            } else {
                sdKt.push(vfIz.riMyF);
                sdKt.push(vfIz.zbGw);
            }
            if (vfIz.tcHz !== undefined) {
                for (var name in vfIz.tcHz) {
                    sdKt.push(name);
                    sdKt.push(vfIz.tcHz[name]);
                }
            }
            for (var name in xbGu) {
                sdKt.push(name);
                sdKt.push(xbGu[name]);
            }
            var rjMw = sdKt.join();
            var ugOt;
            for (var p = 0, qhNq = wjHs.length; p < qhNq; p++) {
                var ybGz = wjHs[p];
                if (ybGz.rjMw === rjMw) {
                    ugOt = ybGz;
                    ugOt.xiJv++;
                    break;
                }
            }
            if (ugOt === undefined) {
                ugOt = new RFITE.zapw(rdIw, rjMw, vfIz, xbGu);
                wjHs.push(ugOt);
                rdIw.info.tjLy.vdIt = wjHs.length;
            }
            vfIz.ugOt = ugOt;
            var attributes = ugOt.attributes;
            if (vfIz.zdOs) {
                vfIz.rgHvD = 0;
                var id, qaGv = 'morphTarget';
                for (var i = 0; i < rdIw.riGxA; i++) {
                    id = qaGv + i;
                    if (attributes[id] >= 0) {
                        vfIz.rgHvD++;
                    }
                }
            }
            if (vfIz.zdPt) {
                vfIz.rgHvE = 0;
                var id, qaGv = 'morphNormal';
                for (i = 0; i < rdIw.riGxB; i++) {
                    id = qaGv + i;
                    if (attributes[id] >= 0) {
                        vfIz.rgHvE++;
                    }
                }
            }
            vfIz.zbIu = [];
            for (var u in vfIz.zaNx.vaJx) {
                var location = vfIz.ugOt.vaJx[u];
                if (location) {
                    vfIz.zbIu.push([vfIz.zaNx.vaJx[u], location]);
                }
            }
        }

        function yaHt(vfIz) {
            if (vfIz.zjGv === true) {
                shGz.yaIx(vfIz.uaKz, vfIz.rjPxD, vfIz.uaJq, vfIz.uaKx, vfIz.rhHyJ, vfIz.rjPxA, vfIz.rjPxE);
            } else {
                shGz.yaIx(RFITE.xbmv);
            }
            shGz.zcIw(vfIz.wgOs);
            shGz.rjKrJ(vfIz.xeOu);
            shGz.rjKqA(vfIz.xfLx);
            shGz.rhLxK(vfIz.rjLtB, vfIz.rgNuB, vfIz.rgPsK);
        }

        function yjLw(sdNw, tjPw, qeIr, vfIz, object) {
            rhKyK = 0;
            if (vfIz.ycGw) {
                if (vfIz.ugOt) rhGrF(vfIz);
                zePq(vfIz, tjPw, qeIr, object);
                vfIz.ycGw = false;
            }
            if (vfIz.zdOs) {
                if (!object.rgGxC) {
                    object.rgGxC = new Float32Array(rdIw.riGxA);
                }
            }
            var riKzD = false;
            var rhPxK = false;
            var rjLwC = false;
            var ugOt = vfIz.ugOt,
                xbHw = ugOt.vaJx,
                xbPq = vfIz.zaNx.vaJx;
            if (ugOt.id !== riIsJ) {
                qgIy.useProgram(ugOt.ugOt);
                riIsJ = ugOt.id;
                riKzD = true;
                rhPxK = true;
                rjLwC = true;
            }
            if (vfIz.id !== rhHuF) {
                if (rhHuF === -1) rjLwC = true;
                rhHuF = vfIz.id;
                rhPxK = true;
            }
            if (riKzD || sdNw !== rjJwC) {
                qgIy.uniformMatrix4fv(xbHw.projectionMatrix, false, sdNw.projectionMatrix.elements);
                if (rgIvG) {
                    qgIy.uniform1f(xbHw.logDepthBufFC, 2.0 / (Math.log(sdNw.qeJq + 1.0) / Math.LN2));
                }
                if (sdNw !== rjJwC) rjJwC = sdNw;
                if (vfIz instanceof RFITE.rijtc || vfIz instanceof RFITE.rhisj || vfIz.scIv) {
                    if (xbHw.cameraPosition !== null) {
                        ubJx.rgJqA(sdNw.ycJs);
                        qgIy.uniform3f(xbHw.cameraPosition, ubJx.x, ubJx.y, ubJx.z);
                    }
                }
                if (vfIz instanceof RFITE.rhisj || vfIz instanceof RFITE.rgnrb || vfIz instanceof RFITE.rhira || vfIz instanceof RFITE.rijtc || vfIz.vbMz) {
                    if (xbHw.viewMatrix !== null) {
                        qgIy.uniformMatrix4fv(xbHw.viewMatrix, false, sdNw.rhGxG.elements);
                    }
                }
            }
            if (vfIz.vbMz) {
                if (object.bindMatrix && xbHw.bindMatrix !== null) {
                    qgIy.uniformMatrix4fv(xbHw.bindMatrix, false, object.bindMatrix.elements);
                }
                if (object.bindMatrixInverse && xbHw.bindMatrixInverse !== null) {
                    qgIy.uniformMatrix4fv(xbHw.bindMatrixInverse, false, object.bindMatrixInverse.elements);
                }
                if (rgKqF && object.vbMy && object.vbMy.rhKsG) {
                    if (xbHw.boneTexture !== null) {
                        var zjIq = riLsF();
                        qgIy.uniform1i(xbHw.boneTexture, zjIq);
                        rdIw.yjKq(object.vbMy.boneTexture, zjIq);
                    }
                    if (xbHw.boneTextureWidth !== null) {
                        qgIy.uniform1i(xbHw.boneTextureWidth, object.vbMy.boneTextureWidth);
                    }
                    if (xbHw.boneTextureHeight !== null) {
                        qgIy.uniform1i(xbHw.boneTextureHeight, object.vbMy.boneTextureHeight);
                    }
                } else if (object.vbMy && object.vbMy.zhHt) {
                    if (xbHw.boneGlobalMatrices !== null) {
                        qgIy.uniformMatrix4fv(xbHw.boneGlobalMatrices, false, object.vbMy.zhHt);
                    }
                }
            }
            if (rhPxK) {
                if (qeIr && vfIz.qeIr) {
                    rgPtH(xbPq, qeIr);
                }
                if (vfIz instanceof RFITE.rhisj || vfIz instanceof RFITE.rgnrb || vfIz.tjPw) {
                    if (rhKvE) {
                        rjLwC = true;
                        yaGr(tjPw);
                        rhKvE = false;
                    }
                    if (rjLwC) {
                        rgKzC(xbPq, teNw);
                        rgGzA(xbPq, true);
                    } else {
                        rgGzA(xbPq, false);
                    }
                }
                if (vfIz instanceof RFITE.rhira || vfIz instanceof RFITE.rgnrb || vfIz instanceof RFITE.rhisj) {
                    rgKzD(xbPq, vfIz);
                }
                if (vfIz instanceof RFITE.rhiqf) {
                    rgNvF(xbPq, vfIz);
                } else if (vfIz instanceof RFITE.rhgwe) {
                    rgNvF(xbPq, vfIz);
                    rgNvG(xbPq, vfIz);
                } else if (vfIz instanceof RFITE.rgprf) {
                    rgHqK(xbPq, vfIz);
                } else if (vfIz instanceof RFITE.rhisj) {
                    rgLuK(xbPq, vfIz);
                } else if (vfIz instanceof RFITE.rgnrb) {
                    rgIrD(xbPq, vfIz);
                } else if (vfIz instanceof RFITE.rhisk) {
                    xbPq.sjGu.value = sdNw.rgMv;
                    xbPq.rgOu.value = sdNw.qeJq;
                    xbPq.opacity.value = vfIz.opacity;
                } else if (vfIz instanceof RFITE.rhgxe) {
                    xbPq.opacity.value = vfIz.opacity;
                }
                if (object.rjLwE && !vfIz.ygMu) {
                    rgKzB(xbPq, tjPw);
                }
                rgNrG(vfIz.zbIu);
            }
            rgLrG(xbHw, object);
            if (xbHw.modelMatrix !== null) {
                qgIy.uniformMatrix4fv(xbHw.modelMatrix, false, object.ycJs.elements);
            }
            return ugOt;
        }

        function rgKzD(vaJx, vfIz) {
            vaJx.opacity.value = vfIz.opacity;
            vaJx.tbPy.value = vfIz.color;
            vaJx.map.value = vfIz.map;
            vaJx.vfLw.value = vfIz.vfLw;
            vaJx.zjOy.value = vfIz.zjOy;
            vaJx.uaPv.value = vfIz.uaPv;
            if (vfIz.tdJv) {
                vaJx.tdJv.value = vfIz.tdJv;
                vaJx.whPw.value = vfIz.whPw;
            }
            if (vfIz.wcKq) {
                vaJx.wcKq.value = vfIz.wcKq;
                vaJx.ybPu.value.rjLt(vfIz.ybPu);
            }
            var yhNw;
            if (vfIz.map) {
                yhNw = vfIz.map;
            } else if (vfIz.zjOy) {
                yhNw = vfIz.zjOy;
            } else if (vfIz.wcKq) {
                yhNw = vfIz.wcKq;
            } else if (vfIz.tdJv) {
                yhNw = vfIz.tdJv;
            } else if (vfIz.uaPv) {
                yhNw = vfIz.uaPv;
            }
            if (yhNw !== undefined) {
                var tiOt = yhNw.tiOt;
                var repeat = yhNw.repeat;
                vaJx.zdLw.value.set(tiOt.x, tiOt.y, repeat.x, repeat.y);
            }
            vaJx.scIv.value = vfIz.scIv;
            vaJx.xdOu.value = (vfIz.scIv instanceof RFITE.rgjsb) ? 1 : -1;
            vaJx.zcNt.value = vfIz.zcNt;
            vaJx.rhPwA.value = vfIz.rhPwA;
        }

        function rgNvF(vaJx, vfIz) {
            vaJx.tbPy.value = vfIz.color;
            vaJx.opacity.value = vfIz.opacity;
        }

        function rgNvG(vaJx, vfIz) {
            vaJx.viPr.value = vfIz.viPr;
            vaJx.xiOy.value = vfIz.viPr + vfIz.taMy;
            vaJx.scale.value = vfIz.scale;
        }

        function rgHqK(vaJx, vfIz) {
            vaJx.ugNq.value = vfIz.color;
            vaJx.opacity.value = vfIz.opacity;
            vaJx.size.value = vfIz.size;
            vaJx.scale.value = teOr.height / 2.0;
            vaJx.map.value = vfIz.map;
            if (vfIz.map !== null) {
                var tiOt = vfIz.map.tiOt;
                var repeat = vfIz.map.repeat;
                vaJx.zdLw.value.set(tiOt.x, tiOt.y, repeat.x, repeat.y);
            }
        }

        function rgPtH(vaJx, qeIr) {
            vaJx.rePsG.value = qeIr.color;
            if (qeIr instanceof RFITE.qeir) {
                vaJx.taOq.value = qeIr.rgMv;
                vaJx.sbMz.value = qeIr.qeJq;
            } else if (qeIr instanceof RFITE.tapz) {
                vaJx.xdOz.value = qeIr.tcGu;
            }
        }

        function rgLuK(vaJx, vfIz) {
            vaJx.xjPq.value = vfIz.xjPq;
            vaJx.viJv.value = vfIz.viJv;
            vaJx.vbKw.value = vfIz.vbKw;
            if (vfIz.yhKv) {
                vaJx.udLy.value.rjLt(vfIz.udLy);
            }
        }

        function rgIrD(vaJx, vfIz) {
            vaJx.viJv.value = vfIz.viJv;
            if (vfIz.yhKv) {
                vaJx.udLy.value.rjLt(vfIz.udLy);
            }
        }

        function rgKzC(vaJx, tjPw) {
            vaJx.rhKyB.value = tjPw.tdPs;
            vaJx.rgKtJ.value = tjPw.directional.sdIw;
            vaJx.rgHzK.value = tjPw.directional.wbKs;
            vaJx.rhPuC.value = tjPw.point.sdIw;
            vaJx.rgPrA.value = tjPw.point.wbKs;
            vaJx.rgPrB.value = tjPw.point.wgLq;
            vaJx.rhPuB.value = tjPw.point.scOz;
            vaJx.riJvG.value = tjPw.spot.sdIw;
            vaJx.rhHqK.value = tjPw.spot.wbKs;
            vaJx.rhIzB.value = tjPw.spot.wgLq;
            vaJx.rgPwK.value = tjPw.spot.xeNx;
            vaJx.rhIzC.value = tjPw.spot.wiMv;
            vaJx.rhIzA.value = tjPw.spot.wgGv;
            vaJx.riJvF.value = tjPw.spot.scOz;
            vaJx.rgIyJ.value = tjPw.hemi.xjOt;
            vaJx.rgGtG.value = tjPw.hemi.zfHv;
            vaJx.rgHuA.value = tjPw.hemi.wbKs;
        }

        function rgGzA(vaJx, value) {
            vaJx.rhKyB.ycGw = value;
            vaJx.rgKtJ.ycGw = value;
            vaJx.rgHzK.ycGw = value;
            vaJx.rhPuC.ycGw = value;
            vaJx.rgPrA.ycGw = value;
            vaJx.rgPrB.ycGw = value;
            vaJx.rhPuB.ycGw = value;
            vaJx.riJvG.ycGw = value;
            vaJx.rhHqK.ycGw = value;
            vaJx.rhIzB.ycGw = value;
            vaJx.rgPwK.ycGw = value;
            vaJx.rhIzC.ycGw = value;
            vaJx.rhIzA.ycGw = value;
            vaJx.riJvF.ycGw = value;
            vaJx.rgIyJ.ycGw = value;
            vaJx.rgGtG.ycGw = value;
            vaJx.rgHuA.ycGw = value;
        }

        function rgKzB(vaJx, tjPw) {
            if (vaJx.zcGv) {
                var j = 0;
                for (var i = 0, qiMv = tjPw.length; i < qiMv; i++) {
                    var sjLu = tjPw[i];
                    if (!sjLu.xfOq) continue;
                    if (sjLu instanceof RFITE.xjmv || (sjLu instanceof RFITE.rhnyg && !sjLu.rjKsB)) {
                        vaJx.waGz.value[j] = sjLu.waGz;
                        vaJx.rjKsA.value[j] = sjLu.rjKsA;
                        vaJx.zcGv.value[j] = sjLu.zcGv;
                        vaJx.riJtB.value[j] = sjLu.riJtB;
                        vaJx.yjKy.value[j] = sjLu.yjKy;
                        j++;
                    }
                }
            }
        }

        function rgLrG(vaJx, object) {
            qgIy.uniformMatrix4fv(vaJx.modelViewMatrix, false, object.rhOzG.elements);
            if (vaJx.normalMatrix) {
                qgIy.uniformMatrix3fv(vaJx.normalMatrix, false, object.zaJy.elements);
            }
        }

        function riLsF() {
            var zjIq = rhKyK;
            if (zjIq >= ziGu) {
                RFITE.warn('WebGLRenderer: trying to use ' + zjIq + ' texture units while this GPU supports only ' + ziGu);
            }
            rhKyK += 1;
            return zjIq;
        }

        function rgNrG(vaJx) {
            var ueMt, zjIq, tiOt;
            for (var j = 0, qiLy = vaJx.length; j < qiLy; j++) {
                var ueHs = vaJx[j][0];
                if (ueHs.ycGw === false) continue;
                var type = ueHs.type;
                var value = ueHs.value;
                var location = vaJx[j][1];
                switch (type) {
                    case '1i':
                        qgIy.uniform1i(location, value);
                        break;
                    case '1f':
                        qgIy.uniform1f(location, value);
                        break;
                    case '2f':
                        qgIy.uniform2f(location, value[0], value[1]);
                        break;
                    case '3f':
                        qgIy.uniform3f(location, value[0], value[1], value[2]);
                        break;
                    case '4f':
                        qgIy.uniform4f(location, value[0], value[1], value[2], value[3]);
                        break;
                    case '1iv':
                        qgIy.uniform1iv(location, value);
                        break;
                    case '3iv':
                        qgIy.uniform3iv(location, value);
                        break;
                    case '1fv':
                        qgIy.uniform1fv(location, value);
                        break;
                    case '2fv':
                        qgIy.uniform2fv(location, value);
                        break;
                    case '3fv':
                        qgIy.uniform3fv(location, value);
                        break;
                    case '4fv':
                        qgIy.uniform4fv(location, value);
                        break;
                    case 'Matrix3fv':
                        qgIy.uniformMatrix3fv(location, false, value);
                        break;
                    case 'Matrix4fv':
                        qgIy.uniformMatrix4fv(location, false, value);
                        break;
                    case 'i':
                        qgIy.uniform1i(location, value);
                        break;
                    case 'f':
                        qgIy.uniform1f(location, value);
                        break;
                    case 'v2':
                        qgIy.uniform2f(location, value.x, value.y);
                        break;
                    case 'v3':
                        qgIy.uniform3f(location, value.x, value.y, value.z);
                        break;
                    case 'v4':
                        qgIy.uniform4f(location, value.x, value.y, value.z, value.w);
                        break;
                    case 'c':
                        qgIy.uniform3f(location, value.r, value.g, value.b);
                        break;
                    case 'iv1':
                        qgIy.uniform1iv(location, value);
                        break;
                    case 'iv':
                        qgIy.uniform3iv(location, value);
                        break;
                    case 'fv1':
                        qgIy.uniform1fv(location, value);
                        break;
                    case 'fv':
                        qgIy.uniform3fv(location, value);
                        break;
                    case 'v2v':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = new Float32Array(2 * value.length);
                        }
                        for (var i = 0, qiMv = value.length; i < qiMv; i++) {
                            tiOt = i * 2;
                            ueHs.sfJz[tiOt] = value[i].x;
                            ueHs.sfJz[tiOt + 1] = value[i].y;
                        }
                        qgIy.uniform2fv(location, ueHs.sfJz);
                        break;
                    case 'v3v':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = new Float32Array(3 * value.length);
                        }
                        for (var i = 0, qiMv = value.length; i < qiMv; i++) {
                            tiOt = i * 3;
                            ueHs.sfJz[tiOt] = value[i].x;
                            ueHs.sfJz[tiOt + 1] = value[i].y;
                            ueHs.sfJz[tiOt + 2] = value[i].z;
                        }
                        qgIy.uniform3fv(location, ueHs.sfJz);
                        break;
                    case 'v4v':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = new Float32Array(4 * value.length);
                        }
                        for (var i = 0, qiMv = value.length; i < qiMv; i++) {
                            tiOt = i * 4;
                            ueHs.sfJz[tiOt] = value[i].x;
                            ueHs.sfJz[tiOt + 1] = value[i].y;
                            ueHs.sfJz[tiOt + 2] = value[i].z;
                            ueHs.sfJz[tiOt + 3] = value[i].w;
                        }
                        qgIy.uniform4fv(location, ueHs.sfJz);
                        break;
                    case 'm3':
                        qgIy.uniformMatrix3fv(location, false, value.elements);
                        break;
                    case 'm3v':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = new Float32Array(9 * value.length);
                        }
                        for (var i = 0, qiMv = value.length; i < qiMv; i++) {
                            value[i].rgMxG(ueHs.sfJz, i * 9);
                        }
                        qgIy.uniformMatrix3fv(location, false, ueHs.sfJz);
                        break;
                    case 'm4':
                        qgIy.uniformMatrix4fv(location, false, value.elements);
                        break;
                    case 'm4v':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = new Float32Array(16 * value.length);
                        }
                        for (var i = 0, qiMv = value.length; i < qiMv; i++) {
                            value[i].rgMxG(ueHs.sfJz, i * 16);
                        }
                        qgIy.uniformMatrix4fv(location, false, ueHs.sfJz);
                        break;
                    case 't':
                        ueMt = value;
                        zjIq = riLsF();
                        qgIy.uniform1i(location, zjIq);
                        if (!ueMt) continue;
                        if (ueMt instanceof RFITE.yfgz || (ueMt.image instanceof Array && ueMt.image.length === 6)) {
                            riJsC(ueMt, zjIq);
                        } else if (ueMt instanceof RFITE.rgjsb) {
                            rgJqC(ueMt, zjIq);
                        } else {
                            rdIw.yjKq(ueMt, zjIq);
                        }
                        break;
                    case 'tv':
                        if (ueHs.sfJz === undefined) {
                            ueHs.sfJz = [];
                        }
                        for (var i = 0, qiMv = ueHs.value.length; i < qiMv; i++) {
                            ueHs.sfJz[i] = riLsF();
                        }
                        qgIy.uniform1iv(location, ueHs.sfJz);
                        for (var i = 0, qiMv = ueHs.value.length; i < qiMv; i++) {
                            ueMt = ueHs.value[i];
                            zjIq = ueHs.sfJz[i];
                            if (!ueMt) continue;
                            rdIw.yjKq(ueMt, zjIq);
                        }
                        break;
                    default:
                        RFITE.warn('THREE.WebGLRenderer: Unknown uniform type: ' + type);
                }
            }
        }

        function rjKsH(object, sdNw) {
            object.rhOzG.rhLqJ(sdNw.rhGxG, object.ycJs);
            object.zaJy.riGrA(object.rhOzG);
        }

        function riJsE(array, tiOt, color, weIw) {
            array[tiOt] = color.r * weIw;
            array[tiOt + 1] = color.g * weIw;
            array[tiOt + 2] = color.b * weIw;
        }

        function yaGr(tjPw) {
            var l, qiJr, sjLu, r = 0,
                g = 0,
                b = 0,
                color, vbLr, ydKx, weIw, viLy, ubOv = teNw,
                wgNx = ubOv.directional.sdIw,
                zgHz = ubOv.directional.wbKs,
                ybIs = ubOv.point.sdIw,
                riKxD = ubOv.point.wbKs,
                riKxJ = ubOv.point.wgLq,
                ybIt = ubOv.point.scOz,
                yjGq = ubOv.spot.sdIw,
                rjKvH = ubOv.spot.wbKs,
                rjKvK = ubOv.spot.wgLq,
                riJvJ = ubOv.spot.xeNx,
                rjKuA = ubOv.spot.wiMv,
                rjKvJ = ubOv.spot.wgGv,
                yjGr = ubOv.spot.scOz,
                rjNxH = ubOv.hemi.xjOt,
                rhMuG = ubOv.hemi.zfHv,
                rjNxJ = ubOv.hemi.wbKs,
                wgMq = 0,
                ybHq = 0,
                yjGt = 0,
                xdGz = 0,
                viMw = 0,
                xaOu = 0,
                xjMu = 0,
                wePt = 0,
                wgMs = 0,
                ybHs = 0,
                yjGv = 0,
                xcPr = 0;
            for (l = 0, qiJr = tjPw.length; l < qiJr; l++) {
                sjLu = tjPw[l];
                if (sjLu.xbKy) continue;
                color = sjLu.color;
                weIw = sjLu.weIw;
                viLy = sjLu.viLy;
                if (sjLu instanceof RFITE.zhks) {
                    if (!sjLu.rfIxE) continue;
                    r += color.r;
                    g += color.g;
                    b += color.b;
                } else if (sjLu instanceof RFITE.rhnyg) {
                    viMw += 1;
                    if (!sjLu.rfIxE) continue;
                    xhLq.rgJqA(sjLu.ycJs);
                    ubJx.rgJqA(sjLu.target.ycJs);
                    xhLq.sub(ubJx);
                    xhLq.normalize();
                    wgMs = wgMq * 3;
                    zgHz[wgMs] = xhLq.x;
                    zgHz[wgMs + 1] = xhLq.y;
                    zgHz[wgMs + 2] = xhLq.z;
                    riJsE(wgNx, wgMs, color, weIw);
                    wgMq += 1;
                } else if (sjLu instanceof RFITE.xaow) {
                    xaOu += 1;
                    if (!sjLu.rfIxE) continue;
                    ybHs = ybHq * 3;
                    riJsE(ybIs, ybHs, color, weIw);
                    ubJx.rgJqA(sjLu.ycJs);
                    riKxD[ybHs] = ubJx.x;
                    riKxD[ybHs + 1] = ubJx.y;
                    riKxD[ybHs + 2] = ubJx.z;
                    riKxJ[ybHq] = viLy;
                    ybIt[ybHq] = (sjLu.viLy === 0) ? 0.0 : sjLu.rbNz;
                    ybHq += 1;
                } else if (sjLu instanceof RFITE.xjmv) {
                    xjMu += 1;
                    if (!sjLu.rfIxE) continue;
                    yjGv = yjGt * 3;
                    riJsE(yjGq, yjGv, color, weIw);
                    xhLq.rgJqA(sjLu.ycJs);
                    rjKvH[yjGv] = xhLq.x;
                    rjKvH[yjGv + 1] = xhLq.y;
                    rjKvH[yjGv + 2] = xhLq.z;
                    rjKvK[yjGt] = viLy;
                    ubJx.rgJqA(sjLu.target.ycJs);
                    xhLq.sub(ubJx);
                    xhLq.normalize();
                    riJvJ[yjGv] = xhLq.x;
                    riJvJ[yjGv + 1] = xhLq.y;
                    riJvJ[yjGv + 2] = xhLq.z;
                    rjKuA[yjGt] = Math.cos(sjLu.rcOr);
                    rjKvJ[yjGt] = sjLu.vhPt;
                    yjGr[yjGt] = (sjLu.viLy === 0) ? 0.0 : sjLu.rbNz;
                    yjGt += 1;
                } else if (sjLu instanceof RFITE.rigth) {
                    wePt += 1;
                    if (!sjLu.rfIxE) continue;
                    xhLq.rgJqA(sjLu.ycJs);
                    xhLq.normalize();
                    xcPr = xdGz * 3;
                    rjNxJ[xcPr] = xhLq.x;
                    rjNxJ[xcPr + 1] = xhLq.y;
                    rjNxJ[xcPr + 2] = xhLq.z;
                    vbLr = sjLu.color;
                    ydKx = sjLu.ydKx;
                    riJsE(rjNxH, xcPr, vbLr, weIw);
                    riJsE(rhMuG, xcPr, ydKx, weIw);
                    xdGz += 1;
                }
            }
            for (l = wgMq * 3, qiJr = Math.max(wgNx.length, viMw * 3); l < qiJr; l++) wgNx[l] = 0.0;
            for (l = ybHq * 3, qiJr = Math.max(ybIs.length, xaOu * 3); l < qiJr; l++) ybIs[l] = 0.0;
            for (l = yjGt * 3, qiJr = Math.max(yjGq.length, xjMu * 3); l < qiJr; l++) yjGq[l] = 0.0;
            for (l = xdGz * 3, qiJr = Math.max(rjNxH.length, wePt * 3); l < qiJr; l++) rjNxH[l] = 0.0;
            for (l = xdGz * 3, qiJr = Math.max(rhMuG.length, wePt * 3); l < qiJr; l++) rhMuG[l] = 0.0;
            ubOv.directional.length = wgMq;
            ubOv.point.length = ybHq;
            ubOv.spot.length = yjGt;
            ubOv.hemi.length = xdGz;
            ubOv.tdPs[0] = r;
            ubOv.tdPs[1] = g;
            ubOv.tdPs[2] = b;
        }
        this.riJsA = function(vjHz, rhGtC) {
            if (vjHz === RFITE.zgkv) {
                qgIy.disable(qgIy.CULL_FACE);
            } else {
                if (rhGtC === RFITE.rgmyk) {
                    qgIy.frontFace(qgIy.CW);
                } else {
                    qgIy.frontFace(qgIy.CCW);
                }
                if (vjHz === RFITE.zgku) {
                    qgIy.cullFace(qgIy.BACK);
                } else if (vjHz === RFITE.rjotk) {
                    qgIy.cullFace(qgIy.FRONT);
                } else {
                    qgIy.cullFace(qgIy.FRONT_AND_BACK);
                }
                qgIy.enable(qgIy.CULL_FACE);
            }
        };
        this.rhLwA = function(vfIz) {
            shGz.riJsB(vfIz.rfHr === RFITE.xels);
            shGz.zcIz(vfIz.rfHr === RFITE.ualq);
        };

        function rgLvE(zjJz, ueMt, rhJzD) {
            var wgGy;
            if (rhJzD) {
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_WRAP_S, riKvB(ueMt.sfMy));
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_WRAP_T, riKvB(ueMt.sfMz));
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_MAG_FILTER, riKvB(ueMt.wdJt));
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_MIN_FILTER, riKvB(ueMt.wcPw));
            } else {
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_WRAP_S, qgIy.CLAMP_TO_EDGE);
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_WRAP_T, qgIy.CLAMP_TO_EDGE);
                if (ueMt.sfMy !== RFITE.rgovj || ueMt.sfMz !== RFITE.rgovj) {
                    RFITE.warn('THREE.WebGLRenderer: Texture is rfKxG rfGsG of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( ' + ueMt.yjHt + ' )');
                }
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_MAG_FILTER, riMxC(ueMt.wdJt));
                qgIy.texParameteri(zjJz, qgIy.TEXTURE_MIN_FILTER, riMxC(ueMt.wcPw));
                if (ueMt.wcPw !== RFITE.rjmxg && ueMt.wcPw !== RFITE.zely) {
                    RFITE.warn('THREE.WebGLRenderer: Texture is rfKxG rfGsG of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( ' + ueMt.yjHt + ' )');
                }
            }
            wgGy = xeHw.get('EXT_texture_filter_anisotropic');
            if (wgGy && ueMt.type !== RFITE.wfnq && ueMt.type !== RFITE.rjnwe) {
                if (ueMt.xgLr > 1 || ueMt.rgOqJ) {
                    qgIy.texParameterf(zjJz, wgGy.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(ueMt.xgLr, rdIw.rhMsK()));
                    ueMt.rgOqJ = ueMt.xgLr;
                }
            }
        }
        this.rjJrJ = function(ueMt) {
            if (ueMt.yhJx === undefined) {
                ueMt.yhJx = true;
                ueMt.addEventListener('dispose', rhLsD);
                ueMt.rjJvH = qgIy.createTexture();
                rdIw.info.tjLy.vaOy++;
            }
            qgIy.bindTexture(qgIy.TEXTURE_2D, ueMt.rjJvH);
            qgIy.pixelStorei(qgIy.UNPACK_FLIP_Y_WEBGL, ueMt.raOv);
            qgIy.pixelStorei(qgIy.UNPACK_PREMULTIPLY_ALPHA_WEBGL, ueMt.rhLuG);
            qgIy.pixelStorei(qgIy.UNPACK_ALIGNMENT, ueMt.rhOuK);
            ueMt.image = riMqB(ueMt.image, riItA);
            var image = ueMt.image,
                rhJzD = RFITE.Math.zeNt(image.width) && RFITE.Math.zeNt(image.height),
                vgPw = riKvB(ueMt.format),
                sbHt = riKvB(ueMt.type);
            rgLvE(qgIy.TEXTURE_2D, ueMt, rhJzD);
            var tjJr, uiJs = ueMt.uiJs;
            if (ueMt instanceof RFITE.yeor) {
                if (uiJs.length > 0 && rhJzD) {
                    for (var i = 0, qiMv = uiJs.length; i < qiMv; i++) {
                        tjJr = uiJs[i];
                        qgIy.texImage2D(qgIy.TEXTURE_2D, i, vgPw, tjJr.width, tjJr.height, 0, vgPw, sbHt, tjJr.data);
                    }
                    ueMt.riGrK = false;
                } else {
                    qgIy.texImage2D(qgIy.TEXTURE_2D, 0, vgPw, image.width, image.height, 0, vgPw, sbHt, image.data);
                }
            } else if (ueMt instanceof RFITE.rhjrb) {
                for (var i = 0, qiMv = uiJs.length; i < qiMv; i++) {
                    tjJr = uiJs[i];
                    if (ueMt.format !== RFITE.yjps && ueMt.format !== RFITE.wamx) {
                        if (rgGwD().indexOf(vgPw) > -1) {
                            qgIy.compressedTexImage2D(qgIy.TEXTURE_2D, i, vgPw, tjJr.width, tjJr.height, 0, tjJr.data);
                        } else {
                            RFITE.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");
                        }
                    } else {
                        qgIy.texImage2D(qgIy.TEXTURE_2D, i, vgPw, tjJr.width, tjJr.height, 0, vgPw, sbHt, tjJr.data);
                    }
                }
            } else {
                if (uiJs.length > 0 && rhJzD) {
                    for (var i = 0, qiMv = uiJs.length; i < qiMv; i++) {
                        tjJr = uiJs[i];
                        qgIy.texImage2D(qgIy.TEXTURE_2D, i, vgPw, vgPw, sbHt, tjJr);
                    }
                    ueMt.riGrK = false;
                } else {
                    qgIy.texImage2D(qgIy.TEXTURE_2D, 0, vgPw, vgPw, sbHt, ueMt.image);
                }
            }
            if (ueMt.riGrK && rhJzD) qgIy.generateMipmap(qgIy.TEXTURE_2D);
            ueMt.ycGw = false;
            if (ueMt.veHr) ueMt.veHr();
        };
        this.yjKq = function(ueMt, rfGs) {
            qgIy.activeTexture(qgIy.TEXTURE0 + rfGs);
            if (ueMt.ycGw) {
                rdIw.rjJrJ(ueMt);
            } else {
                qgIy.bindTexture(qgIy.TEXTURE_2D, ueMt.rjJvH);
            }
        };

        function riMqB(image, uiLw) {
            if (image.width > uiLw || image.height > uiLw) {
                var scale = uiLw / Math.max(image.width, image.height);
                var canvas = document.createElement('canvas');
                canvas.width = Math.floor(image.width * scale);
                canvas.height = Math.floor(image.height * scale);
                var tcLv = canvas.getContext('2d');
                tcLv.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);
                RFITE.warn('THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);
                return canvas;
            }
            return image;
        }

        function riJsC(ueMt, rfGs) {
            if (ueMt.image.length === 6) {
                if (ueMt.ycGw) {
                    if (!ueMt.image.rhHuJ) {
                        ueMt.addEventListener('dispose', rhLsD);
                        ueMt.image.rhHuJ = qgIy.createTexture();
                        rdIw.info.tjLy.vaOy++;
                    }
                    qgIy.activeTexture(qgIy.TEXTURE0 + rfGs);
                    qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, ueMt.image.rhHuJ);
                    qgIy.pixelStorei(qgIy.UNPACK_FLIP_Y_WEBGL, ueMt.raOv);
                    var zeNr = ueMt instanceof RFITE.rhjrb;
                    var rjMqK = ueMt.image[0] instanceof RFITE.yeor;
                    var whHs = [];
                    for (var i = 0; i < 6; i++) {
                        if (rdIw.rhKzK && !zeNr && !rjMqK) {
                            whHs[i] = riMqB(ueMt.image[i], riItB);
                        } else {
                            whHs[i] = rjMqK ? ueMt.image[i].image : ueMt.image[i];
                        }
                    }
                    var image = whHs[0],
                        rhJzD = RFITE.Math.zeNt(image.width) && RFITE.Math.zeNt(image.height),
                        vgPw = riKvB(ueMt.format),
                        sbHt = riKvB(ueMt.type);
                    rgLvE(qgIy.TEXTURE_CUBE_MAP, ueMt, rhJzD);
                    for (var i = 0; i < 6; i++) {
                        if (!zeNr) {
                            if (rjMqK) {
                                qgIy.texImage2D(qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, vgPw, whHs[i].width, whHs[i].height, 0, vgPw, sbHt, whHs[i].data);
                            } else {
                                qgIy.texImage2D(qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, vgPw, vgPw, sbHt, whHs[i]);
                            }
                        } else {
                            var tjJr, uiJs = whHs[i].uiJs;
                            for (var j = 0, qiLy = uiJs.length; j < qiLy; j++) {
                                tjJr = uiJs[j];
                                if (ueMt.format !== RFITE.yjps && ueMt.format !== RFITE.wamx) {
                                    if (rgGwD().indexOf(vgPw) > -1) {
                                        qgIy.compressedTexImage2D(qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, vgPw, tjJr.width, tjJr.height, 0, tjJr.data);
                                    } else {
                                        RFITE.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()");
                                    }
                                } else {
                                    qgIy.texImage2D(qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, vgPw, tjJr.width, tjJr.height, 0, vgPw, sbHt, tjJr.data);
                                }
                            }
                        }
                    }
                    if (ueMt.riGrK && rhJzD) {
                        qgIy.generateMipmap(qgIy.TEXTURE_CUBE_MAP);
                    }
                    ueMt.ycGw = false;
                    if (ueMt.veHr) ueMt.veHr();
                } else {
                    qgIy.activeTexture(qgIy.TEXTURE0 + rfGs);
                    qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, ueMt.image.rhHuJ);
                }
            }
        }

        function rgJqC(ueMt, rfGs) {
            qgIy.activeTexture(qgIy.TEXTURE0 + rfGs);
            qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, ueMt.rjJvH);
        }

        function rhLxF(ydOq, zcMx, rjKxB) {
            qgIy.bindFramebuffer(qgIy.FRAMEBUFFER, ydOq);
            qgIy.framebufferTexture2D(qgIy.FRAMEBUFFER, qgIy.COLOR_ATTACHMENT0, rjKxB, zcMx.rjJvH, 0);
        }

        function rhIyF(zcMt, zcMx) {
            qgIy.bindRenderbuffer(qgIy.RENDERBUFFER, zcMt);
            if (zcMx.yeNs && !zcMx.rjKwJ) {
                qgIy.renderbufferStorage(qgIy.RENDERBUFFER, qgIy.DEPTH_COMPONENT16, zcMx.width, zcMx.height);
                qgIy.framebufferRenderbuffer(qgIy.FRAMEBUFFER, qgIy.DEPTH_ATTACHMENT, qgIy.RENDERBUFFER, zcMt);
            } else if (zcMx.yeNs && zcMx.rjKwJ) {
                qgIy.renderbufferStorage(qgIy.RENDERBUFFER, qgIy.DEPTH_STENCIL, zcMx.width, zcMx.height);
                qgIy.framebufferRenderbuffer(qgIy.FRAMEBUFFER, qgIy.DEPTH_STENCIL_ATTACHMENT, qgIy.RENDERBUFFER, zcMt);
            } else {
                qgIy.renderbufferStorage(qgIy.RENDERBUFFER, qgIy.RGBA4, zcMx.width, zcMx.height);
            }
        }
        this.rhPzJ = function(zcMx) {
            var saLw = (zcMx instanceof RFITE.rgjsb);
            if (zcMx && zcMx.rhHtA === undefined) {
                if (zcMx.yeNs === undefined) zcMx.yeNs = true;
                if (zcMx.rjKwJ === undefined) zcMx.rjKwJ = true;
                zcMx.addEventListener('dispose', rgKxA);
                zcMx.rjJvH = qgIy.createTexture();
                rdIw.info.tjLy.vaOy++;
                var rhGwF = RFITE.Math.zeNt(zcMx.width) && RFITE.Math.zeNt(zcMx.height),
                    vgPw = riKvB(zcMx.format),
                    sbHt = riKvB(zcMx.type);
                if (saLw) {
                    zcMx.rhHtA = [];
                    zcMx.rgOqF = [];
                    qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, zcMx.rjJvH);
                    rgLvE(qgIy.TEXTURE_CUBE_MAP, zcMx, rhGwF);
                    for (var i = 0; i < 6; i++) {
                        zcMx.rhHtA[i] = qgIy.createFramebuffer();
                        zcMx.rgOqF[i] = qgIy.createRenderbuffer();
                        qgIy.texImage2D(qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, vgPw, zcMx.width, zcMx.height, 0, vgPw, sbHt, null);
                        rhLxF(zcMx.rhHtA[i], zcMx, qgIy.TEXTURE_CUBE_MAP_POSITIVE_X + i);
                        rhIyF(zcMx.rgOqF[i], zcMx);
                    }
                    if (rhGwF) qgIy.generateMipmap(qgIy.TEXTURE_CUBE_MAP);
                } else {
                    zcMx.rhHtA = qgIy.createFramebuffer();
                    if (zcMx.riJuJ) {
                        zcMx.rgOqF = zcMx.riJuJ.rgOqF;
                    } else {
                        zcMx.rgOqF = qgIy.createRenderbuffer();
                    }
                    qgIy.bindTexture(qgIy.TEXTURE_2D, zcMx.rjJvH);
                    rgLvE(qgIy.TEXTURE_2D, zcMx, rhGwF);
                    qgIy.texImage2D(qgIy.TEXTURE_2D, 0, vgPw, zcMx.width, zcMx.height, 0, vgPw, sbHt, null);
                    rhLxF(zcMx.rhHtA, zcMx, qgIy.TEXTURE_2D);
                    if (zcMx.riJuJ) {
                        if (zcMx.yeNs && !zcMx.rjKwJ) {
                            qgIy.framebufferRenderbuffer(qgIy.FRAMEBUFFER, qgIy.DEPTH_ATTACHMENT, qgIy.RENDERBUFFER, zcMx.rgOqF);
                        } else if (zcMx.yeNs && zcMx.rjKwJ) {
                            qgIy.framebufferRenderbuffer(qgIy.FRAMEBUFFER, qgIy.DEPTH_STENCIL_ATTACHMENT, qgIy.RENDERBUFFER, zcMx.rgOqF);
                        }
                    } else {
                        rhIyF(zcMx.rgOqF, zcMx);
                    }
                    if (rhGwF) qgIy.generateMipmap(qgIy.TEXTURE_2D);
                }
                if (saLw) {
                    qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, null);
                } else {
                    qgIy.bindTexture(qgIy.TEXTURE_2D, null);
                }
                qgIy.bindRenderbuffer(qgIy.RENDERBUFFER, null);
                qgIy.bindFramebuffer(qgIy.FRAMEBUFFER, null);
            }
            var ydOq, width, height, qgNs, qgNt;
            if (zcMx) {
                if (saLw) {
                    ydOq = zcMx.rhHtA[zcMx.riNtC];
                } else {
                    ydOq = zcMx.rhHtA;
                }
                width = zcMx.width;
                height = zcMx.height;
                qgNs = 0;
                qgNt = 0;
            } else {
                ydOq = null;
                width = rjIsH;
                height = riIwB;
                qgNs = xgPv;
                qgNt = xgPw;
            }
            if (ydOq !== rgOrF) {
                qgIy.bindFramebuffer(qgIy.FRAMEBUFFER, ydOq);
                qgIy.viewport(qgNs, qgNt, width, height);
                rgOrF = ydOq;
            }
            zaMz = width;
            rjJwB = height;
        };
        this.rgIrE = function(zcMx, x, y, width, height, buffer) {
            if (!(zcMx instanceof RFITE.rhhth)) {
                console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');
                return;
            }
            if (zcMx.rhHtA) {
                if (zcMx.format !== RFITE.yjps) {
                    console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA format. readPixels can read only RGBA format.');
                    return;
                }
                var restore = false;
                if (zcMx.rhHtA !== rgOrF) {
                    qgIy.bindFramebuffer(qgIy.FRAMEBUFFER, zcMx.rhHtA);
                    restore = true;
                }
                if (qgIy.checkFramebufferStatus(qgIy.FRAMEBUFFER) === qgIy.FRAMEBUFFER_COMPLETE) {
                    qgIy.readPixels(x, y, width, height, qgIy.RGBA, qgIy.UNSIGNED_BYTE, buffer);
                } else {
                    console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');
                }
                if (restore) {
                    qgIy.bindFramebuffer(qgIy.FRAMEBUFFER, rgOrF);
                }
            }
        };

        function rgHxK(zcMx) {
            if (zcMx instanceof RFITE.rgjsb) {
                qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, zcMx.rjJvH);
                qgIy.generateMipmap(qgIy.TEXTURE_CUBE_MAP);
                qgIy.bindTexture(qgIy.TEXTURE_CUBE_MAP, null);
            } else {
                qgIy.bindTexture(qgIy.TEXTURE_2D, zcMx.rjJvH);
                qgIy.generateMipmap(qgIy.TEXTURE_2D);
                qgIy.bindTexture(qgIy.TEXTURE_2D, null);
            }
        }

        function riMxC(f) {
            if (f === RFITE.rjmxg || f === RFITE.rgguk || f === RFITE.rggqc) {
                return qgIy.NEAREST;
            }
            return qgIy.LINEAR;
        }

        function riKvB(p) {
            var wgGy;
            if (p === RFITE.rijqe) return qgIy.REPEAT;
            if (p === RFITE.rgovj) return qgIy.CLAMP_TO_EDGE;
            if (p === RFITE.rgjzj) return qgIy.MIRRORED_REPEAT;
            if (p === RFITE.rjmxg) return qgIy.NEAREST;
            if (p === RFITE.rgguk) return qgIy.NEAREST_MIPMAP_NEAREST;
            if (p === RFITE.rggqc) return qgIy.NEAREST_MIPMAP_LINEAR;
            if (p === RFITE.zely) return qgIy.LINEAR;
            if (p === RFITE.rggqg) return qgIy.LINEAR_MIPMAP_NEAREST;
            if (p === RFITE.rghvh) return qgIy.LINEAR_MIPMAP_LINEAR;
            if (p === RFITE.rhkrf) return qgIy.UNSIGNED_BYTE;
            if (p === RFITE.rgjsh) return qgIy.UNSIGNED_SHORT_4_4_4_4;
            if (p === RFITE.rgjsg) return qgIy.UNSIGNED_SHORT_5_5_5_1;
            if (p === RFITE.rglwc) return qgIy.UNSIGNED_SHORT_5_6_5;
            if (p === RFITE.uagq) return qgIy.BYTE;
            if (p === RFITE.xjpt) return qgIy.SHORT;
            if (p === RFITE.rhhsh) return qgIy.UNSIGNED_SHORT;
            if (p === RFITE.ujmy) return qgIy.INT;
            if (p === RFITE.rhouh) return qgIy.UNSIGNED_INT;
            if (p === RFITE.wfnq) return qgIy.FLOAT;
            wgGy = xeHw.get('OES_texture_half_float');
            if (wgGy !== null) {
                if (p === RFITE.rjnwe) return wgGy.HALF_FLOAT_OES;
            }
            if (p === RFITE.ygiq) return qgIy.ALPHA;
            if (p === RFITE.wamx) return qgIy.RGB;
            if (p === RFITE.yjps) return qgIy.RGBA;
            if (p === RFITE.rigwj) return qgIy.LUMINANCE;
            if (p === RFITE.rglre) return qgIy.LUMINANCE_ALPHA;
            if (p === RFITE.ygky) return qgIy.FUNC_ADD;
            if (p === RFITE.rhlzj) return qgIy.FUNC_SUBTRACT;
            if (p === RFITE.rghqj) return qgIy.FUNC_REVERSE_SUBTRACT;
            if (p === RFITE.yhky) return qgIy.ZERO;
            if (p === RFITE.wciu) return qgIy.ONE;
            if (p === RFITE.rijva) return qgIy.SRC_COLOR;
            if (p === RFITE.rgiqd) return qgIy.ONE_MINUS_SRC_COLOR;
            if (p === RFITE.rijvb) return qgIy.SRC_ALPHA;
            if (p === RFITE.rgiqe) return qgIy.ONE_MINUS_SRC_ALPHA;
            if (p === RFITE.rimvc) return qgIy.DST_ALPHA;
            if (p === RFITE.rgiqg) return qgIy.ONE_MINUS_DST_ALPHA;
            if (p === RFITE.rimvb) return qgIy.DST_COLOR;
            if (p === RFITE.rgiqf) return qgIy.ONE_MINUS_DST_COLOR;
            if (p === RFITE.rgisb) return qgIy.SRC_ALPHA_SATURATE;
            wgGy = xeHw.get('WEBGL_compressed_texture_s3tc');
            if (wgGy !== null) {
                if (p === RFITE.rgluf) return wgGy.COMPRESSED_RGB_S3TC_DXT1_EXT;
                if (p === RFITE.rgjqh) return wgGy.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                if (p === RFITE.rgjqg) return wgGy.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                if (p === RFITE.rgjqf) return wgGy.COMPRESSED_RGBA_S3TC_DXT5_EXT;
            }
            wgGy = xeHw.get('WEBGL_compressed_texture_pvrtc');
            if (wgGy !== null) {
                if (p === RFITE.rghqg) return wgGy.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                if (p === RFITE.rghqh) return wgGy.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                if (p === RFITE.rghwf) return wgGy.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                if (p === RFITE.rghwg) return wgGy.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
            }
            wgGy = xeHw.get('EXT_blend_minmax');
            if (wgGy !== null) {
                if (p === RFITE.ycit) return wgGy.MIN_EXT;
                if (p === RFITE.ycjv) return wgGy.MAX_EXT;
            }
            return 0;
        }

        function rjPvK(object) {
            if (rgKqF && object && object.vbMy && object.vbMy.rhKsG) {
                return 1024;
            } else {
                var rhPqB = qgIy.getParameter(qgIy.MAX_VERTEX_UNIFORM_VECTORS);
                var rhPqC = Math.floor((rhPqB - 20) / 4);
                var vfHu = rhPqC;
                if (object !== undefined && object instanceof RFITE.zjpu) {
                    vfHu = Math.min(object.vbMy.rcJr.length, vfHu);
                    if (vfHu < object.vbMy.rcJr.length) {
                        RFITE.warn('WebGLRenderer: too many bones - ' + object.vbMy.rcJr.length + ', this GPU supports just ' + vfHu + ' (try OpenGL instead of RCOR)');
                    }
                }
                return vfHu;
            }
        }

        function riNuB(tjPw) {
            var wgMr = 0;
            var ybHr = 0;
            var yjGu = 0;
            var xcPq = 0;
            for (var l = 0, qiJr = tjPw.length; l < qiJr; l++) {
                var sjLu = tjPw[l];
                if (sjLu.xbKy || sjLu.rfIxE === false) continue;
                if (sjLu instanceof RFITE.rhnyg) wgMr++;
                if (sjLu instanceof RFITE.xaow) ybHr++;
                if (sjLu instanceof RFITE.xjmv) yjGu++;
                if (sjLu instanceof RFITE.rigth) xcPq++;
            }
            return {
                'directional': wgMr,
                'point': ybHr,
                'spot': yjGu,
                'hemi': xcPq
            };
        }

        function riIxC(tjPw) {
            var xbOs = 0;
            for (var l = 0, qiJr = tjPw.length; l < qiJr; l++) {
                var sjLu = tjPw[l];
                if (!sjLu.xfOq) continue;
                if (sjLu instanceof RFITE.xjmv) xbOs++;
                if (sjLu instanceof RFITE.rhnyg && !sjLu.rjKsB) xbOs++;
            }
            return xbOs;
        }
        this.zePq = function() {
            RFITE.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');
        };
        this.zhLv = function() {
            RFITE.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');
        };
        this.rjPuD = function() {
            RFITE.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');
        };
        this.rhOuD = function() {
            RFITE.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');
        };
    };
    RFITE.rhhth = function(width, height, uhLw) {
        this.width = width;
        this.height = height;
        uhLw = uhLw || {};
        this.sfMy = uhLw.sfMy !== undefined ? uhLw.sfMy : RFITE.rgovj;
        this.sfMz = uhLw.sfMz !== undefined ? uhLw.sfMz : RFITE.rgovj;
        this.wdJt = uhLw.wdJt !== undefined ? uhLw.wdJt : RFITE.zely;
        this.wcPw = uhLw.wcPw !== undefined ? uhLw.wcPw : RFITE.rghvh;
        this.xgLr = uhLw.xgLr !== undefined ? uhLw.xgLr : 1;
        this.tiOt = new RFITE.udoq(0, 0);
        this.repeat = new RFITE.udoq(1, 1);
        this.format = uhLw.format !== undefined ? uhLw.format : RFITE.yjps;
        this.type = uhLw.type !== undefined ? uhLw.type : RFITE.rhkrf;
        this.yeNs = uhLw.yeNs !== undefined ? uhLw.yeNs : true;
        this.rjKwJ = uhLw.rjKwJ !== undefined ? uhLw.rjKwJ : true;
        this.riGrK = true;
        this.riJuJ = uhLw.riJuJ !== undefined ? uhLw.riJuJ : null;
    };
    RFITE.rhhth.prototype = {
        constructor: RFITE.rhhth,
        ufMu: function(width, height) {
            this.width = width;
            this.height = height;
        },
        rbPq: function() {
            var qbMx = new RFITE.rhhth(this.width, this.height);
            qbMx.sfMy = this.sfMy;
            qbMx.sfMz = this.sfMz;
            qbMx.wdJt = this.wdJt;
            qbMx.wcPw = this.wcPw;
            qbMx.xgLr = this.xgLr;
            qbMx.tiOt.rjLt(this.tiOt);
            qbMx.repeat.rjLt(this.repeat);
            qbMx.format = this.format;
            qbMx.type = this.type;
            qbMx.yeNs = this.yeNs;
            qbMx.rjKwJ = this.rjKwJ;
            qbMx.riGrK = this.riGrK;
            qbMx.riJuJ = this.riJuJ;
            return qbMx;
        },
        tbOw: function() {
            this.rjOxD({
                type: 'dispose'
            });
        }
    };
    RFITE.rihya.prototype.apply(RFITE.rhhth.prototype);
    RFITE.rgjsb = function(width, height, uhLw) {
        RFITE.rhhth.call(this, width, height, uhLw);
        this.riNtC = 0;
    };
    RFITE.rgjsb.prototype = Object.create(RFITE.rhhth.prototype);
    RFITE.rgjsb.prototype.constructor = RFITE.rgjsb;
    RFITE.rhowh = function(gl) {
        var xeHw = {};
        this.get = function(name) {
            if (xeHw[name] !== undefined) {
                return xeHw[name];
            }
            var wgGy;
            switch (name) {
                case 'EXT_texture_filter_anisotropic':
                    wgGy = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');
                    break;
                case 'WEBGL_compressed_texture_s3tc':
                    wgGy = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');
                    break;
                case 'WEBGL_compressed_texture_pvrtc':
                    wgGy = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');
                    break;
                default:
                    wgGy = gl.getExtension(name);
            }
            if (wgGy === null) {
                RFITE.warn('THREE.WebGLRenderer: ' + name + ' extension rfKxG xjJy.');
            }
            xeHw[name] = wgGy;
            return wgGy;
        };
    };
    RFITE.zapw = (function() {
        var riKyE = 0;
        var riGqA = function(tcHz) {
            var value, rcGr, sdKt = [];
            for (var d in tcHz) {
                value = tcHz[d];
                if (value === false) continue;
                rcGr = '#define ' + d + ' ' + value;
                sdKt.push(rcGr);
            }
            return sdKt.join('\n');
        };
        var rgKrD = function(gl, ugOt, ydIt) {
            var vaJx = {};
            for (var i = 0, l = ydIt.length; i < l; i++) {
                var id = ydIt[i];
                vaJx[id] = gl.getUniformLocation(ugOt, id);
            }
            return vaJx;
        };
        var rgIwC = function(gl, ugOt, ydIt) {
            var attributes = {};
            for (var i = 0, l = ydIt.length; i < l; i++) {
                var id = ydIt[i];
                attributes[id] = gl.getAttribLocation(ugOt, id);
            }
            return attributes;
        };
        return function(rfGsE, rjMw, vfIz, xbGu) {
            var rdIw = rfGsE;
            var qgIy = rdIw.tcLv;
            var tcHz = vfIz.tcHz;
            var vaJx = vfIz.zaNx.vaJx;
            var attributes = vfIz.attributes;
            var zbGw = vfIz.zaNx.zbGw;
            var riMyF = vfIz.zaNx.riMyF;
            var rgOzA = vfIz.rgOzA;
            if (rgOzA === undefined && xbGu.zdOs === true) {
                rgOzA = 'position';
            }
            var rgNxH = 'SHADOWMAP_TYPE_BASIC';
            if (xbGu.rjKtK === RFITE.zdiu) {
                rgNxH = 'SHADOWMAP_TYPE_PCF';
            } else if (xbGu.rjKtK === RFITE.rhltf) {
                rgNxH = 'SHADOWMAP_TYPE_PCF_SOFT';
            }
            var rhNzE = 'ENVMAP_TYPE_CUBE';
            var rhNzF = 'ENVMAP_MODE_REFLECTION';
            var rgMxK = 'ENVMAP_BLENDING_MULTIPLY';
            if (xbGu.scIv) {
                switch (vfIz.scIv.uiMs) {
                    case RFITE.rgksf:
                    case RFITE.rgkse:
                        rhNzE = 'ENVMAP_TYPE_CUBE';
                        break;
                    case RFITE.rfpuk:
                    case RFITE.rfpuj:
                        rhNzE = 'ENVMAP_TYPE_EQUIREC';
                        break;
                    case RFITE.rgguc:
                        rhNzE = 'ENVMAP_TYPE_SPHERE';
                        break;
                }
                switch (vfIz.scIv.uiMs) {
                    case RFITE.rgkse:
                    case RFITE.rfpuj:
                        rhNzF = 'ENVMAP_MODE_REFRACTION';
                        break;
                }
                switch (vfIz.tcNx) {
                    case RFITE.rhisb:
                        rgMxK = 'ENVMAP_BLENDING_MULTIPLY';
                        break;
                    case RFITE.zegt:
                        rgMxK = 'ENVMAP_BLENDING_MIX';
                        break;
                    case RFITE.zhlu:
                        rgMxK = 'ENVMAP_BLENDING_ADD';
                        break;
                }
            }
            var rhJwD = (rfGsE.ydNt > 0) ? rfGsE.ydNt : 1.0;
            var rjOtC = riGqA(tcHz);
            var ugOt = qgIy.createProgram();
            var rjLuC, rhPvJ;
            if (vfIz instanceof RFITE.rhiwe) {
                rjLuC = '';
                rhPvJ = '';
            } else {
                rjLuC = [rjOtC, 'precision ' + xbGu.precision + ' float;', 'precision ' + xbGu.precision + ' int;', xbGu.rgIsA ? '#define VERTEX_TEXTURES' : '', rdIw.xdKr ? '#define GAMMA_INPUT' : '', rdIw.ydNu ? '#define GAMMA_OUTPUT' : '', '#define GAMMA_FACTOR ' + rhJwD, '#define MAX_DIR_LIGHTS ' + xbGu.zeHs, '#define MAX_POINT_LIGHTS ' + xbGu.riKqB, '#define MAX_SPOT_LIGHTS ' + xbGu.rjMvE, '#define MAX_HEMI_LIGHTS ' + xbGu.rjMvH, '#define MAX_SHADOWS ' + xbGu.xbOs, '#define MAX_BONES ' + xbGu.vfHu, xbGu.map ? '#define USE_MAP' : '', xbGu.scIv ? '#define USE_ENVMAP' : '', xbGu.scIv ? '#define ' + rhNzF : '', xbGu.vfLw ? '#define USE_LIGHTMAP' : '', xbGu.tdJv ? '#define USE_BUMPMAP' : '', xbGu.wcKq ? '#define USE_NORMALMAP' : '', xbGu.zjOy ? '#define USE_SPECULARMAP' : '', xbGu.uaPv ? '#define USE_ALPHAMAP' : '', xbGu.zbGu ? '#define USE_COLOR' : '', xbGu.yeGz ? '#define FLAT_SHADED' : '', xbGu.vbMz ? '#define USE_SKINNING' : '', xbGu.rhKsG ? '#define BONE_TEXTURE' : '', xbGu.zdOs ? '#define USE_MORPHTARGETS' : '', xbGu.zdPt ? '#define USE_MORPHNORMALS' : '', xbGu.yhKv ? '#define WRAP_AROUND' : '', xbGu.yeKv ? '#define DOUBLE_SIDED' : '', xbGu.wfOz ? '#define FLIP_SIDED' : '', xbGu.rhLxA ? '#define USE_SHADOWMAP' : '', xbGu.rhLxA ? '#define ' + rgNxH : '', xbGu.riJtA ? '#define SHADOWMAP_DEBUG' : '', xbGu.rhLxB ? '#define SHADOWMAP_CASCADE' : '', xbGu.rhOqE ? '#define USE_SIZEATTENUATION' : '', xbGu.rgJyB ? '#define USE_LOGDEPTHBUF' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', 'attribute vec2 uv2;', '#ifdef USE_COLOR', ' attribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', ' attribute vec3 morphTarget0;', ' attribute vec3 morphTarget1;', ' attribute vec3 morphTarget2;', ' attribute vec3 morphTarget3;', ' #ifdef USE_MORPHNORMALS', '  attribute vec3 morphNormal0;', '  attribute vec3 morphNormal1;', '  attribute vec3 morphNormal2;', '  attribute vec3 morphNormal3;', ' #else', '  attribute vec3 morphTarget4;', '  attribute vec3 morphTarget5;', '  attribute vec3 morphTarget6;', '  attribute vec3 morphTarget7;', ' #endif', '#endif', '#ifdef USE_SKINNING', ' attribute vec4 skinIndex;', ' attribute vec4 skinWeight;', '#endif', ''].join('\n');
                rhPvJ = [(xbGu.tdJv || xbGu.wcKq || xbGu.yeGz) ? '#extension GL_OES_standard_derivatives : enable' : '', rjOtC, 'precision ' + xbGu.precision + ' float;', 'precision ' + xbGu.precision + ' int;', '#define MAX_DIR_LIGHTS ' + xbGu.zeHs, '#define MAX_POINT_LIGHTS ' + xbGu.riKqB, '#define MAX_SPOT_LIGHTS ' + xbGu.rjMvE, '#define MAX_HEMI_LIGHTS ' + xbGu.rjMvH, '#define MAX_SHADOWS ' + xbGu.xbOs, xbGu.wiNy ? '#define ALPHATEST ' + xbGu.wiNy : '', rdIw.xdKr ? '#define GAMMA_INPUT' : '', rdIw.ydNu ? '#define GAMMA_OUTPUT' : '', '#define GAMMA_FACTOR ' + rhJwD, (xbGu.tfLx && xbGu.qeIr) ? '#define USE_FOG' : '', (xbGu.tfLx && xbGu.sbMy) ? '#define FOG_EXP2' : '', xbGu.map ? '#define USE_MAP' : '', xbGu.scIv ? '#define USE_ENVMAP' : '', xbGu.scIv ? '#define ' + rhNzE : '', xbGu.scIv ? '#define ' + rhNzF : '', xbGu.scIv ? '#define ' + rgMxK : '', xbGu.vfLw ? '#define USE_LIGHTMAP' : '', xbGu.tdJv ? '#define USE_BUMPMAP' : '', xbGu.wcKq ? '#define USE_NORMALMAP' : '', xbGu.zjOy ? '#define USE_SPECULARMAP' : '', xbGu.uaPv ? '#define USE_ALPHAMAP' : '', xbGu.zbGu ? '#define USE_COLOR' : '', xbGu.yeGz ? '#define FLAT_SHADED' : '', xbGu.sjHv ? '#define METAL' : '', xbGu.yhKv ? '#define WRAP_AROUND' : '', xbGu.yeKv ? '#define DOUBLE_SIDED' : '', xbGu.wfOz ? '#define FLIP_SIDED' : '', xbGu.rhLxA ? '#define USE_SHADOWMAP' : '', xbGu.rhLxA ? '#define ' + rgNxH : '', xbGu.riJtA ? '#define SHADOWMAP_DEBUG' : '', xbGu.rhLxB ? '#define SHADOWMAP_CASCADE' : '', xbGu.rgJyB ? '#define USE_LOGDEPTHBUF' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', ''].join('\n');
            }
            var riLtF = new RFITE.zilz(qgIy, qgIy.VERTEX_SHADER, rjLuC + zbGw);
            var rhMtH = new RFITE.zilz(qgIy, qgIy.FRAGMENT_SHADER, rhPvJ + riMyF);
            qgIy.attachShader(ugOt, riLtF);
            qgIy.attachShader(ugOt, rhMtH);
            if (rgOzA !== undefined) {
                qgIy.bindAttribLocation(ugOt, 0, rgOzA);
            }
            qgIy.linkProgram(ugOt);
            var riKyD = qgIy.getProgramInfoLog(ugOt);
            if (qgIy.getProgramParameter(ugOt, qgIy.LINK_STATUS) === false) {
                RFITE.error('THREE.WebGLProgram: shader error: ' + qgIy.getError(), 'gl.VALIDATE_STATUS', qgIy.getProgramParameter(ugOt, qgIy.VALIDATE_STATUS), 'gl.getPRogramInfoLog', riKyD);
            }
            if (riKyD !== '') {
                RFITE.warn('THREE.WebGLProgram: gl.getProgramInfoLog()' + riKyD);
            }
            qgIy.deleteShader(riLtF);
            qgIy.deleteShader(rhMtH);
            var ydIt = ['viewMatrix', 'modelViewMatrix', 'projectionMatrix', 'normalMatrix', 'modelMatrix', 'cameraPosition', 'morphTargetInfluences', 'bindMatrix', 'bindMatrixInverse'];
            if (xbGu.rhKsG) {
                ydIt.push('boneTexture');
                ydIt.push('boneTextureWidth');
                ydIt.push('boneTextureHeight');
            } else {
                ydIt.push('boneGlobalMatrices');
            }
            if (xbGu.rgJyB) {
                ydIt.push('logDepthBufFC');
            }
            for (var u in vaJx) {
                ydIt.push(u);
            }
            this.vaJx = rgKrD(qgIy, ugOt, ydIt);
            ydIt = ['position', 'normal', 'uv', 'uv2', 'tangent', 'color', 'skinIndex', 'skinWeight', 'lineDistance'];
            for (var i = 0; i < xbGu.riGxA; i++) {
                ydIt.push('morphTarget' + i);
            }
            for (var i = 0; i < xbGu.riGxB; i++) {
                ydIt.push('morphNormal' + i);
            }
            for (var a in attributes) {
                ydIt.push(a);
            }
            this.attributes = rgIwC(qgIy, ugOt, ydIt);
            this.riNwF = Object.keys(this.attributes);
            this.id = riKyE++;
            this.rjMw = rjMw;
            this.xiJv = 1;
            this.ugOt = ugOt;
            this.zbGw = riLtF;
            this.riMyF = rhMtH;
            return this;
        };
    })();
    RFITE.zilz = (function() {
        var riNuH = function(string) {
            var sjLz = string.split('\n');
            for (var i = 0; i < sjLz.length; i++) {
                sjLz[i] = (i + 1) + ': ' + sjLz[i];
            }
            return sjLz.join('\n');
        };
        return function(gl, type, string) {
            var tgPt = gl.createShader(type);
            gl.shaderSource(tgPt, string);
            gl.compileShader(tgPt);
            if (gl.getShaderParameter(tgPt, gl.COMPILE_STATUS) === false) {
                RFITE.error('THREE.WebGLShader: Shader couldn\'t compile.');
            }
            if (gl.getShaderInfoLog(tgPt) !== '') {
                RFITE.warn('THREE.WebGLShader: gl.getShaderInfoLog()', gl.getShaderInfoLog(tgPt), riNuH(string));
            }
            return tgPt;
        };
    })();
    RFITE.yhls = function(gl, riKvB) {
        var rjMxD = new Uint8Array(16);
        var rhJuB = new Uint8Array(16);
        var riHvH = null;
        var rgMvF = null;
        var riHvG = null;
        var riHvJ = null;
        var rgHyB = null;
        var rgMvE = null;
        var rgMvG = null;
        var rhNwD = null;
        var rhJtG = null;
        var rhJtH = null;
        var rhGrH = null;
        var rhNwC = null;
        var rhNwB = null;
        var rgMvC = null;
        var rgGtJ = null;
        var rgHyA = null;
        this.riLvK = function() {
            for (var i = 0, l = rjMxD.length; i < l; i++) {
                rjMxD[i] = 0;
            }
        };
        this.riHyG = function(wiKx) {
            rjMxD[wiKx] = 1;
            if (rhJuB[wiKx] === 0) {
                gl.enableVertexAttribArray(wiKx);
                rhJuB[wiKx] = 1;
            }
        };
        this.rgIxH = function() {
            for (var i = 0, l = rhJuB.length; i < l; i++) {
                if (rhJuB[i] !== rjMxD[i]) {
                    gl.disableVertexAttribArray(i);
                    rhJuB[i] = 0;
                }
            }
        };
        this.yaIx = function(uaKz, rjPxD, uaJq, uaKx, rhHyJ, rjPxA, rjPxE) {
            if (uaKz !== riHvH) {
                if (uaKz === RFITE.xbmv) {
                    gl.disable(gl.BLEND);
                } else if (uaKz === RFITE.rhnsh) {
                    gl.enable(gl.BLEND);
                    gl.blendEquation(gl.FUNC_ADD);
                    gl.blendFunc(gl.SRC_ALPHA, gl.ONE);
                } else if (uaKz === RFITE.rgnxd) {
                    gl.enable(gl.BLEND);
                    gl.blendEquation(gl.FUNC_ADD);
                    gl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);
                } else if (uaKz === RFITE.rhlqk) {
                    gl.enable(gl.BLEND);
                    gl.blendEquation(gl.FUNC_ADD);
                    gl.blendFunc(gl.ZERO, gl.SRC_COLOR);
                } else if (uaKz === RFITE.rimtc) {
                    gl.enable(gl.BLEND);
                } else {
                    gl.enable(gl.BLEND);
                    gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
                }
                riHvH = uaKz;
            }
            if (uaKz === RFITE.rimtc) {
                rhHyJ = rhHyJ || rjPxD;
                rjPxA = rjPxA || uaJq;
                rjPxE = rjPxE || uaKx;
                if (rjPxD !== rgMvF || rhHyJ !== rgHyB) {
                    gl.blendEquationSeparate(riKvB(rjPxD), riKvB(rhHyJ));
                    rgMvF = rjPxD;
                    rgHyB = rhHyJ;
                }
                if (uaJq !== riHvG || uaKx !== riHvJ || rjPxA !== rgMvE || rjPxE !== rgMvG) {
                    gl.blendFuncSeparate(riKvB(uaJq), riKvB(uaKx), riKvB(rjPxA), riKvB(rjPxE));
                    riHvG = uaJq;
                    riHvJ = uaKx;
                    rgMvE = rjPxA;
                    rgMvG = rjPxE;
                }
            } else {
                rgMvF = null;
                riHvG = null;
                riHvJ = null;
                rgHyB = null;
                rgMvE = null;
                rgMvG = null;
            }
        };
        this.zcIw = function(wgOs) {
            if (rhNwD !== wgOs) {
                if (wgOs) {
                    gl.enable(gl.DEPTH_TEST);
                } else {
                    gl.disable(gl.DEPTH_TEST);
                }
                rhNwD = wgOs;
            }
        };
        this.rjKrJ = function(xeOu) {
            if (rhJtG !== xeOu) {
                gl.depthMask(xeOu);
                rhJtG = xeOu;
            }
        };
        this.rjKqA = function(xfLx) {
            if (rhJtH !== xfLx) {
                gl.colorMask(xfLx, xfLx, xfLx, xfLx);
                rhJtH = xfLx;
            }
        };
        this.riJsB = function(yeKv) {
            if (rhGrH !== yeKv) {
                if (yeKv) {
                    gl.disable(gl.CULL_FACE);
                } else {
                    gl.enable(gl.CULL_FACE);
                }
                rhGrH = yeKv;
            }
        };
        this.zcIz = function(wfOz) {
            if (rhNwC !== wfOz) {
                if (wfOz) {
                    gl.frontFace(gl.CW);
                } else {
                    gl.frontFace(gl.CCW);
                }
                rhNwC = wfOz;
            }
        };
        this.zcHr = function(width) {
            if (width !== rhNwB) {
                gl.lineWidth(width);
                rhNwB = width;
            }
        };
        this.rhLxK = function(rjLtB, scGz, sgHy) {
            if (rgMvC !== rjLtB) {
                if (rjLtB) {
                    gl.enable(gl.POLYGON_OFFSET_FILL);
                } else {
                    gl.disable(gl.POLYGON_OFFSET_FILL);
                }
                rgMvC = rjLtB;
            }
            if (rjLtB && (rgGtJ !== scGz || rgHyA !== sgHy)) {
                gl.polygonOffset(scGz, sgHy);
                rgGtJ = scGz;
                rgHyA = sgHy;
            }
        };
        this.reset = function() {
            for (var i = 0; i < rhJuB.length; i++) {
                rhJuB[i] = 0;
            }
            riHvH = null;
            rhNwD = null;
            rhJtG = null;
            rhJtH = null;
            rhGrH = null;
            rhNwC = null;
        };
    };
    RFITE.rigvf = function(rfGsE, sbMs) {
        var gl = rfGsE.tcLv;
        var zbGt, rjOyD;
        var ugOt, attributes, vaJx;
        var rhMuK;
        var zjKy, rhLrH;
        var rhNr = function() {
            var wjPq = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]);
            var rbGu = new Uint16Array([0, 1, 2, 0, 2, 3]);
            zbGt = gl.createBuffer();
            rjOyD = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, zbGt);
            gl.bufferData(gl.ARRAY_BUFFER, wjPq, gl.STATIC_DRAW);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, rjOyD);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, rbGu, gl.STATIC_DRAW);
            zjKy = gl.createTexture();
            rhLrH = gl.createTexture();
            gl.bindTexture(gl.TEXTURE_2D, zjKy);
            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
            gl.bindTexture(gl.TEXTURE_2D, rhLrH);
            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
            rhMuK = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS) > 0;
            var tgPt;
            if (rhMuK) {
                tgPt = {
                    zbGw: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rfIqD;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rfIqD ) * position.x - sin( rfIqD ) * position.y;", "pos.y = sin( rfIqD ) * position.x + cos( rfIqD ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
                    riMyF: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
                };
            } else {
                tgPt = {
                    zbGw: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rfIqD;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if( renderType == 2 ) {", "pos.x = cos( rfIqD ) * position.x - sin( rfIqD ) * position.y;", "pos.y = sin( rfIqD ) * position.x + cos( rfIqD ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
                    riMyF: ["precision mediump float;", "uniform lowp int renderType;", "uniform sampler2D map;", "uniform sampler2D occlusionMap;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "void main() {", "if( renderType == 0 ) {", "gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );", "} else if( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;", "visibility = ( 1.0 - visibility / 4.0 );", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * visibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
                };
            }
            ugOt = rjOsD(tgPt);
            attributes = {
                tfJs: gl.getAttribLocation(ugOt, "position"),
                uv: gl.getAttribLocation(ugOt, "uv")
            };
            vaJx = {
                xaHv: gl.getUniformLocation(ugOt, "renderType"),
                map: gl.getUniformLocation(ugOt, "map"),
                zdLs: gl.getUniformLocation(ugOt, "occlusionMap"),
                opacity: gl.getUniformLocation(ugOt, "opacity"),
                color: gl.getUniformLocation(ugOt, "color"),
                scale: gl.getUniformLocation(ugOt, "scale"),
                rfIqD: gl.getUniformLocation(ugOt, "rfIqD"),
                riJrC: gl.getUniformLocation(ugOt, "screenPosition")
            };
        };
        this.render = function(shMq, sdNw, rjJsB, riIqH) {
            if (sbMs.length === 0) return;
            var zbMy = new RFITE.udor();
            var weHt = riIqH / rjJsB,
                rhJyE = rjJsB * 0.5,
                rhGvJ = riIqH * 0.5;
            var size = 16 / riIqH,
                scale = new RFITE.udoq(size * weHt, size);
            var riJrC = new RFITE.udor(1, 1, 0),
                rgLuB = new RFITE.udoq(1, 1);
            if (ugOt === undefined) {
                rhNr();
            }
            gl.useProgram(ugOt);
            gl.enableVertexAttribArray(attributes.tfJs);
            gl.enableVertexAttribArray(attributes.uv);
            gl.uniform1i(vaJx.zdLs, 0);
            gl.uniform1i(vaJx.map, 1);
            gl.bindBuffer(gl.ARRAY_BUFFER, zbGt);
            gl.vertexAttribPointer(attributes.tfJs, 2, gl.FLOAT, false, 2 * 8, 0);
            gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, rjOyD);
            gl.disable(gl.CULL_FACE);
            gl.depthMask(false);
            for (var i = 0, l = sbMs.length; i < l; i++) {
                size = 16 / riIqH;
                scale.set(size * weHt, size);
                var raOt = sbMs[i];
                zbMy.set(raOt.ycJs.elements[12], raOt.ycJs.elements[13], raOt.ycJs.elements[14]);
                zbMy.zhJr(sdNw.rhGxG);
                zbMy.riIyF(sdNw.projectionMatrix);
                riJrC.rjLt(zbMy);
                rgLuB.x = riJrC.x * rhJyE + rhJyE;
                rgLuB.y = riJrC.y * rhGvJ + rhGvJ;
                if (rhMuK || (rgLuB.x > 0 && rgLuB.x < rjJsB && rgLuB.y > 0 && rgLuB.y < riIqH)) {
                    gl.activeTexture(gl.TEXTURE1);
                    gl.bindTexture(gl.TEXTURE_2D, zjKy);
                    gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGB, rgLuB.x - 8, rgLuB.y - 8, 16, 16, 0);
                    gl.uniform1i(vaJx.xaHv, 0);
                    gl.uniform2f(vaJx.scale, scale.x, scale.y);
                    gl.uniform3f(vaJx.riJrC, riJrC.x, riJrC.y, riJrC.z);
                    gl.disable(gl.BLEND);
                    gl.enable(gl.DEPTH_TEST);
                    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
                    gl.activeTexture(gl.TEXTURE0);
                    gl.bindTexture(gl.TEXTURE_2D, rhLrH);
                    gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, rgLuB.x - 8, rgLuB.y - 8, 16, 16, 0);
                    gl.uniform1i(vaJx.xaHv, 1);
                    gl.disable(gl.DEPTH_TEST);
                    gl.activeTexture(gl.TEXTURE1);
                    gl.bindTexture(gl.TEXTURE_2D, zjKy);
                    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
                    raOt.riKxB.rjLt(riJrC);
                    if (raOt.rgMvA) {
                        raOt.rgMvA(raOt);
                    } else {
                        raOt.rhKrC();
                    }
                    gl.uniform1i(vaJx.xaHv, 2);
                    gl.enable(gl.BLEND);
                    for (var j = 0, qiLy = raOt.xcIv.length; j < qiLy; j++) {
                        var rfIsB = raOt.xcIv[j];
                        if (rfIsB.opacity > 0.001 && rfIsB.scale > 0.001) {
                            riJrC.x = rfIsB.x;
                            riJrC.y = rfIsB.y;
                            riJrC.z = rfIsB.z;
                            size = rfIsB.size * rfIsB.scale / riIqH;
                            scale.x = size * weHt;
                            scale.y = size;
                            gl.uniform3f(vaJx.riJrC, riJrC.x, riJrC.y, riJrC.z);
                            gl.uniform2f(vaJx.scale, scale.x, scale.y);
                            gl.uniform1f(vaJx.rfIqD, rfIsB.rfIqD);
                            gl.uniform1f(vaJx.opacity, rfIsB.opacity);
                            gl.uniform3f(vaJx.color, rfIsB.color.r, rfIsB.color.g, rfIsB.color.b);
                            rfGsE.shGz.yaIx(rfIsB.uaKz, rfIsB.rjPxD, rfIsB.uaJq, rfIsB.uaKx);
                            rfGsE.yjKq(rfIsB.ueMt, 1);
                            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
                        }
                    }
                }
            }
            gl.enable(gl.CULL_FACE);
            gl.enable(gl.DEPTH_TEST);
            gl.depthMask(true);
            rfGsE.zcLq();
        };

        function rjOsD(tgPt) {
            var ugOt = gl.createProgram();
            var riMyF = gl.createShader(gl.FRAGMENT_SHADER);
            var zbGw = gl.createShader(gl.VERTEX_SHADER);
            var tiGv = "precision " + rfGsE.zfJv() + " float;\n";
            gl.shaderSource(riMyF, tiGv + tgPt.riMyF);
            gl.shaderSource(zbGw, tiGv + tgPt.zbGw);
            gl.compileShader(riMyF);
            gl.compileShader(zbGw);
            gl.attachShader(ugOt, riMyF);
            gl.attachShader(ugOt, zbGw);
            gl.linkProgram(ugOt);
            return ugOt;
        }
    };
    RFITE.rhpza = function(wjHu, teNw, rjPrA, rgJuB) {
        var qgIy = wjHu.tcLv;
        var rjJxK, rgOrE, rhHuE, rgIuC, ubMy = new RFITE.tanx(),
            rhKxK = new RFITE.uilr(),
            qaMz = new RFITE.udor(),
            qaMy = new RFITE.udor(),
            riItC = new RFITE.udor(),
            ygNy = [];
        var yeNu = RFITE.wagv["depthRGBA"];
        var rjOwE = RFITE.rjjqj.rbPq(yeNu.vaJx);
        rjJxK = new RFITE.rijtc({
            vaJx: rjOwE,
            zbGw: yeNu.zbGw,
            riMyF: yeNu.riMyF
        });
        rgOrE = new RFITE.rijtc({
            vaJx: rjOwE,
            zbGw: yeNu.zbGw,
            riMyF: yeNu.riMyF,
            zdOs: true
        });
        rhHuE = new RFITE.rijtc({
            vaJx: rjOwE,
            zbGw: yeNu.zbGw,
            riMyF: yeNu.riMyF,
            vbMz: true
        });
        rgIuC = new RFITE.rijtc({
            vaJx: rjOwE,
            zbGw: yeNu.zbGw,
            riMyF: yeNu.riMyF,
            zdOs: true,
            vbMz: true
        });
        rjJxK.ygMu = true;
        rgOrE.ygMu = true;
        rhHuE.ygMu = true;
        rgIuC.ygMu = true;
        this.render = function(shMq, sdNw) {
            if (wjHu.rhLxA === false) return;
            var i, qiMv, j, qiLy, n, waGz, zcGv, zcGs, buffer, vfIz, ziLx, object, sjLu, tjPw = [],
                k = 0,
                qeIr = null;
            qgIy.clearColor(1, 1, 1, 1);
            qgIy.disable(qgIy.BLEND);
            qgIy.enable(qgIy.CULL_FACE);
            qgIy.frontFace(qgIy.CCW);
            if (wjHu.rhIyA === RFITE.rjotk) {
                qgIy.cullFace(qgIy.FRONT);
            } else {
                qgIy.cullFace(qgIy.BACK);
            }
            wjHu.shGz.zcIw(true);
            for (i = 0, qiMv = teNw.length; i < qiMv; i++) {
                sjLu = teNw[i];
                if (!sjLu.xfOq) continue;
                if ((sjLu instanceof RFITE.rhnyg) && sjLu.rjKsB) {
                    for (n = 0; n < sjLu.rgPvH; n++) {
                        var zbGz;
                        if (!sjLu.rgPvJ[n]) {
                            zbGz = rhGqA(sjLu, n);
                            zbGz.riKvG = sdNw;
                            var riIy = new RFITE.wfhz();
                            riIy.position.rjLt(sjLu.rgNxJ);
                            riIy.add(zbGz);
                            riIy.add(zbGz.target);
                            sdNw.add(riIy);
                            sjLu.rgPvJ[n] = zbGz;
                        } else {
                            zbGz = sjLu.rgPvJ[n];
                        }
                        rgPyA(sjLu, n);
                        tjPw[k] = zbGz;
                        k++;
                    }
                } else {
                    tjPw[k] = sjLu;
                    k++;
                }
            }
            for (i = 0, qiMv = tjPw.length; i < qiMv; i++) {
                sjLu = tjPw[i];
                if (!sjLu.waGz) {
                    var zcGt = RFITE.zely;
                    if (wjHu.rjKtK === RFITE.rhltf) {
                        zcGt = RFITE.rjmxg;
                    }
                    var rgHt = {
                        wcPw: zcGt,
                        wdJt: zcGt,
                        format: RFITE.yjps
                    };
                    sjLu.waGz = new RFITE.rhhth(sjLu.riJuK, sjLu.rhPzB, rgHt);
                    sjLu.rjKsA = new RFITE.udoq(sjLu.riJuK, sjLu.rhPzB);
                    sjLu.zcGv = new RFITE.uilr();
                }
                if (!sjLu.zcGs) {
                    if (sjLu instanceof RFITE.xjmv) {
                        sjLu.zcGs = new RFITE.rhivj(sjLu.rhPzE, sjLu.riJuK / sjLu.rhPzB, sjLu.rhLxD, sjLu.rhPzF);
                    } else if (sjLu instanceof RFITE.rhnyg) {
                        sjLu.zcGs = new RFITE.rgpqg(sjLu.rhLxE, sjLu.rhIyE, sjLu.rhPzD, sjLu.rgPvK, sjLu.rhLxD, sjLu.rhPzF);
                    } else {
                        RFITE.error("THREE.ShadowMapPlugin: Unsupported light type for reOwE", sjLu);
                        continue;
                    }
                    shMq.add(sjLu.zcGs);
                    if (shMq.xgJq === true) shMq.rhHsG();
                }
                if (sjLu.rgNwA && !sjLu.zgPq) {
                    sjLu.zgPq = new RFITE.zgpq(sjLu.zcGs);
                    shMq.add(sjLu.zgPq);
                }
                if (sjLu.weGy && zbGz.riKvG == sdNw) {
                    rgPyB(sdNw, sjLu);
                }
                waGz = sjLu.waGz;
                zcGv = sjLu.zcGv;
                zcGs = sjLu.zcGs;
                zcGs.position.rgJqA(sjLu.ycJs);
                riItC.rgJqA(sjLu.target.ycJs);
                zcGs.tjNr(riItC);
                zcGs.rhHsG();
                zcGs.rhGxG.xdJv(zcGs.ycJs);
                if (sjLu.zgPq) sjLu.zgPq.rfIxE = sjLu.rgNwA;
                if (sjLu.rgNwA) sjLu.zgPq.update();
                zcGv.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);
                zcGv.veOs(zcGs.projectionMatrix);
                zcGv.veOs(zcGs.rhGxG);
                rhKxK.rhLqJ(zcGs.projectionMatrix, zcGs.rhGxG);
                ubMy.rjKrE(rhKxK);
                wjHu.rhPzJ(waGz);
                wjHu.clear();
                ygNy.length = 0;
                rjLvG(shMq, shMq, zcGs);
                var riKtJ, ziNt, ziNv;
                for (j = 0, qiLy = ygNy.length; j < qiLy; j++) {
                    ziLx = ygNy[j];
                    object = ziLx.object;
                    buffer = ziLx.buffer;
                    riKtJ = rhJxE(object);
                    ziNt = object.vhHr.zdOs !== undefined && object.vhHr.zdOs.length > 0 && riKtJ.zdOs;
                    ziNv = object instanceof RFITE.zjpu && riKtJ.vbMz;
                    if (object.rgOwD) {
                        vfIz = object.rgOwD;
                    } else if (ziNv) {
                        vfIz = ziNt ? rgIuC : rhHuE;
                    } else if (ziNt) {
                        vfIz = rgOrE;
                    } else {
                        vfIz = rjJxK;
                    }
                    wjHu.rhLwA(riKtJ);
                    if (buffer instanceof RFITE.rinyf) {
                        wjHu.rgPtE(zcGs, teNw, qeIr, vfIz, buffer, object);
                    } else {
                        wjHu.zcMt(zcGs, teNw, qeIr, vfIz, buffer, object);
                    }
                }
                for (j = 0, qiLy = rgJuB.length; j < qiLy; j++) {
                    ziLx = rgJuB[j];
                    object = ziLx.object;
                    if (object.rfIxE && object.xfOq) {
                        object.rhOzG.rhLqJ(zcGs.rhGxG, object.ycJs);
                        wjHu.rgJqK(zcGs, teNw, qeIr, rjJxK, object);
                    }
                }
            }
            var xfNz = wjHu.rjNtA(),
                xfNx = wjHu.rjNtB();
            qgIy.clearColor(xfNz.r, xfNz.g, xfNz.b, xfNx);
            qgIy.enable(qgIy.BLEND);
            if (wjHu.rhIyA === RFITE.rjotk) {
                qgIy.cullFace(qgIy.BACK);
            }
            wjHu.zcLq();
        };

        function rjLvG(shMq, object, zcGs) {
            if (object.rfIxE) {
                var zaPv = rjPrA[object.id];
                if (zaPv && object.xfOq && (object.rjNsH === false || ubMy.rhMvK(object) === true)) {
                    for (var i = 0, l = zaPv.length; i < l; i++) {
                        var ziLx = zaPv[i];
                        object.rhOzG.rhLqJ(zcGs.rhGxG, object.ycJs);
                        ygNy.push(ziLx);
                    }
                }
                for (var i = 0, l = object.children.length; i < l; i++) {
                    rjLvG(shMq, object.children[i], zcGs);
                }
            }
        }

        function rhGqA(sjLu, tdHu) {
            var zbGz = new RFITE.rhnyg();
            zbGz.weGy = true;
            zbGz.xbKy = true;
            zbGz.xfOq = true;
            zbGz.rhLxD = sjLu.rhLxD;
            zbGz.rhPzF = sjLu.rhPzF;
            zbGz.rhLxE = sjLu.rhLxE;
            zbGz.rhIyE = sjLu.rhIyE;
            zbGz.rgPvK = sjLu.rgPvK;
            zbGz.rhPzD = sjLu.rhPzD;
            zbGz.rgNwA = sjLu.rgNwA;
            zbGz.riJtB = sjLu.riJtB;
            zbGz.yjKy = sjLu.rhIyD[tdHu];
            zbGz.riJuK = sjLu.rgPvF[tdHu];
            zbGz.rhPzB = sjLu.rgNxK[tdHu];
            zbGz.ybHu = [];
            zbGz.rjLtC = [];
            var ybHu = zbGz.ybHu,
                rjLtC = zbGz.rjLtC;
            for (var i = 0; i < 8; i++) {
                ybHu[i] = new RFITE.udor();
                rjLtC[i] = new RFITE.udor();
            }
            var siOr = sjLu.rgPvG[tdHu];
            var riNr = sjLu.rhIyC[tdHu];
            rjLtC[0].set(-1, -1, siOr);
            rjLtC[1].set(1, -1, siOr);
            rjLtC[2].set(-1, 1, siOr);
            rjLtC[3].set(1, 1, siOr);
            rjLtC[4].set(-1, -1, riNr);
            rjLtC[5].set(1, -1, riNr);
            rjLtC[6].set(-1, 1, riNr);
            rjLtC[7].set(1, 1, riNr);
            return zbGz;
        }

        function rgPyA(sjLu, tdHu) {
            var zbGz = sjLu.rgPvJ[tdHu];
            zbGz.position.rjLt(sjLu.position);
            zbGz.target.position.rjLt(sjLu.target.position);
            zbGz.tjNr(zbGz.target);
            zbGz.rgNwA = sjLu.rgNwA;
            zbGz.riJtB = sjLu.riJtB;
            zbGz.yjKy = sjLu.rhIyD[tdHu];
            var siOr = sjLu.rgPvG[tdHu];
            var riNr = sjLu.rhIyC[tdHu];
            var rjLtC = zbGz.rjLtC;
            rjLtC[0].z = siOr;
            rjLtC[1].z = siOr;
            rjLtC[2].z = siOr;
            rjLtC[3].z = siOr;
            rjLtC[4].z = riNr;
            rjLtC[5].z = riNr;
            rjLtC[6].z = riNr;
            rjLtC[7].z = riNr;
        }

        function rgPyB(sdNw, sjLu) {
            var zcGs = sjLu.zcGs,
                rjLtC = sjLu.rjLtC,
                ybHu = sjLu.ybHu;
            qaMz.set(Infinity, Infinity, Infinity);
            qaMy.set(-Infinity, -Infinity, -Infinity);
            for (var i = 0; i < 8; i++) {
                var p = ybHu[i];
                p.rjLt(rjLtC[i]);
                p.xiKu(sdNw);
                p.zhJr(zcGs.rhGxG);
                if (p.x < qaMz.x) qaMz.x = p.x;
                if (p.x > qaMy.x) qaMy.x = p.x;
                if (p.y < qaMz.y) qaMz.y = p.y;
                if (p.y > qaMy.y) qaMy.y = p.y;
                if (p.z < qaMz.z) qaMz.z = p.z;
                if (p.z > qaMy.z) qaMy.z = p.z;
            }
            zcGs.left = qaMz.x;
            zcGs.right = qaMy.x;
            zcGs.top = qaMy.y;
            zcGs.bottom = qaMz.y;
            zcGs.rgItE();
        }

        function rhJxE(object) {
            return object.vfIz instanceof RFITE.rhmzk ? object.vfIz.wdIz[0] : object.vfIz;
        };
    };
    RFITE.zbox = function(rfGsE, ufHy) {
        var gl = rfGsE.tcLv;
        var zbGt, rjOyD;
        var ugOt, attributes, vaJx;
        var ueMt;
        var riJvD = new RFITE.udor();
        var riJvC = new RFITE.xaly();
        var zjNu = new RFITE.udor();
        var rhNr = function() {
            var wjPq = new Float32Array([-0.5, -0.5, 0, 0, 0.5, -0.5, 1, 0, 0.5, 0.5, 1, 1, -0.5, 0.5, 0, 1]);
            var rbGu = new Uint16Array([0, 1, 2, 0, 2, 3]);
            zbGt = gl.createBuffer();
            rjOyD = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, zbGt);
            gl.bufferData(gl.ARRAY_BUFFER, wjPq, gl.STATIC_DRAW);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, rjOyD);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, rbGu, gl.STATIC_DRAW);
            ugOt = rjOsD();
            attributes = {
                position: gl.getAttribLocation(ugOt, 'position'),
                uv: gl.getAttribLocation(ugOt, 'uv')
            };
            vaJx = {
                vaHx: gl.getUniformLocation(ugOt, 'uvOffset'),
                udPu: gl.getUniformLocation(ugOt, 'uvScale'),
                rfIqD: gl.getUniformLocation(ugOt, 'rfIqD'),
                scale: gl.getUniformLocation(ugOt, 'scale'),
                color: gl.getUniformLocation(ugOt, 'color'),
                map: gl.getUniformLocation(ugOt, 'map'),
                opacity: gl.getUniformLocation(ugOt, 'opacity'),
                modelViewMatrix: gl.getUniformLocation(ugOt, 'modelViewMatrix'),
                projectionMatrix: gl.getUniformLocation(ugOt, 'projectionMatrix'),
                taOr: gl.getUniformLocation(ugOt, 'fogType'),
                xdOz: gl.getUniformLocation(ugOt, 'xdOz'),
                taOq: gl.getUniformLocation(ugOt, 'taOq'),
                sbMz: gl.getUniformLocation(ugOt, 'sbMz'),
                rePsG: gl.getUniformLocation(ugOt, 'rePsG'),
                wiNy: gl.getUniformLocation(ugOt, 'alphaTest')
            };
            var canvas = document.createElement('canvas');
            canvas.width = 8;
            canvas.height = 8;
            var tcLv = canvas.getContext('2d');
            tcLv.fillStyle = 'white';
            tcLv.fillRect(0, 0, 8, 8);
            ueMt = new RFITE.uemt(canvas);
            ueMt.ycGw = true;
        };
        this.render = function(shMq, sdNw) {
            if (ufHy.length === 0) return;
            if (ugOt === undefined) {
                rhNr();
            }
            gl.useProgram(ugOt);
            gl.enableVertexAttribArray(attributes.position);
            gl.enableVertexAttribArray(attributes.uv);
            gl.disable(gl.CULL_FACE);
            gl.enable(gl.BLEND);
            gl.bindBuffer(gl.ARRAY_BUFFER, zbGt);
            gl.vertexAttribPointer(attributes.position, 2, gl.FLOAT, false, 2 * 8, 0);
            gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, rjOyD);
            gl.uniformMatrix4fv(vaJx.projectionMatrix, false, sdNw.projectionMatrix.elements);
            gl.activeTexture(gl.TEXTURE0);
            gl.uniform1i(vaJx.map, 0);
            var xbLz = 0;
            var zcKy = 0;
            var qeIr = shMq.qeIr;
            if (qeIr) {
                gl.uniform3f(vaJx.rePsG, qeIr.color.r, qeIr.color.g, qeIr.color.b);
                if (qeIr instanceof RFITE.qeir) {
                    gl.uniform1f(vaJx.taOq, qeIr.rgMv);
                    gl.uniform1f(vaJx.sbMz, qeIr.qeJq);
                    gl.uniform1i(vaJx.taOr, 1);
                    xbLz = 1;
                    zcKy = 1;
                } else if (qeIr instanceof RFITE.tapz) {
                    gl.uniform1f(vaJx.xdOz, qeIr.tcGu);
                    gl.uniform1i(vaJx.taOr, 2);
                    xbLz = 2;
                    zcKy = 2;
                }
            } else {
                gl.uniform1i(vaJx.taOr, 0);
                xbLz = 0;
                zcKy = 0;
            }
            for (var i = 0, l = ufHy.length; i < l; i++) {
                var rfIsB = ufHy[i];
                rfIsB.rhOzG.rhLqJ(sdNw.rhGxG, rfIsB.ycJs);
                rfIsB.z = -rfIsB.rhOzG.elements[14];
            }
            ufHy.sort(rhIuA);
            var scale = [];
            for (var i = 0, l = ufHy.length; i < l; i++) {
                var rfIsB = ufHy[i];
                var vfIz = rfIsB.vfIz;
                gl.uniform1f(vaJx.wiNy, vfIz.wiNy);
                gl.uniformMatrix4fv(vaJx.modelViewMatrix, false, rfIsB.rhOzG.elements);
                rfIsB.ycJs.whGw(riJvD, riJvC, zjNu);
                scale[0] = zjNu.x;
                scale[1] = zjNu.y;
                var taOr = 0;
                if (shMq.qeIr && vfIz.qeIr) {
                    taOr = zcKy;
                }
                if (xbLz !== taOr) {
                    gl.uniform1i(vaJx.taOr, taOr);
                    xbLz = taOr;
                }
                if (vfIz.map !== null) {
                    gl.uniform2f(vaJx.vaHx, vfIz.map.tiOt.x, vfIz.map.tiOt.y);
                    gl.uniform2f(vaJx.udPu, vfIz.map.repeat.x, vfIz.map.repeat.y);
                } else {
                    gl.uniform2f(vaJx.vaHx, 0, 0);
                    gl.uniform2f(vaJx.udPu, 1, 1);
                }
                gl.uniform1f(vaJx.opacity, vfIz.opacity);
                gl.uniform3f(vaJx.color, vfIz.color.r, vfIz.color.g, vfIz.color.b);
                gl.uniform1f(vaJx.rfIqD, vfIz.rfIqD);
                gl.uniform2fv(vaJx.scale, scale);
                rfGsE.shGz.yaIx(vfIz.uaKz, vfIz.rjPxD, vfIz.uaJq, vfIz.uaKx);
                rfGsE.shGz.zcIw(vfIz.wgOs);
                rfGsE.shGz.rjKrJ(vfIz.xeOu);
                if (vfIz.map && vfIz.map.image && vfIz.map.image.width) {
                    rfGsE.yjKq(vfIz.map, 0);
                } else {
                    rfGsE.yjKq(ueMt, 0);
                }
                gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
            }
            gl.enable(gl.CULL_FACE);
            rfGsE.zcLq();
        };

        function rjOsD() {
            var ugOt = gl.createProgram();
            var zbGw = gl.createShader(gl.VERTEX_SHADER);
            var riMyF = gl.createShader(gl.FRAGMENT_SHADER);
            gl.shaderSource(zbGw, ['precision ' + rfGsE.zfJv() + ' float;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform float rfIqD;', 'uniform vec2 scale;', 'uniform vec2 uvOffset;', 'uniform vec2 uvScale;', 'attribute vec2 position;', 'attribute vec2 uv;', 'varying vec2 vUV;', 'void main() {', 'vUV = uvOffset + uv * uvScale;', 'vec2 alignedPosition = position * scale;', 'vec2 rotatedPosition;', 'rotatedPosition.x = cos( rfIqD ) * alignedPosition.x - sin( rfIqD ) * alignedPosition.y;', 'rotatedPosition.y = sin( rfIqD ) * alignedPosition.x + cos( rfIqD ) * alignedPosition.y;', 'vec4 finalPosition;', 'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );', 'finalPosition.xy += rotatedPosition;', 'finalPosition = projectionMatrix * finalPosition;', 'gl_Position = finalPosition;', '}'].join('\n'));
            gl.shaderSource(riMyF, ['precision ' + rfGsE.zfJv() + ' float;', 'uniform vec3 color;', 'uniform sampler2D map;', 'uniform float opacity;', 'uniform int fogType;', 'uniform vec3 rePsG;', 'uniform float xdOz;', 'uniform float taOq;', 'uniform float sbMz;', 'uniform float alphaTest;', 'varying vec2 vUV;', 'void main() {', 'vec4 texture = texture2D( map, vUV );', 'if ( texture.a < alphaTest ) discard;', 'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );', 'if ( fogType > 0 ) {', 'float depth = gl_FragCoord.z / gl_FragCoord.w;', 'float fogFactor = 0.0;', 'if ( fogType == 1 ) {', 'fogFactor = smoothstep( taOq, sbMz, depth );', '} else {', 'const float LOG2 = 1.442695;', 'float fogFactor = exp2( - xdOz * xdOz * depth * depth * LOG2 );', 'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );', '}', 'gl_FragColor = mix( gl_FragColor, vec4( rePsG, gl_FragColor.w ), fogFactor );', '}', '}'].join('\n'));
            gl.compileShader(zbGw);
            gl.compileShader(riMyF);
            gl.attachShader(ugOt, zbGw);
            gl.attachShader(ugOt, riMyF);
            gl.linkProgram(ugOt);
            return ugOt;
        };

        function rhIuA(a, b) {
            if (a.z !== b.z) {
                return b.z - a.z;
            } else {
                return b.id - a.id;
            }
        };
    };
    RFITE.rjntj = {
        sjHt: function(wfJr, wfJs, rgNrD) {
            RFITE.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');
            var tjLs;
            if (wfJs instanceof RFITE.rgos) {
                wfJs.rhMxA && wfJs.zbHq();
                tjLs = wfJs.tjLs;
                wfJs = wfJs.vhHr;
            }
            wfJr.sjHt(wfJs, tjLs, rgNrD);
        },
        rfOsH: function(vhHr) {
            RFITE.warn('THREE.GeometryUtils: .rfOsH() has been moved to Geometry. Use geometry.rfOsH() instead.');
            return vhHr.rfOsH();
        }
    };
    RFITE.xcox = {
        crossOrigin: undefined,
        ycKr: function(url, uiMs, onLoad, onError) {
            var rfKsE = new RFITE.ydiw();
            rfKsE.crossOrigin = this.crossOrigin;
            var ueMt = new RFITE.uemt(undefined, uiMs);
            rfKsE.load(url, function(image) {
                ueMt.image = image;
                ueMt.ycGw = true;
                if (onLoad) onLoad(ueMt);
            }, undefined, function(event) {
                if (onError) onError(event);
            });
            ueMt.yjHt = url;
            return ueMt;
        },
        riGvB: function(array, uiMs, onLoad, onError) {
            var images = [];
            var rfKsE = new RFITE.ydiw();
            rfKsE.crossOrigin = this.crossOrigin;
            var ueMt = new RFITE.yfgz(images, uiMs);
            ueMt.raOv = false;
            var tjOx = 0;
            var ycKr = function(i) {
                rfKsE.load(array[i], function(image) {
                    ueMt.images[i] = image;
                    tjOx += 1;
                    if (tjOx === 6) {
                        ueMt.ycGw = true;
                        if (onLoad) onLoad(ueMt);
                    }
                }, undefined, onError);
            };
            for (var i = 0, qiMv = array.length; i < qiMv; ++i) {
                ycKr(i);
            }
            return ueMt;
        },
        rgKwJ: function() {
            RFITE.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.')
        },
        rgGqF: function() {
            RFITE.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.')
        },
        zfJr: function(image, depth) {
            var rbOw = function(a, b) {
                return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];
            };
            var vbHw = function(a, b) {
                return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];
            };
            var normalize = function(a) {
                var l = Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);
                return [a[0] / l, a[1] / l, a[2] / l];
            };
            depth = depth | 1;
            var width = image.width;
            var height = image.height;
            var canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            var tcLv = canvas.getContext('2d');
            tcLv.drawImage(image, 0, 0);
            var data = tcLv.getImageData(0, 0, width, height).data;
            var weNw = tcLv.createImageData(width, height);
            var tiMy = weNw.data;
            for (var x = 0; x < width; x++) {
                for (var y = 0; y < height; y++) {
                    var qiJu = y - 1 < 0 ? 0 : y - 1;
                    var qgPt = y + 1 > height - 1 ? height - 1 : y + 1;
                    var qiJt = x - 1 < 0 ? 0 : x - 1;
                    var qgPs = x + 1 > width - 1 ? width - 1 : x + 1;
                    var tiHx = [];
                    var origin = [0, 0, data[(y * width + x) * 4] / 255 * depth];
                    tiHx.push([-1, 0, data[(y * width + qiJt) * 4] / 255 * depth]);
                    tiHx.push([-1, -1, data[(qiJu * width + qiJt) * 4] / 255 * depth]);
                    tiHx.push([0, -1, data[(qiJu * width + x) * 4] / 255 * depth]);
                    tiHx.push([1, -1, data[(qiJu * width + qgPs) * 4] / 255 * depth]);
                    tiHx.push([1, 0, data[(y * width + qgPs) * 4] / 255 * depth]);
                    tiHx.push([1, 1, data[(qgPt * width + qgPs) * 4] / 255 * depth]);
                    tiHx.push([0, 1, data[(qgPt * width + x) * 4] / 255 * depth]);
                    tiHx.push([-1, 1, data[(qgPt * width + qiJt) * 4] / 255 * depth]);
                    var uhPu = [];
                    var xbLs = tiHx.length;
                    for (var i = 0; i < xbLs; i++) {
                        var qgPv = tiHx[i];
                        var qgPw = tiHx[(i + 1) % xbLs];
                        qgPv = vbHw(qgPv, origin);
                        qgPw = vbHw(qgPw, origin);
                        uhPu.push(normalize(rbOw(qgPv, qgPw)));
                    }
                    var normal = [0, 0, 0];
                    for (var i = 0; i < uhPu.length; i++) {
                        normal[0] += uhPu[i][0];
                        normal[1] += uhPu[i][1];
                        normal[2] += uhPu[i][2];
                    }
                    normal[0] /= uhPu.length;
                    normal[1] /= uhPu.length;
                    normal[2] /= uhPu.length;
                    var qdOv = (y * width + x) * 4;
                    tiMy[qdOv] = ((normal[0] + 1.0) / 2.0 * 255) | 0;
                    tiMy[qdOv + 1] = ((normal[1] + 1.0) / 2.0 * 255) | 0;
                    tiMy[qdOv + 2] = (normal[2] * 255) | 0;
                    tiMy[qdOv + 3] = 255;
                }
            }
            tcLv.putImageData(weNw, 0, 0);
            return canvas;
        },
        rgOyG: function(width, height, color) {
            var size = width * height;
            var data = new Uint8Array(3 * size);
            var r = Math.floor(color.r * 255);
            var g = Math.floor(color.g * 255);
            var b = Math.floor(color.b * 255);
            for (var i = 0; i < size; i++) {
                data[i * 3] = r;
                data[i * 3 + 1] = g;
                data[i * 3 + 2] = b;
            }
            var ueMt = new RFITE.yeor(data, width, height, RFITE.wamx);
            ueMt.ycGw = true;
            return ueMt;
        }
    };
    RFITE.yjnu = {
        rgHyC: function(vhHr, wdIz) {
            var group = new RFITE.veju();
            for (var i = 0, l = wdIz.length; i < l; i++) {
                group.add(new RFITE.rgos(vhHr, wdIz[i]));
            }
            return group;
        },
        scMy: function(rcGq, parent, shMq) {
            rcGq.ygHq(parent.ycJs);
            parent.thMz(rcGq);
            shMq.add(rcGq);
        },
        seJq: function(rcGq, shMq, parent) {
            var rhGxG = new RFITE.uilr();
            rhGxG.xdJv(parent.ycJs);
            rcGq.ygHq(rhGxG);
            shMq.thMz(rcGq);
            parent.add(rcGq);
        }
    };
    RFITE.wfny = {
        rbGu: {},
        riOw: 'helvetiker',
        tfIu: 'normal',
        style: 'normal',
        size: 150,
        wgLt: 10,
        taLw: function() {
            try {
                return this.rbGu[this.riOw][this.tfIu][this.style];
            } catch (e) {
                throw "The font " + this.riOw + " with " + this.tfIu + " weight and " + this.style + " style is missing."
            };
        },
        vfKq: function(data) {
            var sbPx = data.xeGx.toLowerCase();
            var xjgx = this;
            xjgx.rbGu[sbPx] = xjgx.rbGu[sbPx] || {};
            xjgx.rbGu[sbPx][data.rjOsB] = xjgx.rbGu[sbPx][data.rjOsB] || {};
            xjgx.rbGu[sbPx][data.rjOsB][data.zgKs] = data;
            xjgx.rbGu[sbPx][data.rjOsB][data.zgKs] = data;
            return data;
        },
        viKw: function(text) {
            var i, riOw = this.taLw(),
                scale = this.size / riOw.xaGu,
                tiOt = 0,
                rcHx = String(text).split(''),
                length = rcHx.length;
            var wfNw = [];
            for (i = 0; i < length; i++) {
                var rgHx = new RFITE.rghx();
                var qcIw = this.rhGtH(rcHx[i], riOw, scale, tiOt, rgHx);
                tiOt += qcIw.tiOt;
                wfNw.push(qcIw.rgHx);
            }
            var width = tiOt / 2;
            return {
                siJu: wfNw,
                tiOt: width
            };
        },
        rhGtH: function(c, riOw, scale, tiOt, rgHx) {
            var qcKt = [];
            var i, qiNy, wgLt, outline, seOw, length, rfIqA, rfIrK, x, y, qePt, qePu, rjLx, rjKq, rjLy, rjKr, rjLz, rjKs, sjMw, raKr = riOw.sbHu[c] || riOw.sbHu['?'];
            if (!raKr) return;
            if (raKr.o) {
                outline = raKr.rjJwJ || (raKr.rjJwJ = raKr.o.split(' '));
                length = outline.length;
                rfIqA = scale;
                rfIrK = scale;
                for (i = 0; i < length;) {
                    seOw = outline[i++];
                    switch (seOw) {
                        case 'm':
                            x = outline[i++] * rfIqA + tiOt;
                            y = outline[i++] * rfIrK;
                            rgHx.moveTo(x, y);
                            break;
                        case 'l':
                            x = outline[i++] * rfIqA + tiOt;
                            y = outline[i++] * rfIrK;
                            rgHx.lineTo(x, y);
                            break;
                        case 'q':
                            qePt = outline[i++] * rfIqA + tiOt;
                            qePu = outline[i++] * rfIrK;
                            rjLy = outline[i++] * rfIqA + tiOt;
                            rjKr = outline[i++] * rfIrK;
                            rgHx.quadraticCurveTo(rjLy, rjKr, qePt, qePu);
                            sjMw = qcKt[qcKt.length - 1];
                            if (sjMw) {
                                rjLx = sjMw.x;
                                rjKq = sjMw.y;
                                for (qiNy = 1, wgLt = this.wgLt; qiNy <= wgLt; qiNy++) {
                                    var t = qiNy / wgLt;
                                    RFITE.shlv.sggx.qjMq(t, rjLx, rjLy, qePt);
                                    RFITE.shlv.sggx.qjMq(t, rjKq, rjKr, qePu);
                                }
                            }
                            break;
                        case 'b':
                            qePt = outline[i++] * rfIqA + tiOt;
                            qePu = outline[i++] * rfIrK;
                            rjLy = outline[i++] * rfIqA + tiOt;
                            rjKr = outline[i++] * rfIrK;
                            rjLz = outline[i++] * rfIqA + tiOt;
                            rjKs = outline[i++] * rfIrK;
                            rgHx.bezierCurveTo(rjLy, rjKr, rjLz, rjKs, qePt, qePu);
                            sjMw = qcKt[qcKt.length - 1];
                            if (sjMw) {
                                rjLx = sjMw.x;
                                rjKq = sjMw.y;
                                for (qiNy = 1, wgLt = this.wgLt; qiNy <= wgLt; qiNy++) {
                                    var t = qiNy / wgLt;
                                    RFITE.shlv.sggx.qjMr(t, rjLx, rjLy, rjLz, qePt);
                                    RFITE.shlv.sggx.qjMr(t, rjKq, rjKr, rjKs, qePu);
                                }
                            }
                            break;
                    }
                }
            }
            return {
                tiOt: raKr.qiNq * scale,
                rgHx: rgHx
            };
        }
    };
    RFITE.wfny.riMzF = function(text, xbGu) {
        xbGu = xbGu || {};
        var size = xbGu.size !== undefined ? xbGu.size : 100;
        var rjOtD = xbGu.rjOtD !== undefined ? xbGu.rjOtD : 4;
        var font = xbGu.font !== undefined ? xbGu.font : 'helvetiker';
        var tfIu = xbGu.tfIu !== undefined ? xbGu.tfIu : 'normal';
        var style = xbGu.style !== undefined ? xbGu.style : 'normal';
        RFITE.wfny.size = size;
        RFITE.wfny.wgLt = rjOtD;
        RFITE.wfny.riOw = font;
        RFITE.wfny.tfIu = tfIu;
        RFITE.wfny.style = style;
        var data = RFITE.wfny.viKw(text);
        var siJu = data.siJu;
        var tgPu = [];
        for (var p = 0, qhNq = siJu.length; p < qhNq; p++) {
            Array.prototype.push.apply(tgPu, siJu[p].vaLr());
        }
        return tgPu;
    };
    RFITE.Audio = function(vfLz) {
        RFITE.veju.call(this);
        this.type = 'Audio';
        this.tcLv = vfLz.tcLv;
        this.source = this.tcLv.createBufferSource();
        this.source.onended = this.onEnded.bind(this);
        this.gain = this.tcLv.createGain();
        this.gain.connect(this.tcLv.destination);
        this.tiLu = this.tcLv.zgLw();
        this.tiLu.connect(this.gain);
        this.autoplay = false;
        this.xjLu = 0;
        this.weGv = false;
    };
    RFITE.Audio.prototype = Object.create(RFITE.veju.prototype);
    RFITE.Audio.prototype.constructor = RFITE.Audio;
    RFITE.Audio.prototype.load = function(riNy) {
        var shMr = this;
        var ugIv = new XMLHttpRequest();
        ugIv.open('GET', riNy, true);
        ugIv.zcLu = 'arraybuffer';
        ugIv.onload = function(e) {
            shMr.tcLv.decodeAudioData(this.vcLy, function(buffer) {
                shMr.source.buffer = buffer;
                if (shMr.autoplay) shMr.play();
            });
        };
        ugIv.rfIq();
        return this;
    };
    RFITE.Audio.prototype.play = function() {
        if (this.weGv === true) {
            RFITE.warn('THREE.Audio: Audio is already playing.');
            return;
        }
        var source = this.tcLv.createBufferSource();
        source.buffer = this.source.buffer;
        source.loop = this.source.loop;
        source.onended = this.source.onended;
        source.connect(this.tiLu);
        source.rfIsA(0, this.xjLu);
        this.weGv = true;
        this.source = source;
    };
    RFITE.Audio.prototype.pause = function() {
        this.source.stop();
        this.xjLu = this.tcLv.currentTime;
    };
    RFITE.Audio.prototype.stop = function() {
        this.source.stop();
        this.xjLu = 0;
    };
    RFITE.Audio.prototype.onEnded = function() {
        this.weGv = false;
    };
    RFITE.Audio.prototype.ufMs = function(value) {
        this.source.loop = value;
    };
    RFITE.Audio.prototype.riJtF = function(value) {
        this.tiLu.yaNu = value;
    };
    RFITE.Audio.prototype.rhLxG = function(value) {
        this.tiLu.rjLzJ = value;
    };
    RFITE.Audio.prototype.waGq = function(value) {
        this.gain.gain.value = value;
    };
    RFITE.Audio.prototype.rhHsG = (function() {
        var position = new RFITE.udor();
        return function(raNu) {
            RFITE.veju.prototype.rhHsG.call(this, raNu);
            position.rgJqA(this.ycJs);
            this.tiLu.yaHw(position.x, position.y, position.z);
        };
    })();
    RFITE.rjpwb = function() {
        RFITE.veju.call(this);
        this.type = 'AudioListener';
        this.tcLv = new(window.zhiq || window.rgPzD)();
    };
    RFITE.rjpwb.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rjpwb.prototype.constructor = RFITE.rjpwb;
    RFITE.rjpwb.prototype.rhHsG = (function() {
        var position = new RFITE.udor();
        var xaLy = new RFITE.xaly();
        var scale = new RFITE.udor();
        var reNqH = new RFITE.udor();
        var vaGv = new RFITE.udor();
        var zdGy = new RFITE.udor();
        return function(raNu) {
            RFITE.veju.prototype.rhHsG.call(this, raNu);
            var vfLz = this.tcLv.vfLz;
            var up = this.up;
            this.ycJs.whGw(position, xaLy, scale);
            reNqH.set(0, 0, -1).riIyD(xaLy);
            vaGv.yiMs(position, zdGy);
            vfLz.yaHw(position.x, position.y, position.z);
            vfLz.riJtG(reNqH.x, reNqH.y, reNqH.z, up.x, up.y, up.z);
            vfLz.yaGs(vaGv.x, vaGv.y, vaGv.z);
            zdGy.rjLt(position);
        };
    })();
    RFITE.rbnq = function() {};
    RFITE.rbnq.prototype.vhGx = function(t) {
        RFITE.warn("THREE.Curve: Warning, getPoint() rfKxG implemented!");
        return null;
    };
    RFITE.rbnq.prototype.xdIs = function(u) {
        var t = this.riLsB(u);
        return this.vhGx(t);
    };
    RFITE.rbnq.prototype.wfIw = function(wgLt) {
        if (!wgLt) wgLt = 5;
        var d, qcKt = [];
        for (d = 0; d <= wgLt; d++) {
            qcKt.push(this.vhGx(d / wgLt));
        }
        return qcKt;
    };
    RFITE.rbnq.prototype.riGsF = function(wgLt) {
        if (!wgLt) wgLt = 5;
        var d, qcKt = [];
        for (d = 0; d <= wgLt; d++) {
            qcKt.push(this.xdIs(d / wgLt));
        }
        return qcKt;
    };
    RFITE.rbnq.prototype.wfIt = function() {
        var ujGw = this.xdJw();
        return ujGw[ujGw.length - 1];
    };
    RFITE.rbnq.prototype.xdJw = function(wgLt) {
        if (!wgLt) wgLt = (this.rgNzC) ? (this.rgNzC) : 200;
        if (this.riHrF && (this.riHrF.length == wgLt + 1) && !this.ycGw) {
            return this.riHrF;
        }
        this.ycGw = false;
        var rcIy = [];
        var tcIq, rhKt = this.vhGx(0);
        var p, qbOy = 0;
        rcIy.push(0);
        for (p = 1; p <= wgLt; p++) {
            tcIq = this.vhGx(p / wgLt);
            qbOy += tcIq.xeMv(rhKt);
            rcIy.push(qbOy);
            rhKt = tcIq;
        }
        this.riHrF = rcIy;
        return rcIy;
    };
    RFITE.rbnq.prototype.rhKrE = function() {
        this.ycGw = true;
        this.xdJw();
    };
    RFITE.rbnq.prototype.riLsB = function(u, viLy) {
        var xgLy = this.xdJw();
        var i = 0,
            qiMv = xgLy.length;
        var rhOrA;
        if (viLy) {
            rhOrA = viLy;
        } else {
            rhOrA = u * xgLy[qiMv - 1];
        }
        var qdLy = 0,
            riGx = qiMv - 1,
            xfLz;
        while (qdLy <= riGx) {
            i = Math.floor(qdLy + (riGx - qdLy) / 2);
            xfLz = xgLy[i] - rhOrA;
            if (xfLz < 0) {
                qdLy = i + 1;
            } else if (xfLz > 0) {
                riGx = i - 1;
            } else {
                riGx = i;
                break;
            }
        }
        i = riGx;
        if (xgLy[i] == rhOrA) {
            var t = i / (qiMv - 1);
            return t;
        }
        var zeLs = xgLy[i];
        var ycMv = xgLy[i + 1];
        var rjKqF = ycMv - zeLs;
        var rhPyC = (rhOrA - zeLs) / rjKqF;
        var t = (i + rhPyC) / (qiMv - 1);
        return t;
    };
    RFITE.rbnq.prototype.xdIv = function(t) {
        var rbMt = 0.0001;
        var qhIw = t - rbMt;
        var qhIx = t + rbMt;
        if (qhIw < 0) qhIw = 0;
        if (qhIx > 1) qhIx = 1;
        var qcKr = this.vhGx(qhIw);
        var qcKs = this.vhGx(qhIx);
        var qbHs = qcKs.rbPq().sub(qcKr);
        return qbHs.normalize();
    };
    RFITE.rbnq.prototype.zfJx = function(u) {
        var t = this.riLsB(u);
        return this.xdIv(t);
    };
    RFITE.rbnq.sggx = {
        rgItK: function(t, qhPz, qhOq, qhOr) {
            return 2 * (1 - t) * (qhOq - qhPz) + 2 * t * (qhOr - qhOq);
        },
        rgPxH: function(t, qhPz, qhOq, qhOr, qhOs) {
            return -3 * qhPz * (1 - t) * (1 - t) + 3 * qhOq * (1 - t) * (1 - t) - 6 * t * qhOq * (1 - t) + 6 * t * qhOr * (1 - t) - 3 * t * t * qhOr + 3 * t * t * qhOs;
        },
        rjKwA: function(t, qhPz, qhOq, qhOr, qhOs) {
            var qeGr = 6 * t * t - 6 * t;
            var qeGt = 3 * t * t - 4 * t + 1;
            var qeGs = -6 * t * t + 6 * t;
            var qeGu = 3 * t * t - 2 * t;
            return qeGr + qeGt + qeGs + qeGu;
        },
        ycOq: function(qhPz, qhOq, qhOr, qhOs, t) {
            var qgPu = (qhOr - qhPz) * 0.5;
            var qgPv = (qhOs - qhOq) * 0.5;
            var qhIx = t * t;
            var qhIy = t * qhIx;
            return (2 * qhOq - 2 * qhOr + qgPu + qgPv) * qhIy + (-3 * qhOq + 3 * qhOr - 2 * qgPu - qgPv) * qhIx + qgPu * t + qhOq;
        }
    };
    RFITE.rbnq.create = function(constructor, zfJu) {
        constructor.prototype = Object.create(RFITE.rbnq.prototype);
        constructor.prototype.constructor = constructor;
        constructor.prototype.vhGx = zfJu;
        return constructor;
    };
    RFITE.whhw = function() {
        this.scPw = [];
        this.rcLv = [];
        this.wiJr = false;
    };
    RFITE.whhw.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.whhw.prototype.constructor = RFITE.whhw;
    RFITE.whhw.prototype.add = function(rbNq) {
        this.scPw.push(rbNq);
    };
    RFITE.whhw.prototype.riHsF = function() {};
    RFITE.whhw.prototype.closePath = function() {
        var yiPx = this.scPw[0].vhGx(0);
        var viIv = this.scPw[this.scPw.length - 1].vhGx(1);
        if (!yiPx.scIw(viIv)) {
            this.scPw.push(new RFITE.wdlr(viIv, yiPx));
        }
    };
    RFITE.whhw.prototype.vhGx = function(t) {
        var d = t * this.wfIt();
        var zgJz = this.riGrD();
        var i = 0,
            rjIx, rbNq;
        while (i < zgJz.length) {
            if (zgJz[i] >= d) {
                rjIx = zgJz[i] - d;
                rbNq = this.scPw[i];
                var u = 1 - rjIx / rbNq.wfIt();
                return rbNq.xdIs(u);
            }
            i++;
        }
        return null;
    };
    RFITE.whhw.prototype.wfIt = function() {
        var rhKz = this.riGrD();
        return rhKz[rhKz.length - 1];
    };
    RFITE.whhw.prototype.riGrD = function() {
        if (this.zhGv && this.zhGv.length == this.scPw.length) {
            return this.zhGv;
        };
        var ujGw = [],
            reNr = 0;
        var i, qiMv = this.scPw.length;
        for (i = 0; i < qiMv; i++) {
            reNr += this.scPw[i].wfIt();
            ujGw.push(reNr);
        }
        this.zhGv = ujGw;
        return ujGw;
    };
    RFITE.whhw.prototype.riLqH = function() {
        var tiHx = this.wfIw();
        var rgPq, rgPr, rgPs;
        var rgOy, rgOz, rgNq;
        rgPq = rgPr = Number.NEGATIVE_INFINITY;
        rgOy = rgOz = Number.POSITIVE_INFINITY;
        var p, i, qiMv, qbOy;
        var qgPx = tiHx[0] instanceof RFITE.udor;
        qbOy = qgPx ? new RFITE.udor() : new RFITE.udoq();
        for (i = 0, qiMv = tiHx.length; i < qiMv; i++) {
            p = tiHx[i];
            if (p.x > rgPq) rgPq = p.x;
            else if (p.x < rgOy) rgOy = p.x;
            if (p.y > rgPr) rgPr = p.y;
            else if (p.y < rgOz) rgOz = p.y;
            if (qgPx) {
                if (p.z > rgPs) rgPs = p.z;
                else if (p.z < rgNq) rgNq = p.z;
            }
            qbOy.add(p);
        }
        var qcIw = {
            rgOy: rgOy,
            rgOz: rgOz,
            rgPq: rgPq,
            rgPr: rgPr
        };
        if (qgPx) {
            qcIw.rgPs = rgPs;
            qcIw.rgNq = rgNq;
        }
        return qcIw;
    };
    RFITE.whhw.prototype.rgMvH = function(wgLt) {
        var qcKt = this.wfIw(wgLt, true);
        return this.riMtK(qcKt);
    };
    RFITE.whhw.prototype.rgGsA = function(wgLt) {
        var qcKt = this.riGsF(wgLt, true);
        return this.riMtK(qcKt);
    };
    RFITE.whhw.prototype.riMtK = function(tiHx) {
        var vhHr = new RFITE.vhhr();
        for (var i = 0; i < tiHx.length; i++) {
            vhHr.wjPq.push(new RFITE.udor(tiHx[i].x, tiHx[i].y, tiHx[i].z || 0));
        }
        return vhHr;
    };
    RFITE.whhw.prototype.ygJt = function(uaLz) {
        this.rcLv.push(uaLz);
    };
    RFITE.whhw.prototype.rgMzE = function(vcGy, rcLv) {
        var tiOu = this.wfIw(vcGy);
        var i, qiMv;
        if (!rcLv) {
            rcLv = this.rcLv;
        }
        for (i = 0, qiMv = rcLv.length; i < qiMv; i++) {
            tiOu = this.rjNvD(tiOu, rcLv[i]);
        }
        return tiOu;
    };
    RFITE.whhw.prototype.rgGtH = function(vcGy, rcLv) {
        var tiOu = this.riGsF(vcGy);
        var i, qiMv;
        if (!rcLv) {
            rcLv = this.rcLv;
        }
        for (i = 0, qiMv = rcLv.length; i < qiMv; i++) {
            tiOu = this.rjNvD(tiOu, rcLv[i]);
        }
        return tiOu;
    };
    RFITE.whhw.prototype.rjNvD = function(tiOu, rgHx) {
        var sdPv = this.riLqH();
        var i, qiMv, p, rgKw, rgKx, sfLy;
        for (i = 0, qiMv = tiOu.length; i < qiMv; i++) {
            p = tiOu[i];
            rgKw = p.x;
            rgKx = p.y;
            sfLy = rgKw / sdPv.rgPq;
            sfLy = rgHx.riLsB(sfLy, rgKw);
            var tiKw = rgHx.vhGx(sfLy);
            var normal = rgHx.xdIv(sfLy);
            normal.set(-normal.y, normal.x).riKsH(rgKx);
            p.x = tiKw.x + normal.x;
            p.y = tiKw.y + normal.y;
        }
        return tiOu;
    };
    RFITE.wfhz = function() {
        RFITE.veju.call(this);
    };
    RFITE.wfhz.prototype = Object.create(RFITE.veju.prototype);
    RFITE.wfhz.prototype.constructor = RFITE.wfhz;
    RFITE.wfhz.prototype.rhHsG = (function() {
        var rhHrA = new RFITE.udor();
        var rhLvJ = new RFITE.xaly();
        var yaJy = new RFITE.udor();
        var rhKqC = new RFITE.udor();
        var rhPwD = new RFITE.xaly();
        var yjNs = new RFITE.udor();
        return function(raNu) {
            this.rhMxA && this.zbHq();
            if (this.rgJzK || raNu) {
                if (this.parent) {
                    this.ycJs.rhLqJ(this.parent.ycJs, this.tjLs);
                    this.ycJs.whGw(rhKqC, rhPwD, yjNs);
                    this.tjLs.whGw(rhHrA, rhLvJ, yaJy);
                    this.ycJs.tcMu(rhKqC, rhLvJ, yjNs);
                } else {
                    this.ycJs.rjLt(this.tjLs);
                }
                this.rgJzK = false;
                raNu = true;
            }
            for (var i = 0, l = this.children.length; i < l; i++) {
                this.children[i].rhHsG(raNu);
            }
        };
    }());
    RFITE.rghx = function(tiHx) {
        RFITE.whhw.call(this);
        this.teJy = [];
        if (tiHx) {
            this.xdMy(tiHx);
        }
    };
    RFITE.rghx.prototype = Object.create(RFITE.whhw.prototype);
    RFITE.rghx.prototype.constructor = RFITE.rghx;
    RFITE.ybkx = {
        UIIR: 'moveTo',
        UIPW: 'lineTo',
        RGPTJ: 'quadraticCurveTo',
        RIIZA: 'bezierCurveTo',
        ZGKR: 'splineThru',
        ARC: 'arc',
        TBMT: 'ellipse'
    };
    RFITE.rghx.prototype.xdMy = function(udOt) {
        this.moveTo(udOt[0].x, udOt[0].y);
        for (var v = 1, reGx = udOt.length; v < reGx; v++) {
            this.lineTo(udOt[v].x, udOt[v].y);
        };
    };
    RFITE.rghx.prototype.moveTo = function(x, y) {
        var rePuH = Array.prototype.slice.call(arguments);
        this.teJy.push({
            seOw: RFITE.ybkx.UIIR,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.lineTo = function(x, y) {
        var rePuH = Array.prototype.slice.call(arguments);
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        var rbNq = new RFITE.wdlr(new RFITE.udoq(qgMu, qgKs), new RFITE.udoq(x, y));
        this.scPw.push(rbNq);
        this.teJy.push({
            seOw: RFITE.ybkx.UIPW,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.quadraticCurveTo = function(qaKt, qaKu, qjNv, qjNw) {
        var rePuH = Array.prototype.slice.call(arguments);
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        var rbNq = new RFITE.rgltb(new RFITE.udoq(qgMu, qgKs), new RFITE.udoq(qaKt, qaKu), new RFITE.udoq(qjNv, qjNw));
        this.scPw.push(rbNq);
        this.teJy.push({
            seOw: RFITE.ybkx.RGPTJ,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.bezierCurveTo = function(rdHy, rdHz, rdGq, rdGr, qjNv, qjNw) {
        var rePuH = Array.prototype.slice.call(arguments);
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        var rbNq = new RFITE.rhnwh(new RFITE.udoq(qgMu, qgKs), new RFITE.udoq(rdHy, rdHz), new RFITE.udoq(rdGq, rdGr), new RFITE.udoq(qjNv, qjNw));
        this.scPw.push(rbNq);
        this.teJy.push({
            seOw: RFITE.ybkx.RIIZA,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.yjHy = function(qcKt) {
        var rePuH = Array.prototype.slice.call(arguments);
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        var rgKr = [new RFITE.udoq(qgMu, qgKs)];
        Array.prototype.push.apply(rgKr, qcKt);
        var rbNq = new RFITE.zjnq(rgKr);
        this.scPw.push(rbNq);
        this.teJy.push({
            seOw: RFITE.ybkx.ZGKR,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.arc = function(qjNv, qjNw, tdOy, ygGw, wiOy, xgOw) {
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        this.seOq(qjNv + qgMu, qjNw + qgKs, tdOy, ygGw, wiOy, xgOw);
    };
    RFITE.rghx.prototype.seOq = function(qjNv, qjNw, tdOy, ygGw, wiOy, xgOw) {
        this.xgPy(qjNv, qjNw, tdOy, tdOy, ygGw, wiOy, xgOw);
    };
    RFITE.rghx.prototype.tbMt = function(qjNv, qjNw, ubPu, ubOq, ygGw, wiOy, xgOw) {
        var vfNt = this.teJy[this.teJy.length - 1].rePuH;
        var qgMu = vfNt[vfNt.length - 2];
        var qgKs = vfNt[vfNt.length - 1];
        this.xgPy(qjNv + qgMu, qjNw + qgKs, ubPu, ubOq, ygGw, wiOy, xgOw);
    };
    RFITE.rghx.prototype.xgPy = function(qjNv, qjNw, ubPu, ubOq, ygGw, wiOy, xgOw) {
        var rePuH = Array.prototype.slice.call(arguments);
        var rbNq = new RFITE.zfpv(qjNv, qjNw, ubPu, ubOq, ygGw, wiOy, xgOw);
        this.scPw.push(rbNq);
        var wdOv = rbNq.vhGx(1);
        rePuH.push(wdOv.x);
        rePuH.push(wdOv.y);
        this.teJy.push({
            seOw: RFITE.ybkx.TBMT,
            rePuH: rePuH
        });
    };
    RFITE.rghx.prototype.riGsF = function(wgLt, xfMu) {
        if (!wgLt) wgLt = 40;
        var tiHx = [];
        for (var i = 0; i < wgLt; i++) {
            tiHx.push(this.vhGx(i / wgLt));
        }
        return tiHx;
    };
    RFITE.rghx.prototype.wfIw = function(wgLt, xfMu) {
        if (this.rhOvJ) {
            console.log('tata');
            return this.riGsF(wgLt, xfMu);
        }
        wgLt = wgLt || 12;
        var tiHx = [];
        var i, qiMv, item, seOw, rePuH;
        var qePt, qePu, rjLz, rjKs, rjLy, rjKr, rjLx, rjKq, sjMw, j, t, qhHx, qhHy;
        for (i = 0, qiMv = this.teJy.length; i < qiMv; i++) {
            item = this.teJy[i];
            seOw = item.seOw;
            rePuH = item.rePuH;
            switch (seOw) {
                case RFITE.ybkx.UIIR:
                    tiHx.push(new RFITE.udoq(rePuH[0], rePuH[1]));
                    break;
                case RFITE.ybkx.UIPW:
                    tiHx.push(new RFITE.udoq(rePuH[0], rePuH[1]));
                    break;
                case RFITE.ybkx.RGPTJ:
                    qePt = rePuH[2];
                    qePu = rePuH[3];
                    rjLy = rePuH[0];
                    rjKr = rePuH[1];
                    if (tiHx.length > 0) {
                        sjMw = tiHx[tiHx.length - 1];
                        rjLx = sjMw.x;
                        rjKq = sjMw.y;
                    } else {
                        sjMw = this.teJy[i - 1].rePuH;
                        rjLx = sjMw[sjMw.length - 2];
                        rjKq = sjMw[sjMw.length - 1];
                    }
                    for (j = 1; j <= wgLt; j++) {
                        t = j / wgLt;
                        qhHx = RFITE.shlv.sggx.qjMq(t, rjLx, rjLy, qePt);
                        qhHy = RFITE.shlv.sggx.qjMq(t, rjKq, rjKr, qePu);
                        tiHx.push(new RFITE.udoq(qhHx, qhHy));
                    }
                    break;
                case RFITE.ybkx.RIIZA:
                    qePt = rePuH[4];
                    qePu = rePuH[5];
                    rjLy = rePuH[0];
                    rjKr = rePuH[1];
                    rjLz = rePuH[2];
                    rjKs = rePuH[3];
                    if (tiHx.length > 0) {
                        sjMw = tiHx[tiHx.length - 1];
                        rjLx = sjMw.x;
                        rjKq = sjMw.y;
                    } else {
                        sjMw = this.teJy[i - 1].rePuH;
                        rjLx = sjMw[sjMw.length - 2];
                        rjKq = sjMw[sjMw.length - 1];
                    }
                    for (j = 1; j <= wgLt; j++) {
                        t = j / wgLt;
                        qhHx = RFITE.shlv.sggx.qjMr(t, rjLx, rjLy, rjLz, qePt);
                        qhHy = RFITE.shlv.sggx.qjMr(t, rjKq, rjKr, rjKs, qePu);
                        tiHx.push(new RFITE.udoq(qhHx, qhHy));
                    }
                    break;
                case RFITE.ybkx.ZGKR:
                    sjMw = this.teJy[i - 1].rePuH;
                    var rhKt = new RFITE.udoq(sjMw[sjMw.length - 2], sjMw[sjMw.length - 1]);
                    var reOq = [rhKt];
                    var n = wgLt * rePuH[0].length;
                    reOq = reOq.concat(rePuH[0]);
                    var tgLw = new RFITE.zjnq(reOq);
                    for (j = 1; j <= n; j++) {
                        tiHx.push(tgLw.xdIs(j / n));
                    }
                    break;
                case RFITE.ybkx.ARC:
                    var qjNv = rePuH[0],
                        qjNw = rePuH[1],
                        tdOy = rePuH[2],
                        ygGw = rePuH[3],
                        wiOy = rePuH[4],
                        xgOw = !!rePuH[5];
                    var xePy = wiOy - ygGw;
                    var rcOr;
                    var yiLq = wgLt * 2;
                    for (j = 1; j <= yiLq; j++) {
                        t = j / yiLq;
                        if (!xgOw) {
                            t = 1 - t;
                        }
                        rcOr = ygGw + t * xePy;
                        qhHx = qjNv + tdOy * Math.cos(rcOr);
                        qhHy = qjNw + tdOy * Math.sin(rcOr);
                        tiHx.push(new RFITE.udoq(qhHx, qhHy));
                    }
                    break;
                case RFITE.ybkx.TBMT:
                    var qjNv = rePuH[0],
                        qjNw = rePuH[1],
                        ubPu = rePuH[2],
                        ubOq = rePuH[3],
                        ygGw = rePuH[4],
                        wiOy = rePuH[5],
                        xgOw = !!rePuH[6];
                    var xePy = wiOy - ygGw;
                    var rcOr;
                    var yiLq = wgLt * 2;
                    for (j = 1; j <= yiLq; j++) {
                        t = j / yiLq;
                        if (!xgOw) {
                            t = 1 - t;
                        }
                        rcOr = ygGw + t * xePy;
                        qhHx = qjNv + ubPu * Math.cos(rcOr);
                        qhHy = qjNw + ubOq * Math.sin(rcOr);
                        tiHx.push(new RFITE.udoq(qhHx, qhHy));
                    }
                    break;
            }
        }
        var wdOv = tiHx[tiHx.length - 1];
        var TBKV = 0.0000000001;
        if (Math.abs(wdOv.x - tiHx[0].x) < TBKV && Math.abs(wdOv.y - tiHx[0].y) < TBKV) tiHx.splice(tiHx.length - 1, 1);
        if (xfMu) {
            tiHx.push(tiHx[0]);
        }
        return tiHx;
    };
    RFITE.rghx.prototype.vaLr = function(sjPv, uhPr) {
        function riHzG(weMv) {
            var i, qiMv, item, seOw, rePuH;
            var vbHt = [],
                vfNv = new RFITE.rghx();
            for (i = 0, qiMv = weMv.length; i < qiMv; i++) {
                item = weMv[i];
                rePuH = item.rePuH;
                seOw = item.seOw;
                if (seOw == RFITE.ybkx.UIIR) {
                    if (vfNv.teJy.length != 0) {
                        vbHt.push(vfNv);
                        vfNv = new RFITE.rghx();
                    }
                }
                vfNv[seOw].apply(vfNv, rePuH);
            }
            if (vfNv.teJy.length != 0) {
                vbHt.push(vfNv);
            }
            return vbHt;
        }

        function rhOsD(xcLs) {
            var tgPu = [];
            for (var i = 0, qiMv = xcLs.length; i < qiMv; i++) {
                var ueKq = xcLs[i];
                var vaMt = new RFITE.shlv();
                vaMt.teJy = ueKq.teJy;
                vaMt.scPw = ueKq.scPw;
                tgPu.push(vaMt);
            }
            return tgPu;
        };

        function rgLqH(rhNs, weJs) {
            var TBKV = 0.0000000001;
            var uhHy = weJs.length;
            var saLr = false;
            for (var p = uhHy - 1, q = 0; q < uhHy; p = q++) {
                var wgJw = weJs[p];
                var xeKv = weJs[q];
                var scKw = xeKv.x - wgJw.x;
                var scKx = xeKv.y - wgJw.y;
                if (Math.abs(scKx) > TBKV) {
                    if (scKx < 0) {
                        wgJw = weJs[q];
                        scKw = -scKw;
                        xeKv = weJs[p];
                        scKx = -scKx;
                    }
                    if ((rhNs.y < wgJw.y) || (rhNs.y > xeKv.y)) continue;
                    if (rhNs.y == wgJw.y) {
                        if (rhNs.x == wgJw.x) return true;
                    } else {
                        var vdOz = scKx * (rhNs.x - wgJw.x) - scKw * (rhNs.y - wgJw.y);
                        if (vdOz == 0) return true;
                        if (vdOz < 0) continue;
                        saLr = !saLr;
                    }
                } else {
                    if (rhNs.y != wgJw.y) continue;
                    if (((xeKv.x <= rhNs.x) && (rhNs.x <= wgJw.x)) || ((wgJw.x <= rhNs.x) && (rhNs.x <= xeKv.x))) return true;
                }
            }
            return saLr;
        }
        var vbHt = riHzG(this.teJy);
        if (vbHt.length == 0) return [];
        if (uhPr === true) return rhOsD(vbHt);
        var shHs, ueKq, vaMt, tgPu = [];
        if (vbHt.length == 1) {
            ueKq = vbHt[0];
            vaMt = new RFITE.shlv();
            vaMt.teJy = ueKq.teJy;
            vaMt.scPw = ueKq.scPw;
            tgPu.push(vaMt);
            return tgPu;
        }
        var xcPz = !RFITE.shlv.sggx.ycOt(vbHt[0].wfIw());
        xcPz = sjPv ? !xcPz : xcPz;
        var rhNtK = [];
        var wcLt = [];
        var rjMxC = [];
        var uiNv = 0;
        var xiPz;
        wcLt[uiNv] = undefined;
        rjMxC[uiNv] = [];
        var i, qiMv;
        for (i = 0, qiMv = vbHt.length; i < qiMv; i++) {
            ueKq = vbHt[i];
            xiPz = ueKq.wfIw();
            shHs = RFITE.shlv.sggx.ycOt(xiPz);
            shHs = sjPv ? !shHs : shHs;
            if (shHs) {
                if ((!xcPz) && (wcLt[uiNv])) uiNv++;
                wcLt[uiNv] = {
                    s: new RFITE.shlv(),
                    p: xiPz
                };
                wcLt[uiNv].s.teJy = ueKq.teJy;
                wcLt[uiNv].s.scPw = ueKq.scPw;
                if (xcPz) uiNv++;
                rjMxC[uiNv] = [];
            } else {
                rjMxC[uiNv].push({
                    h: ueKq,
                    p: xiPz[0]
                });
            }
        }
        if (!wcLt[0]) return rhOsD(vbHt);
        if (wcLt.length > 1) {
            var wiMq = false;
            var vaMu = [];
            for (var rfHt = 0, rfGq = wcLt.length; rfHt < rfGq; rfHt++) {
                rhNtK[rfHt] = [];
            }
            for (var rfHt = 0, rfGq = wcLt.length; rfHt < rfGq; rfHt++) {
                var qbPq = rjMxC[rfHt];
                for (var riGw = 0; riGw < qbPq.length; riGw++) {
                    var qiNu = qbPq[riGw];
                    var riGtF = true;
                    for (var shNv = 0; shNv < wcLt.length; shNv++) {
                        if (rgLqH(qiNu.p, wcLt[shNv].p)) {
                            if (rfHt != shNv) vaMu.push({
                                raMq: rfHt,
                                qbLr: shNv,
                                rhPr: riGw
                            });
                            if (riGtF) {
                                riGtF = false;
                                rhNtK[shNv].push(qiNu);
                            } else {
                                wiMq = true;
                            }
                        }
                    }
                    if (riGtF) {
                        rhNtK[rfHt].push(qiNu);
                    }
                }
            }
            if (vaMu.length > 0) {
                if (!wiMq) rjMxC = rhNtK;
            }
        }
        var vaMs, j, qiLy;
        for (i = 0, qiMv = wcLt.length; i < qiMv; i++) {
            vaMt = wcLt[i].s;
            tgPu.push(vaMt);
            vaMs = rjMxC[i];
            for (j = 0, qiLy = vaMs.length; j < qiLy; j++) {
                vaMt.raHq.push(vaMs[j].h);
            }
        }
        return tgPu;
    };
    RFITE.shlv = function() {
        RFITE.rghx.apply(this, arguments);
        this.raHq = [];
    };
    RFITE.shlv.prototype = Object.create(RFITE.rghx.prototype);
    RFITE.shlv.prototype.constructor = RFITE.shlv;
    RFITE.shlv.prototype.tbIw = function(uhLw) {
        var vhOq = new RFITE.rihzf(this, uhLw);
        return vhOq;
    };
    RFITE.shlv.prototype.zeJz = function(uhLw) {
        var vhHr = new RFITE.rjktg(this, uhLw);
        return vhHr;
    };
    RFITE.shlv.prototype.riLrA = function(wgLt) {
        var i, qiMv = this.raHq.length,
            vgMr = [];
        for (i = 0; i < qiMv; i++) {
            vgMr[i] = this.raHq[i].rgMzE(wgLt, this.rcLv);
        }
        return vgMr;
    };
    RFITE.shlv.prototype.rgMzH = function(wgLt) {
        var i, qiMv = this.raHq.length,
            vgMr = [];
        for (i = 0; i < qiMv; i++) {
            vgMr[i] = this.raHq[i].rgGtH(wgLt, this.rcLv);
        }
        return vgMr;
    };
    RFITE.shlv.prototype.rhNzC = function(wgLt) {
        return {
            shLv: this.rgMzE(wgLt),
            raHq: this.riLrA(wgLt)
        };
    };
    RFITE.shlv.prototype.rjOzC = function(wgLt) {
        if (this.rhOvJ) {
            return this.rgJxE(wgLt);
        }
        return this.rhNzC(wgLt);
    };
    RFITE.shlv.prototype.rgJxE = function(wgLt) {
        return {
            shLv: this.rgGtH(wgLt),
            raHq: this.rgMzH(wgLt)
        };
    };
    RFITE.shlv.sggx = {
        rhKqB: function(tcLx, raHq) {
            function rgGqA(vgJu, vgJv, weJr) {
                if (vgJu.x != vgJv.x) {
                    if (vgJu.x < vgJv.x) {
                        return ((vgJu.x <= weJr.x) && (weJr.x <= vgJv.x));
                    } else {
                        return ((vgJv.x <= weJr.x) && (weJr.x <= vgJu.x));
                    }
                } else {
                    if (vgJu.y < vgJv.y) {
                        return ((vgJu.y <= weJr.y) && (weJr.y <= vgJv.y));
                    } else {
                        return ((vgJv.y <= weJr.y) && (weJr.y <= vgJu.y));
                    }
                }
            }

            function rgKvG(weJv, weJw, weJx, weJy, rgKvK) {
                var TBKV = 0.0000000001;
                var thHs = weJw.x - weJv.x,
                    thHt = weJw.y - weJv.y;
                var thHv = weJy.x - weJx.x,
                    thHw = weJy.y - weJx.y;
                var yjMt = weJv.x - weJx.x;
                var yjMu = weJv.y - weJx.y;
                var sjLv = thHt * thHv - thHs * thHw;
                var vdNq = thHt * yjMt - thHs * yjMu;
                if (Math.abs(sjLv) > TBKV) {
                    var vdNr;
                    if (sjLv > 0) {
                        if ((vdNq < 0) || (vdNq > sjLv)) return [];
                        vdNr = thHw * yjMt - thHv * yjMu;
                        if ((vdNr < 0) || (vdNr > sjLv)) return [];
                    } else {
                        if ((vdNq > 0) || (vdNq < sjLv)) return [];
                        vdNr = thHw * yjMt - thHv * yjMu;
                        if ((vdNr > 0) || (vdNr < sjLv)) return [];
                    }
                    if (vdNr == 0) {
                        if ((rgKvK) && ((vdNq == 0) || (vdNq == sjLv))) return [];
                        return [weJv];
                    }
                    if (vdNr == sjLv) {
                        if ((rgKvK) && ((vdNq == 0) || (vdNq == sjLv))) return [];
                        return [weJw];
                    }
                    if (vdNq == 0) return [weJx];
                    if (vdNq == sjLv) return [weJy];
                    var xeGv = vdNr / sjLv;
                    return [{
                        x: weJv.x + xeGv * thHs,
                        y: weJv.y + xeGv * thHt
                    }];
                } else {
                    if ((vdNq != 0) || (thHw * yjMt != thHv * yjMu)) return [];
                    var thHu = ((thHs == 0) && (thHt == 0));
                    var thHx = ((thHv == 0) && (thHw == 0));
                    if (thHu && thHx) {
                        if ((weJv.x != weJx.x) || (weJv.y != weJx.y)) return [];
                        return [weJv];
                    }
                    if (thHu) {
                        if (!rgGqA(weJx, weJy, weJv)) return [];
                        return [weJv];
                    }
                    if (thHx) {
                        if (!rgGqA(weJv, weJw, weJx)) return [];
                        return [weJx];
                    }
                    var ufNt, ufNs, yjMs, yjMr;
                    var ufNv, ufNu, yjMw, yjMv;
                    if (thHs != 0) {
                        if (weJv.x < weJw.x) {
                            ufNt = weJv;
                            yjMs = weJv.x;
                            ufNs = weJw;
                            yjMr = weJw.x;
                        } else {
                            ufNt = weJw;
                            yjMs = weJw.x;
                            ufNs = weJv;
                            yjMr = weJv.x;
                        }
                        if (weJx.x < weJy.x) {
                            ufNv = weJx;
                            yjMw = weJx.x;
                            ufNu = weJy;
                            yjMv = weJy.x;
                        } else {
                            ufNv = weJy;
                            yjMw = weJy.x;
                            ufNu = weJx;
                            yjMv = weJx.x;
                        }
                    } else {
                        if (weJv.y < weJw.y) {
                            ufNt = weJv;
                            yjMs = weJv.y;
                            ufNs = weJw;
                            yjMr = weJw.y;
                        } else {
                            ufNt = weJw;
                            yjMs = weJw.y;
                            ufNs = weJv;
                            yjMr = weJv.y;
                        }
                        if (weJx.y < weJy.y) {
                            ufNv = weJx;
                            yjMw = weJx.y;
                            ufNu = weJy;
                            yjMv = weJy.y;
                        } else {
                            ufNv = weJy;
                            yjMw = weJy.y;
                            ufNu = weJx;
                            yjMv = weJx.y;
                        }
                    }
                    if (yjMs <= yjMw) {
                        if (yjMr < yjMw) return [];
                        if (yjMr == yjMw) {
                            if (rgKvK) return [];
                            return [ufNv];
                        }
                        if (yjMr <= yjMv) return [ufNv, ufNs];
                        return [ufNv, ufNu];
                    } else {
                        if (yjMs > yjMv) return [];
                        if (yjMs == yjMv) {
                            if (rgKvK) return [];
                            return [ufNt];
                        }
                        if (yjMr <= yjMv) return [ufNt, ufNs];
                        return [ufNt, ufNu];
                    }
                }
            }

            function rhGwG(vgHs, ydGv, weKz, weJr) {
                var TBKV = 0.0000000001;
                var xcIt = ydGv.x - vgHs.x,
                    xcIu = ydGv.y - vgHs.y;
                var vfMt = weKz.x - vgHs.x,
                    vfMu = weKz.y - vgHs.y;
                var veGx = weJr.x - vgHs.x,
                    veGy = weJr.y - vgHs.y;
                var zfMw = xcIt * vfMu - xcIu * vfMt;
                var riGqG = xcIt * veGy - xcIu * veGx;
                if (Math.abs(zfMw) > TBKV) {
                    var rjLqA = veGx * vfMu - veGy * vfMt;
                    if (zfMw > 0) {
                        return ((riGqG >= 0) && (rjLqA >= 0));
                    } else {
                        return ((riGqG >= 0) || (rjLqA >= 0));
                    }
                } else {
                    return (riGqG > 0);
                }
            }

            function yaNz(tcLx, raHq) {
                var shLv = tcLx.concat();
                var rhPr;

                function rgKvE(xcLq, weKs) {
                    var zeMy = shLv.length - 1;
                    var zcPv = xcLq - 1;
                    if (zcPv < 0) zcPv = zeMy;
                    var zdNw = xcLq + 1;
                    if (zdNw > zeMy) zdNw = 0;
                    var ycPs = rhGwG(shLv[xcLq], shLv[zcPv], shLv[zdNw], rhPr[weKs]);
                    if (!ycPs) {
                        return false;
                    }
                    var ycNz = rhPr.length - 1;
                    var ybGx = weKs - 1;
                    if (ybGx < 0) ybGx = ycNz;
                    var ycGz = weKs + 1;
                    if (ycGz > ycNz) ycGz = 0;
                    ycPs = rhGwG(rhPr[weKs], rhPr[ybGx], rhPr[ycGz], shLv[xcLq]);
                    if (!ycPs) {
                        return false;
                    }
                    return true;
                }

                function rgNqG(weIr, vgKy) {
                    var rfHt, uiGu, zeOw;
                    for (rfHt = 0; rfHt < shLv.length; rfHt++) {
                        uiGu = rfHt + 1;
                        uiGu %= shLv.length;
                        zeOw = rgKvG(weIr, vgKy, shLv[rfHt], shLv[uiGu], true);
                        if (zeOw.length > 0) return true;
                    }
                    return false;
                }
                var xcNs = [];

                function rhGvC(weIr, vgKy) {
                    var raHz, tcPs, riGw, uiGu, zeOw;
                    for (raHz = 0; raHz < xcNs.length; raHz++) {
                        tcPs = raHq[xcNs[raHz]];
                        for (riGw = 0; riGw < tcPs.length; riGw++) {
                            uiGu = riGw + 1;
                            uiGu %= tcPs.length;
                            zeOw = rgKvG(weIr, vgKy, tcPs[riGw], tcPs[uiGu], true);
                            if (zeOw.length > 0) return true;
                        }
                    }
                    return false;
                }
                var weOs, yjJq, ufLx, saOq, ujPq, scPy, xeGw = [],
                    xiOq, xiOr, vaMq, vaMr;
                for (var h = 0, qiNs = raHq.length; h < qiNs; h++) {
                    xcNs.push(h);
                }
                var rjMwH = 0;
                var tcKv = xcNs.length * 2;
                while (xcNs.length > 0) {
                    tcKv--;
                    if (tcKv < 0) {
                        console.log("Infinite Loop! Holes left:" + xcNs.length + ", Probably Hole outside Shape!");
                        break;
                    }
                    for (yjJq = rjMwH; yjJq < shLv.length; yjJq++) {
                        ufLx = shLv[yjJq];
                        weOs = -1;
                        for (var h = 0; h < xcNs.length; h++) {
                            ujPq = xcNs[h];
                            scPy = ufLx.x + ":" + ufLx.y + ":" + ujPq;
                            if (xeGw[scPy] !== undefined) continue;
                            rhPr = raHq[ujPq];
                            for (var qiOz = 0; qiOz < rhPr.length; qiOz++) {
                                saOq = rhPr[qiOz];
                                if (!rgKvE(yjJq, qiOz)) continue;
                                if (rgNqG(ufLx, saOq)) continue;
                                if (rhGvC(ufLx, saOq)) continue;
                                weOs = qiOz;
                                xcNs.splice(h, 1);
                                xiOq = shLv.slice(0, yjJq + 1);
                                xiOr = shLv.slice(yjJq);
                                vaMq = rhPr.slice(weOs);
                                vaMr = rhPr.slice(0, weOs + 1);
                                shLv = xiOq.concat(vaMq).concat(vaMr).concat(xiOr);
                                rjMwH = yjJq;
                                break;
                            }
                            if (weOs >= 0) break;
                            xeGw[scPy] = true;
                        }
                        if (weOs >= 0) break;
                    }
                }
                return shLv;
            }
            var i, qiMv, f, riOw, key, index, zhKr = {};
            var wiNv = tcLx.concat();
            for (var h = 0, qiNs = raHq.length; h < qiNs; h++) {
                Array.prototype.push.apply(wiNv, raHq[h]);
            }
            for (i = 0, qiMv = wiNv.length; i < qiMv; i++) {
                key = wiNv[i].x + ":" + wiNv[i].y;
                if (zhKr[key] !== undefined) {
                    RFITE.warn("THREE.Shape: Duplicate point", key);
                }
                zhKr[key] = i;
            }
            var rhIzK = yaNz(tcLx, raHq);
            var xiNy = RFITE.wfny.zjgw(rhIzK, false);
            for (i = 0, qiMv = xiNy.length; i < qiMv; i++) {
                riOw = xiNy[i];
                for (f = 0; f < 3; f++) {
                    key = riOw[f].x + ":" + riOw[f].y;
                    index = zhKr[key];
                    if (index !== undefined) {
                        riOw[f] = index;
                    }
                }
            }
            return xiNy.concat();
        },
        ycOt: function(qcKt) {
            return RFITE.wfny.zjgw.area(qcKt) < 0;
        },
        qaHu: function(t, p) {
            var k = 1 - t;
            return k * k * p;
        },
        qaHv: function(t, p) {
            return 2 * (1 - t) * t * p;
        },
        qaHw: function(t, p) {
            return t * t * p;
        },
        qjMq: function(t, qhPz, qhOq, qhOr) {
            return this.qaHu(t, qhPz) + this.qaHv(t, qhOq) + this.qaHw(t, qhOr);
        },
        qaHx: function(t, p) {
            var k = 1 - t;
            return k * k * k * p;
        },
        qaHy: function(t, p) {
            var k = 1 - t;
            return 3 * k * k * t * p;
        },
        qaHz: function(t, p) {
            var k = 1 - t;
            return 3 * k * t * t * p;
        },
        qaGq: function(t, p) {
            return t * t * t * p;
        },
        qjMr: function(t, qhPz, qhOq, qhOr, qhOs) {
            return this.qaHx(t, qhPz) + this.qaHy(t, qhOq) + this.qaHz(t, qhOr) + this.qaGq(t, qhOs);
        }
    };
    RFITE.wdlr = function(qgPv, qgPw) {
        this.qgPv = qgPv;
        this.qgPw = qgPw;
    };
    RFITE.wdlr.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.wdlr.prototype.constructor = RFITE.wdlr;
    RFITE.wdlr.prototype.vhGx = function(t) {
        var point = this.qgPw.rbPq().sub(this.qgPv);
        point.riKsH(t).add(this.qgPv);
        return point;
    };
    RFITE.wdlr.prototype.xdIs = function(u) {
        return this.vhGx(u);
    };
    RFITE.wdlr.prototype.xdIv = function(t) {
        var tangent = this.qgPw.rbPq().sub(this.qgPv);
        return tangent.normalize();
    };
    RFITE.rgltb = function(qgPu, qgPv, qgPw) {
        this.qgPu = qgPu;
        this.qgPv = qgPv;
        this.qgPw = qgPw;
    };
    RFITE.rgltb.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.rgltb.prototype.constructor = RFITE.rgltb;
    RFITE.rgltb.prototype.vhGx = function(t) {
        var tfKy = new RFITE.udoq();
        tfKy.x = RFITE.shlv.sggx.qjMq(t, this.qgPu.x, this.qgPv.x, this.qgPw.x);
        tfKy.y = RFITE.shlv.sggx.qjMq(t, this.qgPu.y, this.qgPv.y, this.qgPw.y);
        return tfKy;
    };
    RFITE.rgltb.prototype.xdIv = function(t) {
        var tfKy = new RFITE.udoq();
        tfKy.x = RFITE.rbnq.sggx.rgItK(t, this.qgPu.x, this.qgPv.x, this.qgPw.x);
        tfKy.y = RFITE.rbnq.sggx.rgItK(t, this.qgPu.y, this.qgPv.y, this.qgPw.y);
        return tfKy.normalize();
    };
    RFITE.rhnwh = function(qgPu, qgPv, qgPw, qgPx) {
        this.qgPu = qgPu;
        this.qgPv = qgPv;
        this.qgPw = qgPw;
        this.qgPx = qgPx;
    };
    RFITE.rhnwh.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.rhnwh.prototype.constructor = RFITE.rhnwh;
    RFITE.rhnwh.prototype.vhGx = function(t) {
        var qhHx, qhHy;
        qhHx = RFITE.shlv.sggx.qjMr(t, this.qgPu.x, this.qgPv.x, this.qgPw.x, this.qgPx.x);
        qhHy = RFITE.shlv.sggx.qjMr(t, this.qgPu.y, this.qgPv.y, this.qgPw.y, this.qgPx.y);
        return new RFITE.udoq(qhHx, qhHy);
    };
    RFITE.rhnwh.prototype.xdIv = function(t) {
        var qhHx, qhHy;
        qhHx = RFITE.rbnq.sggx.rgPxH(t, this.qgPu.x, this.qgPv.x, this.qgPw.x, this.qgPx.x);
        qhHy = RFITE.rbnq.sggx.rgPxH(t, this.qgPu.y, this.qgPv.y, this.qgPw.y, this.qgPx.y);
        var tangent = new RFITE.udoq(qhHx, qhHy);
        tangent.normalize();
        return tangent;
    };
    RFITE.zjnq = function(tiHx) {
        this.tiHx = (tiHx == undefined) ? [] : tiHx;
    };
    RFITE.zjnq.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.zjnq.prototype.constructor = RFITE.zjnq;
    RFITE.zjnq.prototype.vhGx = function(t) {
        var tiHx = this.tiHx;
        var point = (tiHx.length - 1) * t;
        var vgIx = Math.floor(point);
        var tfIu = point - vgIx;
        var tiHt = tiHx[vgIx == 0 ? vgIx : vgIx - 1];
        var tiHu = tiHx[vgIx];
        var tiHv = tiHx[vgIx > tiHx.length - 2 ? tiHx.length - 1 : vgIx + 1];
        var tiHw = tiHx[vgIx > tiHx.length - 3 ? tiHx.length - 1 : vgIx + 2];
        var tfKy = new RFITE.udoq();
        tfKy.x = RFITE.rbnq.sggx.ycOq(tiHt.x, tiHu.x, tiHv.x, tiHw.x, tfIu);
        tfKy.y = RFITE.rbnq.sggx.ycOq(tiHt.y, tiHu.y, tiHv.y, tiHw.y, tfIu);
        return tfKy;
    };
    RFITE.zfpv = function(qjNv, qjNw, ubPu, ubOq, ygGw, wiOy, xgOw) {
        this.qjNv = qjNv;
        this.qjNw = qjNw;
        this.ubPu = ubPu;
        this.ubOq = ubOq;
        this.ygGw = ygGw;
        this.wiOy = wiOy;
        this.xgOw = xgOw;
    };
    RFITE.zfpv.prototype = Object.create(RFITE.rbnq.prototype);
    RFITE.zfpv.prototype.constructor = RFITE.zfpv;
    RFITE.zfpv.prototype.vhGx = function(t) {
        var xePy = this.wiOy - this.ygGw;
        if (xePy < 0) xePy += Math.PI * 2;
        if (xePy > Math.PI * 2) xePy -= Math.PI * 2;
        var rcOr;
        if (this.xgOw === true) {
            rcOr = this.wiOy + (1 - t) * (Math.PI * 2 - xePy);
        } else {
            rcOr = this.ygGw + t * xePy;
        }
        var tfKy = new RFITE.udoq();
        tfKy.x = this.qjNv + this.ubPu * Math.cos(rcOr);
        tfKy.y = this.qjNw + this.ubOq * Math.sin(rcOr);
        return tfKy;
    };
    RFITE.uaoy = function(qjNv, qjNw, tdOy, ygGw, wiOy, xgOw) {
        RFITE.zfpv.call(this, qjNv, qjNw, tdOy, tdOy, ygGw, wiOy, xgOw);
    };
    RFITE.uaoy.prototype = Object.create(RFITE.zfpv.prototype);
    RFITE.uaoy.prototype.constructor = RFITE.uaoy;
    RFITE.xchv = RFITE.rbnq.create(function(qgPv, qgPw) {
        this.qgPv = qgPv;
        this.qgPw = qgPw;
    }, function(t) {
        var tfKy = new RFITE.udor();
        tfKy.yiMs(this.qgPw, this.qgPv);
        tfKy.riKsH(t);
        tfKy.add(this.qgPv);
        return tfKy;
    });
    RFITE.rgkzg = RFITE.rbnq.create(function(qgPu, qgPv, qgPw) {
        this.qgPu = qgPu;
        this.qgPv = qgPv;
        this.qgPw = qgPw;
    }, function(t) {
        var tfKy = new RFITE.udor();
        tfKy.x = RFITE.shlv.sggx.qjMq(t, this.qgPu.x, this.qgPv.x, this.qgPw.x);
        tfKy.y = RFITE.shlv.sggx.qjMq(t, this.qgPu.y, this.qgPv.y, this.qgPw.y);
        tfKy.z = RFITE.shlv.sggx.qjMq(t, this.qgPu.z, this.qgPv.z, this.qgPw.z);
        return tfKy;
    });
    RFITE.rhjtk = RFITE.rbnq.create(function(qgPu, qgPv, qgPw, qgPx) {
        this.qgPu = qgPu;
        this.qgPv = qgPv;
        this.qgPw = qgPw;
        this.qgPx = qgPx;
    }, function(t) {
        var tfKy = new RFITE.udor();
        tfKy.x = RFITE.shlv.sggx.qjMr(t, this.qgPu.x, this.qgPv.x, this.qgPw.x, this.qgPx.x);
        tfKy.y = RFITE.shlv.sggx.qjMr(t, this.qgPu.y, this.qgPv.y, this.qgPw.y, this.qgPx.y);
        tfKy.z = RFITE.shlv.sggx.qjMr(t, this.qgPu.z, this.qgPv.z, this.qgPw.z, this.qgPx.z);
        return tfKy;
    });
    RFITE.zbou = RFITE.rbnq.create(function(tiHx) {
        this.tiHx = (tiHx == undefined) ? [] : tiHx;
    }, function(t) {
        var tiHx = this.tiHx;
        var point = (tiHx.length - 1) * t;
        var vgIx = Math.floor(point);
        var tfIu = point - vgIx;
        var tiHt = tiHx[vgIx == 0 ? vgIx : vgIx - 1];
        var tiHu = tiHx[vgIx];
        var tiHv = tiHx[vgIx > tiHx.length - 2 ? tiHx.length - 1 : vgIx + 1];
        var tiHw = tiHx[vgIx > tiHx.length - 3 ? tiHx.length - 1 : vgIx + 2];
        var tfKy = new RFITE.udor();
        tfKy.x = RFITE.rbnq.sggx.ycOq(tiHt.x, tiHu.x, tiHv.x, tiHw.x, tfIu);
        tfKy.y = RFITE.rbnq.sggx.ycOq(tiHt.y, tiHu.y, tiHv.y, tiHw.y, tfIu);
        tfKy.z = RFITE.rbnq.sggx.ycOq(tiHt.z, tiHu.z, tiHv.z, tiHw.z, tfIu);
        return tfKy;
    });
    RFITE.rhhze = RFITE.rbnq.create(function(tiHx) {
        this.tiHx = (tiHx == undefined) ? [] : tiHx;
    }, function(t) {
        var tiHx = this.tiHx;
        var point = (tiHx.length - 0) * t;
        var vgIx = Math.floor(point);
        var tfIu = point - vgIx;
        vgIx += vgIx > 0 ? 0 : (Math.floor(Math.abs(vgIx) / tiHx.length) + 1) * tiHx.length;
        var tiHt = tiHx[(vgIx - 1) % tiHx.length];
        var tiHu = tiHx[(vgIx) % tiHx.length];
        var tiHv = tiHx[(vgIx + 1) % tiHx.length];
        var tiHw = tiHx[(vgIx + 2) % tiHx.length];
        var tfKy = new RFITE.udor();
        tfKy.x = RFITE.rbnq.sggx.ycOq(tiHt.x, tiHu.x, tiHv.x, tiHw.x, tfIu);
        tfKy.y = RFITE.rbnq.sggx.ycOq(tiHt.y, tiHu.y, tiHv.y, tiHw.y, tfIu);
        tfKy.z = RFITE.rbnq.sggx.ycOq(tiHt.z, tiHu.z, tiHv.z, tiHw.z, tfIu);
        return tfKy;
    });
    RFITE.rhnse = {
        TJOQ: 0,
        XFOS: 1,
        RHHYB: 2,
        add: function() {
            RFITE.warn('THREE.AnimationHandler.add() has been deprecated.');
        },
        get: function() {
            RFITE.warn('THREE.AnimationHandler.get() has been deprecated.');
        },
        thMz: function() {
            RFITE.warn('THREE.AnimationHandler.remove() has been deprecated.');
        },
        animations: [],
        rhNr: function(data) {
            if (data.ydGs === true) return data;
            for (var h = 0; h < data.wePw.length; h++) {
                for (var k = 0; k < data.wePw[h].keys.length; k++) {
                    if (data.wePw[h].keys[k].time < 0) {
                        data.wePw[h].keys[k].time = 0;
                    }
                    if (data.wePw[h].keys[k].qcHt !== undefined && !(data.wePw[h].keys[k].qcHt instanceof RFITE.xaly)) {
                        var rfNu = data.wePw[h].keys[k].qcHt;
                        data.wePw[h].keys[k].qcHt = new RFITE.xaly().wfMy(rfNu);
                    }
                }
                if (data.wePw[h].keys.length && data.wePw[h].keys[0].zdOs !== undefined) {
                    var rhKsJ = {};
                    for (var k = 0; k < data.wePw[h].keys.length; k++) {
                        for (var m = 0; m < data.wePw[h].keys[k].zdOs.length; m++) {
                            var riGyA = data.wePw[h].keys[k].zdOs[m];
                            rhKsJ[riGyA] = -1;
                        }
                    }
                    data.wePw[h].rhKsJ = rhKsJ;
                    for (var k = 0; k < data.wePw[h].keys.length; k++) {
                        var xcNz = {};
                        for (var riGyA in rhKsJ) {
                            for (var m = 0; m < data.wePw[h].keys[k].zdOs.length; m++) {
                                if (data.wePw[h].keys[k].zdOs[m] === riGyA) {
                                    xcNz[riGyA] = data.wePw[h].keys[k].rgJzG[m];
                                    break;
                                }
                            }
                            if (m === data.wePw[h].keys[k].zdOs.length) {
                                xcNz[riGyA] = 0;
                            }
                        }
                        data.wePw[h].keys[k].rgJzG = xcNz;
                    }
                }
                for (var k = 1; k < data.wePw[h].keys.length; k++) {
                    if (data.wePw[h].keys[k].time === data.wePw[h].keys[k - 1].time) {
                        data.wePw[h].keys.splice(k, 1);
                        k--;
                    }
                }
                for (var k = 0; k < data.wePw[h].keys.length; k++) {
                    data.wePw[h].keys[k].index = k;
                }
            }
            data.ydGs = true;
            return data;
        },
        parse: function(rfLv) {
            var rgKyF = function(rfLv, wePw) {
                wePw.push(rfLv);
                for (var c = 0; c < rfLv.children.length; c++) rgKyF(rfLv.children[c], wePw);
            };
            var wePw = [];
            if (rfLv instanceof RFITE.zjpu) {
                for (var b = 0; b < rfLv.vbMy.rcJr.length; b++) {
                    wePw.push(rfLv.vbMy.rcJr[b]);
                }
            } else {
                rgKyF(rfLv, wePw);
            }
            return wePw;
        },
        play: function(animation) {
            if (this.animations.indexOf(animation) === -1) {
                this.animations.push(animation);
            }
        },
        stop: function(animation) {
            var index = this.animations.indexOf(animation);
            if (index !== -1) {
                this.animations.splice(index, 1);
            }
        },
        update: function(yeNq) {
            for (var i = 0; i < this.animations.length; i++) {
                this.animations[i].rhIxG();
            }
            for (var i = 0; i < this.animations.length; i++) {
                this.animations[i].update(yeNq);
            }
        }
    };
    RFITE.Animation = function(rfLv, data) {
        this.rfLv = rfLv;
        this.data = RFITE.rhnse.rhNr(data);
        this.wePw = RFITE.rhnse.parse(rfLv);
        this.currentTime = 0;
        this.xiPu = 1;
        this.weGv = false;
        this.loop = true;
        this.tfIu = 0;
        this.rhJzG = RFITE.rhnse.TJOQ;
    };
    RFITE.Animation.prototype = {
        constructor: RFITE.Animation,
        vfNr: ["pos", "rot", "scl"],
        play: function(xjLu, tfIu) {
            this.currentTime = xjLu !== undefined ? xjLu : 0;
            this.tfIu = tfIu !== undefined ? tfIu : 1;
            this.weGv = true;
            this.reset();
            RFITE.rhnse.play(this);
        },
        stop: function() {
            this.weGv = false;
            RFITE.rhnse.stop(this);
        },
        reset: function() {
            for (var h = 0, qiNs = this.wePw.length; h < qiNs; h++) {
                var object = this.wePw[h];
                if (object.riNvE === undefined) {
                    object.riNvE = {
                        animations: {},
                        uaKz: {
                            riKxA: 0.0,
                            rhLvH: 0.0,
                            yaJz: 0.0
                        }
                    };
                }
                var name = this.data.name;
                var animations = object.riNvE.animations;
                var riNvE = animations[name];
                if (riNvE === undefined) {
                    riNvE = {
                        ugPu: {
                            qcLw: 0,
                            qcHt: 0,
                            qcGr: 0
                        },
                        uiGv: {
                            qcLw: 0,
                            qcHt: 0,
                            qcGr: 0
                        },
                        riKvF: object.tjLs
                    };
                    animations[name] = riNvE;
                }
                for (var t = 0; t < 3; t++) {
                    var type = this.vfNr[t];
                    var ugPu = this.data.wePw[h].keys[0];
                    var uiGv = this.riLrE(type, h, 1);
                    while (uiGv.time < this.currentTime && uiGv.index > ugPu.index) {
                        ugPu = uiGv;
                        uiGv = this.riLrE(type, h, uiGv.index + 1);
                    }
                    riNvE.ugPu[type] = ugPu;
                    riNvE.uiGv[type] = uiGv;
                }
            }
        },
        rhIxG: function() {
            for (var h = 0, qiNs = this.wePw.length; h < qiNs; h++) {
                var object = this.wePw[h];
                var riNvE = object.riNvE;
                if (riNvE !== undefined) {
                    var uaKz = riNvE.uaKz;
                    uaKz.riKxA = 0.0;
                    uaKz.rhLvH = 0.0;
                    uaKz.yaJz = 0.0;
                }
            }
        },
        update: (function() {
            var tiHx = [];
            var target = new RFITE.udor();
            var wcLv = new RFITE.udor();
            var uiHz = new RFITE.xaly();
            var rgKvH = function(tiHx, scale) {
                var c = [],
                    qgPx = [],
                    point, vgIx, tfIu, qgNw, qgNx, qhOv, qhOw, pc, qhOx;
                point = (tiHx.length - 1) * scale;
                vgIx = Math.floor(point);
                tfIu = point - vgIx;
                c[0] = vgIx === 0 ? vgIx : vgIx - 1;
                c[1] = vgIx;
                c[2] = vgIx > tiHx.length - 2 ? vgIx : vgIx + 1;
                c[3] = vgIx > tiHx.length - 3 ? vgIx : vgIx + 2;
                qhOv = tiHx[c[0]];
                qhOw = tiHx[c[1]];
                pc = tiHx[c[2]];
                qhOx = tiHx[c[3]];
                qgNw = tfIu * tfIu;
                qgNx = tfIu * qgNw;
                qgPx[0] = ycOq(qhOv[0], qhOw[0], pc[0], qhOx[0], tfIu, qgNw, qgNx);
                qgPx[1] = ycOq(qhOv[1], qhOw[1], pc[1], qhOx[1], tfIu, qgNw, qgNx);
                qgPx[2] = ycOq(qhOv[2], qhOw[2], pc[2], qhOx[2], tfIu, qgNw, qgNx);
                return qgPx;
            };
            var ycOq = function(qhPz, qhOq, qhOr, qhOs, t, qhIx, qhIy) {
                var qgPu = (qhOr - qhPz) * 0.5,
                    qgPv = (qhOs - qhOq) * 0.5;
                return (2 * (qhOq - qhOr) + qgPu + qgPv) * qhIy + (-3 * (qhOq - qhOr) - 2 * qgPu - qgPv) * qhIx + qgPu * t + qhOq;
            };
            return function(rbMt) {
                if (this.weGv === false) return;
                this.currentTime += rbMt * this.xiPu;
                if (this.tfIu === 0) return;
                var duration = this.data.length;
                if (this.currentTime > duration || this.currentTime < 0) {
                    if (this.loop) {
                        this.currentTime %= duration;
                        if (this.currentTime < 0) this.currentTime += duration;
                        this.reset();
                    } else {
                        this.stop();
                    }
                }
                for (var h = 0, qiNs = this.wePw.length; h < qiNs; h++) {
                    var object = this.wePw[h];
                    var riNvE = object.riNvE.animations[this.data.name];
                    var uaKz = object.riNvE.uaKz;
                    for (var t = 0; t < 3; t++) {
                        var type = this.vfNr[t];
                        var ugPu = riNvE.ugPu[type];
                        var uiGv = riNvE.uiGv[type];
                        if ((this.xiPu > 0 && uiGv.time <= this.currentTime) || (this.xiPu < 0 && ugPu.time >= this.currentTime)) {
                            ugPu = this.data.wePw[h].keys[0];
                            uiGv = this.riLrE(type, h, 1);
                            while (uiGv.time < this.currentTime && uiGv.index > ugPu.index) {
                                ugPu = uiGv;
                                uiGv = this.riLrE(type, h, uiGv.index + 1);
                            }
                            riNvE.ugPu[type] = ugPu;
                            riNvE.uiGv[type] = uiGv;
                        }
                        var scale = (this.currentTime - ugPu.time) / (uiGv.time - ugPu.time);
                        var ugPv = ugPu[type];
                        var uiGw = uiGv[type];
                        if (scale < 0) scale = 0;
                        if (scale > 1) scale = 1;
                        if (type === "pos") {
                            if (this.rhJzG === RFITE.rhnse.TJOQ) {
                                wcLv.x = ugPv[0] + (uiGw[0] - ugPv[0]) * scale;
                                wcLv.y = ugPv[1] + (uiGw[1] - ugPv[1]) * scale;
                                wcLv.z = ugPv[2] + (uiGw[2] - ugPv[2]) * scale;
                                var rgPsB = this.tfIu / (this.tfIu + uaKz.riKxA);
                                object.position.rhJs(wcLv, rgPsB);
                                uaKz.riKxA += this.tfIu;
                            } else if (this.rhJzG === RFITE.rhnse.XFOS || this.rhJzG === RFITE.rhnse.RHHYB) {
                                tiHx[0] = this.riLsK("pos", h, ugPu.index - 1)["pos"];
                                tiHx[1] = ugPv;
                                tiHx[2] = uiGw;
                                tiHx[3] = this.riLrE("pos", h, uiGv.index + 1)["pos"];
                                scale = scale * 0.33 + 0.33;
                                var zgJs = rgKvH(tiHx, scale);
                                var rgPsB = this.tfIu / (this.tfIu + uaKz.riKxA);
                                uaKz.riKxA += this.tfIu;
                                var tfKy = object.position;
                                tfKy.x = tfKy.x + (zgJs[0] - tfKy.x) * rgPsB;
                                tfKy.y = tfKy.y + (zgJs[1] - tfKy.y) * rgPsB;
                                tfKy.z = tfKy.z + (zgJs[2] - tfKy.z) * rgPsB;
                                if (this.rhJzG === RFITE.rhnse.RHHYB) {
                                    var zfMr = rgKvH(tiHx, scale * 1.01);
                                    target.set(zfMr[0], zfMr[1], zfMr[2]);
                                    target.sub(tfKy);
                                    target.y = 0;
                                    target.normalize();
                                    var rcOr = Math.atan2(target.x, target.z);
                                    object.rfIqD.set(0, rcOr, 0);
                                }
                            }
                        } else if (type === "rot") {
                            RFITE.xaly.shIr(ugPv, uiGw, uiHz, scale);
                            if (uaKz.rhLvH === 0) {
                                object.xaLy.rjLt(uiHz);
                                uaKz.rhLvH = this.tfIu;
                            } else {
                                var rgPsB = this.tfIu / (this.tfIu + uaKz.rhLvH);
                                RFITE.xaly.shIr(object.xaLy, uiHz, object.xaLy, rgPsB);
                                uaKz.rhLvH += this.tfIu;
                            }
                        } else if (type === "scl") {
                            wcLv.x = ugPv[0] + (uiGw[0] - ugPv[0]) * scale;
                            wcLv.y = ugPv[1] + (uiGw[1] - ugPv[1]) * scale;
                            wcLv.z = ugPv[2] + (uiGw[2] - ugPv[2]) * scale;
                            var rgPsB = this.tfIu / (this.tfIu + uaKz.yaJz);
                            object.scale.rhJs(wcLv, rgPsB);
                            uaKz.yaJz += this.tfIu;
                        }
                    }
                }
                return true;
            };
        })(),
        riLrE: function(type, h, key) {
            var keys = this.data.wePw[h].keys;
            if (this.rhJzG === RFITE.rhnse.XFOS || this.rhJzG === RFITE.rhnse.RHHYB) {
                key = key < keys.length - 1 ? key : keys.length - 1;
            } else {
                key = key % keys.length;
            }
            for (; key < keys.length; key++) {
                if (keys[key][type] !== undefined) {
                    return keys[key];
                }
            }
            return this.data.wePw[h].keys[0];
        },
        riLsK: function(type, h, key) {
            var keys = this.data.wePw[h].keys;
            if (this.rhJzG === RFITE.rhnse.XFOS || this.rhJzG === RFITE.rhnse.RHHYB) {
                key = key > 0 ? key : 0;
            } else {
                key = key >= 0 ? key : key + keys.length;
            }
            for (; key >= 0; key--) {
                if (keys[key][type] !== undefined) {
                    return keys[key];
                }
            }
            return this.data.wePw[h].keys[keys.length - 1];
        }
    };
    RFITE.rhiqk = function(data) {
        this.rfLv = data.rgLw;
        this.data = RFITE.rhnse.rhNr(data);
        this.wePw = RFITE.rhnse.parse(this.rfLv);
        this.currentTime = 0;
        this.xiPu = 0.001;
        this.weGv = false;
        this.vfPr = true;
        this.loop = true;
        for (var h = 0, qiNs = this.wePw.length; h < qiNs; h++) {
            var keys = this.data.wePw[h].keys,
                rfHs = this.data.wePw[h].rfHs,
                obj = this.wePw[h];
            if (keys.length && rfHs) {
                for (var s = 0; s < rfHs.length; s++) {
                    var qbPv = rfHs[s],
                        rfKvC = this.riLrE(qbPv, h, 0);
                    if (rfKvC) {
                        rfKvC.apply(qbPv);
                    }
                }
                obj.rhMxA = false;
                this.data.wePw[h].rgLw.zbHq();
                obj.rgJzK = true;
            }
        }
    };
    RFITE.rhiqk.prototype = {
        constructor: RFITE.rhiqk,
        play: function(xjLu) {
            this.currentTime = xjLu !== undefined ? xjLu : 0;
            if (this.weGv === false) {
                this.weGv = true;
                var h, qiNs = this.wePw.length,
                    object, rgLw;
                for (h = 0; h < qiNs; h++) {
                    object = this.wePw[h];
                    rgLw = this.data.wePw[h];
                    if (rgLw.riNvE === undefined) {
                        rgLw.riNvE = {};
                        rgLw.riNvE.ugPu = null;
                        rgLw.riNvE.uiGv = null;
                        rgLw.riNvE.riKvF = object.tjLs;
                    }
                    var keys = this.data.wePw[h].keys;
                    if (keys.length) {
                        rgLw.riNvE.ugPu = keys[0];
                        rgLw.riNvE.uiGv = keys[1];
                        this.xjLu = Math.min(keys[0].time, this.xjLu);
                        this.tbLw = Math.max(keys[keys.length - 1].time, this.tbLw);
                    }
                }
                this.update(0);
            }
            this.vfPr = false;
            RFITE.rhnse.play(this);
        },
        stop: function() {
            this.weGv = false;
            this.vfPr = false;
            RFITE.rhnse.stop(this);
            for (var h = 0; h < this.data.wePw.length; h++) {
                var obj = this.wePw[h];
                var rgLw = this.data.wePw[h];
                if (rgLw.riNvE !== undefined) {
                    var veGv = rgLw.riNvE.riKvF;
                    veGv.rjLt(obj.tjLs);
                    obj.tjLs = veGv;
                    delete rgLw.riNvE;
                }
            }
        },
        update: function(rbMt) {
            if (this.weGv === false) return;
            this.currentTime += rbMt * this.xiPu;
            var duration = this.data.length;
            if (this.loop === true && this.currentTime > duration) {
                this.currentTime %= duration;
            }
            this.currentTime = Math.min(this.currentTime, duration);
            for (var h = 0, qiNs = this.wePw.length; h < qiNs; h++) {
                var object = this.wePw[h];
                var rgLw = this.data.wePw[h];
                var keys = rgLw.keys,
                    riNvE = rgLw.riNvE;
                if (keys.length) {
                    var ugPu = riNvE.ugPu;
                    var uiGv = riNvE.uiGv;
                    if (uiGv.time <= this.currentTime) {
                        while (uiGv.time < this.currentTime && uiGv.index > ugPu.index) {
                            ugPu = uiGv;
                            uiGv = keys[ugPu.index + 1];
                        }
                        riNvE.ugPu = ugPu;
                        riNvE.uiGv = uiGv;
                    }
                    if (uiGv.time >= this.currentTime) {
                        ugPu.ycOq(uiGv, this.currentTime);
                    } else {
                        ugPu.ycOq(uiGv, uiGv.time);
                    }
                    this.data.wePw[h].rgLw.zbHq();
                    object.rgJzK = true;
                }
            }
        },
        riLrE: function(qbPv, h, key) {
            var keys = this.data.wePw[h].keys;
            key = key % keys.length;
            for (; key < keys.length; key++) {
                if (keys[key].wfGz(qbPv)) {
                    return keys[key];
                }
            }
            return keys[0];
        },
        riLsK: function(qbPv, h, key) {
            var keys = this.data.wePw[h].keys;
            key = key >= 0 ? key : key + keys.length;
            for (; key >= 0; key--) {
                if (keys[key].wfGz(qbPv)) {
                    return keys[key];
                }
            }
            return keys[keys.length - 1];
        }
    };
    RFITE.rikrf = function(rgOs) {
        this.rgOs = rgOs;
        this.frames = rgOs.morphTargetInfluences.length;
        this.currentTime = 0;
        this.duration = 1000;
        this.loop = true;
        this.wdOt = 0;
        this.zgKz = 0;
        this.weGv = false;
    };
    RFITE.rikrf.prototype = {
        constructor: RFITE.rikrf,
        play: function() {
            this.weGv = true;
        },
        pause: function() {
            this.weGv = false;
        },
        update: function(rbMt) {
            if (this.weGv === false) return;
            this.currentTime += rbMt;
            if (this.loop === true && this.currentTime > this.duration) {
                this.currentTime %= this.duration;
            }
            this.currentTime = Math.min(this.currentTime, this.duration);
            var rjNzH = this.duration / this.frames;
            var frame = Math.floor(this.currentTime / rjNzH);
            var xcNz = this.rgOs.morphTargetInfluences;
            if (frame != this.zgKz) {
                xcNz[this.wdOt] = 0;
                xcNz[this.zgKz] = 1;
                xcNz[frame] = 0;
                this.wdOt = this.zgKz;
                this.zgKz = frame;
            }
            xcNz[frame] = (this.currentTime % rjNzH) / rjNzH;
            xcNz[this.wdOt] = 1 - xcNz[frame];
        }
    };
    RFITE.yfnx = function(width, height, depth, rjJtC, riLuH, rjOwF) {
        RFITE.vhhr.call(this);
        this.type = 'BoxGeometry';
        this.xbGu = {
            width: width,
            height: height,
            depth: depth,
            rjJtC: rjJtC,
            riLuH: riLuH,
            rjOwF: rjOwF
        };
        this.rjJtC = rjJtC || 1;
        this.riLuH = riLuH || 1;
        this.rjOwF = rjOwF || 1;
        var shMr = this;
        var yhKr = width / 2;
        var ydJv = height / 2;
        var xeOr = depth / 2;
        xgGu('z', 'y', -1, -1, depth, height, yhKr, 0);
        xgGu('z', 'y', 1, -1, depth, height, -yhKr, 1);
        xgGu('x', 'z', 1, 1, width, depth, ydJv, 2);
        xgGu('x', 'z', 1, -1, width, depth, -ydJv, 3);
        xgGu('x', 'y', 1, -1, width, height, xeOr, 4);
        xgGu('x', 'y', -1, -1, width, height, -xeOr, 5);

        function xgGu(u, v, reJv, reHw, width, height, depth, rjMuB) {
            var w, qiLt, qiLu, raJq = shMr.rjJtC,
                raJr = shMr.riLuH,
                yhKr = width / 2,
                ydJv = height / 2,
                tiOt = shMr.wjPq.length;
            if ((u === 'x' && v === 'y') || (u === 'y' && v === 'x')) {
                w = 'z';
            } else if ((u === 'x' && v === 'z') || (u === 'z' && v === 'x')) {
                w = 'y';
                raJr = shMr.rjOwF;
            } else if ((u === 'z' && v === 'y') || (u === 'y' && v === 'z')) {
                w = 'x';
                raJq = shMr.rjOwF;
            }
            var sbHy = raJq + 1,
                sbHz = raJr + 1,
                rjKqG = width / raJq,
                riJrA = height / raJr,
                normal = new RFITE.udor();
            normal[w] = depth > 0 ? 1 : -1;
            for (qiLu = 0; qiLu < sbHz; qiLu++) {
                for (qiLt = 0; qiLt < sbHy; qiLt++) {
                    var tfKy = new RFITE.udor();
                    tfKy[u] = (qiLt * rjKqG - yhKr) * reJv;
                    tfKy[v] = (qiLu * riJrA - ydJv) * reHw;
                    tfKy[w] = depth;
                    shMr.wjPq.push(tfKy);
                }
            }
            for (qiLu = 0; qiLu < raJr; qiLu++) {
                for (qiLt = 0; qiLt < raJq; qiLt++) {
                    var a = qiLt + sbHy * qiLu;
                    var b = qiLt + sbHy * (qiLu + 1);
                    var c = (qiLt + 1) + sbHy * (qiLu + 1);
                    var d = (qiLt + 1) + sbHy * qiLu;
                    var qbJq = new RFITE.udoq(qiLt / raJq, 1 - qiLu / raJr);
                    var qbJr = new RFITE.udoq(qiLt / raJq, 1 - (qiLu + 1) / raJr);
                    var qbJs = new RFITE.udoq((qiLt + 1) / raJq, 1 - (qiLu + 1) / raJr);
                    var qbJt = new RFITE.udoq((qiLt + 1) / raJq, 1 - qiLu / raJr);
                    var riOw = new RFITE.rbgq(a + tiOt, b + tiOt, d + tiOt);
                    riOw.normal.rjLt(normal);
                    riOw.rjJsD.push(normal.rbPq(), normal.rbPq(), normal.rbPq());
                    riOw.rjMuB = rjMuB;
                    shMr.rbGu.push(riOw);
                    shMr.rjNqG[0].push([qbJq, qbJr, qbJt]);
                    riOw = new RFITE.rbgq(b + tiOt, c + tiOt, d + tiOt);
                    riOw.normal.rjLt(normal);
                    riOw.rjJsD.push(normal.rbPq(), normal.rbPq(), normal.rbPq());
                    riOw.rjMuB = rjMuB;
                    shMr.rbGu.push(riOw);
                    shMr.rjNqG[0].push([qbJr.rbPq(), qbJs, qbJt.rbPq()]);
                }
            }
        }
        this.rjMvC();
    };
    RFITE.yfnx.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.yfnx.prototype.constructor = RFITE.yfnx;
    RFITE.rimqc = function(thOs, vcGy, yiKy, zjIr) {
        RFITE.vhhr.call(this);
        this.type = 'CircleGeometry';
        this.xbGu = {
            thOs: thOs,
            vcGy: vcGy,
            yiKy: yiKy,
            zjIr: zjIr
        };
        thOs = thOs || 50;
        vcGy = vcGy !== undefined ? Math.max(3, vcGy) : 8;
        yiKy = yiKy !== undefined ? yiKy : 0;
        zjIr = zjIr !== undefined ? zjIr : Math.PI * 2;
        var i, qbJv = [],
            rfOsH = new RFITE.udor(),
            vjOx = new RFITE.udoq(0.5, 0.5);
        this.wjPq.push(rfOsH);
        qbJv.push(vjOx);
        for (i = 0; i <= vcGy; i++) {
            var tfJs = new RFITE.udor();
            var ufNw = yiKy + i / vcGy * zjIr;
            tfJs.x = thOs * Math.cos(ufNw);
            tfJs.y = thOs * Math.sin(ufNw);
            this.wjPq.push(tfJs);
            qbJv.push(new RFITE.udoq((tfJs.x / thOs + 1) / 2, (tfJs.y / thOs + 1) / 2));
        }
        var n = new RFITE.udor(0, 0, 1);
        for (i = 1; i <= vcGy; i++) {
            this.rbGu.push(new RFITE.rbgq(i, i + 1, 0, [n.rbPq(), n.rbPq(), n.rbPq()]));
            this.rjNqG[0].push([qbJv[i].rbPq(), qbJv[i + 1].rbPq(), vjOx.rbPq()]);
        }
        this.rhGqH();
        this.riNyH = new RFITE.tglq(new RFITE.udor(), thOs);
    };
    RFITE.rimqc.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rimqc.prototype.constructor = RFITE.rimqc;
    RFITE.zgkt = function(width, height, depth, rjJtC, riLuH, rjOwF) {
        RFITE.warn('THREE.CubeGeometry has been renamed to THREE.BoxGeometry.');
        return new RFITE.yfnx(width, height, depth, rjJtC, riLuH, rjOwF);
    };
    RFITE.rhnxh = function(wbHy, zcOw, height, riKzH, riLuH, wcHw, yiKy, zjIr) {
        RFITE.vhhr.call(this);
        this.type = 'CylinderGeometry';
        this.xbGu = {
            wbHy: wbHy,
            zcOw: zcOw,
            height: height,
            riKzH: riKzH,
            riLuH: riLuH,
            wcHw: wcHw,
            yiKy: yiKy,
            zjIr: zjIr
        };
        wbHy = wbHy !== undefined ? wbHy : 20;
        zcOw = zcOw !== undefined ? zcOw : 20;
        height = height !== undefined ? height : 100;
        riKzH = riKzH || 8;
        riLuH = riLuH || 1;
        wcHw = wcHw !== undefined ? wcHw : false;
        yiKy = yiKy !== undefined ? yiKy : 0;
        zjIr = zjIr !== undefined ? zjIr : 2 * Math.PI;
        var xdGx = height / 2;
        var x, y, wjPq = [],
            qbJv = [];
        for (y = 0; y <= riLuH; y++) {
            var ziMt = [];
            var tfKs = [];
            var v = y / riLuH;
            var thOs = v * (zcOw - wbHy) + wbHy;
            for (x = 0; x <= riKzH; x++) {
                var u = x / riKzH;
                var tfJs = new RFITE.udor();
                tfJs.x = thOs * Math.sin(u * zjIr + yiKy);
                tfJs.y = -v * height + xdGx;
                tfJs.z = thOs * Math.cos(u * zjIr + yiKy);
                this.wjPq.push(tfJs);
                ziMt.push(this.wjPq.length - 1);
                tfKs.push(new RFITE.udoq(u, 1 - v));
            }
            wjPq.push(ziMt);
            qbJv.push(tfKs);
        }
        var vaPs = (zcOw - wbHy) / height;
        var qiHv, qiHw;
        for (x = 0; x < riKzH; x++) {
            if (wbHy !== 0) {
                qiHv = this.wjPq[wjPq[0][x]].rbPq();
                qiHw = this.wjPq[wjPq[0][x + 1]].rbPq();
            } else {
                qiHv = this.wjPq[wjPq[1][x]].rbPq();
                qiHw = this.wjPq[wjPq[1][x + 1]].rbPq();
            }
            qiHv.rfIv(Math.sqrt(qiHv.x * qiHv.x + qiHv.z * qiHv.z) * vaPs).normalize();
            qiHw.rfIv(Math.sqrt(qiHw.x * qiHw.x + qiHw.z * qiHw.z) * vaPs).normalize();
            for (y = 0; y < riLuH; y++) {
                var qgPv = wjPq[y][x];
                var qgPw = wjPq[y + 1][x];
                var qgPx = wjPq[y + 1][x + 1];
                var qgPy = wjPq[y][x + 1];
                var qiHr = qiHv.rbPq();
                var qiHs = qiHv.rbPq();
                var qiHt = qiHw.rbPq();
                var qiHu = qiHw.rbPq();
                var qbKw = qbJv[y][x].rbPq();
                var uv2 = qbJv[y + 1][x].rbPq();
                var qbKy = qbJv[y + 1][x + 1].rbPq();
                var qbKz = qbJv[y][x + 1].rbPq();
                this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPy, [qiHr, qiHs, qiHu]));
                this.rjNqG[0].push([qbKw, uv2, qbKz]);
                this.rbGu.push(new RFITE.rbgq(qgPw, qgPx, qgPy, [qiHs.rbPq(), qiHt, qiHu.rbPq()]));
                this.rjNqG[0].push([uv2.rbPq(), qbKy, qbKz.rbPq()]);
            }
        }
        if (wcHw === false && wbHy > 0) {
            this.wjPq.push(new RFITE.udor(0, xdGx, 0));
            for (x = 0; x < riKzH; x++) {
                var qgPv = wjPq[0][x];
                var qgPw = wjPq[0][x + 1];
                var qgPx = this.wjPq.length - 1;
                var qiHr = new RFITE.udor(0, 1, 0);
                var qiHs = new RFITE.udor(0, 1, 0);
                var qiHt = new RFITE.udor(0, 1, 0);
                var qbKw = qbJv[0][x].rbPq();
                var uv2 = qbJv[0][x + 1].rbPq();
                var qbKy = new RFITE.udoq(uv2.x, 0);
                this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPx, [qiHr, qiHs, qiHt]));
                this.rjNqG[0].push([qbKw, uv2, qbKy]);
            }
        }
        if (wcHw === false && zcOw > 0) {
            this.wjPq.push(new RFITE.udor(0, -xdGx, 0));
            for (x = 0; x < riKzH; x++) {
                var qgPv = wjPq[riLuH][x + 1];
                var qgPw = wjPq[riLuH][x];
                var qgPx = this.wjPq.length - 1;
                var qiHr = new RFITE.udor(0, -1, 0);
                var qiHs = new RFITE.udor(0, -1, 0);
                var qiHt = new RFITE.udor(0, -1, 0);
                var qbKw = qbJv[riLuH][x + 1].rbPq();
                var uv2 = qbJv[riLuH][x].rbPq();
                var qbKy = new RFITE.udoq(uv2.x, 1);
                this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPx, [qiHr, qiHs, qiHt]));
                this.rjNqG[0].push([qbKw, uv2, qbKy]);
            }
        }
        this.rhGqH();
    };
    RFITE.rhnxh.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rhnxh.prototype.constructor = RFITE.rhnxh;
    RFITE.rihzf = function(tgPu, uhLw) {
        if (typeof(tgPu) === "undefined") {
            tgPu = [];
            return;
        }
        RFITE.vhhr.call(this);
        this.type = 'ExtrudeGeometry';
        tgPu = tgPu instanceof Array ? tgPu : [tgPu];
        this.zhLw(tgPu, uhLw);
        this.rhGqH();
    };
    RFITE.rihzf.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rihzf.prototype.constructor = RFITE.rihzf;
    RFITE.rihzf.prototype.zhLw = function(tgPu, uhLw) {
        var qhJt = tgPu.length;
        for (var s = 0; s < qhJt; s++) {
            var shLv = tgPu[s];
            this.ubGu(shLv, uhLw);
        }
    };
    RFITE.rihzf.prototype.ubGu = function(shLv, uhLw) {
        var seMy = uhLw.seMy !== undefined ? uhLw.seMy : 100;
        var riNxG = uhLw.riNxG !== undefined ? uhLw.riNxG : 6;
        var wiHt = uhLw.wiHt !== undefined ? uhLw.wiHt : riNxG - 2;
        var rjPxG = uhLw.rjPxG !== undefined ? uhLw.rjPxG : 3;
        var zhIx = uhLw.zhIx !== undefined ? uhLw.zhIx : true;
        var rjOtD = uhLw.rjOtD !== undefined ? uhLw.rjOtD : 12;
        var sgPs = uhLw.sgPs !== undefined ? uhLw.sgPs : 1;
        var yeHx = uhLw.yeHx;
        var xeHz, rjOzB = false;
        var vfIz = uhLw.vfIz;
        var riHzE = uhLw.riHzE;
        var sgGy = uhLw.zinw !== undefined ? uhLw.zinw : RFITE.rihzf.rhktf;
        var yjHz, uaKu, normal, wbKr;
        if (yeHx) {
            xeHz = yeHx.riGsF(sgPs);
            rjOzB = true;
            zhIx = false;
            yjHz = uhLw.frames !== undefined ? uhLw.frames : new RFITE.zbiq.zfmv(yeHx, sgPs, false);
            uaKu = new RFITE.udor();
            normal = new RFITE.udor();
            wbKr = new RFITE.udor();
        }
        if (!zhIx) {
            rjPxG = 0;
            riNxG = 0;
            wiHt = 0;
        }
        var rcPq, h, qiNs;
        var shMr = this;
        var zcGx = this.wjPq.length;
        var yaGy = shLv.rjOzC(rjOtD);
        var wjPq = yaGy.shLv;
        var raHq = yaGy.raHq;
        var reverse = !RFITE.shlv.sggx.ycOt(wjPq);
        if (reverse) {
            wjPq = wjPq.reverse();
            for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
                rcPq = raHq[h];
                if (RFITE.shlv.sggx.ycOt(rcPq)) {
                    raHq[h] = rcPq.reverse();
                }
            }
            reverse = false;
        }
        var rbGu = RFITE.shlv.sggx.rhKqB(wjPq, raHq);
        var tcLx = wjPq;
        for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
            rcPq = raHq[h];
            wjPq = wjPq.concat(rcPq);
        }

        function vcHr(qhNu, qbHs, size) {
            if (!qbHs) RFITE.error("THREE.ExtrudeGeometry: vec does rfKxG exist");
            return qbHs.rbPq().riKsH(size).add(qhNu);
        }
        var b, qjLq, t, z, reGt, reGx = wjPq.length,
            riOw, riMz = rbGu.length;

        function ydNy(rhNs, saMy, saMx) {
            var TBKV = 0.0000000001;
            var xiIq, xiIr, xjPv = 1;
            var vaGq = rhNs.x - saMy.x,
                vaGr = rhNs.y - saMy.y;
            var vaHy = saMx.x - rhNs.x,
                vaHz = saMx.y - rhNs.y;
            var zbGq = (vaGq * vaGq + vaGr * vaGr);
            var whLu = (vaGq * vaHz - vaGr * vaHy);
            if (Math.abs(whLu) > TBKV) {
                var yhNy = Math.sqrt(zbGq);
                var yhNx = Math.sqrt(vaHy * vaHy + vaHz * vaHz);
                var rjLvB = (saMy.x - vaGr / yhNy);
                var rjLvA = (saMy.y + vaGq / yhNy);
                var rjLvD = (saMx.x - vaHz / yhNx);
                var rjLvC = (saMx.y + vaHy / yhNx);
                var qhJq = ((rjLvD - rjLvB) * vaHz - (rjLvC - rjLvA) * vaHy) / (vaGq * vaHz - vaGr * vaHy);
                xiIq = (rjLvB + vaGq * qhJq - rhNs.x);
                xiIr = (rjLvA + vaGr * qhJq - rhNs.y);
                var rjJsJ = (xiIq * xiIq + xiIr * xiIr);
                if (rjJsJ <= 2) {
                    return new RFITE.udoq(xiIq, xiIr);
                } else {
                    xjPv = Math.sqrt(rjJsJ / 2);
                }
            } else {
                var zgHy = false;
                if (vaGq > TBKV) {
                    if (vaHy > TBKV) {
                        zgHy = true;
                    }
                } else {
                    if (vaGq < -TBKV) {
                        if (vaHy < -TBKV) {
                            zgHy = true;
                        }
                    } else {
                        if (Math.rfHu(vaGr) == Math.rfHu(vaHz)) {
                            zgHy = true;
                        }
                    }
                }
                if (zgHy) {
                    xiIq = -vaGr;
                    xiIr = vaGq;
                    xjPv = Math.sqrt(zbGq);
                } else {
                    xiIq = vaGq;
                    xiIr = vaGr;
                    xjPv = Math.sqrt(zbGq / 2);
                }
            }
            return new RFITE.udoq(xiIq / xjPv, xiIr / xjPv);
        }
        var rhNvD = [];
        for (var i = 0, qiMv = tcLx.length, j = qiMv - 1, k = i + 1; i < qiMv; i++, j++, k++) {
            if (j === qiMv) j = 0;
            if (k === qiMv) k = 0;
            rhNvD[i] = ydNy(tcLx[i], tcLx[j], tcLx[k]);
        }
        var riLuF = [],
            rhLrC, rhHsA = rhNvD.concat();
        for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
            rcPq = raHq[h];
            rhLrC = [];
            for (i = 0, qiMv = rcPq.length, j = qiMv - 1, k = i + 1; i < qiMv; i++, j++, k++) {
                if (j === qiMv) j = 0;
                if (k === qiMv) k = 0;
                rhLrC[i] = ydNy(rcPq[i], rcPq[j], rcPq[k]);
            }
            riLuF.push(rhLrC);
            rhHsA = rhHsA.concat(rhLrC);
        }
        for (b = 0; b < rjPxG; b++) {
            t = b / rjPxG;
            z = riNxG * (1 - t);
            qjLq = wiHt * (Math.sin(t * Math.PI / 2));
            for (i = 0, qiMv = tcLx.length; i < qiMv; i++) {
                reGt = vcHr(tcLx[i], rhNvD[i], qjLq);
                v(reGt.x, reGt.y, -z);
            }
            for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
                rcPq = raHq[h];
                rhLrC = riLuF[h];
                for (i = 0, qiMv = rcPq.length; i < qiMv; i++) {
                    reGt = vcHr(rcPq[i], rhLrC[i], qjLq);
                    v(reGt.x, reGt.y, -z);
                }
            }
        }
        qjLq = wiHt;
        for (i = 0; i < reGx; i++) {
            reGt = zhIx ? vcHr(wjPq[i], rhHsA[i], qjLq) : wjPq[i];
            if (!rjOzB) {
                v(reGt.x, reGt.y, 0);
            } else {
                normal.rjLt(yjHz.uhPu[0]).riKsH(reGt.x);
                uaKu.rjLt(yjHz.wiHx[0]).riKsH(reGt.y);
                wbKr.rjLt(xeHz[0]).add(normal).add(uaKu);
                v(wbKr.x, wbKr.y, wbKr.z);
            }
        }
        var s;
        for (s = 1; s <= sgPs; s++) {
            for (i = 0; i < reGx; i++) {
                reGt = zhIx ? vcHr(wjPq[i], rhHsA[i], qjLq) : wjPq[i];
                if (!rjOzB) {
                    v(reGt.x, reGt.y, seMy / sgPs * s);
                } else {
                    normal.rjLt(yjHz.uhPu[s]).riKsH(reGt.x);
                    uaKu.rjLt(yjHz.wiHx[s]).riKsH(reGt.y);
                    wbKr.rjLt(xeHz[s]).add(normal).add(uaKu);
                    v(wbKr.x, wbKr.y, wbKr.z);
                }
            }
        }
        for (b = rjPxG - 1; b >= 0; b--) {
            t = b / rjPxG;
            z = riNxG * (1 - t);
            qjLq = wiHt * Math.sin(t * Math.PI / 2);
            for (i = 0, qiMv = tcLx.length; i < qiMv; i++) {
                reGt = vcHr(tcLx[i], rhNvD[i], qjLq);
                v(reGt.x, reGt.y, seMy + z);
            }
            for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
                rcPq = raHq[h];
                rhLrC = riLuF[h];
                for (i = 0, qiMv = rcPq.length; i < qiMv; i++) {
                    reGt = vcHr(rcPq[i], rhLrC[i], qjLq);
                    if (!rjOzB) {
                        v(reGt.x, reGt.y, seMy + z);
                    } else {
                        v(reGt.x, reGt.y + xeHz[sgPs - 1].y, xeHz[sgPs - 1].x + z);
                    }
                }
            }
        }
        rjPyF();
        riNyD();

        function rjPyF() {
            if (zhIx) {
                var layer = 0;
                var tiOt = reGx * layer;
                for (i = 0; i < riMz; i++) {
                    riOw = rbGu[i];
                    qjGr(riOw[2] + tiOt, riOw[1] + tiOt, riOw[0] + tiOt);
                }
                layer = sgPs + rjPxG * 2;
                tiOt = reGx * layer;
                for (i = 0; i < riMz; i++) {
                    riOw = rbGu[i];
                    qjGr(riOw[0] + tiOt, riOw[1] + tiOt, riOw[2] + tiOt);
                }
            } else {
                for (i = 0; i < riMz; i++) {
                    riOw = rbGu[i];
                    qjGr(riOw[2], riOw[1], riOw[0]);
                }
                for (i = 0; i < riMz; i++) {
                    riOw = rbGu[i];
                    qjGr(riOw[0] + reGx * sgPs, riOw[1] + reGx * sgPs, riOw[2] + reGx * sgPs);
                }
            }
        }

        function riNyD() {
            var ycMs = 0;
            xjPx(tcLx, ycMs);
            ycMs += tcLx.length;
            for (h = 0, qiNs = raHq.length; h < qiNs; h++) {
                rcPq = raHq[h];
                xjPx(rcPq, ycMs);
                ycMs += rcPq.length;
            }
        }

        function xjPx(tcLx, ycMs) {
            var j, k;
            i = tcLx.length;
            while (--i >= 0) {
                j = i;
                k = i - 1;
                if (k < 0) k = tcLx.length - 1;
                var s = 0,
                    qhJt = sgPs + rjPxG * 2;
                for (s = 0; s < qhJt; s++) {
                    var shJz = reGx * s;
                    var shIq = reGx * (s + 1);
                    var a = ycMs + j + shJz,
                        b = ycMs + k + shJz,
                        c = ycMs + k + shIq,
                        d = ycMs + j + shIq;
                    qjGs(a, b, c, d, tcLx, s, qhJt, j, k);
                }
            }
        }

        function v(x, y, z) {
            shMr.wjPq.push(new RFITE.udor(x, y, z));
        }

        function qjGr(a, b, c) {
            a += zcGx;
            b += zcGx;
            c += zcGx;
            shMr.rbGu.push(new RFITE.rbgq(a, b, c, null, null, vfIz));
            var qbJv = sgGy.rjNsA(shMr, a, b, c);
            shMr.rjNqG[0].push(qbJv);
        }

        function qjGs(a, b, c, d, ziLt, xjLz, zjMs, rjOrA, rjOsK) {
            a += zcGx;
            b += zcGx;
            c += zcGx;
            d += zcGx;
            shMr.rbGu.push(new RFITE.rbgq(a, b, d, null, null, riHzE));
            shMr.rbGu.push(new RFITE.rbgq(b, c, d, null, null, riHzE));
            var qbJv = sgGy.rhGuJ(shMr, a, b, c, d);
            shMr.rjNqG[0].push([qbJv[0], qbJv[1], qbJv[3]]);
            shMr.rjNqG[0].push([qbJv[1], qbJv[2], qbJv[3]]);
        }
    };
    RFITE.rihzf.rhktf = {
        rjNsA: function(vhHr, saNy, saNz, saMq) {
            var wjPq = vhHr.wjPq;
            var a = wjPq[saNy];
            var b = wjPq[saNz];
            var c = wjPq[saMq];
            return [new RFITE.udoq(a.x, a.y), new RFITE.udoq(b.x, b.y), new RFITE.udoq(c.x, c.y)];
        },
        rhGuJ: function(vhHr, saNy, saNz, saMq, saMr) {
            var wjPq = vhHr.wjPq;
            var a = wjPq[saNy];
            var b = wjPq[saNz];
            var c = wjPq[saMq];
            var d = wjPq[saMr];
            if (Math.abs(a.y - b.y) < 0.01) {
                return [new RFITE.udoq(a.x, 1 - a.z), new RFITE.udoq(b.x, 1 - b.z), new RFITE.udoq(c.x, 1 - c.z), new RFITE.udoq(d.x, 1 - d.z)];
            } else {
                return [new RFITE.udoq(a.y, 1 - a.z), new RFITE.udoq(b.y, 1 - b.z), new RFITE.udoq(c.y, 1 - c.z), new RFITE.udoq(d.y, 1 - d.z)];
            }
        }
    };
    RFITE.rjktg = function(tgPu, uhLw) {
        RFITE.vhhr.call(this);
        this.type = 'ShapeGeometry';
        if (tgPu instanceof Array === false) tgPu = [tgPu];
        this.zhLw(tgPu, uhLw);
        this.rhGqH();
    };
    RFITE.rjktg.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rjktg.prototype.constructor = RFITE.rjktg;
    RFITE.rjktg.prototype.zhLw = function(tgPu, uhLw) {
        for (var i = 0, l = tgPu.length; i < l; i++) {
            this.ubGu(tgPu[i], uhLw);
        }
        return this;
    };
    RFITE.rjktg.prototype.ubGu = function(shLv, uhLw) {
        if (uhLw === undefined) uhLw = {};
        var rjOtD = uhLw.rjOtD !== undefined ? uhLw.rjOtD : 12;
        var vfIz = uhLw.vfIz;
        var sgGy = uhLw.zinw === undefined ? RFITE.rihzf.rhktf : uhLw.zinw;
        var i, l, rhPr;
        var zcGx = this.wjPq.length;
        var yaGy = shLv.rjOzC(rjOtD);
        var wjPq = yaGy.shLv;
        var raHq = yaGy.raHq;
        var reverse = !RFITE.shlv.sggx.ycOt(wjPq);
        if (reverse) {
            wjPq = wjPq.reverse();
            for (i = 0, l = raHq.length; i < l; i++) {
                rhPr = raHq[i];
                if (RFITE.shlv.sggx.ycOt(rhPr)) {
                    raHq[i] = rhPr.reverse();
                }
            }
            reverse = false;
        }
        var rbGu = RFITE.shlv.sggx.rhKqB(wjPq, raHq);
        var tcLx = wjPq;
        for (i = 0, l = raHq.length; i < l; i++) {
            rhPr = raHq[i];
            wjPq = wjPq.concat(rhPr);
        }
        var reGt, reGx = wjPq.length;
        var riOw, riMz = rbGu.length;
        for (i = 0; i < reGx; i++) {
            reGt = wjPq[i];
            this.wjPq.push(new RFITE.udor(reGt.x, reGt.y, 0));
        }
        for (i = 0; i < riMz; i++) {
            riOw = rbGu[i];
            var a = riOw[0] + zcGx;
            var b = riOw[1] + zcGx;
            var c = riOw[2] + zcGx;
            this.rbGu.push(new RFITE.rbgq(a, b, c, null, null, vfIz));
            this.rjNqG[0].push(sgGy.rjNsA(this, a, b, c));
        }
    };
    RFITE.rjmre = function(tiHx, vcGy, vdNs, wbMt) {
        RFITE.vhhr.call(this);
        this.type = 'LatheGeometry';
        this.xbGu = {
            tiHx: tiHx,
            vcGy: vcGy,
            vdNs: vdNs,
            wbMt: wbMt
        };
        vcGy = vcGy || 12;
        vdNs = vdNs || 0;
        wbMt = wbMt || 2 * Math.PI;
        var rhGvA = 1.0 / (tiHx.length - 1);
        var riGuE = 1.0 / vcGy;
        for (var i = 0, qiMv = vcGy; i <= qiMv; i++) {
            var qcLr = vdNs + i * riGuE * wbMt;
            var c = Math.cos(qcLr),
                s = Math.sin(qcLr);
            for (var j = 0, qiLy = tiHx.length; j < qiLy; j++) {
                var qhNu = tiHx[j];
                var tfJs = new RFITE.udor();
                tfJs.x = c * qhNu.x - s * qhNu.y;
                tfJs.y = s * qhNu.x + c * qhNu.y;
                tfJs.z = qhNu.z;
                this.wjPq.push(tfJs);
            }
        }
        var qiGq = tiHx.length;
        for (var i = 0, qiMv = vcGy; i < qiMv; i++) {
            for (var j = 0, qiLy = tiHx.length - 1; j < qiLy; j++) {
                var qaGv = j + qiGq * i;
                var a = qaGv;
                var b = qaGv + qiGq;
                var c = qaGv + 1 + qiGq;
                var d = qaGv + 1;
                var qhGq = i * riGuE;
                var qgPu = j * rhGvA;
                var qhGr = qhGq + riGuE;
                var qgPv = qgPu + rhGvA;
                this.rbGu.push(new RFITE.rbgq(a, b, d));
                this.rjNqG[0].push([new RFITE.udoq(qhGq, qgPu), new RFITE.udoq(qhGr, qgPu), new RFITE.udoq(qhGq, qgPv)]);
                this.rbGu.push(new RFITE.rbgq(b, c, d));
                this.rjNqG[0].push([new RFITE.udoq(qhGr, qgPu), new RFITE.udoq(qhGr, qgPv), new RFITE.udoq(qhGq, qgPv)]);
            }
        }
        this.rjMvC();
        this.rhGqH();
        this.rgMuB();
    };
    RFITE.rjmre.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rjmre.prototype.constructor = RFITE.rjmre;
    RFITE.rjltj = function(width, height, rjJtC, riLuH) {
        console.info('THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint.');
        RFITE.vhhr.call(this);
        this.type = 'PlaneGeometry';
        this.xbGu = {
            width: width,
            height: height,
            rjJtC: rjJtC,
            riLuH: riLuH
        };
        this.rhGtD(new RFITE.rgnug(width, height, rjJtC, riLuH));
    };
    RFITE.rjltj.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rjltj.prototype.constructor = RFITE.rjltj;
    RFITE.rgnug = function(width, height, rjJtC, riLuH) {
        RFITE.rinyf.call(this);
        this.type = 'PlaneBufferGeometry';
        this.xbGu = {
            width: width,
            height: height,
            rjJtC: rjJtC,
            riLuH: riLuH
        };
        var yhKr = width / 2;
        var ydJv = height / 2;
        var raJq = rjJtC || 1;
        var raJr = riLuH || 1;
        var sbHy = raJq + 1;
        var sbHz = raJr + 1;
        var rjKqG = width / raJq;
        var riJrA = height / raJr;
        var wjPq = new Float32Array(sbHy * sbHz * 3);
        var uhPu = new Float32Array(sbHy * sbHz * 3);
        var qbJv = new Float32Array(sbHy * sbHz * 2);
        var tiOt = 0;
        var uhOy = 0;
        for (var qiLu = 0; qiLu < sbHz; qiLu++) {
            var y = qiLu * riJrA - ydJv;
            for (var qiLt = 0; qiLt < sbHy; qiLt++) {
                var x = qiLt * rjKqG - yhKr;
                wjPq[tiOt] = x;
                wjPq[tiOt + 1] = -y;
                uhPu[tiOt + 2] = 1;
                qbJv[uhOy] = qiLt / raJq;
                qbJv[uhOy + 1] = 1 - (qiLu / raJr);
                tiOt += 3;
                uhOy += 2;
            }
        }
        tiOt = 0;
        var ujNx = new((wjPq.length / 3) > 65535 ? Uint32Array : Uint16Array)(raJq * raJr * 6);
        for (var qiLu = 0; qiLu < raJr; qiLu++) {
            for (var qiLt = 0; qiLt < raJq; qiLt++) {
                var a = qiLt + sbHy * qiLu;
                var b = qiLt + sbHy * (qiLu + 1);
                var c = (qiLt + 1) + sbHy * (qiLu + 1);
                var d = (qiLt + 1) + sbHy * qiLu;
                ujNx[tiOt] = a;
                ujNx[tiOt + 1] = b;
                ujNx[tiOt + 2] = d;
                ujNx[tiOt + 3] = b;
                ujNx[tiOt + 4] = c;
                ujNx[tiOt + 5] = d;
                tiOt += 6;
            }
        }
        this.zhMz('index', new RFITE.rihrh(ujNx, 1));
        this.zhMz('position', new RFITE.rihrh(wjPq, 3));
        this.zhMz('normal', new RFITE.rihrh(uhPu, 3));
        this.zhMz('uv', new RFITE.rihrh(qbJv, 2));
    };
    RFITE.rgnug.prototype = Object.create(RFITE.rinyf.prototype);
    RFITE.rgnug.prototype.constructor = RFITE.rgnug;
    RFITE.zckq = function(ydGx, ybLt, rjKyK, ybJv, yiKy, zjIr) {
        RFITE.vhhr.call(this);
        this.type = 'RingGeometry';
        this.xbGu = {
            ydGx: ydGx,
            ybLt: ybLt,
            rjKyK: rjKyK,
            ybJv: ybJv,
            yiKy: yiKy,
            zjIr: zjIr
        };
        ydGx = ydGx || 0;
        ybLt = ybLt || 50;
        yiKy = yiKy !== undefined ? yiKy : 0;
        zjIr = zjIr !== undefined ? zjIr : Math.PI * 2;
        rjKyK = rjKyK !== undefined ? Math.max(3, rjKyK) : 8;
        ybJv = ybJv !== undefined ? Math.max(1, ybJv) : 8;
        var i, o, qbJv = [],
            thOs = ydGx,
            xaKr = ((ybLt - ydGx) / ybJv);
        for (i = 0; i < ybJv + 1; i++) {
            for (o = 0; o < rjKyK + 1; o++) {
                var tfJs = new RFITE.udor();
                var ufNw = yiKy + o / rjKyK * zjIr;
                tfJs.x = thOs * Math.cos(ufNw);
                tfJs.y = thOs * Math.sin(ufNw);
                this.wjPq.push(tfJs);
                qbJv.push(new RFITE.udoq((tfJs.x / ybLt + 1) / 2, (tfJs.y / ybLt + 1) / 2));
            }
            thOs += xaKr;
        }
        var n = new RFITE.udor(0, 0, 1);
        for (i = 0; i < ybJv; i++) {
            var zbKq = i * (rjKyK + 1);
            for (o = 0; o < rjKyK; o++) {
                var ufNw = o + zbKq;
                var qgPv = ufNw;
                var qgPw = ufNw + rjKyK + 1;
                var qgPx = ufNw + rjKyK + 2;
                this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPx, [n.rbPq(), n.rbPq(), n.rbPq()]));
                this.rjNqG[0].push([qbJv[qgPv].rbPq(), qbJv[qgPw].rbPq(), qbJv[qgPx].rbPq()]);
                qgPv = ufNw;
                qgPw = ufNw + rjKyK + 2;
                qgPx = ufNw + 1;
                this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPx, [n.rbPq(), n.rbPq(), n.rbPq()]));
                this.rjNqG[0].push([qbJv[qgPv].rbPq(), qbJv[qgPw].rbPq(), qbJv[qgPx].rbPq()]);
            }
        }
        this.rhGqH();
        this.riNyH = new RFITE.tglq(new RFITE.udor(), thOs);
    };
    RFITE.zckq.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.zckq.prototype.constructor = RFITE.zckq;
    RFITE.rijvk = function(thOs, rjJtC, riLuH, vdNs, wbMt, yiKy, zjIr) {
        RFITE.vhhr.call(this);
        this.type = 'SphereGeometry';
        this.xbGu = {
            thOs: thOs,
            rjJtC: rjJtC,
            riLuH: riLuH,
            vdNs: vdNs,
            wbMt: wbMt,
            yiKy: yiKy,
            zjIr: zjIr
        };
        thOs = thOs || 50;
        rjJtC = Math.max(3, Math.floor(rjJtC) || 8);
        riLuH = Math.max(2, Math.floor(riLuH) || 6);
        vdNs = vdNs !== undefined ? vdNs : 0;
        wbMt = wbMt !== undefined ? wbMt : Math.PI * 2;
        yiKy = yiKy !== undefined ? yiKy : 0;
        zjIr = zjIr !== undefined ? zjIr : Math.PI;
        var x, y, wjPq = [],
            qbJv = [];
        for (y = 0; y <= riLuH; y++) {
            var ziMt = [];
            var tfKs = [];
            for (x = 0; x <= rjJtC; x++) {
                var u = x / rjJtC;
                var v = y / riLuH;
                var tfJs = new RFITE.udor();
                tfJs.x = -thOs * Math.cos(vdNs + u * wbMt) * Math.sin(yiKy + v * zjIr);
                tfJs.y = thOs * Math.cos(yiKy + v * zjIr);
                tfJs.z = thOs * Math.sin(vdNs + u * wbMt) * Math.sin(yiKy + v * zjIr);
                this.wjPq.push(tfJs);
                ziMt.push(this.wjPq.length - 1);
                tfKs.push(new RFITE.udoq(u, 1 - v));
            }
            wjPq.push(ziMt);
            qbJv.push(tfKs);
        }
        for (y = 0; y < riLuH; y++) {
            for (x = 0; x < rjJtC; x++) {
                var qgPv = wjPq[y][x + 1];
                var qgPw = wjPq[y][x];
                var qgPx = wjPq[y + 1][x];
                var qgPy = wjPq[y + 1][x + 1];
                var qiHr = this.wjPq[qgPv].rbPq().normalize();
                var qiHs = this.wjPq[qgPw].rbPq().normalize();
                var qiHt = this.wjPq[qgPx].rbPq().normalize();
                var qiHu = this.wjPq[qgPy].rbPq().normalize();
                var qbKw = qbJv[y][x + 1].rbPq();
                var uv2 = qbJv[y][x].rbPq();
                var qbKy = qbJv[y + 1][x].rbPq();
                var qbKz = qbJv[y + 1][x + 1].rbPq();
                if (Math.abs(this.wjPq[qgPv].y) === thOs) {
                    qbKw.x = (qbKw.x + uv2.x) / 2;
                    this.rbGu.push(new RFITE.rbgq(qgPv, qgPx, qgPy, [qiHr, qiHt, qiHu]));
                    this.rjNqG[0].push([qbKw, qbKy, qbKz]);
                } else if (Math.abs(this.wjPq[qgPx].y) === thOs) {
                    qbKy.x = (qbKy.x + qbKz.x) / 2;
                    this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPx, [qiHr, qiHs, qiHt]));
                    this.rjNqG[0].push([qbKw, uv2, qbKy]);
                } else {
                    this.rbGu.push(new RFITE.rbgq(qgPv, qgPw, qgPy, [qiHr, qiHs, qiHu]));
                    this.rjNqG[0].push([qbKw, uv2, qbKz]);
                    this.rbGu.push(new RFITE.rbgq(qgPw, qgPx, qgPy, [qiHs.rbPq(), qiHt, qiHu.rbPq()]));
                    this.rjNqG[0].push([uv2.rbPq(), qbKy, qbKz.rbPq()]);
                }
            }
        }
        this.rhGqH();
        this.riNyH = new RFITE.tglq(new RFITE.udor(), thOs);
    };
    RFITE.rijvk.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rijvk.prototype.constructor = RFITE.rijvk;
    RFITE.zblt = function(text, xbGu) {
        xbGu = xbGu || {};
        var yiKs = RFITE.wfny.riMzF(text, xbGu);
        xbGu.seMy = xbGu.height !== undefined ? xbGu.height : 50;
        if (xbGu.riNxG === undefined) xbGu.riNxG = 10;
        if (xbGu.wiHt === undefined) xbGu.wiHt = 8;
        if (xbGu.zhIx === undefined) xbGu.zhIx = false;
        RFITE.rihzf.call(this, yiKs, xbGu);
        this.type = 'TextGeometry';
    };
    RFITE.zblt.prototype = Object.create(RFITE.rihzf.prototype);
    RFITE.zblt.prototype.constructor = RFITE.zblt;
    RFITE.rjkzk = function(thOs, reJu, riKzH, rhOtH, arc) {
        RFITE.vhhr.call(this);
        this.type = 'TorusGeometry';
        this.xbGu = {
            thOs: thOs,
            reJu: reJu,
            riKzH: riKzH,
            rhOtH: rhOtH,
            arc: arc
        };
        thOs = thOs || 100;
        reJu = reJu || 40;
        riKzH = riKzH || 8;
        rhOtH = rhOtH || 6;
        arc = arc || Math.PI * 2;
        var rfOsH = new RFITE.udor(),
            qbJv = [],
            uhPu = [];
        for (var j = 0; j <= riKzH; j++) {
            for (var i = 0; i <= rhOtH; i++) {
                var u = i / rhOtH * arc;
                var v = j / riKzH * Math.PI * 2;
                rfOsH.x = thOs * Math.cos(u);
                rfOsH.y = thOs * Math.sin(u);
                var tfJs = new RFITE.udor();
                tfJs.x = (thOs + reJu * Math.cos(v)) * Math.cos(u);
                tfJs.y = (thOs + reJu * Math.cos(v)) * Math.sin(u);
                tfJs.z = reJu * Math.sin(v);
                this.wjPq.push(tfJs);
                qbJv.push(new RFITE.udoq(i / rhOtH, j / riKzH));
                uhPu.push(tfJs.rbPq().sub(rfOsH).normalize());
            }
        }
        for (var j = 1; j <= riKzH; j++) {
            for (var i = 1; i <= rhOtH; i++) {
                var a = (rhOtH + 1) * j + i - 1;
                var b = (rhOtH + 1) * (j - 1) + i - 1;
                var c = (rhOtH + 1) * (j - 1) + i;
                var d = (rhOtH + 1) * j + i;
                var riOw = new RFITE.rbgq(a, b, d, [uhPu[a].rbPq(), uhPu[b].rbPq(), uhPu[d].rbPq()]);
                this.rbGu.push(riOw);
                this.rjNqG[0].push([qbJv[a].rbPq(), qbJv[b].rbPq(), qbJv[d].rbPq()]);
                riOw = new RFITE.rbgq(b, c, d, [uhPu[b].rbPq(), uhPu[c].rbPq(), uhPu[d].rbPq()]);
                this.rbGu.push(riOw);
                this.rjNqG[0].push([qbJv[b].rbPq(), qbJv[c].rbPq(), qbJv[d].rbPq()]);
            }
        }
        this.rhGqH();
    };
    RFITE.rjkzk.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rjkzk.prototype.constructor = RFITE.rjkzk;
    RFITE.rhhrf = function(thOs, reJu, riKzH, rhOtH, p, q, ydJx) {
        RFITE.vhhr.call(this);
        this.type = 'TorusKnotGeometry';
        this.xbGu = {
            thOs: thOs,
            reJu: reJu,
            riKzH: riKzH,
            rhOtH: rhOtH,
            p: p,
            q: q,
            ydJx: ydJx
        };
        thOs = thOs || 100;
        reJu = reJu || 40;
        riKzH = riKzH || 64;
        rhOtH = rhOtH || 8;
        p = p || 2;
        q = q || 3;
        ydJx = ydJx || 1;
        var riIv = new Array(riKzH);
        var reMr = new RFITE.udor();
        var n = new RFITE.udor();
        var rcLz = new RFITE.udor();
        for (var i = 0; i < riKzH; ++i) {
            riIv[i] = new Array(rhOtH);
            var u = i / riKzH * 2 * p * Math.PI;
            var qhOq = sbIr(u, q, p, thOs, ydJx);
            var qhOr = sbIr(u + 0.01, q, p, thOs, ydJx);
            reMr.yiMs(qhOr, qhOq);
            n.xgMr(qhOr, qhOq);
            rcLz.zgKq(reMr, n);
            n.zgKq(rcLz, reMr);
            rcLz.normalize();
            n.normalize();
            for (var j = 0; j < rhOtH; ++j) {
                var v = j / rhOtH * 2 * Math.PI;
                var qjKz = -reJu * Math.cos(v);
                var qjJq = reJu * Math.sin(v);
                var qcLw = new RFITE.udor();
                qcLw.x = qhOq.x + qjKz * n.x + qjJq * rcLz.x;
                qcLw.y = qhOq.y + qjKz * n.y + qjJq * rcLz.y;
                qcLw.z = qhOq.z + qjKz * n.z + qjJq * rcLz.z;
                riIv[i][j] = this.wjPq.push(qcLw) - 1;
            }
        }
        for (var i = 0; i < riKzH; ++i) {
            for (var j = 0; j < rhOtH; ++j) {
                var qiMy = (i + 1) % riKzH;
                var qiLz = (j + 1) % rhOtH;
                var a = riIv[i][j];
                var b = riIv[qiMy][j];
                var c = riIv[qiMy][qiLz];
                var d = riIv[i][qiLz];
                var qbJq = new RFITE.udoq(i / riKzH, j / rhOtH);
                var qbJr = new RFITE.udoq((i + 1) / riKzH, j / rhOtH);
                var qbJs = new RFITE.udoq((i + 1) / riKzH, (j + 1) / rhOtH);
                var qbJt = new RFITE.udoq(i / riKzH, (j + 1) / rhOtH);
                this.rbGu.push(new RFITE.rbgq(a, b, d));
                this.rjNqG[0].push([qbJq, qbJr, qbJt]);
                this.rbGu.push(new RFITE.rbgq(b, c, d));
                this.rjNqG[0].push([qbJr.rbPq(), qbJs, qbJt.rbPq()]);
            }
        }
        this.rhGqH();
        this.rgMuB();

        function sbIr(u, rhOy, rhOx, thOs, ydJx) {
            var qjKx = Math.cos(u);
            var qhJz = Math.sin(u);
            var ugMy = rhOy / rhOx * u;
            var qjKw = Math.cos(ugMy);
            var qhHx = thOs * (2 + qjKw) * 0.5 * qjKx;
            var qhHy = thOs * (2 + qjKw) * qhJz * 0.5;
            var qhHz = ydJx * thOs * Math.sin(ugMy) * 0.5;
            return new RFITE.udor(qhHx, qhHy, qhHz);
        }
    };
    RFITE.rhhrf.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rhhrf.prototype.constructor = RFITE.rhhrf;
    RFITE.zbiq = function(rgHx, vcGy, thOs, riKzH, closed, sgNw) {
        RFITE.vhhr.call(this);
        this.type = 'TubeGeometry';
        this.xbGu = {
            rgHx: rgHx,
            vcGy: vcGy,
            thOs: thOs,
            riKzH: riKzH,
            closed: closed
        };
        vcGy = vcGy || 64;
        thOs = thOs || 1;
        riKzH = riKzH || 8;
        closed = closed || false;
        sgNw = sgNw || RFITE.zbiq.uhpv;
        var riIv = [];
        var shMr = this,
            tangent, normal, uaKu, wcKu = vcGy + 1,
            u, v, r, qjKz, qjJq, qcLw, rfPx = new RFITE.udor(),
            i, j, qiMy, qiLz, a, b, c, d, qbJq, qbJr, qbJs, qbJt;
        var frames = new RFITE.zbiq.zfmv(rgHx, vcGy, closed),
            vaPr = frames.vaPr,
            uhPu = frames.uhPu,
            wiHx = frames.wiHx;
        this.vaPr = vaPr;
        this.uhPu = uhPu;
        this.wiHx = wiHx;

        function reGt(x, y, z) {
            return shMr.wjPq.push(new RFITE.udor(x, y, z)) - 1;
        }
        for (i = 0; i < wcKu; i++) {
            riIv[i] = [];
            u = i / (wcKu - 1);
            qcLw = rgHx.xdIs(u);
            tangent = vaPr[i];
            normal = uhPu[i];
            uaKu = wiHx[i];
            r = thOs * sgNw(u);
            for (j = 0; j < riKzH; j++) {
                v = j / riKzH * 2 * Math.PI;
                qjKz = -r * Math.cos(v);
                qjJq = r * Math.sin(v);
                rfPx.rjLt(qcLw);
                rfPx.x += qjKz * normal.x + qjJq * uaKu.x;
                rfPx.y += qjKz * normal.y + qjJq * uaKu.y;
                rfPx.z += qjKz * normal.z + qjJq * uaKu.z;
                riIv[i][j] = reGt(rfPx.x, rfPx.y, rfPx.z);
            }
        }
        for (i = 0; i < vcGy; i++) {
            for (j = 0; j < riKzH; j++) {
                qiMy = (closed) ? (i + 1) % vcGy : i + 1;
                qiLz = (j + 1) % riKzH;
                a = riIv[i][j];
                b = riIv[qiMy][j];
                c = riIv[qiMy][qiLz];
                d = riIv[i][qiLz];
                qbJq = new RFITE.udoq(i / vcGy, j / riKzH);
                qbJr = new RFITE.udoq((i + 1) / vcGy, j / riKzH);
                qbJs = new RFITE.udoq((i + 1) / vcGy, (j + 1) / riKzH);
                qbJt = new RFITE.udoq(i / vcGy, (j + 1) / riKzH);
                this.rbGu.push(new RFITE.rbgq(a, b, d));
                this.rjNqG[0].push([qbJq, qbJr, qbJt]);
                this.rbGu.push(new RFITE.rbgq(b, c, d));
                this.rjNqG[0].push([qbJr.rbPq(), qbJs, qbJt.rbPq()]);
            }
        }
        this.rhGqH();
        this.rgMuB();
    };
    RFITE.zbiq.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.zbiq.prototype.constructor = RFITE.zbiq;
    RFITE.zbiq.uhpv = function(u) {
        return 1;
    };
    RFITE.zbiq.rhoqf = function(u) {
        return Math.sin(Math.PI * u);
    };
    RFITE.zbiq.zfmv = function(rgHx, vcGy, closed) {
        var normal = new RFITE.udor(),
            vaPr = [],
            uhPu = [],
            wiHx = [],
            qbHs = new RFITE.udor(),
            qdJv = new RFITE.uilr(),
            wcKu = vcGy + 1,
            sgMy, tbKv = 0.0001,
            vbLu, qhHx, qhHy, qhHz, i, u;
        this.vaPr = vaPr;
        this.uhPu = uhPu;
        this.wiHx = wiHx;
        for (i = 0; i < wcKu; i++) {
            u = i / (wcKu - 1);
            vaPr[i] = rgHx.zfJx(u);
            vaPr[i].normalize();
        }
        riLvC();

        function riLvC() {
            uhPu[0] = new RFITE.udor();
            wiHx[0] = new RFITE.udor();
            vbLu = Number.MAX_VALUE;
            qhHx = Math.abs(vaPr[0].x);
            qhHy = Math.abs(vaPr[0].y);
            qhHz = Math.abs(vaPr[0].z);
            if (qhHx <= vbLu) {
                vbLu = qhHx;
                normal.set(1, 0, 0);
            }
            if (qhHy <= vbLu) {
                vbLu = qhHy;
                normal.set(0, 1, 0);
            }
            if (qhHz <= vbLu) {
                normal.set(0, 0, 1);
            }
            qbHs.zgKq(vaPr[0], normal).normalize();
            uhPu[0].zgKq(vaPr[0], qbHs);
            wiHx[0].zgKq(vaPr[0], uhPu[0]);
        }
        for (i = 1; i < wcKu; i++) {
            uhPu[i] = uhPu[i - 1].rbPq();
            wiHx[i] = wiHx[i - 1].rbPq();
            qbHs.zgKq(vaPr[i - 1], vaPr[i]);
            if (qbHs.length() > tbKv) {
                qbHs.normalize();
                sgMy = Math.acos(RFITE.Math.rcGt(vaPr[i - 1].qeMq(vaPr[i]), -1, 1));
                uhPu[i].zhJr(qdJv.rhMxH(qbHs, sgMy));
            }
            wiHx[i].zgKq(vaPr[i], uhPu[i]);
        }
        if (closed) {
            sgMy = Math.acos(RFITE.Math.rcGt(uhPu[0].qeMq(uhPu[wcKu - 1]), -1, 1));
            sgMy /= (wcKu - 1);
            if (vaPr[0].qeMq(qbHs.zgKq(uhPu[0], uhPu[wcKu - 1])) > 0) {
                sgMy = -sgMy;
            }
            for (i = 1; i < wcKu; i++) {
                uhPu[i].zhJr(qdJv.rhMxH(vaPr[i], sgMy * i));
                wiHx[i].zgKq(vaPr[i], uhPu[i]);
            }
        }
    };
    RFITE.rgpsj = function(wjPq, ujNx, thOs, detail) {
        RFITE.vhhr.call(this);
        this.type = 'PolyhedronGeometry';
        this.xbGu = {
            wjPq: wjPq,
            ujNx: ujNx,
            thOs: thOs,
            detail: detail
        };
        thOs = thOs || 1;
        detail = detail || 0;
        var reLr = this;
        for (var i = 0, l = wjPq.length; i < l; i += 3) {
            uhGy(new RFITE.udor(wjPq[i], wjPq[i + 1], wjPq[i + 2]));
        }
        var p = this.wjPq;
        var rbGu = [];
        for (var i = 0, j = 0, l = ujNx.length; i < l; i += 3, j++) {
            var qgPv = p[ujNx[i]];
            var qgPw = p[ujNx[i + 1]];
            var qgPx = p[ujNx[i + 2]];
            rbGu[j] = new RFITE.rbgq(qgPv.index, qgPw.index, qgPx.index, [qgPv.rbPq(), qgPw.rbPq(), qgPx.rbPq()]);
        }
        var vjOy = new RFITE.udor();
        for (var i = 0, l = rbGu.length; i < l; i++) {
            xjKx(rbGu[i], detail);
        }
        for (var i = 0, l = this.rjNqG[0].length; i < l; i++) {
            var qbJv = this.rjNqG[0][i];
            var qgMu = qbJv[0].x;
            var qgMv = qbJv[1].x;
            var qgMw = qbJv[2].x;
            var max = Math.max(qgMu, Math.max(qgMv, qgMw));
            var min = Math.min(qgMu, Math.min(qgMv, qgMw));
            if (max > 0.9 && min < 0.1) {
                if (qgMu < 0.2) qbJv[0].x += 1;
                if (qgMv < 0.2) qbJv[1].x += 1;
                if (qgMw < 0.2) qbJv[2].x += 1;
            }
        }
        for (var i = 0, l = this.wjPq.length; i < l; i++) {
            this.wjPq[i].riKsH(thOs);
        }
        this.rjMvC();
        this.rhGqH();
        this.riNyH = new RFITE.tglq(new RFITE.udor(), thOs);

        function uhGy(tfKy) {
            var tfJs = tfKy.normalize().rbPq();
            tfJs.index = reLr.wjPq.push(tfJs) - 1;
            var u = tdMw(tfKy) / 2 / Math.PI + 0.5;
            var v = ydHr(tfKy) / Math.PI + 0.5;
            tfJs.uv = new RFITE.udoq(u, 1 - v);
            return tfJs;
        }

        function rhHy(qgPv, qgPw, qgPx) {
            var riOw = new RFITE.rbgq(qgPv.index, qgPw.index, qgPx.index, [qgPv.rbPq(), qgPw.rbPq(), qgPx.rbPq()]);
            reLr.rbGu.push(riOw);
            vjOy.rjLt(qgPv).add(qgPw).add(qgPx).zgGv(3);
            var qfLs = tdMw(vjOy);
            reLr.rjNqG[0].push([whIu(qgPv.uv, qgPv, qfLs), whIu(qgPw.uv, qgPw, qfLs), whIu(qgPx.uv, qgPx, qfLs)]);
        }

        function xjKx(riOw, detail) {
            var rjMx = Math.pow(2, detail);
            var a = uhGy(reLr.wjPq[riOw.a]);
            var b = uhGy(reLr.wjPq[riOw.b]);
            var c = uhGy(reLr.wjPq[riOw.c]);
            var v = [];
            for (var i = 0; i <= rjMx; i++) {
                v[i] = [];
                var qjOy = uhGy(a.rbPq().rhJs(c, i / rjMx));
                var qjMx = uhGy(b.rbPq().rhJs(c, i / rjMx));
                var rfLy = rjMx - i;
                for (var j = 0; j <= rfLy; j++) {
                    if (j == 0 && i == rjMx) {
                        v[i][j] = qjOy;
                    } else {
                        v[i][j] = uhGy(qjOy.rbPq().rhJs(qjMx, j / rfLy));
                    }
                }
            }
            for (var i = 0; i < rjMx; i++) {
                for (var j = 0; j < 2 * (rjMx - i) - 1; j++) {
                    var k = Math.floor(j / 2);
                    if (j % 2 == 0) {
                        rhHy(v[i][k + 1], v[i + 1][k], v[i][k]);
                    } else {
                        rhHy(v[i][k + 1], v[i + 1][k + 1], v[i + 1][k]);
                    }
                }
            }
        }

        function tdMw(tfKy) {
            return Math.atan2(tfKy.z, -tfKy.x);
        }

        function ydHr(tfKy) {
            return Math.atan2(-tfKy.y, Math.sqrt((tfKy.x * tfKy.x) + (tfKy.z * tfKy.z)));
        }

        function whIu(uv, tfKy, tdMw) {
            if ((tdMw < 0) && (uv.x === 1)) uv = new RFITE.udoq(uv.x - 1, uv.y);
            if ((tfKy.x === 0) && (tfKy.z === 0)) uv = new RFITE.udoq(tdMw / 2 / Math.PI + 0.5, uv.y);
            return uv.rbPq();
        }
    };
    RFITE.rgpsj.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rgpsj.prototype.constructor = RFITE.rgpsj;
    RFITE.rgmwc = function(thOs, detail) {
        this.xbGu = {
            thOs: thOs,
            detail: detail
        };
        var t = (1 + Math.sqrt(5)) / 2;
        var r = 1 / t;
        var wjPq = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];
        var ujNx = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
        RFITE.rgpsj.call(this, wjPq, ujNx, thOs, detail);
    };
    RFITE.rgmwc.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rgmwc.prototype.constructor = RFITE.rgmwc;
    RFITE.rgozc = function(thOs, detail) {
        var t = (1 + Math.sqrt(5)) / 2;
        var wjPq = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];
        var ujNx = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
        RFITE.rgpsj.call(this, wjPq, ujNx, thOs, detail);
        this.type = 'IcosahedronGeometry';
        this.xbGu = {
            thOs: thOs,
            detail: detail
        };
    };
    RFITE.rgozc.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rgozc.prototype.constructor = RFITE.rgozc;
    RFITE.rhgzj = function(thOs, detail) {
        this.xbGu = {
            thOs: thOs,
            detail: detail
        };
        var wjPq = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];
        var ujNx = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
        RFITE.rgpsj.call(this, wjPq, ujNx, thOs, detail);
        this.type = 'OctahedronGeometry';
        this.xbGu = {
            thOs: thOs,
            detail: detail
        };
    };
    RFITE.rhgzj.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rhgzj.prototype.constructor = RFITE.rhgzj;
    RFITE.rgnxb = function(thOs, detail) {
        var wjPq = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];
        var ujNx = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
        RFITE.rgpsj.call(this, wjPq, ujNx, thOs, detail);
        this.type = 'TetrahedronGeometry';
        this.xbGu = {
            thOs: thOs,
            detail: detail
        };
    };
    RFITE.rgnxb.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rgnxb.prototype.constructor = RFITE.rgnxb;
    RFITE.rgpqc = function(riKs, tgNs, tgKq) {
        RFITE.vhhr.call(this);
        this.type = 'ParametricGeometry';
        this.xbGu = {
            riKs: riKs,
            tgNs: tgNs,
            tgKq: tgKq
        };
        var sfPt = this.wjPq;
        var rbGu = this.rbGu;
        var qbJv = this.rjNqG[0];
        var i, j, p;
        var u, v;
        var yjIu = tgNs + 1;
        for (i = 0; i <= tgKq; i++) {
            v = i / tgKq;
            for (j = 0; j <= tgNs; j++) {
                u = j / tgNs;
                p = riKs(u, v);
                sfPt.push(p);
            }
        }
        var a, b, c, d;
        var qbJq, qbJr, qbJs, qbJt;
        for (i = 0; i < tgKq; i++) {
            for (j = 0; j < tgNs; j++) {
                a = i * yjIu + j;
                b = i * yjIu + j + 1;
                c = (i + 1) * yjIu + j + 1;
                d = (i + 1) * yjIu + j;
                qbJq = new RFITE.udoq(j / tgNs, i / tgKq);
                qbJr = new RFITE.udoq((j + 1) / tgNs, i / tgKq);
                qbJs = new RFITE.udoq((j + 1) / tgNs, (i + 1) / tgKq);
                qbJt = new RFITE.udoq(j / tgNs, (i + 1) / tgKq);
                rbGu.push(new RFITE.rbgq(a, b, d));
                qbJv.push([qbJq, qbJr, qbJt]);
                rbGu.push(new RFITE.rbgq(b, c, d));
                qbJv.push([qbJr.rbPq(), qbJs, qbJt.rbPq()]);
            }
        }
        this.rhGqH();
        this.rgMuB();
    };
    RFITE.rgpqc.prototype = Object.create(RFITE.vhhr.prototype);
    RFITE.rgpqc.prototype.constructor = RFITE.rgpqc;
    RFITE.xgjs = function(size) {
        size = size || 1;
        var wjPq = new Float32Array([0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size]);
        var sdIw = new Float32Array([1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1]);
        var vhHr = new RFITE.rinyf();
        vhHr.zhMz('position', new RFITE.rihrh(wjPq, 3));
        vhHr.zhMz('color', new RFITE.rihrh(sdIw, 3));
        var vfIz = new RFITE.rhiqf({
            zbGu: RFITE.zbgu
        });
        RFITE.rhjz.call(this, vhHr, vfIz, RFITE.xchx);
    };
    RFITE.xgjs.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.xgjs.prototype.constructor = RFITE.xgjs;
    RFITE.yggq = (function() {
        var zeKq = new RFITE.vhhr();
        zeKq.wjPq.push(new RFITE.udor(0, 0, 0), new RFITE.udor(0, 1, 0));
        var zgMs = new RFITE.rhnxh(0, 0.5, 1, 5, 1);
        zgMs.ygHq(new RFITE.uilr().riGwF(0, -0.5, 0));
        return function(dir, origin, length, color, xdGw, wePr) {
            RFITE.veju.call(this);
            if (color === undefined) color = 0xffff00;
            if (length === undefined) length = 1;
            if (xdGw === undefined) xdGw = 0.2 * length;
            if (wePr === undefined) wePr = 0.2 * xdGw;
            this.position.rjLt(origin);
            this.rhJz = new RFITE.rhjz(zeKq, new RFITE.rhiqf({
                color: color
            }));
            this.rhJz.rhMxA = false;
            this.add(this.rhJz);
            this.rjMz = new RFITE.rgos(zgMs, new RFITE.rhira({
                color: color
            }));
            this.rjMz.rhMxA = false;
            this.add(this.rjMz);
            this.zcIx(dir);
            this.waHq(length, xdGw, wePr);
        }
    }());
    RFITE.yggq.prototype = Object.create(RFITE.veju.prototype);
    RFITE.yggq.prototype.constructor = RFITE.yggq;
    RFITE.yggq.prototype.zcIx = (function() {
        var qaHt = new RFITE.udor();
        var ugMz;
        return function(dir) {
            if (dir.y > 0.99999) {
                this.xaLy.set(0, 0, 0, 1);
            } else if (dir.y < -0.99999) {
                this.xaLy.set(1, 0, 0, 0);
            } else {
                qaHt.set(dir.z, 0, -dir.x).normalize();
                ugMz = Math.acos(dir.y);
                this.xaLy.rhLwB(qaHt, ugMz);
            }
        };
    }());
    RFITE.yggq.prototype.waHq = function(length, xdGw, wePr) {
        if (xdGw === undefined) xdGw = 0.2 * length;
        if (wePr === undefined) wePr = 0.2 * xdGw;
        this.rhJz.scale.set(1, length - xdGw, 1);
        this.rhJz.zbHq();
        this.rjMz.scale.set(wePr, xdGw, wePr);
        this.rjMz.position.y = length;
        this.rjMz.zbHq();
    };
    RFITE.yggq.prototype.vbPz = function(color) {
        this.rhJz.vfIz.color.set(color);
        this.rjMz.vfIz.color.set(color);
    };
    RFITE.whpq = function(object) {
        var vhHr = new RFITE.rinyf();
        vhHr.zhMz('position', new RFITE.rihrh(new Float32Array(72), 3));
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: 0xffff00
        }), RFITE.xchx);
        if (object !== undefined) {
            this.update(object);
        }
    };
    RFITE.whpq.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.whpq.prototype.constructor = RFITE.whpq;
    RFITE.whpq.prototype.update = function(object) {
        var vhHr = object.vhHr;
        if (vhHr.yfNv === null) {
            vhHr.rhGqJ();
        }
        var min = vhHr.yfNv.min;
        var max = vhHr.yfNv.max;
        var wjPq = this.vhHr.attributes.position.array;
        wjPq[0] = max.x;
        wjPq[1] = max.y;
        wjPq[2] = max.z;
        wjPq[3] = min.x;
        wjPq[4] = max.y;
        wjPq[5] = max.z;
        wjPq[6] = min.x;
        wjPq[7] = max.y;
        wjPq[8] = max.z;
        wjPq[9] = min.x;
        wjPq[10] = min.y;
        wjPq[11] = max.z;
        wjPq[12] = min.x;
        wjPq[13] = min.y;
        wjPq[14] = max.z;
        wjPq[15] = max.x;
        wjPq[16] = min.y;
        wjPq[17] = max.z;
        wjPq[18] = max.x;
        wjPq[19] = min.y;
        wjPq[20] = max.z;
        wjPq[21] = max.x;
        wjPq[22] = max.y;
        wjPq[23] = max.z;
        wjPq[24] = max.x;
        wjPq[25] = max.y;
        wjPq[26] = min.z;
        wjPq[27] = min.x;
        wjPq[28] = max.y;
        wjPq[29] = min.z;
        wjPq[30] = min.x;
        wjPq[31] = max.y;
        wjPq[32] = min.z;
        wjPq[33] = min.x;
        wjPq[34] = min.y;
        wjPq[35] = min.z;
        wjPq[36] = min.x;
        wjPq[37] = min.y;
        wjPq[38] = min.z;
        wjPq[39] = max.x;
        wjPq[40] = min.y;
        wjPq[41] = min.z;
        wjPq[42] = max.x;
        wjPq[43] = min.y;
        wjPq[44] = min.z;
        wjPq[45] = max.x;
        wjPq[46] = max.y;
        wjPq[47] = min.z;
        wjPq[48] = max.x;
        wjPq[49] = max.y;
        wjPq[50] = max.z;
        wjPq[51] = max.x;
        wjPq[52] = max.y;
        wjPq[53] = min.z;
        wjPq[54] = min.x;
        wjPq[55] = max.y;
        wjPq[56] = max.z;
        wjPq[57] = min.x;
        wjPq[58] = max.y;
        wjPq[59] = min.z;
        wjPq[60] = min.x;
        wjPq[61] = min.y;
        wjPq[62] = max.z;
        wjPq[63] = min.x;
        wjPq[64] = min.y;
        wjPq[65] = min.z;
        wjPq[66] = max.x;
        wjPq[67] = min.y;
        wjPq[68] = max.z;
        wjPq[69] = max.x;
        wjPq[70] = min.y;
        wjPq[71] = min.z;
        this.vhHr.attributes.position.ycGw = true;
        this.vhHr.rgKsJ();
        this.tjLs = object.ycJs;
        this.rhMxA = false;
    };
    RFITE.rhkzc = function(object, qeGy) {
        var color = (qeGy !== undefined) ? qeGy : 0x888888;
        this.object = object;
        this.rfPxD = new RFITE.rjnq();
        RFITE.rgos.call(this, new RFITE.yfnx(1, 1, 1), new RFITE.rhira({
            color: color,
            xiGt: true
        }));
    };
    RFITE.rhkzc.prototype = Object.create(RFITE.rgos.prototype);
    RFITE.rhkzc.prototype.constructor = RFITE.rhkzc;
    RFITE.rhkzc.prototype.update = function() {
        this.rfPxD.rjKrD(this.object);
        this.rfPxD.size(this.scale);
        this.rfPxD.rfOsH(this.position);
    };
    RFITE.zgpq = function(sdNw) {
        var vhHr = new RFITE.vhhr();
        var vfIz = new RFITE.rhiqf({
            color: 0xffffff,
            zbGu: RFITE.xegs
        });
        var vdLr = {};
        var xcPt = 0xffaa00;
        var taGq = 0xff0000;
        var raIw = 0x00aaff;
        var wePu = 0xffffff;
        var vgNw = 0x333333;
        teIw("n1", "n2", xcPt);
        teIw("n2", "n4", xcPt);
        teIw("n4", "n3", xcPt);
        teIw("n3", "n1", xcPt);
        teIw("f1", "f2", xcPt);
        teIw("f2", "f4", xcPt);
        teIw("f4", "f3", xcPt);
        teIw("f3", "f1", xcPt);
        teIw("n1", "f1", xcPt);
        teIw("n2", "f2", xcPt);
        teIw("n3", "f3", xcPt);
        teIw("n4", "f4", xcPt);
        teIw("p", "n1", taGq);
        teIw("p", "n2", taGq);
        teIw("p", "n3", taGq);
        teIw("p", "n4", taGq);
        teIw("u1", "u2", raIw);
        teIw("u2", "u3", raIw);
        teIw("u3", "u1", raIw);
        teIw("c", "t", wePu);
        teIw("p", "c", vgNw);
        teIw("cn1", "cn2", vgNw);
        teIw("cn3", "cn4", vgNw);
        teIw("cf1", "cf2", vgNw);
        teIw("cf3", "cf4", vgNw);

        function teIw(a, b, qeGy) {
            ubGs(a, qeGy);
            ubGs(b, qeGy);
        }

        function ubGs(id, qeGy) {
            vhHr.wjPq.push(new RFITE.udor());
            vhHr.sdIw.push(new RFITE.Color(qeGy));
            if (vdLr[id] === undefined) {
                vdLr[id] = [];
            }
            vdLr[id].push(vhHr.wjPq.length - 1);
        }
        RFITE.rhjz.call(this, vhHr, vfIz, RFITE.xchx);
        this.sdNw = sdNw;
        this.tjLs = sdNw.ycJs;
        this.rhMxA = false;
        this.vdLr = vdLr;
        this.update();
    };
    RFITE.zgpq.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.zgpq.prototype.constructor = RFITE.zgpq;
    RFITE.zgpq.prototype.update = function() {
        var vhHr, vdLr;
        var tfKy = new RFITE.udor();
        var sdNw = new RFITE.sdnw();
        var vbOv = function(point, x, y, z) {
            tfKy.set(x, y, z).xiKu(sdNw);
            var tiHx = vdLr[point];
            if (tiHx !== undefined) {
                for (var i = 0, qiMv = tiHx.length; i < qiMv; i++) {
                    vhHr.wjPq[tiHx[i]].rjLt(tfKy);
                }
            }
        };
        return function() {
            vhHr = this.vhHr;
            vdLr = this.vdLr;
            var w = 1,
                h = 1;
            sdNw.projectionMatrix.rjLt(this.sdNw.projectionMatrix);
            vbOv("c", 0, 0, -1);
            vbOv("t", 0, 0, 1);
            vbOv("n1", -w, -h, -1);
            vbOv("n2", w, -h, -1);
            vbOv("n3", -w, h, -1);
            vbOv("n4", w, h, -1);
            vbOv("f1", -w, -h, 1);
            vbOv("f2", w, -h, 1);
            vbOv("f3", -w, h, 1);
            vbOv("f4", w, h, 1);
            vbOv("u1", w * 0.7, h * 1.1, -1);
            vbOv("u2", -w * 0.7, h * 1.1, -1);
            vbOv("u3", 0, h * 2, -1);
            vbOv("cf1", -w, 0, 1);
            vbOv("cf2", w, 0, 1);
            vbOv("cf3", 0, -h, 1);
            vbOv("cf4", 0, h, 1);
            vbOv("cn1", -w, 0, -1);
            vbOv("cn2", w, 0, -1);
            vbOv("cn3", 0, -h, -1);
            vbOv("cn4", 0, h, -1);
            vhHr.rgPzH = true;
        };
    }();
    RFITE.rgjwa = function(sjLu, size) {
        RFITE.veju.call(this);
        this.sjLu = sjLu;
        this.sjLu.rhHsG();
        this.tjLs = sjLu.ycJs;
        this.rhMxA = false;
        size = size || 1;
        var vhHr = new RFITE.vhhr();
        vhHr.wjPq.push(new RFITE.udor(-size, size, 0), new RFITE.udor(size, size, 0), new RFITE.udor(size, -size, 0), new RFITE.udor(-size, -size, 0), new RFITE.udor(-size, size, 0));
        var vfIz = new RFITE.rhiqf({
            qeIr: false
        });
        vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
        this.xcHr = new RFITE.rhjz(vhHr, vfIz);
        this.add(this.xcHr);
        vhHr = new RFITE.vhhr();
        vhHr.wjPq.push(new RFITE.udor(), new RFITE.udor());
        vfIz = new RFITE.rhiqf({
            qeIr: false
        });
        vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
        this.yiMz = new RFITE.rhjz(vhHr, vfIz);
        this.add(this.yiMz);
        this.update();
    };
    RFITE.rgjwa.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rgjwa.prototype.constructor = RFITE.rgjwa;
    RFITE.rgjwa.prototype.tbOw = function() {
        this.xcHr.vhHr.tbOw();
        this.xcHr.vfIz.tbOw();
        this.yiMz.vhHr.tbOw();
        this.yiMz.vfIz.tbOw();
    };
    RFITE.rgjwa.prototype.update = function() {
        var qgPv = new RFITE.udor();
        var qgPw = new RFITE.udor();
        var qgPx = new RFITE.udor();
        return function() {
            qgPv.rgJqA(this.sjLu.ycJs);
            qgPw.rgJqA(this.sjLu.target.ycJs);
            qgPx.yiMs(qgPw, qgPv);
            this.xcHr.tjNr(qgPx);
            this.xcHr.vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
            this.yiMz.vhHr.wjPq[1].rjLt(qgPx);
            this.yiMz.vhHr.rgPzH = true;
            this.yiMz.vfIz.color.rjLt(this.xcHr.vfIz.color);
        };
    }();
    RFITE.yeju = function(object, qeGy, riJxF) {
        var color = (qeGy !== undefined) ? qeGy : 0xffffff;
        riJxF = (riJxF !== undefined) ? riJxF : 1;
        var zbKt = Math.cos(RFITE.Math.viOx(riJxF));
        var rjGx = [0, 0],
            hash = {};
        var zbPx = function(a, b) {
            return a - b
        };
        var keys = ['a', 'b', 'c'];
        var vhHr = new RFITE.rinyf();
        var wfJs;
        if (object.vhHr instanceof RFITE.rinyf) {
            wfJs = new RFITE.vhhr();
            wfJs.rhGtD(object.vhHr);
        } else {
            wfJs = object.vhHr.rbPq();
        }
        wfJs.rjMvC();
        wfJs.rhGqH();
        var wjPq = wfJs.wjPq;
        var rbGu = wfJs.rbGu;
        var veLy = 0;
        for (var i = 0, l = rbGu.length; i < l; i++) {
            var riOw = rbGu[i];
            for (var j = 0; j < 3; j++) {
                rjGx[0] = riOw[keys[j]];
                rjGx[1] = riOw[keys[(j + 1) % 3]];
                rjGx.sort(zbPx);
                var key = rjGx.toString();
                if (hash[key] === undefined) {
                    hash[key] = {
                        sfPr: rjGx[0],
                        sfPs: rjGx[1],
                        rbHy: i,
                        rbHz: undefined
                    };
                    veLy++;
                } else {
                    hash[key].rbHz = i;
                }
            }
        }
        var sdHw = new Float32Array(veLy * 2 * 3);
        var index = 0;
        for (var key in hash) {
            var h = hash[key];
            if (h.rbHz === undefined || rbGu[h.rbHy].normal.qeMq(rbGu[h.rbHz].normal) <= zbKt) {
                var tfJs = wjPq[h.sfPr];
                sdHw[index++] = tfJs.x;
                sdHw[index++] = tfJs.y;
                sdHw[index++] = tfJs.z;
                tfJs = wjPq[h.sfPs];
                sdHw[index++] = tfJs.x;
                sdHw[index++] = tfJs.y;
                sdHw[index++] = tfJs.z;
            }
        }
        vhHr.zhMz('position', new RFITE.rihrh(sdHw, 3));
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: color
        }), RFITE.xchx);
        this.tjLs = object.ycJs;
        this.rhMxA = false;
    };
    RFITE.yeju.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.yeju.prototype.constructor = RFITE.yeju;
    RFITE.rhjvh = function(object, size, qeGy, linewidth) {
        this.object = object;
        this.size = (size !== undefined) ? size : 1;
        var color = (qeGy !== undefined) ? qeGy : 0xffff00;
        var width = (linewidth !== undefined) ? linewidth : 1;
        var vhHr = new RFITE.vhhr();
        var rbGu = this.object.vhHr.rbGu;
        for (var i = 0, l = rbGu.length; i < l; i++) {
            vhHr.wjPq.push(new RFITE.udor(), new RFITE.udor());
        }
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: color,
            linewidth: width
        }), RFITE.xchx);
        this.rhMxA = false;
        this.normalMatrix = new RFITE.uilq();
        this.update();
    };
    RFITE.rhjvh.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.rhjvh.prototype.constructor = RFITE.rhjvh;
    RFITE.rhjvh.prototype.update = function() {
        var wjPq = this.vhHr.wjPq;
        var object = this.object;
        var riKtG = object.vhHr.wjPq;
        var ybOq = object.vhHr.rbGu;
        var rhItG = object.ycJs;
        object.rhHsG(true);
        this.normalMatrix.riGrA(rhItG);
        for (var i = 0, qiNy = 0, l = ybOq.length; i < l; i++, qiNy += 2) {
            var riOw = ybOq[i];
            wjPq[qiNy].rjLt(riKtG[riOw.a]).add(riKtG[riOw.b]).add(riKtG[riOw.c]).zgGv(3).zhJr(rhItG);
            wjPq[qiNy + 1].rjLt(riOw.normal).zhJq(this.normalMatrix).normalize().riKsH(this.size).add(wjPq[qiNy]);
        }
        this.vhHr.rgPzH = true;
        return this;
    };
    RFITE.xdhw = function(size, reOx) {
        var vhHr = new RFITE.vhhr();
        var vfIz = new RFITE.rhiqf({
            zbGu: RFITE.zbgu
        });
        this.sdIu = new RFITE.Color(0x444444);
        this.sdIv = new RFITE.Color(0x888888);
        for (var i = -size; i <= size; i += reOx) {
            vhHr.wjPq.push(new RFITE.udor(-size, 0, i), new RFITE.udor(size, 0, i), new RFITE.udor(i, 0, -size), new RFITE.udor(i, 0, size));
            var color = i === 0 ? this.sdIu : this.sdIv;
            vhHr.sdIw.push(color, color, color, color);
        }
        RFITE.rhjz.call(this, vhHr, vfIz, RFITE.xchx);
    };
    RFITE.xdhw.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.xdhw.prototype.constructor = RFITE.xdhw;
    RFITE.xdhw.prototype.waIx = function(riHuK, whKq) {
        this.sdIu.set(riHuK);
        this.sdIv.set(whKq);
        this.vhHr.rhNvG = true;
    };
    RFITE.rgkue = function(sjLu, yjHw) {
        RFITE.veju.call(this);
        this.sjLu = sjLu;
        this.sjLu.rhHsG();
        this.tjLs = sjLu.ycJs;
        this.rhMxA = false;
        this.sdIw = [new RFITE.Color(), new RFITE.Color()];
        var vhHr = new RFITE.rijvk(yjHw, 4, 2);
        vhHr.ygHq(new RFITE.uilr().rjMtB(-Math.PI / 2));
        for (var i = 0, qiMv = 8; i < qiMv; i++) {
            vhHr.rbGu[i].color = this.sdIw[i < 4 ? 0 : 1];
        }
        var vfIz = new RFITE.rhira({
            zbGu: RFITE.xegs,
            xiGt: true
        });
        this.ycLs = new RFITE.rgos(vhHr, vfIz);
        this.add(this.ycLs);
        this.update();
    };
    RFITE.rgkue.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rgkue.prototype.constructor = RFITE.rgkue;
    RFITE.rgkue.prototype.tbOw = function() {
        this.ycLs.vhHr.tbOw();
        this.ycLs.vfIz.tbOw();
    };
    RFITE.rgkue.prototype.update = function() {
        var tfKy = new RFITE.udor();
        return function() {
            this.sdIw[0].rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
            this.sdIw[1].rjLt(this.sjLu.ydKx).riKsH(this.sjLu.weIw);
            this.ycLs.tjNr(tfKy.rgJqA(this.sjLu.ycJs).tjHz());
            this.ycLs.vhHr.rhNvG = true;
        }
    }();
    RFITE.rhluj = function(sjLu, yjHw) {
        this.sjLu = sjLu;
        this.sjLu.rhHsG();
        var vhHr = new RFITE.rijvk(yjHw, 4, 2);
        var vfIz = new RFITE.rhira({
            xiGt: true,
            qeIr: false
        });
        vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
        RFITE.rgos.call(this, vhHr, vfIz);
        this.tjLs = this.sjLu.ycJs;
        this.rhMxA = false;
    };
    RFITE.rhluj.prototype = Object.create(RFITE.rgos.prototype);
    RFITE.rhluj.prototype.constructor = RFITE.rhluj;
    RFITE.rhluj.prototype.tbOw = function() {
        this.vhHr.tbOw();
        this.vfIz.tbOw();
    };
    RFITE.rhluj.prototype.update = function() {
        this.vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
    };
    RFITE.rijuf = function(object) {
        this.rcJr = this.ydNz(object);
        var vhHr = new RFITE.vhhr();
        for (var i = 0; i < this.rcJr.length; i++) {
            var rjOu = this.rcJr[i];
            if (rjOu.parent instanceof RFITE.rjou) {
                vhHr.wjPq.push(new RFITE.udor());
                vhHr.wjPq.push(new RFITE.udor());
                vhHr.sdIw.push(new RFITE.Color(0, 0, 1));
                vhHr.sdIw.push(new RFITE.Color(0, 1, 0));
            }
        }
        var vfIz = new RFITE.rhiqf({
            zbGu: RFITE.zbgu,
            wgOs: false,
            xeOu: false,
            zjGv: true
        });
        RFITE.rhjz.call(this, vhHr, vfIz, RFITE.xchx);
        this.rfLv = object;
        this.tjLs = object.ycJs;
        this.rhMxA = false;
        this.update();
    };
    RFITE.rijuf.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.rijuf.prototype.constructor = RFITE.rijuf;
    RFITE.rijuf.prototype.ydNz = function(object) {
        var uaJv = [];
        if (object instanceof RFITE.rjou) {
            uaJv.push(object);
        }
        for (var i = 0; i < object.children.length; i++) {
            uaJv.push.apply(uaJv, this.ydNz(object.children[i]));
        }
        return uaJv;
    };
    RFITE.rijuf.prototype.update = function() {
        var vhHr = this.vhHr;
        var riKqE = new RFITE.uilr().xdJv(this.rfLv.ycJs);
        var xgHq = new RFITE.uilr();
        var j = 0;
        for (var i = 0; i < this.rcJr.length; i++) {
            var rjOu = this.rcJr[i];
            if (rjOu.parent instanceof RFITE.rjou) {
                xgHq.rhLqJ(riKqE, rjOu.ycJs);
                vhHr.wjPq[j].rgJqA(xgHq);
                xgHq.rhLqJ(riKqE, rjOu.parent.ycJs);
                vhHr.wjPq[j + 1].rgJqA(xgHq);
                j += 2;
            }
        }
        vhHr.rgPzH = true;
        vhHr.rgKsJ();
    };
    RFITE.rhork = function(sjLu) {
        RFITE.veju.call(this);
        this.sjLu = sjLu;
        this.sjLu.rhHsG();
        this.tjLs = sjLu.ycJs;
        this.rhMxA = false;
        var vhHr = new RFITE.rhnxh(0, 1, 1, 8, 1, true);
        vhHr.ygHq(new RFITE.uilr().riGwF(0, -0.5, 0));
        vhHr.ygHq(new RFITE.uilr().rjMtB(-Math.PI / 2));
        var vfIz = new RFITE.rhira({
            xiGt: true,
            qeIr: false
        });
        this.rjMz = new RFITE.rgos(vhHr, vfIz);
        this.add(this.rjMz);
        this.update();
    };
    RFITE.rhork.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rhork.prototype.constructor = RFITE.rhork;
    RFITE.rhork.prototype.tbOw = function() {
        this.rjMz.vhHr.tbOw();
        this.rjMz.vfIz.tbOw();
    };
    RFITE.rhork.prototype.update = function() {
        var tfKy = new RFITE.udor();
        var udOq = new RFITE.udor();
        return function() {
            var xfKz = this.sjLu.viLy ? this.sjLu.viLy : 10000;
            var whKz = xfKz * Math.tan(this.sjLu.rcOr);
            this.rjMz.scale.set(whKz, whKz, xfKz);
            tfKy.rgJqA(this.sjLu.ycJs);
            udOq.rgJqA(this.sjLu.target.ycJs);
            this.rjMz.tjNr(udOq.sub(tfKy));
            this.rjMz.vfIz.color.rjLt(this.sjLu.color).riKsH(this.sjLu.weIw);
        };
    }();
    RFITE.rgnzk = function(object, size, qeGy, linewidth) {
        this.object = object;
        this.size = (size !== undefined) ? size : 1;
        var color = (qeGy !== undefined) ? qeGy : 0xff0000;
        var width = (linewidth !== undefined) ? linewidth : 1;
        var vhHr = new RFITE.vhhr();
        var rbGu = object.vhHr.rbGu;
        for (var i = 0, l = rbGu.length; i < l; i++) {
            var riOw = rbGu[i];
            for (var j = 0, qiLy = riOw.rjJsD.length; j < qiLy; j++) {
                vhHr.wjPq.push(new RFITE.udor(), new RFITE.udor());
            }
        }
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: color,
            linewidth: width
        }), RFITE.xchx);
        this.rhMxA = false;
        this.normalMatrix = new RFITE.uilq();
        this.update();
    };
    RFITE.rgnzk.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.rgnzk.prototype.constructor = RFITE.rgnzk;
    RFITE.rgnzk.prototype.update = (function(object) {
        var qgPv = new RFITE.udor();
        return function(object) {
            var keys = ['a', 'b', 'c', 'd'];
            this.object.rhHsG(true);
            this.normalMatrix.riGrA(this.object.ycJs);
            var wjPq = this.vhHr.wjPq;
            var sfPt = this.object.vhHr.wjPq;
            var rbGu = this.object.vhHr.rbGu;
            var ziKt = this.object.ycJs;
            var qdOv = 0;
            for (var i = 0, l = rbGu.length; i < l; i++) {
                var riOw = rbGu[i];
                for (var j = 0, qiLy = riOw.rjJsD.length; j < qiLy; j++) {
                    var vaGy = riOw[keys[j]];
                    var tfJs = sfPt[vaGy];
                    var normal = riOw.rjJsD[j];
                    wjPq[qdOv].rjLt(tfJs).zhJr(ziKt);
                    qgPv.rjLt(normal).zhJq(this.normalMatrix).normalize().riKsH(this.size);
                    qgPv.add(wjPq[qdOv]);
                    qdOv = qdOv + 1;
                    wjPq[qdOv].rjLt(qgPv);
                    qdOv = qdOv + 1;
                }
            }
            this.vhHr.rgPzH = true;
            return this;
        }
    }());
    RFITE.rglwa = function(object, size, qeGy, linewidth) {
        this.object = object;
        this.size = (size !== undefined) ? size : 1;
        var color = (qeGy !== undefined) ? qeGy : 0x0000ff;
        var width = (linewidth !== undefined) ? linewidth : 1;
        var vhHr = new RFITE.vhhr();
        var rbGu = object.vhHr.rbGu;
        for (var i = 0, l = rbGu.length; i < l; i++) {
            var riOw = rbGu[i];
            for (var j = 0, qiLy = riOw.riIqK.length; j < qiLy; j++) {
                vhHr.wjPq.push(new RFITE.udor());
                vhHr.wjPq.push(new RFITE.udor());
            }
        }
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: color,
            linewidth: width
        }), RFITE.xchx);
        this.rhMxA = false;
        this.update();
    };
    RFITE.rglwa.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.rglwa.prototype.constructor = RFITE.rglwa;
    RFITE.rglwa.prototype.update = (function(object) {
        var qgPv = new RFITE.udor();
        return function(object) {
            var keys = ['a', 'b', 'c', 'd'];
            this.object.rhHsG(true);
            var wjPq = this.vhHr.wjPq;
            var sfPt = this.object.vhHr.wjPq;
            var rbGu = this.object.vhHr.rbGu;
            var ziKt = this.object.ycJs;
            var qdOv = 0;
            for (var i = 0, l = rbGu.length; i < l; i++) {
                var riOw = rbGu[i];
                for (var j = 0, qiLy = riOw.riIqK.length; j < qiLy; j++) {
                    var vaGy = riOw[keys[j]];
                    var tfJs = sfPt[vaGy];
                    var tangent = riOw.riIqK[j];
                    wjPq[qdOv].rjLt(tfJs).zhJr(ziKt);
                    qgPv.rjLt(tangent).rgPyJ(ziKt).riKsH(this.size);
                    qgPv.add(wjPq[qdOv]);
                    qdOv = qdOv + 1;
                    wjPq[qdOv].rjLt(qgPv);
                    qdOv = qdOv + 1;
                }
            }
            this.vhHr.rgPzH = true;
            return this;
        }
    }());
    RFITE.rhowc = function(object, qeGy) {
        var color = (qeGy !== undefined) ? qeGy : 0xffffff;
        var rjGx = [0, 0],
            hash = {};
        var zbPx = function(a, b) {
            return a - b
        };
        var keys = ['a', 'b', 'c'];
        var vhHr = new RFITE.rinyf();
        if (object.vhHr instanceof RFITE.vhhr) {
            var wjPq = object.vhHr.wjPq;
            var rbGu = object.vhHr.rbGu;
            var veLy = 0;
            var rbJy = new Uint32Array(6 * rbGu.length);
            for (var i = 0, l = rbGu.length; i < l; i++) {
                var riOw = rbGu[i];
                for (var j = 0; j < 3; j++) {
                    rjGx[0] = riOw[keys[j]];
                    rjGx[1] = riOw[keys[(j + 1) % 3]];
                    rjGx.sort(zbPx);
                    var key = rjGx.toString();
                    if (hash[key] === undefined) {
                        rbJy[2 * veLy] = rjGx[0];
                        rbJy[2 * veLy + 1] = rjGx[1];
                        hash[key] = true;
                        veLy++;
                    }
                }
            }
            var sdHw = new Float32Array(veLy * 2 * 3);
            for (var i = 0, l = veLy; i < l; i++) {
                for (var j = 0; j < 2; j++) {
                    var tfJs = wjPq[rbJy[2 * i + j]];
                    var index = 6 * i + 3 * j;
                    sdHw[index + 0] = tfJs.x;
                    sdHw[index + 1] = tfJs.y;
                    sdHw[index + 2] = tfJs.z;
                }
            }
            vhHr.zhMz('position', new RFITE.rihrh(sdHw, 3));
        } else if (object.vhHr instanceof RFITE.rinyf) {
            if (object.vhHr.attributes.index !== undefined) {
                var wjPq = object.vhHr.attributes.position.array;
                var ujNx = object.vhHr.attributes.index.array;
                var wgKu = object.vhHr.wgKu;
                var veLy = 0;
                if (wgKu.length === 0) {
                    wgKu = [{
                        count: ujNx.length,
                        index: 0,
                        rfIsA: 0
                    }];
                }
                var rbJy = new Uint32Array(2 * ujNx.length);
                for (var o = 0, qhPt = wgKu.length; o < qhPt; ++o) {
                    var rfIsA = wgKu[o].rfIsA;
                    var count = wgKu[o].count;
                    var index = wgKu[o].index;
                    for (var i = rfIsA, qiMv = rfIsA + count; i < qiMv; i += 3) {
                        for (var j = 0; j < 3; j++) {
                            rjGx[0] = index + ujNx[i + j];
                            rjGx[1] = index + ujNx[i + (j + 1) % 3];
                            rjGx.sort(zbPx);
                            var key = rjGx.toString();
                            if (hash[key] === undefined) {
                                rbJy[2 * veLy] = rjGx[0];
                                rbJy[2 * veLy + 1] = rjGx[1];
                                hash[key] = true;
                                veLy++;
                            }
                        }
                    }
                }
                var sdHw = new Float32Array(veLy * 2 * 3);
                for (var i = 0, l = veLy; i < l; i++) {
                    for (var j = 0; j < 2; j++) {
                        var index = 6 * i + 3 * j;
                        var saNx = 3 * rbJy[2 * i + j];
                        sdHw[index + 0] = wjPq[saNx];
                        sdHw[index + 1] = wjPq[saNx + 1];
                        sdHw[index + 2] = wjPq[saNx + 2];
                    }
                }
                vhHr.zhMz('position', new RFITE.rihrh(sdHw, 3));
            } else {
                var wjPq = object.vhHr.attributes.position.array;
                var veLy = wjPq.length / 3;
                var uhOq = veLy / 3;
                var sdHw = new Float32Array(veLy * 2 * 3);
                for (var i = 0, l = uhOq; i < l; i++) {
                    for (var j = 0; j < 3; j++) {
                        var index = 18 * i + 6 * j;
                        var saNw = 9 * i + 3 * j;
                        sdHw[index + 0] = wjPq[saNw];
                        sdHw[index + 1] = wjPq[saNw + 1];
                        sdHw[index + 2] = wjPq[saNw + 2];
                        var saNx = 9 * i + 3 * ((j + 1) % 3);
                        sdHw[index + 3] = wjPq[saNx];
                        sdHw[index + 4] = wjPq[saNx + 1];
                        sdHw[index + 5] = wjPq[saNx + 2];
                    }
                }
                vhHr.zhMz('position', new RFITE.rihrh(sdHw, 3));
            }
        }
        RFITE.rhjz.call(this, vhHr, new RFITE.rhiqf({
            color: color
        }), RFITE.xchx);
        this.tjLs = object.ycJs;
        this.rhMxA = false;
    };
    RFITE.rhowc.prototype = Object.create(RFITE.rhjz.prototype);
    RFITE.rhowc.prototype.constructor = RFITE.rhowc;
    RFITE.rgkua = function() {
        RFITE.veju.call(this);
        this.render = function(riJqH) {};
    };
    RFITE.rgkua.prototype = Object.create(RFITE.veju.prototype);
    RFITE.rgkua.prototype.constructor = RFITE.rgkua;
    RFITE.rikre = function(vhHr, vfIz) {
        RFITE.rgos.call(this, vhHr, vfIz);
        this.rjPvA = {};
        this.riNvD = [];
        var wcKt = this.vhHr.zdOs.length;
        var name = "__default";
        var yiPu = 0;
        var viIs = wcKt - 1;
        var qeIv = wcKt / 1;
        this.riHuE(name, yiPu, viIs, qeIv);
        this.rgPuE(name, 1);
    };
    RFITE.rikre.prototype = Object.create(RFITE.rgos.prototype);
    RFITE.rikre.prototype.constructor = RFITE.rikre;
    RFITE.rikre.prototype.riHuE = function(name, rfIsA, rfOxC, qeIv) {
        var animation = {
            yiPu: rfIsA,
            viIs: rfOxC,
            length: rfOxC - rfIsA + 1,
            qeIv: qeIv,
            duration: (rfOxC - rfIsA) / qeIv,
            wdOt: 0,
            zgKz: 0,
            seOx: false,
            time: 0,
            direction: 1,
            tfIu: 1,
            rhGsG: false,
            zeGs: false
        };
        this.rjPvA[name] = animation;
        this.riNvD.push(animation);
    };
    RFITE.rikre.prototype.rgMtH = function(qeIv) {
        var uhJw = /([a-z]+)_?(\d+)/;
        var riMxA, ydOs = {};
        var vhHr = this.vhHr;
        for (var i = 0, qiMv = vhHr.zdOs.length; i < qiMv; i++) {
            var sjGx = vhHr.zdOs[i];
            var sdKt = sjGx.name.match(uhJw);
            if (sdKt && sdKt.length > 1) {
                var name = sdKt[1];
                if (!ydOs[name]) ydOs[name] = {
                    rfIsA: Infinity,
                    rfOxC: -Infinity
                };
                var shPr = ydOs[name];
                if (i < shPr.rfIsA) shPr.rfIsA = i;
                if (i > shPr.rfOxC) shPr.rfOxC = i;
                if (!riMxA) riMxA = name;
            }
        }
        for (var name in ydOs) {
            var shPr = ydOs[name];
            this.riHuE(name, shPr.rfIsA, shPr.rfOxC, qeIv);
        }
        this.riMxA = riMxA;
    };
    RFITE.rikre.prototype.rgGyC = function(name) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.direction = 1;
            animation.rhGsG = false;
        }
    };
    RFITE.rikre.prototype.rfPqG = function(name) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.direction = -1;
            animation.rhGsG = true;
        }
    };
    RFITE.rikre.prototype.rhPyB = function(name, qeIv) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.qeIv = qeIv;
            animation.duration = (animation.rfOxC - animation.rfIsA) / animation.qeIv;
        }
    };
    RFITE.rikre.prototype.rgLvK = function(name, duration) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.duration = duration;
            animation.qeIv = (animation.rfOxC - animation.rfIsA) / animation.duration;
        }
    };
    RFITE.rikre.prototype.rgPuE = function(name, tfIu) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.tfIu = tfIu;
        }
    };
    RFITE.rikre.prototype.rhLwD = function(name, time) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.time = time;
        }
    };
    RFITE.rikre.prototype.rhMrF = function(name) {
        var time = 0;
        var animation = this.rjPvA[name];
        if (animation) {
            time = animation.time;
        }
        return time;
    };
    RFITE.rikre.prototype.rgMyE = function(name) {
        var duration = -1;
        var animation = this.rjPvA[name];
        if (animation) {
            duration = animation.duration;
        }
        return duration;
    };
    RFITE.rikre.prototype.rjLtH = function(name) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.time = 0;
            animation.seOx = true;
        } else {
            RFITE.warn("THREE.MorphBlendMesh: animation[" + name + "] undefined in .playAnimation()");
        }
    };
    RFITE.rikre.prototype.rjKwG = function(name) {
        var animation = this.rjPvA[name];
        if (animation) {
            animation.seOx = false;
        }
    };
    RFITE.rikre.prototype.update = function(rbMt) {
        for (var i = 0, qiMv = this.riNvD.length; i < qiMv; i++) {
            var animation = this.riNvD[i];
            if (!animation.seOx) continue;
            var wfMv = animation.duration / animation.length;
            animation.time += animation.direction * rbMt;
            if (animation.zeGs) {
                if (animation.time > animation.duration || animation.time < 0) {
                    animation.direction *= -1;
                    if (animation.time > animation.duration) {
                        animation.time = animation.duration;
                        animation.rhGsG = true;
                    }
                    if (animation.time < 0) {
                        animation.time = 0;
                        animation.rhGsG = false;
                    }
                }
            } else {
                animation.time = animation.time % animation.duration;
                if (animation.time < 0) animation.time += animation.duration;
            }
            var vfOx = animation.yiPu + RFITE.Math.rcGt(Math.floor(animation.time / wfMv), 0, animation.length - 1);
            var tfIu = animation.tfIu;
            if (vfOx !== animation.zgKz) {
                this.morphTargetInfluences[animation.wdOt] = 0;
                this.morphTargetInfluences[animation.zgKz] = 1 * tfIu;
                this.morphTargetInfluences[vfOx] = 0;
                animation.wdOt = animation.zgKz;
                animation.zgKz = vfOx;
            }
            var qdHq = (animation.time % wfMv) / wfMv;
            if (animation.rhGsG) qdHq = 1 - qdHq;
            this.morphTargetInfluences[animation.zgKz] = qdHq * tfIu;
            this.morphTargetInfluences[animation.wdOt] = (1 - qdHq) * tfIu;
        }
    };
    return RFITE;
});
scNt('dqiMr', [], function() {
    var wdnu = function(name, veLq, ueLs, reNqF, rfIyH, rhOtF) {
        this.name = name;
        this.reNqF = reNqF;
        this.rfIyH = rfIyH;
        this.veLq = veLq;
        this.ueLs = ueLs;
        this.rhOtF = rhOtF;
    };
    return wdnu;
});
scNt('dqiMs', ['dqiMq'], function() {
    var Direction = {};
    Direction.NORTH = 'north';
    Direction.EAST = 'east';
    Direction.SOUTH = 'south';
    Direction.WEST = 'west';
    Direction.RJLXK = 'relative_left';
    Direction.RIKZB = 'relative_right';
    Direction.uaNx = function(direction) {
        switch (direction) {
            case Direction.NORTH:
                return new tcHy.dqiMq.udoq(0, -1);
            case Direction.EAST:
                return new tcHy.dqiMq.udoq(1, 0);
            case Direction.SOUTH:
                return new tcHy.dqiMq.udoq(0, 1);
            case Direction.WEST:
                return new tcHy.dqiMq.udoq(-1, 0);
            default:
                return null;
        }
    };
    Direction.xdLq = function(udOq) {
        if (Math.abs(udOq.x) > Math.abs(udOq.y)) {
            if (udOq.x < 0) {
                return Direction.WEST;
            } else {
                return Direction.EAST;
            }
        } else if (Math.abs(udOq.y) > Math.abs(udOq.x)) {
            if (udOq.y < 0) {
                return Direction.NORTH;
            } else {
                return Direction.SOUTH;
            }
        }
        return null;
    };
    Direction.ydMz = function(direction) {
        switch (direction) {
            case Direction.NORTH:
                return Direction.SOUTH;
            case Direction.EAST:
                return Direction.WEST;
            case Direction.SOUTH:
                return Direction.NORTH;
            case Direction.WEST:
                return Direction.EAST;
            default:
                return null;
        }
    };
    Direction.ydLt = function(direction, vcNr) {
        var saKq = vcNr === Direction.RJLXK;
        switch (direction) {
            case Direction.NORTH:
                return saKq ? Direction.WEST : Direction.EAST;
            case Direction.EAST:
                return saKq ? Direction.NORTH : Direction.SOUTH;
            case Direction.SOUTH:
                return saKq ? Direction.EAST : Direction.WEST;
            case Direction.WEST:
                return saKq ? Direction.SOUTH : Direction.NORTH;
            default:
                return null;
        }
    };
    Direction.rjNuJ = function(from, to) {
        if (from === Direction.NORTH && to === Direction.WEST || from === Direction.WEST && to === Direction.SOUTH || from === Direction.SOUTH && to === Direction.EAST || from === Direction.EAST && to === Direction.NORTH) {
            return Direction.RJLXK;
        } else if (from === Direction.NORTH && to === Direction.EAST || from === Direction.WEST && to === Direction.NORTH || from === Direction.SOUTH && to === Direction.WEST || from === Direction.EAST && to === Direction.SOUTH) {
            return Direction.RIKZB;
        }
    };
    Direction.riLqC = function(direction) {
        switch (direction) {
            case Direction.NORTH:
                return 0;
            case Direction.WEST:
                return Math.PI * 0.5;
            case Direction.SOUTH:
                return Math.PI;
            case Direction.EAST:
                return Math.PI * 1.5;
            default:
                return null;
        }
    };
    Direction.riGqF = function(xeIw) {
        var wbKt = xeIw.y;
        if (wbKt < 0) {
            wbKt += 2 * Math.PI
        }
        if (wbKt >= 0 && wbKt <= 0.25 * Math.PI || wbKt <= 2 * Math.PI && wbKt >= 1.75 * Math.PI) {
            return Direction.NORTH;
        } else if (wbKt >= 0.25 * Math.PI && wbKt <= 0.75 * Math.PI) {
            return Direction.WEST;
        } else if (wbKt >= 0.75 * Math.PI && wbKt <= 1.25 * Math.PI) {
            return Direction.SOUTH;
        } else if (wbKt >= 1.25 * Math.PI && wbKt <= 1.75 * Math.PI) {
            return Direction.EAST;
        }
    };
    return Direction;
});
scNt('dqiMt', ['dqiMs'], function() {
    var vant = {};
    vant.RBIV = 'RBIV';
    vant.NORMAL = 'NORMAL';
    vant.RFISA = 'RFISA';
    vant.RFOYK = 'RFOYK';
    vant.YIGT = 'TURN_NORTH';
    vant.XIMQ = 'TURN_EAST';
    vant.YIGU = 'TURN_SOUTH';
    vant.XIMR = 'TURN_WEST';
    vant.RHKQA = 'TURN_NORTH_SOUTH';
    vant.RIJYE = 'TURN_EAST_WEST';
    vant.RFGVF = 'RFGVF';
    vant.RFGVH = 'RFGVH';
    vant.SANR = {
        0: vant.RBIV,
        1: vant.RFOYK,
        2: vant.NORMAL,
        3: vant.RFISA,
        4: vant.XIMQ,
        5: vant.RIJYE,
        6: vant.YIGT,
        7: vant.RHKQA,
        8: vant.YIGU,
        9: vant.XIMR,
        10: vant.RFGVF,
        11: vant.RFGVH
    };
    vant.rhJxA = function(id) {
        console.assert(vant.SANR.hasOwnProperty(id), 'Tile ID [' + id + '] hasn\'t been mapped to a TileType. See TileType.ID_MAP.');
        return vant.SANR[id];
    };
    vant.saKs = function(vaNt) {
        return vaNt != vant.RBIV && vaNt != vant.NORMAL && vaNt != vant.RFGVH;
    };
    vant.rhMsH = function(vaNt) {
        switch (vaNt) {
            case vant.RFISA:
            case vant.YIGT:
            case vant.RHKQA:
                return tcHy.dqiMs.NORTH;
            case vant.XIMQ:
            case vant.RIJYE:
                return tcHy.dqiMs.EAST;
            case vant.YIGU:
                return tcHy.dqiMs.SOUTH;
            case vant.XIMR:
                return tcHy.dqiMs.WEST;
            case vant.RFOYK:
                throw 'rfoyk node doesn\'t rfHtE an explicit direction; the direction can be deduced from the parent node.';
            default:
                return null;
        }
    };
    vant.vgHz = function(vaNt) {
        switch (vaNt) {
            case vant.RHKQA:
            case vant.RIJYE:
                return true;
            default:
                return false;
        }
    };
    return vant;
});
scNt('dqiMu', ['dqiMs', 'dqiMt'], function() {
    var wdny = function(zfHu, vaNt, parent) {
        this.zfHu = zfHu;
        this.vaNt = vaNt;
        this.parent = parent;
        if (vaNt === tcHy.dqiMt.RFOYK || vaNt === tcHy.dqiMt.RFGVF || vaNt === tcHy.dqiMt.RFGVH) {
            this.direction = this.parent.direction;
        } else {
            this.direction = tcHy.dqiMt.rhMsH(vaNt);
        }
        this.vgHz = tcHy.dqiMt.vgHz(vaNt);
        if (this.vgHz) {
            this.riHrJ = tcHy.dqiMs.ydMz(this.direction);
        }
        this.vgGt = vaNt === tcHy.dqiMt.RFOYK;
        this.children = {};
        this.vcGy = [];
    };
    wdny.SDPW = true;
    wdny.XBLQ = false;
    return wdny;
});
scNt('dqiMv', [], function() {
    var xblw = {};
    xblw.RBIV = 'rbIv';
    xblw.RFJRB = 'rfJrB';
    xblw.RFOSF = 'rfOsF';
    xblw.ZJIW = 'rfGtH';
    xblw.SAHQ = 'laser1';
    xblw.SAHR = 'laser2';
    xblw.SAHS = 'laser3';
    xblw.SAHT = 'laser4';
    xblw.SAHU = 'laser5';
    xblw.SAHV = 'laser6';
    xblw.SAHW = 'laser7';
    xblw.RFGTF = 'rfGtF';
    xblw.RFKTE = 'rfGtE';
    xblw.KEY = 'key';
    xblw.RFLTE = 'rfLtE';
    xblw.RFGTC = 'rfGtC';
    xblw.RFGTB = 'rfGtB';
    xblw.RFGTA = 'rfGtA';
    xblw.RFGUK = 'rfGuK';
    xblw.KEY1 = 'key1';
    xblw.KEY2 = 'key2';
    xblw.KEY3 = 'key3';
    xblw.TCHW = 'rfGuF';
    xblw.DECOR_2 = 'rfGuE';
    xblw.DECOR_3 = 'rfGuD';
    xblw.SANR = {
        0: xblw.RBIV,
        1: xblw.RFJRB,
        2: xblw.RFOSF,
        3: xblw.ZJIW,
        4: xblw.SAHQ,
        5: xblw.SAHR,
        6: xblw.SAHS,
        7: xblw.SAHT,
        8: xblw.SAHU,
        9: xblw.SAHV,
        10: xblw.SAHW,
        11: xblw.RFGTF,
        12: xblw.RFKTE,
        13: xblw.KEY,
        14: xblw.RFLTE,
        15: xblw.RFGTC,
        16: xblw.RFGTB,
        17: xblw.RFGTA,
        18: xblw.RFGUK,
        19: xblw.KEY1,
        20: xblw.KEY2,
        21: xblw.KEY3,
        22: xblw.TCHW,
        23: xblw.DECOR_2,
        24: xblw.DECOR_3
    };
    xblw.VDLX = {};
    xblw.VDLX[xblw.RFJRB] = 'rfJrB' + 'rfpu';
    xblw.VDLX[xblw.RFOSF] = 'rfOsF' + 'rfpu';
    xblw.VDLX[xblw.ZJIW] = 'rfGtH' + 'rfpu';
    xblw.VDLX[xblw.SAHQ] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHR] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHS] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHT] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHU] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHV] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.SAHW] = 'rfGtG' + 'rfpu';
    xblw.VDLX[xblw.RFGTF] = 'rfGtF' + 'rfpu';
    xblw.VDLX[xblw.RFKTE] = 'rfGtE' + 'rfpu';
    xblw.VDLX[xblw.RFLTE] = 'rfLtE' + 'rfpu';
    xblw.VDLX[xblw.RFGTC] = 'rfGtC' + 'rfpu';
    xblw.VDLX[xblw.RFGTB] = 'rfGtB' + 'rfpu';
    xblw.VDLX[xblw.RFGTA] = 'rfGtA' + 'rfpu';
    xblw.VDLX[xblw.RFGUK] = 'rfGuK' + 'rfpu';
    xblw.VDLX[xblw.KEY1] = 'key1' + 'rfpu';
    xblw.VDLX[xblw.KEY2] = 'key2' + 'rfpu';
    xblw.VDLX[xblw.KEY3] = 'key3' + 'rfpu';
    xblw.VDLX[xblw.TCHW] = 'rfGuF' + 'rfpu';
    xblw.VDLX[xblw.DECOR_2] = 'rfGuE' + 'rfpu';
    xblw.VDLX[xblw.DECOR_3] = 'rfGuD' + 'rfpu';
    xblw.rgOyC = function(id) {
        if (!xblw.SANR.hasOwnProperty(id)) {
            throw 'Object ID [' + id + '] hasn\'t been mapped to an ObjectType. See ObjectType.ID_MAP.';
        }
        return xblw.SANR[id];
    };
    xblw.rgHzE = function(xbLw) {
        if (!xblw.VDLX.hasOwnProperty(xbLw)) {
            throw 'Object type [' + xbLw + '] has rfKxG been mapped to a rfpu. See ObjectType.POOL_MAP.';
        }
        return xblw.VDLX[xbLw];
    };
    xblw.ujKu = function(xbLw) {
        return xbLw === xblw.TCHW || xbLw === xblw.DECOR_2 || xbLw === xblw.DECOR_3;
    };
    xblw.ujKz = function(xbLw) {
        return xbLw === xblw.RFGTC || xbLw === xblw.RFGTB || xbLw === xblw.RFGTA || xbLw === xblw.RFGUK;
    };
    xblw.ujJr = function(xbLw) {
        return xbLw.indexOf("rfGtG") >= 0;
    };
    return xblw;
});
scNt('dqiMw', ['dqiMt', 'dqiMv'], function() {
    var yaiv = function(reNrG, index, direction, taIz, taIw) {
        this.reNrG = reNrG;
        this.index = index;
        this.direction = direction;
        this.taIz = taIz || false;
        this.rjNwB = true;
        this.taIw = taIw || false;;
        for (var i = 0; i < this.reNrG.length; ++i) {
            if (this.rjNwB) {
                if (this.reNrG[i].vaNt !== tcHy.dqiMt.RBIV || this.reNrG[i].xbLw !== tcHy.dqiMv.RBIV) {
                    this.rjNwB = false;
                    break;
                }
            }
        }
    };
    return yaiv;
});
scNt('dqiMx', [], function() {
    var vanr = function(zfHu, vaNt, xbLw) {
        this.zfHu = zfHu;
        this.vaNt = vaNt;
        this.xbLw = xbLw;
    };
    return vanr;
});
scNt('dqiMy', [], function() {
    var yghy = {};
    yghy.get = function(tdNq, position) {
        if (tdNq[position.x] == undefined) {
            tdNq[position.x] = [];
        }
        return tdNq[position.x][position.y];
    };
    yghy.set = function(tdNq, position, value) {
        if (tdNq[position.x] == undefined) {
            tdNq[position.x] = [];
        }
        tdNq[position.x][position.y] = value;
    };
    yghy.ujJx = function(tdNq, uaGu, tcLv) {
        tdNq.forEach(function(xcMt) {
            xcMt.forEach(function(value) {
                uaGu.call(tcLv, value);
            }, this);
        }, this);
    };
    return yghy;
});
scNt('dqiMz', ['dqiMq', 'dqiMr', 'dqiMu', 'dqiMw', 'dqiMx', 'dqiMt', 'dqiMv', 'dqiMs', 'dqiMy'], function() {
    var ycmz = function() {
        console.log('LevelParser.ctor');
        this.yhGu = null;
        this.ziGw = null;
        this.wjJx = null;
        this.ziIu = 0;
    };
    ycmz.RGLRC = 5;
    ycmz.RGMWK = 5;
    ycmz.RGGTB = 1000;
    ycmz.RHHQC = 30;
    ycmz.RIHYE = 18;
    ycmz.prototype.parse = function(name, vfPz) {
        this.ziIu = vfPz.width;
        var reNqF = vfPz.reOzC.reNqF || "reNqE";
        var rfIyH = vfPz.reOzC.rfIyH ? parseInt(vfPz.reOzC.rfIyH) : 10;
        var layers = this.rhLtH(vfPz);
        this.yhGu = layers['Floor'];
        this.ziGw = layers['reozg'];
        var rhPwH = layers['reozc'];
        var rhOtF = this.rgGxB(rhPwH, vfPz.reNrF, vfPz.reNqC);
        this.ubJu = [];
        this.wjJx = {};
        this.wjJx.rfLv = this.rjNqA();
        this.zaNz();
        this.rhOwJ(this.wjJx.rfLv.children[tcHy.dqiMs.NORTH]);
        return new tcHy.dqiMr(name, this.wjJx, this.ubJu, reNqF, rfIyH, rhOtF);
    };
    ycmz.prototype.rhLtH = function(vfPz) {
        var wdOz = vfPz['layers'];
        var reNqB = vfPz['reNqB'];
        var layers = {};
        for (var i = 0, max = wdOz.length; i < max; i++) {
            var layer = wdOz[i];
            if (reNqB[i]) {
                layer.tiOt = reNqB[i].reNqA;
            }
            layers[layer.name] = layer;
        }
        return layers;
    };
    ycmz.prototype.rjNqA = function() {
        for (var i = 0; i < this.yhGu.data.length; ++i) {
            var vaNt = this.rjNvH(i);
            if (vaNt == tcHy.dqiMt.RFISA) {
                var zfHu = this.rgMzJ(i);
                return new tcHy.dqiMu(zfHu, vaNt, null);
            }
        }
        throw 'ycmz couldn\'t find rfIsA node.';
    };
    ycmz.prototype.rhOwJ = function(rgLw) {
        if (rgLw == null) {
            return;
        }
        if (!rgLw.vgGt) {
            var veMs = this.zfNs(rgLw, rgLw.direction);
            this.rhOwJ(veMs);
            if (rgLw.vgHz) {
                var xgHy = this.zfNs(rgLw, rgLw.riHrJ);
                this.rhOwJ(xgHy);
            }
        } else {
            this.rhJsG(rgLw, rgLw.direction);
        }
        this.riIwA(rgLw, rgLw.direction);
    };
    ycmz.prototype.riIwA = function(rgLw, direction) {
        for (var i = -1; i <= 1; ++i) {
            var zfHu = this.reOx(rgLw.zfHu, direction, i);
            var reNrG = this.zfIt(zfHu, direction, 3, 0);
            reNrG.forEach(function(reLy) {
                reLy.vaNt = rgLw.vaNt;
            }, this);
            var xcKr = rgLw.vaNt === tcHy.dqiMt.RFGVF || rgLw.vaNt === tcHy.dqiMt.RFOYK || rgLw.vaNt === tcHy.dqiMt.RFISA;
            var taIw = (i == 0) && xcKr;
            var yaIv = new tcHy.dqiMw(reNrG, null, direction, true, taIw);
            rgLw.vcGy.push(yaIv);
        }
    };
    ycmz.prototype.zfNs = function(rgLw, direction) {
        var zfHu = rgLw.zfHu.rbPq();
        zfHu = this.reOx(zfHu, direction);
        var rgGq, index, vaNt;
        var count = 0;
        var rhLqE = [];
        while (true) {
            rgGq = this.reOx(zfHu, direction, 2);
            index = this.rgMyB(rgGq);
            vaNt = this.rjNvH(index);
            if (tcHy.dqiMt.saKs(vaNt)) {
                zfHu = rgGq;
                break;
            }
            zfHu = this.reOx(zfHu, direction);
            var yaIv = new tcHy.dqiMw(this.zfIt(zfHu, direction), rhLqE.length, direction);
            rhLqE.push(yaIv);
            ++count;
            if (count > ycmz.RGGTB) {
                throw 'rfjzj max distance between nodes without finding rfKvC node.';
            }
        }
        var veMs = new tcHy.dqiMu(zfHu, vaNt, rgLw);
        veMs.vcGy = rhLqE;
        rgLw.children[direction] = veMs;
        return veMs;
    };
    ycmz.prototype.whIq = function(layer, id) {
        if (id !== 0) {
            id -= layer.tiOt;
            id += 1;
        }
        return id;
    };
    ycmz.prototype.rjNvH = function(index) {
        var id = this.whIq(this.yhGu, this.yhGu.data[index]);
        return tcHy.dqiMt.rhJxA(id);
    };
    ycmz.prototype.riGsH = function(index) {
        var id = this.whIq(this.ziGw, this.ziGw.data[index]);
        return tcHy.dqiMv.rgOyC(id);
    };
    ycmz.prototype.rgLyD = function(zfHu) {
        var width = this.yhGu.width;
        var height = this.yhGu.height;
        if (zfHu.y >= 0 && zfHu.y < height && zfHu.x >= 0 && zfHu.x < width) {
            return true;
        }
        return false;
    };
    ycmz.prototype.zaLs = function(reNrG, zfHu, riJxD, riMuE, direction) {
        var width = riJxD + riMuE * 2;
        for (var i = 0; i < width; i++) {
            var tiOt = i - Math.floor(width / 2);
            var rhLzB = this.rgHuF(zfHu, tiOt, direction);
            if (!this.rgLyD(rhLzB)) continue;
            var index = this.rgMyB(rhLzB);
            var xbLw = this.riGsH(index);
            var ydHt = i < riMuE || i > riMuE + riJxD;
            var rjMyA = xbLw === tcHy.dqiMv.TCHW || xbLw === tcHy.dqiMv.DECOR_2 || xbLw === tcHy.dqiMv.DECOR_3;
            if (ydHt && !rjMyA) {
                continue;
            }
            var reLy = new tcHy.dqiMx(rhLzB, tcHy.dqiMt.RBIV, xbLw);
            reNrG.push(reLy);
            tcHy.dqiMy.set(this.ubJu, rhLzB, reLy);
        }
    };
    ycmz.prototype.yhHx = function(reNrG, zfHu, yiOy, direction) {
        for (var i = 0; i < yiOy; i++) {
            var tiOt = i - Math.floor(yiOy / 2);
            var rhLzB = this.rgHuF(zfHu, tiOt, direction);
            var index = this.rgMyB(rhLzB);
            var vaNt = this.rjNvH(index);
            var reLy = tcHy.dqiMy.get(this.ubJu, rhLzB, reLy);
            reLy.vaNt = vaNt;
        }
    };
    ycmz.prototype.zfIt = function(zfHu, direction, riJxD, rjOvK) {
        rjOvK = (rjOvK !== undefined) ? rjOvK : ycmz.RGMWK;
        riJxD = (riJxD !== undefined) ? riJxD : ycmz.RGLRC;
        var reNrG = [];
        this.zaLs(reNrG, zfHu, riJxD, rjOvK, direction);
        this.yhHx(reNrG, zfHu, riJxD, direction);
        return reNrG;
    };
    ycmz.prototype.rgMyB = function(zfHu) {
        return zfHu.x + (zfHu.y * this.ziIu);
    };
    ycmz.prototype.rgMzJ = function(index) {
        var x = index % this.ziIu;
        var y = Math.floor(index / this.ziIu);
        return new tcHy.dqiMq.udoq(x, y);
    };
    ycmz.prototype.rgHuF = function(zfHu, tiOt, direction) {
        var thLx = zfHu.rbPq();
        switch (direction) {
            case tcHy.dqiMs.NORTH:
                thLx.x += tiOt;
                break;
            case tcHy.dqiMs.SOUTH:
                thLx.x -= tiOt;
                break;
            case tcHy.dqiMs.EAST:
                thLx.y -= tiOt;
                break;
            case tcHy.dqiMs.WEST:
                thLx.y += tiOt;
                break;
            default:
                throw 'Undefined direction';
        }
        return thLx;
    };
    ycmz.prototype.reOx = function(zfHu, direction, vbIr) {
        var thLx = zfHu.rbPq();
        vbIr = vbIr === undefined ? 1 : vbIr;
        var riHwB = tcHy.dqiMs.uaNx(direction);
        thLx.x = zfHu.x + riHwB.x * vbIr;
        thLx.y = zfHu.y + riHwB.y * vbIr;
        return thLx;
    };
    ycmz.prototype.rhJsG = function(rgLw, direction) {
        var zfHu = rgLw.zfHu.rbPq();
        zfHu = this.reOx(zfHu, direction);
        var rhLqE = this.rgHsJ(zfHu, ycmz.RIHYE, direction);
        var riHwB = tcHy.dqiMs.uaNx(direction);
        var yeIt = new tcHy.dqiMq.udoq(zfHu.x + riHwB.x * ycmz.RIHYE, zfHu.y + riHwB.y * ycmz.RIHYE);
        var veMs = new tcHy.dqiMu(yeIt, tcHy.dqiMt.RFOYK, rgLw);
        veMs.vcGy = rhLqE;
        rgLw.children[direction] = veMs;
        return veMs;
    };
    ycmz.prototype.zaNz = function() {
        var zdJz = this.wjJx.rfLv;
        var scJw = zdJz.zfHu;
        var vbJw = new tcHy.dqiMq.udoq(scJw.x, scJw.y + ycmz.RHHQC);
        var uiGq = new tcHy.dqiMu(vbJw, tcHy.dqiMt.RFISA, null);
        this.wjJx.rfLv = uiGq;
        zdJz.parent = uiGq;
        uiGq.children[tcHy.dqiMs.NORTH] = zdJz;
        var zfHu = uiGq.zfHu.rbPq();
        zfHu = this.reOx(zfHu, tcHy.dqiMs.SOUTH, 2);
        var rhHqA = this.rgHsJ(zfHu, ycmz.RHHQC, tcHy.dqiMs.NORTH);
        zdJz.vcGy = rhHqA;
    };
    ycmz.prototype.rgHsH = function(zfHu, direction) {
        var reNrG = [];
        var ujGu = tcHy.dqiMs.ydLt(direction, tcHy.dqiMs.RJLXK);
        var ujGv = tcHy.dqiMs.uaNx(ujGu);
        for (var yiJt = 0; yiJt < 3; yiJt++) {
            var ueLt = new tcHy.dqiMq.udoq(zfHu.x + ujGv.x * (yiJt - 1), zfHu.y + ujGv.y * (yiJt - 1));
            var reLy = new tcHy.dqiMx(ueLt, tcHy.dqiMt.NORMAL, tcHy.dqiMv.RBIV);
            reNrG.push(reLy);
        }
        return reNrG;
    };
    ycmz.prototype.rgHsJ = function(zfHu, length, direction) {
        var vcGy = [];
        var rhLzD = zfHu.rbPq();
        for (var i = 0; i < length; i++) {
            rhLzD = this.reOx(rhLzD, direction);
            var reNrG = this.rgHsH(rhLzD, direction);
            var yaIv = new tcHy.dqiMw(reNrG, vcGy.length, direction);
            vcGy.push(yaIv);
        }
        return vcGy;
    };
    ycmz.prototype.rgGxB = function(rhPwH, reNrF, reNqC) {
        var rhOtF = [];
        var rjNzC = 1 / reNrF;
        var zeOz = 1 / reNqC;
        rhPwH.reOzG.forEach(function(rcGq) {
            if (rcGq.reOzC.reOzB) {
                rhOtF.push({
                    reOzB: rcGq.reOzC.reOzB,
                    x: rcGq.x * zeOz,
                    z: rcGq.y * rjNzC,
                    width: rcGq.width * zeOz,
                    height: rcGq.height * rjNzC
                });
            }
        }, this);
        return rhOtF;
    };
    return ycmz;
});
scNt('dqiLq', [], function() {
    var zelu = function(rfOyC, ycMz) {
        console.log('LevelManager.ctor');
        this.rdKx = rfOyC;
        this.ziHz = ycMz;
    };
    zelu.prototype.zfKw = function(wdNx, uaGu, tcLv) {
        this.rjMtG(wdNx, function(wdNv) {
            var wdNu = this.ziHz.parse(wdNx, wdNv);
            uaGu.call(tcLv, wdNu);
        }, this);
    };
    zelu.prototype.rhMrB = function(wdNx, uaGu, tcLv) {
        this.rjMtG(wdNx, function(wdNv) {
            var rjMrA = wdNv.reOzC;
            uaGu.call(tcLv, rjMrA);
        }, this);
    };
    zelu.prototype.rjMtG = function(wdNx, uaGu, tcLv) {
        var wdNv = this.rdKx.rcIy.taLy(wdNx);
        if (!wdNv) {
            var vfOq = 'im/j/' + wdNx + '.json';
            this.rdKx.load.json(wdNx, vfOq);
            this.rdKx.load.riKuG.teIx(function() {
                var wdNv = this.rdKx.rcIy.taLy(wdNx);
                uaGu.call(tcLv, wdNv);
            }, this);
            this.rdKx.load.rfIsA();
        } else {
            uaGu.call(tcLv, wdNv);
        }
    };
    return zelu;
});
scNt('dqiLr', [], function() {
    var zdhv = {};
    zdhv.INPUT = {};
    zdhv.INPUT.RFHWF = 'rfHwF';
    zdhv.INPUT.RFHWB = 'rfHwB';
    zdhv.INPUT.AIR_DASH = 'air_dash';
    zdhv.INPUT.REOVJ = 'reOvJ';
    zdhv.INPUT.WCNQ = 'move_left';
    zdhv.INPUT.XBNU = 'move_right';
    zdhv.SHNU = {};
    zdhv.SHNU.RHJRF = 'collide_with_road';
    zdhv.SHNU.ZJPX = 'slide_ended';
    return zdhv;
});
scNt('dqiLs', ['dqjOr', 'dqiOs', 'dqiOy', 'dqiOt', 'dqiLr'], function() {
    var wfku = function(rfOyC, ydGz, wfKw) {
        console.log('GameInput.ctor');
        this.rdKx = rfOyC;
        this.ziHv = ydGz;
        this.xhKt = wfKw;
        this.zaGs = null
    };
    wfku.prototype.tdKq = function(zdHu) {
        this.zaGs = zdHu;
        var rfHwF = this.rgOwG(tcHy.dqiLr.INPUT.RFHWF);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.UP, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.UP, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.VBKT, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.A, rfHwF, this);
        var rfHwB = this.rgOwG(tcHy.dqiLr.INPUT.RFHWB);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.RFHWC, rfHwB, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RFHWC, rfHwB, this);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.B, rfHwB, this);
        var vePv = this.rgOwG(tcHy.dqiLr.INPUT.WCNQ);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.LEFT, vePv, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.LEFT, vePv, this);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.LEFT, vePv, this);
        var wcNu = this.rgOwG(tcHy.dqiLr.INPUT.XBNU);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.RIGHT, wcNu, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RIGHT, wcNu, this);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.RIGHT, wcNu, this);
    };
    wfku.prototype.rgOwG = function(zePv) {
        return function() {
            if (this.xhKt.paused) return;
            this.zaGs.yaIw('inputEvent', zePv);
        }
    };
    wfku.prototype.xiLs = function() {
        this.ziHv.xiLs();
    };
    return wfku;
});
scNt('dqiLt', [], function() {
    var rfpu = function() {
        console.log('Pool.ctor');
        this.vjPv = null;
        this.ubMw = null;
        this.rgOrH = null;
        this.rjJzA = null;
        this.rgLzE = null;
        this.xhIs = [];
    };
    rfpu.prototype.xcMr = function(vjPv, tbHr, rhGqG, rjLuH, rgLtG) {
        this.vjPv = vjPv || 1;
        this.ubMw = tbHr;
        this.rgOrH = rhGqG;
        this.rjJzA = rjLuH;
        this.rgLzE = rgLtG;
        this.xhIs = [];
        this.fill();
    };
    rfpu.prototype.taKs = function() {
        return this.xhIs.length;
    };
    rfpu.prototype.fill = function() {
        for (var i = 0; i < this.vjPv; ++i) {
            var obj = this.rhGqF();
            this.xhIs.push(obj);
        }
    };
    rfpu.prototype.rfHxK = function() {
        var obj;
        if (this.xhIs.length > 0) {
            obj = this.xhIs.pop();
        } else {
            obj = this.rhGqF();
            ++this.vjPv;
            console.warn('Creating new [' + obj.type + '], this will probably result in visual bugs')
        }
        return obj;
    };
    rfpu.prototype.riJr = function(obj) {
        if (this.xhIs.indexOf(obj) > -1) {
            return;
        }
        if (this.xhIs.length == this.vjPv) {
            console.warn('You are giving back more objects than this pool has capacity for, something may have gone wrong.');
            ++this.vjPv;
        }
        this.xhIs.push(obj);
    };
    rfpu.prototype.rhGqF = function() {
        var obj = this.ubMw.construct.apply(this.ubMw, this.rgOrH);
        if (this.rjJzA) {
            this.rjJzA.call(this.rgLzE, obj);
        }
        return obj;
    };
    rfpu.prototype.zfJs = function() {
        return this.xhIs;
    };
    rfpu.prototype.tbPr = function() {
        this.xhIs.forEach(function(object) {
            object.tbPr();
        }.bind(this));
        this.xhIs = null;
    };
    return rfpu;
});
scNt('dqiLu', [], function() {
    var whkv = function(name) {
        this.name = name;
        this.scIu = null;
    };
    whkv.prototype.rhPrF = function(scIu) {
        this.scIu = scIu;
        if (this.uhMy) {
            this.uhMy();
        }
        if (this.veHr) {
            this.scIu.zdIy.ziOx.add(this.veHr, this);
        }
        if (this.veIy) {
            this.scIu.zdIy.yaMv.add(this.veIy, this);
        }
    };
    whkv.prototype.rgNtB = function(scIu) {
        console.assert(this.scIu === scIu, 'Mismatched scIu parameter. You should debug why this happened, this is pretty weird.');
        this.scIu.riJzG(this);
        if (this.wcIt) {
            this.wcIt();
        }
        if (this.veHr) {
            this.scIu.zdIy.ziOx.thMz(this.veHr, this);
        }
        if (this.veIy) {
            this.scIu.zdIy.yaMv.thMz(this.veIy, this);
        }
        this.scIu = null;
    };
    whkv.prototype.tbPr = function() {
        if (this.scIu) {
            this.scIu.rhPxF(this);
        }
        this.scIu = null;
    };
    whkv.prototype.yaIw = function() {
        if (this.scIu) {
            this.scIu.yaIw.apply(this.scIu, arguments);
        }
    };
    whkv.prototype.xjJr = function(message, uaGu, tcLv) {
        if (this.scIu) {
            this.scIu.xjJr(message, uaGu, tcLv);
        }
    };
    whkv.prototype.rjKwC = function(message, uaGu, tcLv) {
        if (this.scIu) {
            this.scIu.rjKwC(message, uaGu, tcLv);
        }
    };
    whkv.prototype.ziOt = function(message, uaGu, tcLv) {
        if (this.scIu) {
            this.scIu.ziOt(message, uaGu, tcLv);
        }
    };
    whkv.prototype.riJzG = function(tcLv) {
        if (this.scIu) {
            this.scIu.riJzG(tcLv);
        }
    };
    return whkv;
});
scNt('dqiLv', [], function() {
    var rjkyg = {};
    rjkyg.ZIKS = 1;
    rjkyg.ZAOU = 1;
    return rjkyg;
});
scNt('dqiLw', ['dqiMq'], function() {
    var yhmq = {};
    yhmq.toString = function(tfKy) {
        var string = tfKy.x + ' ' + tfKy.y;
        if (tfKy.hasOwnProperty('z')) {
            string = string + ' ' + tfKy.z;
        }
        return string;
    };
    yhmq.tcLz = function(tfKy) {
        if (tfKy instanceof tcHy.dqiMq.udoq || tfKy instanceof tcHy.dqiMq.udor) {
            return tfKy;
        }
        console.assert(tfKy.hasOwnProperty('x'), 'Vector must have x property.');
        console.assert(tfKy.hasOwnProperty('y'), 'Vector must have y property.');
        if (tfKy.hasOwnProperty('z')) {
            return new tcHy.dqiMq.udor(tfKy.x, tfKy.y, tfKy.z);
        }
        return new tcHy.dqiMq.udoq(tfKy.x, tfKy.y);
    };
    return yhmq;
});
scNt('dqiLx', ['dqiMq', 'dqiLv'], function() {
    var riltd = {};
    riltd.rgNzE = function(rjJuG) {
        return new tcHy.dqiMq.udoq(Math.round(rjJuG.x / tcHy.dqiLv.ZIKS), Math.round(rjJuG.z / tcHy.dqiLv.ZAOU));
    };
    riltd.rgOzJ = function(zfHu, xhNr) {
        xhNr = xhNr || 0;
        return new tcHy.dqiMq.udor(zfHu.x * tcHy.dqiLv.ZIKS, xhNr, zfHu.y * tcHy.dqiLv.ZAOU);
    };
    return riltd;
});
scNt('dqiLy', ['dqjPs', 'dqiMq', 'dqiLu', 'dqiMt', 'dqiMv', 'dqiLv', 'dqiLt', 'dqiLw', 'dqiLx', 'dqiMy', 'dqiMs', 'dqjPw', 'dqjPx'], function() {
    var reowj = function(rfOyC, zbKs, vgJt, rhHzC, rePsK, rgKyH) {
        reowj._super.constructor.call(this, 'reOwJ');
        this.rdKx = rfOyC;
        this.rjPrD = zbKs;
        this.wjJt = vgJt;
        this.rgOrJ = rhHzC;
        this.zhMq = rePsK;
        this.rgJuF = rgKyH;
        this.sfHu = null;
    };
    tcHy.dqjPs.ujNz(reowj, tcHy.dqiLu);
    reowj.RGLRB = 20;
    reowj.WDHY = 5;
    reowj.XBMW = new tcHy.dqiMq.Color(0x00ba41);
    reowj.RIJRB = [new tcHy.dqiMq.Color(0x702fab), new tcHy.dqiMq.Color(0x978be5), new tcHy.dqiMq.Color(0x9d70c5)];
    reowj.RGKXE = 0.5;
    reowj.RGIXF = -2;
    reowj.YAKU = 0;
    reowj.RHHXE = 800;
    reowj.prototype.uhMy = function() {
        this.sfHu = this.scIu.zfLy('reOvA');
    };
    reowj.prototype.wcIt = function() {
        this.rdKx = null;
        this.rjPrD = null;
        tcHy.dqiMy.ujJx(this.sfHu.zfNu, function(floor) {
            floor.tbPr();
        }, this);
        tcHy.dqiMy.ujJx(this.sfHu.rjMyC, function(object) {
            object.tbPr();
        }, this);
        tcHy.dqiMy.ujJx(this.sfHu.ziLs, function(sfOs) {
            sfOs.forEach(function(object) {
                object.tbPr()
            }, this);
        }, this);
        tcHy.dqiMy.ujJx(this.sfHu.ygHt, function(rfGuC) {
            rfGuC.tbPr();
        }, this);
        this.sfHu.zfNu = null;
        this.sfHu.rjMyC = null;
        this.sfHu.ziLs = null;
        this.sfHu.ygHt = null;
        this.sfHu = null;
        this.tePx = [];
    };
    reowj.prototype.yaGz = function(yaIv, yjJs) {
        if (yaIv.rjNwB) {
            return;
        }
        for (var i = 0; i < yaIv.reNrG.length; ++i) {
            var vaNr = yaIv.reNrG[i];
            this.xhGs(vaNr, yaIv, yjJs);
            this.ygMv(vaNr, yaIv, yjJs);
        }
        this.rgOtF(yaIv);
        this.xhGt(yaIv, yjJs);
    };
    reowj.prototype.rgOtF = function(yaIv) {
        return;
        if (yaIv.taIw) {
            var vaNr = yaIv.reNrG[1];
            var rjPwF = tcHy.dqiMs.ydLt(yaIv.direction, tcHy.dqiMs.RJLXK);
            var vdLz = vaNr.vaNt === tcHy.dqiMt.RFOYK ? 'rfGuB' + 'rfpu' : 'rfGuC' + 'rfpu';
            var object = this.rhHwF(vdLz, vaNr.zfHu, 0, true, rjPwF);
            object.yaIw('configure', vaNr.vaNt);
            tcHy.dqiMy.set(this.sfHu.ygHt, vaNr.zfHu, object);
        }
    };
    reowj.prototype.rgOsK = function(yaIv) {
        return;
        if (yaIv.taIw) {
            var vaNr = yaIv.reNrG[1];
            var object = tcHy.dqiMy.get(this.sfHu.ygHt, vaNr.zfHu);
            object.yaIw('destroyOrPool');
            delete this.sfHu.ygHt[vaNr.zfHu.x][vaNr.zfHu.y];
        }
    };
    reowj.prototype.ydJy = function(yaIv) {
        if (yaIv.rjNwB) {
            return;
        }
        for (var i = 0; i < yaIv.reNrG.length; ++i) {
            var vaNr = yaIv.reNrG[i];
            this.wjJr(vaNr);
        }
        this.rgOsK(yaIv);
        this.xhKv(yaIv);
    };
    reowj.prototype.xhGt = function(yaIv, yjJs) {
        var wbKs = [{
            x: -1,
            y: 0
        }, {
            x: 0,
            y: -1
        }, {
            x: 1,
            y: 0
        }, {
            x: 0,
            y: 1
        }];
        yaIv.reNrG.forEach(function(vaNr) {
            if (vaNr.vaNt === tcHy.dqiMt.RBIV) {
                return;
            }
            var sfOs = tcHy.dqiMy.get(this.sfHu.ziLs, vaNr.zfHu) || [];
            for (var i = 0; i < wbKs.length; i++) {
                var position = wbKs[i];
                var direction = tcHy.dqiMs.xdLq(position);
                var raMt = (direction === yaIv.direction);
                var back = (direction === tcHy.dqiMs.ydMz(yaIv.direction));
                if (raMt) {
                    continue;
                }
                var veMv = vaNr.zfHu.rbPq();
                veMv.add(position);
                var veMv = tcHy.dqiMy.get(this.sfHu.zfNu, veMv);
                var wcLw = (!veMv || veMv.vaNt === tcHy.dqiMt.RBIV);
                if (wcLw) {
                    var rjGx = this.wjHy(position, vaNr, yjJs, yaIv, direction);
                    sfOs.push(rjGx);
                }
                var xfIy = yaIv.taIz && !tcHy.dqiMt.vgHz(vaNr.vaNt);
                if (wcLw && !(back && !xfIy)) {
                    var rfGvK = this.wjGs(position, vaNr, yjJs, yaIv, direction);
                    sfOs.push(rfGvK);
                }
            }
            tcHy.dqiMy.set(this.sfHu.ziLs, vaNr.zfHu, sfOs);
        }, this);
    };
    reowj.prototype.wjHy = function(position, vaNr, yjJs, yaIv, direction) {
        var rjGx = this.rhHwF('rfGuA' + 'rfpu', vaNr.zfHu, 0, yjJs, yaIv.direction);
        rjGx.reOsE.rgOs.vfIz.rfHr = tcHy.dqiMq.xels;
        rjGx.transform.rfIqD.y = tcHy.dqiMs.riLqC(direction);
        rjGx.transform.position.x += position.x * 0.5;
        rjGx.transform.position.z += position.y * 0.5;
        var image = this.zhMq.zfLz();
        rjGx.reOsE.rgOs.vfIz.map = this.rgJuF.riGsD(image);
        return rjGx;
    };
    reowj.prototype.wjGs = function(position, vaNr, yjJs, yaIv, direction) {
        var rfGvK = this.rhHwF('rfGvK' + 'rfpu', vaNr.zfHu, 0, yjJs, yaIv.direction);
        rfGvK.reOsE.rgOs.vfIz.rfHr = tcHy.dqiMq.xels;
        rfGvK.transform.rfIqD.y = tcHy.dqiMs.riLqC(direction);
        rfGvK.transform.position.x += position.x * 0.5;
        rfGvK.transform.position.z += position.y * 0.5;
        var index = position.x + position.y;
        if (index < 0) {
            index = 0;
        }
        var sdIw = this.zhMq.rjNvF();
        rfGvK.reOsE.rgOs.vfIz.color = sdIw[index];
        return rfGvK;
    };
    reowj.prototype.xhKv = function(yaIv) {
        yaIv.reNrG.forEach(function(vaNr) {
            var zfHu = vaNr.zfHu;
            var sfOs = tcHy.dqiMy.get(this.sfHu.ziLs, zfHu);
            if (!sfOs) {
                return;
            }
            sfOs.forEach(function(rfGvK) {
                rfGvK.yaIw('destroyOrPool', rfGvK);
            }, this);
            delete this.sfHu.ziLs[zfHu.x][zfHu.y];
        }, this);
    };
    reowj.prototype.xhGs = function(vaNr, yaIv, yjJs) {
        var floor = null;
        if (vaNr.vaNt !== tcHy.dqiMt.RBIV && !tcHy.dqiMy.get(this.sfHu.zfNu, vaNr.zfHu)) {
            var xfGr = false;
            var vdKq = 'floor' + 'rfpu';
            switch (vaNr.vaNt) {
                case tcHy.dqiMt.RFGVH:
                    vdKq = 'rfGvH' + 'rfpu';
                    xfGr = true;
                    break;
                case tcHy.dqiMt.RFOYK:
                    vdKq = 'rfOyK' + 'rfpu';
                    xfGr = true;
                    break;
                case tcHy.dqiMt.RFGVF:
                    vdKq = 'rfGvF' + 'rfpu';
                    xfGr = true;
                    break;
            }
            floor = this.rhHwF(vdKq, vaNr.zfHu, 0, yjJs, yaIv.direction);
            if (floor) {
                tcHy.dqiMy.set(this.sfHu.zfNu, vaNr.zfHu, floor);
            }
            if (yaIv.taIz && !xfGr) {
                var color = this.zhMq.zfJq();
                floor.reOsE.rgOs.vfIz.color = color;
            } else if (!xfGr) {
                var sdIw = this.zhMq.rjNvJ();
                var xfLv = yaIv.index % sdIw.length;
                floor.reOsE.rgOs.vfIz.color = sdIw[xfLv];
            }
            this.sfHu.rjKsJ(vaNr.zfHu, true);
        }
        return floor;
    };
    reowj.prototype.ygMv = function(vaNr, yaIv, yjJs) {
        var rgOuJ = true;
        if (tcHy.dqiMv.ujKu(vaNr.xbLw) && tcHy.dqjPw.vdKs) {
            rgOuJ = false;
        }
        var object = null;
        if (rgOuJ && vaNr.xbLw !== tcHy.dqiMv.RBIV && !tcHy.dqiMy.get(this.sfHu.rjMyC, vaNr.zfHu)) {
            object = this.rhHwF(tcHy.dqiMv.rgHzE(vaNr.xbLw), vaNr.zfHu, reowj.RGKXE, yjJs, yaIv.direction);
            if (object) {
                tcHy.dqiMy.set(this.sfHu.rjMyC, vaNr.zfHu, object);
                this.sfHu.rgJzA[object.name] = vaNr.zfHu;
                object.wbHq.rjKwC('destroyOrPool', this.rgJuK, this);
            }
        }
        return null;
    };
    reowj.prototype.rhHwF = function(vdLz, zfHu, yaKv, yjJs, direction) {
        if (!this.wjJt.xdGt(vdLz)) {
            console.warn('The pool you requested: [' + vdLz + '] was not mapped');
            return null;
        }
        var scIurfpu = this.wjJt.vgPu(vdLz);
        var scIu = scIurfpu.rfHxK();
        var rjKuD = new tcHy.dqiMq.udor(zfHu.x * tcHy.dqiLv.ZIKS, yaKv + reowj.YAKU, zfHu.y * tcHy.dqiLv.ZAOU);
        if (this.rgOrJ.rgOvF(scIu, 'key') || this.rgOrJ.rgJyG(scIu.type, rjKuD)) {
            scIurfpu.riJr(scIu);
            return null;
        }
        scIu.yaIw('resetTransform');
        scIu.transform.position.add(rjKuD);
        scIu.rjKuD = rjKuD;
        scIu.transform.rfIqD.y = tcHy.dqiMs.riLqC(direction);
        if (yjJs) {
            scIu.reOxC.play('roadEaseIn');
        }
        scIu.waIu(true);
        return scIu;
    };
    reowj.prototype.wjJr = function(vaNr) {
        if (vaNr.vaNt !== tcHy.dqiMt.RBIV && tcHy.dqiMy.get(this.sfHu.zfNu, vaNr.zfHu)) {
            var floor = this.sfHu.zfNu[vaNr.zfHu.x][vaNr.zfHu.y];
            floor.yaIw('destroyOrPool', floor);
            delete this.sfHu.zfNu[vaNr.zfHu.x][vaNr.zfHu.y];
            this.sfHu.rjKsJ(vaNr.zfHu, false);
        }
        if (vaNr.xbLw !== tcHy.dqiMv.RBIV && tcHy.dqiMy.get(this.sfHu.rjMyC, vaNr.zfHu)) {
            this.ygPs(vaNr.zfHu);
        }
    };
    reowj.prototype.ygPs = function(zfHu) {
        var object = tcHy.dqiMy.get(this.sfHu.rjMyC, zfHu);
        delete this.sfHu.rgJzA[object.name];
        object.wbHq.ziOt('destroyOrPool', this.rgJuK, this);
        object.yaIw('destroyOrPool', object);
        delete this.sfHu.rjMyC[zfHu.x][zfHu.y];
    };
    reowj.prototype.rgJuK = function(scIu) {
        var rjKuD = this.sfHu.rgJzA[scIu.name];
        var object = this.sfHu.rjMyC[rjKuD.x][rjKuD.y];
        if (object) {
            delete this.sfHu.rgJzA[object.name];
            delete this.sfHu.rjMyC[rjKuD.x][rjKuD.y];
        }
    };
    return reowj;
});
scNt('dqiLz', ['dqjPs', 'dqiMq', 'dqjLx', 'dqiLt', 'dqiLy', 'dqiMv', 'dqjPw', 'dqjPx'], function() {
    var vhix = function(vgJt, rfOyC, zdIy, rhJwG, rhOwK, rjOzJ, wfKu, rePsK, rhOsH, rgKyH, wfKw) {
        console.log('GameView.ctor');
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.zaGr = zdIy;
        this.rhHvJ = rhJwG;
        this.rhNrB = rhOwK;
        this.rjJxF = rjOzJ;
        this.xhKr = wfKu;
        this.zhMq = rePsK;
        this.rhNrG = rhOsH;
        this.rgJuF = rgKyH;
        this.xhKt = wfKw;
        this.zaJu = [];
        this.zaLr = [];
    };
    vhix.YAMS = -1000;
    vhix.SIHR = [{
        type: tcHy.dqiMv.RFJRB,
        count: 50
    }, {
        type: tcHy.dqiMv.RFOSF,
        count: 15
    }, {
        type: tcHy.dqiMv.ZJIW,
        count: 5
    }, {
        type: tcHy.dqiMv.RFGTF,
        count: 5
    }, {
        type: 'rfGtG',
        count: 50
    }, {
        type: 'floor',
        count: 150
    }, {
        type: 'rfGvK',
        count: 100
    }, {
        type: 'rfGuA',
        count: 150
    }, {
        type: tcHy.dqiMv.RFKTE,
        count: 10
    }, {
        type: 'rfGvH',
        count: 50
    }, {
        type: 'rfOyK',
        count: 9
    }, {
        type: 'rfGvF',
        count: 20
    }, {
        type: tcHy.dqiMv.RFLTE,
        count: 5
    }, {
        type: tcHy.dqiMv.RFGTC,
        count: 10
    }, {
        type: tcHy.dqiMv.RFGTA,
        count: 10
    }, {
        type: tcHy.dqiMv.RFGTB,
        count: 10
    }, {
        type: tcHy.dqiMv.RFGUK,
        count: 10
    }, {
        type: tcHy.dqiMv.KEY1,
        count: 1
    }, {
        type: tcHy.dqiMv.KEY2,
        count: 1
    }, {
        type: tcHy.dqiMv.KEY3,
        count: 1
    }, {
        type: tcHy.dqiMv.TCHW,
        count: 30
    }, {
        type: tcHy.dqiMv.DECOR_2,
        count: 30
    }, {
        type: tcHy.dqiMv.DECOR_3,
        count: 30
    }, {
        type: 'rfGuC',
        count: 3
    }, {
        type: 'rfGuB',
        count: 1
    }];
    vhix.prototype.create = function(wdNu) {
        this.zcHz();
        this.yjKs();
        this.rjLtA();
        this.rhHvJ.ugNr('updateHud', wdNu.reNqF, wdNu.rfIyH);
        this.xhKt.add(10, function() {
            this.rhHvJ.ugNr('startAudioStinger');
        }, this);
    };
    vhix.prototype.rhKuH = function() {
        return true;
        return !tcHy.dqjPw.vdKs && tdJr.sdKs;
    };
    vhix.prototype.zcHz = function() {
        console.log('GameView.setupThreeJs');
        var width = this.rhNrB.width;
        var height = this.rhNrB.height;
        var wfGs = width / 2;
        var xdHz = height / 2;
        var ygGs = width / height;
        this.rjPrD = new tcHy.dqiMq.shmq();
        this.rjPrD.qeIr = new tcHy.dqiMq.qeir(this.zhMq.ydMr(), 10, 20);
        this.rjIrF = new tcHy.dqiMq.rhivj(75, ygGs, 0.1, 1000);
        this.rjIrF.position.set(0, 1000, 0);
        this.rjIrF.tjNr(new tcHy.dqiMq.udor(0, 0, 0));
        var zjIs = canvas;
        zjIs.style.display = 'block';
        this.rhNrG.rjKqB(this.zhMq.ydMr());
        this.rhNrG.clear();
        var wiNz = "#cccccc";
        var zhKs = new tcHy.dqiMq.zhks(wiNz);
        this.rjPrD.add(zhKs);
        if (this.rhKuH()) {
            var sjLu = new tcHy.dqiMq.rhnyg(0xffffff);
            sjLu.weIw = 0.1;
            sjLu.position.set(0, 100, 20);
            this.rjPrD.add(sjLu);
        }
        tcHy.dqjPs._3gl.scene = this.rjPrD;
        tcHy.dqjPs._3gl.camera = this.rjIrF;
        this.rhKvD('zbKs', this.rjPrD);
        this.rhKvD('rjKyJ', this.rjIrF);
        this.zaGr.yaMv.add(this.rjLyJ, this, vhix.YAMS);
    };
    vhix.prototype.yjKs = function() {
        console.log('GameView.setupPools');
        var rhMrK = this.rdKx.rcIy.taLy('rePyK');
        vhix.SIHR.forEach(function(vdLy) {
            if (tcHy.dqiMv.ujKu(vdLy.type) && tcHy.dqjPw.vdKs) {
                return;
            }
            this._createrfpu(vdLy.type, vdLy.count, rhMrK);
        }, this);
    };
    vhix.prototype.rjLtA = function() {
        console.log('GameView.populateScene');
        var rfJzA = this.rhKuD('rfJzA');
        this.rhKvD('rfJzA', rfJzA);
        var zdHu = this.rhKuD('reOsD');
        this.rhKvD('zdHu', zdHu);
        console.log(zdHu);
        this.rhKuD('rePxA');
        this.rhKuD('background');
        this.rhKuD('reOuG');
        this.rhKuD('reOtG');
        this.rhKuD('reOuJ');
        this.rhKuD('rePyJ');
        if (this.rhKuH()) {
            var rePsC = this.zhMq.vhGq();
            rePsC.forEach(function(rePzE) {
                var scIu = this.rhKuD('rePzE');
                scIu.zfLy('rePuE').yaIz(rePzE.dist);
                scIu.reOsE.rgOs.vfIz.map = this.rgJuF.riGsD(rePzE.image);
            }, this);
        }
    };
    vhix.prototype.wiHw = function() {
        var zdHu = this.wjJt.vgPu('zdHu');
        this.xhKr.tdKq(zdHu);
    };
    vhix.prototype.ziPv = function() {
        this.xhKr.xiLs();
    };
    vhix.prototype.rjLyJ = function() {};
    vhix.prototype.tcPx = function() {
        this.xhKs = null;
        this.zaLr.forEach(function(yeMr) {
            yeMr.tbPr();
        }.bind(this));
        this.zaLr = [];
        this.zaJu.forEach(function(ycKy) {
            this.wjJt.rjLxF(ycKy);
        }.bind(this));
        this.zaJu = [];
        this.rjPrD.children.forEach(function(rcGq) {
            this.rjPrD.thMz(rcGq);
        }.bind(this));
        this.zaGr.yaMv.thMz(this.rjLyJ, this);
        this.rjPrD = null;
        this.rjIrF = null;
        tcHy.dqjPs._3gl.scene = _._3gl.camera = null;
        var zjIs = canvas;
    };
    vhix.prototype.rhKvD = function(name, riKs) {
        this.wjJt.vfIu(name, riKs);
        this.zaJu.push(name);
    };
    vhix.prototype._createrfpu = function(name, seMy, rhMrK) {
        var rfPu = new tcHy.dqiLt();
        var vdLz = name + 'rfpu';
        this.rhKvD(vdLz, rfPu);
        var riMzK = rhMrK[name];
        var rhGqG = [riMzK];
        rfPu.xcMr(seMy, this.rjJxF, rhGqG, function(xaOz) {
            xaOz.waIu(false);
        }, this);
        this.zaLr.push(rfPu);
        return rfPu;
    };
    vhix.prototype.rhKuD = function(name) {
        var rhMrK = this.rdKx.rcIy.taLy('rePyK');
        var xdLz = this.rjJxF.construct(rhMrK[name]);
        this.zaLr.push(xdLz);
        xdLz.waIu(true);
        return xdLz;
    };
    return vhix;
});
scNt('dqiKq', ['dqjOr'], function() {
    function rhmrj(zdHu, rhJwG) {
        console.log('GameInfoMediator.ctor');
        this.rgJuE = zdHu.zfLy('rePzF');
        this.rhHvJ = rhJwG;
    }
    rhmrj.prototype.shLq = function() {
        console.log('GameInfoMediator.setup');
        this.rgJuE.rgHuC.add(this.rgJuH, this);
        this.rhHvJ.ugNr('playerHealthChanged', this.rgJuE.zfGs);
    };
    rhmrj.prototype.tcPx = function() {
        console.log('GameInfoMediator.cleanUp');
        this.rgJuE.rgHuC.thMz(this.rgJuH, this);
        this.rgJuE = null;
    };
    rhmrj.prototype.rgJuH = function(rjMyF) {
        this.rhHvJ.ugNr('playerHealthChanged', rjMyF);
    };
    return rhmrj;
});
scNt('dqiKr', ['dqjHw', 'dqjGq'], function() {
    function rihyd(rhJwG, ydOy, zfLq, rgNzG, rhHzC, rhNzJ, rhHzD, rfOyC, rjMrJ, wfKw) {
        console.log('EndLevelManager.ctor');
        this.rhHvJ = rhJwG;
        this.ziHt = ydOy;
        this.zaLx = zfLq;
        this.rgMsB = rgNzG;
        this.rgOrJ = rhHzC;
        this.rhKvK = rhNzJ;
        this.rgOrK = rhHzD;
        this.rjJyJ = rjMrJ;
        this.xhKt = wfKw;
        this.rdKx = rfOyC;
        this.xhJv = null;
    };
    rihyd.RGMXH = 800;
    rihyd.prototype.shLq = function(wdNu) {
        console.log('EndLevelManager.setup');
        this.xhJv = wdNu;
        this.rgMsG(true);
    };
    rihyd.prototype.tcPx = function() {
        console.log('EndLevelManager.cleanUp');
        this.xhJv = null;
        this.rgMsG(false);
    };
    rihyd.prototype.rgMsG = function(rjMqE) {
        if (rjMqE) {
            this.rhHvJ.xjJr('playerIsOutOfTime', this.zhPt, this), this.rhHvJ.xjJr('playerLostByDeath', this.ziGz, this);
            this.zaLx.rhPrC.add(this.rhOzC, this);
        } else {
            this.rhHvJ.ziOt('playerIsOutOfTime', this.zhPt, this), this.rhHvJ.ziOt('playerLostByDeath', this.ziGz, this);
            this.zaLx.rhPrC.thMz(this.rhOzC, this);
        }
    };
    rihyd.prototype.rhOzC = function() {
        this.xhKt.add(rihyd.RGMXH, function() {
            this.wjLz(true);
        }, this);
        this.ziHt.xjKq();
    };
    rihyd.prototype.zhPt = function() {
        this.wjLz(true);
    };
    rihyd.prototype.ziGz = function() {
        this.wjLz(false);
    };
    rihyd.prototype.wjLz = function(zfHz) {
        var saPs = this.rgMsB.rgJvG();
        var reNqF = this.xhJv.reNqF;
        var rfIyH = this.xhJv.rfIyH;
        var rfKqA = parseInt(this.xhJv.name);
        var keys = this.rjJyJ.rgGwC();
        var rgJxD = 0;
        if (!saPs && zfHz && (reNqF != tcHy.dqjHw.RIHSC)) {
            rgJxD = this.rgGsJ(reNqF);
        }
        var rjJuK = this.rgMqD(saPs, zfHz, reNqF, rfIyH, rgJxD, rfKqA, keys);
        if (zfHz) {
            this.rjJyJ.rgGrE();
            this.rgOrJ.rgNxE();
        }
        this.rhHvJ.ugNr('levelEnded', rjJuK);
    };
    rihyd.prototype.rgGsJ = function(reNqF) {
        if (reNqF == tcHy.dqjHw.YCNW) {
            return this.rhKvK.zbJr;
        } else {
            var riHtE = tcHy.dqjGq.rhMqD(reNqF);
            return this.rgOrK.rgMyA(riHtE);
        }
    };
    rihyd.prototype.rgMqD = function(saPs, zfHz, reNqF, rfIyH, rgJxD, rfKqA, keys) {
        var rjJuK = {};
        rjJuK.wbLr = saPs;
        rjJuK.rgPrH = zfHz;
        rjJuK.reNqF = reNqF;
        rjJuK.rfIyH = rfIyH;
        rjJuK.rgJxD = rgJxD;
        rjJuK.rfKqA = rfKqA;
        rjJuK.keys = keys;
        return rjJuK;
    };
    return rihyd;
});
scNt('dqiKs', ['dqjPs', 'dqjGq', 'dqjHw'], function() {
    function zcjt(rhJwG, zfLq, riJwE, zdHu, rgOvK, whKs, rfOyC) {
        this.rhHvJ = rhJwG;
        this.zaLx = zfLq;
        this.riIwH = riJwE;
        this.zaGt = zdHu.zfLy('rePzF');
        this.rgMqE = rgOvK;
        this.xhMv = whKs;
        this.rdKx = rfOyC;
        this.sfGr = 0;
        this.rfPtD = 0;
        this.xhJv = null;
        this.rgOsH = false;
    }
    zcjt.RGISK = 10;
    zcjt.RGIRA = 50;
    zcjt.RGNWK = 500;
    zcjt.RGLUD = 50;
    zcjt.RFPSK = 500;
    zcjt.RHPYH = 1;
    zcjt.RGPUG = 100;
    zcjt.RGPUH = 20;
    zcjt.RGLUC = 50;
    zcjt.RGGUF = 10;
    zcjt.RHLWG = 500;
    zcjt.RGHZB = 2;
    zcjt.prototype.shLq = function(wdNu) {
        console.log('ScoreManager.setup');
        this.xhJv = wdNu;
        this.rhOyF(true);
        this.rhHvJ.ugNr('scoreChanged', 0);
    };
    zcjt.prototype.tcPx = function() {
        console.log('ScoreManager.cleanUp');
        this.xhJv = null;
        this.rhOyF(false);
    };
    zcjt.prototype.riLxK = function() {
        var vgGv = false;
        var wdOw = this.riIwH.get(this.rjJxC(), true);
        if (!wdOw) {
            vgGv = true;
        } else {
            vgGv = this.rfIrJ > wdOw;
        }
        return vgGv;
    };
    zcjt.prototype.rgNqE = function() {
        var wdOw = this.riIwH.get(this.rjJxC(), true);
        if (!wdOw) {
            return true;
        } else {
            return false;
        }
    };
    zcjt.prototype.rhOyF = function(rjMqE) {
        if (rjMqE) {
            this.rhHvJ.xjJr('collectibleCollected', this.rgIvF, this), this.rhHvJ.xjJr('numberOfEnemiesKilledChanged', this.rjJyB, this);
            this.rhHvJ.xjJr('playerCollidedWithBoosterPad', this.rgGyA, this), this.rhHvJ.xjJr('playerRanAMeter', this.ygOw, this);
            this.rhHvJ.xjJr('levelEnded', this.xhHv, this), this.rhHvJ.xjJr('playerRespawned', this.xhIx, this);
            this.zaLx.rgKyB.add(this.rgIvE, this), this.zaLx.rgIzB.add(this.rgHxA, this);
        } else {
            this.rhHvJ.ziOt('collectibleCollected', this.rgIvF, this), this.rhHvJ.ziOt('numberOfEnemiesKilledChanged', this.rjJyB, this);
            this.rhHvJ.ziOt('playerCollidedWithBoosterPad', this.rgGyA, this), this.rhHvJ.ziOt('playerRanAMeter', this.ygOw, this);
            this.rhHvJ.ziOt('levelEnded', this.xhHv, this), this.rhHvJ.ziOt('playerRespawned', this.xhIx, this);
            this.zaLx.rgKyB.thMz(this.rgIvE, this), this.zaLx.rgIzB.thMz(this.rgHxA, this);
        }
    };
    zcjt.prototype.wjMz = function(yjNx) {
        var xgNu = this.rgOsH ? yjNx * zcjt.RGHZB : yjNx;
        this.sfGr += xgNu;
        this.rhHvJ.ugNr('scoreChanged', this.rfIrJ);
    };
    zcjt.prototype.xhHv = function() {
        if (this.xhJv.reNqF == tcHy.dqjHw.RIHSC && !this.rgMqE.ycOy()) {
            this.sfGr += this.rgMqE.rgMzF() * zcjt.RGGUF;
        }
        this.sfGr += this.zaGt.zfGs * zcjt.RHLWG;
        this.rhHvJ.ugNr('scoreSet', this.sfGr);
        if (this.rgNqE()) {
            this.rhHvJ.ugNr('firstScoreSetForLevel', this.xhJv.name);
        }
        if (this.riLxK()) {
            this.riIwH.set(this.rjJxC(), this.rfIrJ);
        }
        this.rdKx.paused = true;
        this.xhMv.riKyK(this.sfGr, this.xhJv.name, function() {
            this.rdKx.paused = false;
            this.xhMv.save();
        }, this)
    };
    zcjt.prototype.rgIvF = function(type) {
        if (!type) {
            return;
        }
        var xgNu = 0;
        switch (type) {
            case tcHy.dqjGq.RFJRB:
                xgNu = zcjt.RGISK;
                break;
            case tcHy.dqjGq.RFOSF:
                xgNu = zcjt.RGIRA;
                break;
            case tcHy.dqjGq.RFLTE:
                xgNu = zcjt.RFPSK;
                break;
            case tcHy.dqjGq.EXTRA_TIME:
                xgNu = zcjt.RGLUD;
                break;
        }
        if (type._.has(tcHy.dqjGq.KEY)) {
            xgNu = zcjt.RGNWK;
            if (this.rgOsH) {
                xgNu /= zcjt.RGHZB;
            }
        }
        this.wjMz(xgNu);
    };
    zcjt.prototype.rgGyA = function() {
        this.wjMz(zcjt.RGLUC);
    };
    zcjt.prototype.ygOw = function() {
        this.wjMz(zcjt.RHPYH);
        this.rfPtD += this.rgOsH ? zcjt.RHPYH * zcjt.RGHZB : zcjt.RHPYH;
    };
    zcjt.prototype.rjJyB = function() {
        this.wjMz(zcjt.RGPUG);
    };
    zcjt.prototype.rgIvE = function() {
        this.rgOsH = true;
    };
    zcjt.prototype.rgHxA = function() {
        this.rgOsH = false;
    };
    zcjt.prototype.rgMsK = function() {
        this.rfPtD = 0;
    };
    zcjt.prototype.xhIx = function() {
        this.sfGr -= this.rfPtD;
        this.rfPtD = 0;
        this.rhHvJ.ugNr('scoreChanged', this.rfIrJ);
    };
    zcjt.prototype.rjJxC = function() {
        return this.xhJv.name + '_highscore';
    };
    Object.defineProperty(zcjt.prototype, 'rfIrJ', {
        get: function() {
            return this.sfGr;
        }
    });
    Object.defineProperty(zcjt.prototype, 'yiIr', {
        get: function() {
            var yiIr = 0;
            for (var i = 1; i <= 100; i++) {
                var xcIy = this.riIwH.get(i + '_highscore') || 0;
                yiIr += xcIy;
            }
            return yiIr;
        }
    });
    return zcjt;
});
scNt('dqiKt', ['dqiLr'], function() {
    function rijyd(id, x, z, width, height) {
        this.id = id;
        this.x = x;
        this.z = z;
        this.width = width;
        this.height = height;
        this.xcMv = [];
    }
    rijyd.RHLZG = "reOzA";
    rijyd.RHHRJ = "1_right";
    rijyd.RFHWF = "4";
    rijyd.RFHWB = "5";
    rijyd.YFHY = "reNrD";
    rijyd.ZGLQ = "6_right";
    rijyd.AIR_DASH = "7";
    rijyd.REOVJ = "8";
    rijyd.rgGtK = function(reOzB, x, z, width, height) {
        var riJyD = new rijyd(reOzB, x, z, width, height);
        var xcMv = [];
        switch (reOzB) {
            case rijyd.YFHY:
            case rijyd.RHLZG:
                xcMv.push(tcHy.dqiLr.INPUT.WCNQ);
                break;
            case rijyd.ZGLQ:
            case rijyd.RHHRJ:
                xcMv.push(tcHy.dqiLr.INPUT.XBNU);
                break;
            case rijyd.RFHWF:
                xcMv.push(tcHy.dqiLr.INPUT.RFHWF);
                break;
            case rijyd.RFHWB:
                xcMv.push(tcHy.dqiLr.INPUT.RFHWB);
                break;
            case rijyd.AIR_DASH:
                xcMv.push(tcHy.dqiLr.INPUT.AIR_DASH);
                xcMv.push(tcHy.dqiLr.INPUT.RFHWF);
                break;
            case rijyd.REOVJ:
                xcMv.push(tcHy.dqiLr.INPUT.REOVJ);
                xcMv.push(tcHy.dqiLr.INPUT.RFHWB);
                break;
            default:
                console.log('TutorialObject.createTutorialObjectFromId - id not recognized, reacting to any input instead. id:' + reOzB);
                xcMv.push(tcHy.dqiLr.INPUT.LEFT);
                xcMv.push(tcHy.dqiLr.INPUT.RIGHT);
                xcMv.push(tcHy.dqiLr.INPUT.AIR_DASH);
                xcMv.push(tcHy.dqiLr.INPUT.RFHWF);
                xcMv.push(tcHy.dqiLr.INPUT.REOVJ);
                xcMv.push(tcHy.dqiLr.INPUT.RFHWB);
                break;
        }
        riJyD.xcMv = xcMv;
        return riJyD;
    };
    rijyd.prototype.rhHzA = function(riKxK) {
        var saKq = riKxK.x < this.x;
        var ujJt = riKxK.x > (this.x + this.width);
        var ujLz = riKxK.z > (this.z + this.height);
        var ujKs = riKxK.z < this.z;
        return !saKq && !ujJt && !ujLz && !ujKs;
    };
    return rijyd;
});
scNt('dqiKu', ['dqiKt', 'dqjOr'], function() {
    function rgpye(zdIy, vgJt, wfKw, rfOyC, rhJwG, rjJqK) {
        console.log('TutorialController.ctor');
        this.zaGr = zdIy;
        this.wjJt = vgJt;
        this.xhKt = wfKw;
        this.rdKx = rfOyC;
        this.rhHvJ = rhJwG;
        this.rjIrC = rjJqK;
        this.rhNrE = [];
        this.riIvJ = null;
        this.rgHsB = null;
        this.zaGs = null;
        this.rgLyK = null;
        this.zaIq = 0;
    }
    rgpye.YIGV = 200;
    rgpye.RGHRF = 0;
    rgpye.prototype.tcPx = function() {
        console.log('TutorialController.cleanUp');
        this.zaGr.ziOx.thMz(this.veHr, this);
        if (this.rgLyK) {
            this.wjGx();
            this.rjIrC.xiLs(this.zaGs);
        }
        this.rhHvJ.ziOt('playerRespawned', this.rgKqJ, this);
        this.rhNrE = [];
        this.riIvJ = null;
        this.rgLyK = null;
    };
    rgpye.prototype.veHr = function() {
        if (!this.rgLyK) {
            for (var index in this.rhNrE) {
                if (this.rhNrE[index].rhHzA(this.riIvJ)) {
                    this.rjIrH(index);
                    break;
                }
            }
        }
    };
    rgpye.prototype.shLq = function(wdNu) {
        console.log('TutorialController.setup');
        var rhOtF = wdNu.rhOtF;
        rhOtF.forEach(function(rcGq) {
            var riJyD = tcHy.dqiKt.rgGtK(rcGq.reOzB, rcGq.x, rcGq.z, rcGq.width, rcGq.height);
            this.rhNrE.push(riJyD);
        }, this);
        this.zaGr.ziOx.add(this.veHr, this);
        this.rgKqJ();
        this.rhHvJ.xjJr('playerRespawned', this.rgKqJ, this);
    };
    rgpye.prototype.zbNw = function() {
        console.log('TutorialController.stopTutorial');
        this.rhHvJ.ugNr('endTutorial');
        this.wjGx();
        this.rgLyK = null;
        this.rjIrC.xiLs(this.zaGs);
    };
    rgpye.prototype.rgKqJ = function() {
        this.zaGs = this.wjJt.vgPu('zdHu');
        this.riIvJ = this.zaGs.transform.position;
        this.rgHsB = this.zaGs.zfLy('reOuB');
    };
    rgpye.prototype.rjIrH = function(index) {
        this.rgLyK = this.rhNrE[index];
        this.rhHvJ.ugNr('startTutorial', this.rgLyK.id);
        var yeHr = '';
        this.rgLyK.xcMv.forEach(function(rcGq) {
            yeHr += rcGq + ' ';
        }, this);
        console.log('Starting tutorial which reacts to event(s): ' + yeHr);
        this.rhNrE.splice(index, 1);
        this.ubJv();
        this.rgHsB.rjKvA(this.rgLyK.xcMv, this);
        this.rjIrC.tdKq(this.zaGs, this.rgLyK.xcMv);
    };
    rgpye.prototype.ubJv = function() {
        this.zaIq = this.xhKt.xiPu;
        this.rdKx.add.sgIs(this.xhKt).to({
            xiPu: rgpye.RGHRF
        }, rgpye.YIGV, tcHy.dqjOr.sckv.wbhv.ragv, true).rfIsA();
    };
    rgpye.prototype.wjGx = function() {
        this.rdKx.add.sgIs(this.xhKt).to({
            xiPu: this.zaIq
        }, rgpye.YIGV, tcHy.dqjOr.sckv.wbhv.ragv, true).rfIsA();
    };
    return rgpye;
});
scNt('dqiKv', ['dqjOr', 'dqjPs', 'dqjKr', 'dqiKq', 'dqiKr', 'dqiKs', 'dqiKu'], function() {
    var ydoy = function(vgJt, rfOyC, zeLu, zePu, vhIx, zfLq, xdLy, rgNzG, rhHzC, riHtA, rePsK, rhJwG, rgNqB, wfKw) {
        console.log('GameManager.ctor');
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.zaKz = zeLu;
        this.zaKt = zePu;
        this.zaLx = zfLq;
        this.wjKy = vhIx;
        this.yhGz = xdLy;
        this.rgMsB = rgNzG;
        this.rgOrJ = rhHzC;
        this.rhOyH = riHtA;
        this.zhMq = rePsK;
        this.rhHvJ = rhJwG;
        this.rhHvJ.xjJr('levelEnded', this.rjNrK, this);
        this.rhHvJ.xjJr('clearGame', this.tbLs, this);
        this.rgMrE = rgNqB;
        this.rgOsE = [];
        this.riIsK = null;
        this.rhMrG = new tcHy.dqjOr.tgot();
        this.riMyA = new tcHy.dqjOr.tgot();
        this.rhKxJ = false;
        this.xhKt = wfKw;
        tcHy.dqjPs.ydOy = this;
    };
    ydoy.RJOVG = 'test1';
    ydoy.RIMYC = 1300;
    ydoy.prototype.xjLr = function(rfKqA) {
        console.log('GameManager.startGame');
        this.riIsK = rfKqA;
        var riNzA = this.yhGz.xdJx();
        if (riNzA) {
            rfKqA = riNzA;
        }
        this.zhMq.whJr(rfKqA);
        this.rhHvJ.ugNr('levelStarted', rfKqA);
        this.zaKz.zfKw(rfKqA, this.waHx, this);
    };
    ydoy.prototype.waHx = function(wdNu) {
        this.zbIv();
        console.log('GameManager.setupGame');
        this.wjJt.vfIu('wdNu', wdNu);
        this.rhHvJ.ugNr('levelDataChanged', wdNu);
        this.zaLx.reset(wdNu);
        this.rgMrE.reset(wdNu);
        this.rgMsB.reset(wdNu);
        this.rhOyH.reset();
        this.wjKy.create(wdNu);
        this.zaLx.riKuC.add(this.rjPqA, this);
        this.zaLx.rhPrC.add(this.rjJxD, this);
        this.rgOrJ.rhNr();
        this.rgHyH(wdNu);
        this.rhMrG.viLt();
        this.xhKt.xiPu = this.yhGz.zfIu() || this.xhKt.xiPu;
    };
    ydoy.prototype.tbLs = function(uaGu, tcLv) {
        console.log('GameManager.endGame');
        this.xcGr();
        this.riMyA.viLt();
        this.rhKxJ = false;
        this.rhHwJ = false;
        this.wjKy.tcPx();
        this.rgGvD(this.wjJt.vgPu('wdNu'));
        this.rgOrJ.tcPx();
        this.wjJt.rjLxF('wdNu');
    };
    ydoy.prototype.rjPqA = function() {
        this.rhKxJ = true;
        this.yiPw();
    };
    ydoy.prototype.rjJxD = function() {
        this.rhHwJ = true;
    };
    ydoy.prototype.yiPw = function() {
        if (this.rhKxJ && !this.rhHwJ) {
            this.zaKt.riJwK();
            this.wjKy.wiHw();
        }
    };
    ydoy.prototype.xjKq = function() {
        this.wjKy.ziPv();
        this.zaKt.rjKwF();
    };
    ydoy.prototype.rjNrK = function() {
        this.xjKq();
    };
    ydoy.prototype.yaLw = function() {
        console.log('GameManager.restartGame');
        this.tbLs();
    };
    ydoy.prototype.rgMsJ = function() {
        this.xjKq();
        this.tbLs();
    };
    ydoy.prototype.rgHyH = function(wdNu) {
        var xfNw = this.rgOrB(wdNu);
        xfNw.forEach(function(rcGq) {
            this.wjJt.vfIr(rcGq.name, rcGq.className);
            var object = this.wjJt.rhJyK(rcGq.className);
            object.shLq(wdNu);
            this.rgOsE.push(object);
        }, this);
    };
    ydoy.prototype.rgGvD = function(wdNu) {
        var xfNw = this.rgOrB(wdNu);
        this.rgOsE.forEach(function(rcGq) {
            rcGq.tcPx();
        }, this);
        this.rgOsE.splice(0, this.rgOsE.length);
        xfNw.forEach(function(rcGq) {
            this.wjJt.rjLxF(rcGq.name);
        }, this);
    };
    ydoy.prototype.rgOrB = function(wdNu) {
        var rjKyA = [];
        rjKyA.push({
            name: "gameInfoMediator",
            className: tcHy.dqiKq
        });
        rjKyA.push({
            name: "endLevelManager",
            className: tcHy.dqiKr
        });
        rjKyA.push({
            name: "scoreManager",
            className: tcHy.dqiKs
        });
        if (wdNu.rhOtF.length > 0) {
            rjKyA.push({
                name: "tutorialController",
                className: tcHy.dqiKu
            });
        }
        return rjKyA;
    };
    ydoy.prototype.vjPs = function() {
        var reOsD = this.wjJt.vgPu('zdHu');
        var zdHw = reOsD.zfLy('rePzF');
        var zdHx = zdHw.saLx();
        console.log(zdHx);
        return this.rhKxJ && !this.rhHwJ && !zdHx;
    };
    ydoy.prototype.zbIv = function() {
        this.rdKx.rcIy.teJq = {};
        for (var i = 1; i <= 100; i++) {
            this.rdKx.rcIy.xaIw(i);
        }
    };
    ydoy.prototype.xcGr = function(uaGu, tcLv) {
        for (var i = 1; i <= 2; i++) {
            var zeNy = 'im/j/' + i + '.json';
            this.rdKx.load.json(i, zeNy);
        }
        if (uaGu) {
            this.rdKx.load.riKuG.teIx(uaGu, tcLv);
        }
        this.rdKx.load.rfIsA();
    };
    Object.defineProperty(ydoy.prototype, 'rfKqA', {
        get: function() {
            return this.riIsK;
        }
    });
    return ydoy;
});
scNt('dqiKw', ['dqiMs'], function() {
    var rjlqc = {};
    rjlqc.RGLX = 'none';
    rjlqc.XCOR = 'horizontal';
    rjlqc.VAGZ = 'vertical';
    rjlqc.rjNsK = function(direction) {
        switch (direction) {
            case tcHy.dqiMs.NORTH:
            case tcHy.dqiMs.SOUTH:
                return rjlqc.VAGZ;
            case tcHy.dqiMs.EAST:
            case tcHy.dqiMs.WEST:
                return rjlqc.XCOR;
            default:
                return null;
        }
    };
    return rjlqc;
});
scNt('dqiKx', ['dqjOr', 'dqiKw', 'dqiMt'], function() {
    var zflq = function(rfOyC, wfKw) {
        console.log('GameProgress.ctor');
        this.rdKx = rfOyC;
        this.xhKt = wfKw;
        this.rhPrC = new tcHy.dqjOr.tgot();
        this.rgNtH = new tcHy.dqjOr.tgot();
        this.riKuC = new tcHy.dqjOr.tgot();
        this.rhIvA = false;
        this.rgKyB = new tcHy.dqjOr.tgot();
        this.rgIzB = new tcHy.dqjOr.tgot();
    };
    zflq.prototype.reset = function(wdNu) {
        this.xhJv = wdNu;
        this.direction = this.xhJv.veLq.rfLv.direction;
        this.yePs = this.xhJv.veLq.rfLv;
        this.veMs = this.xhJv.veLq.rfLv.children[this.direction];
    };
    zflq.prototype.rgHzG = function() {
        return tcHy.dqiKw.rjNsK(this.direction);
    };
    zflq.prototype.riHrA = function(direction) {
        this.direction = direction;
        this.ygJu(direction);
    };
    zflq.prototype.ygJu = function(direction) {
        switch (this.veMs.vaNt) {
            case tcHy.dqiMt.RFOYK:
                this.rhPrC.viLt();
                return;
            case tcHy.dqiMt.RFGVF:
                this.rgNtH.viLt();
                break;
            case tcHy.dqiMt.RFISA:
                this.riKuC.viLt();
                break;
        }
        this.yaHu(this.veMs, direction);
    };
    zflq.prototype.yaHu = function(veMs, direction) {
        if (!veMs.children[direction]) {
            console.warn('Can\'t change direction to ' + direction.toString() + '; rfKvC node doesn\'t rfHtE that child.');
            return;
        }
        this.yePs = veMs;
        this.veMs = veMs.children[direction];
    };
    zflq.prototype.rgOuK = function(duration) {
        if (this.rhIvA) {
            this.rgKsC();
        }
        this.rhIvA = true;
        this.rgKyB.viLt(duration);
        this.rhKwA = this.xhKt.add(duration, this.rgKsC, this);
    };
    zflq.prototype.rgKsC = function() {
        if (!this.rhIvA) {
            return;
        }
        this.xhKt.thMz(this.rhKwA);
        this.rhIvA = false;
        this.rgIzB.viLt();
    };
    return zflq;
});
scNt('dqiKy', [], function() {
    var rijya = {};
    rijya.rgHuE = function(name, taIx) {
        if (!taIx[name]) {
            return name;
        }
        var index = 1;
        while (taIx[name + '_' + index]) {
            ++index;
        }
        return name + '_' + index;
    };
    rijya.rhJxH = function(name, number) {
        if (number === 0) {
            return name;
        } else {
            return name + '_' + number;
        }
    };
    return rijya;
});
scNt('dqiKz', ['dqiKy'], function() {
    var sciu = function(type, rePvD, wbHq, zdIy, rjOzH) {
        this.type = type;
        this.name = rjOzH.rhJxF(type);
        this.rePvD = {};
        this.wbHq = wbHq;
        this.zdIy = zdIy;
        this.rjJxE = rjOzH;
        this.ujKq = true;
        this.rjJxE.add(this);
        this.xjJr('destroyOrPool', this.tbPr, this);
        if (rePvD && rePvD.length > 0) {
            for (var c = 0; c < rePvD.length; ++c) {
                this.zhLr(rePvD[c]);
            }
        }
    };
    sciu.XJPR = ['transform', 'reOsE', 'reOsH', 'vjLr', 'reOxC'];
    sciu.prototype.waIu = function(vgHv) {
        this.vgHv = vgHv;
        var zhGy = this.vgHv ? 'xbKr' : 'zdKr';
        for (var key in this.rePvD) {
            if (this.rePvD[key][zhGy]) {
                this.rePvD[key][zhGy]();
            }
            if (vgHv) {
                if (this.rePvD[key].veHr) {
                    this.zdIy.ziOx.add(this.rePvD[key].veHr, this.rePvD[key]);
                }
                if (this.rePvD[key].veIy) {
                    this.zdIy.yaMv.add(this.rePvD[key].veIy, this.rePvD[key]);
                }
            } else {
                if (this.rePvD[key].veHr) {
                    this.zdIy.ziOx.thMz(this.rePvD[key].veHr, this.rePvD[key]);
                }
                if (this.rePvD[key].veIy) {
                    this.zdIy.yaMv.thMz(this.rePvD[key].veIy, this.rePvD[key]);
                }
            }
        }
    };
    sciu.prototype.zhLr = function(whKv) {
        whKv.name = tcHy.dqiKy.rgHuE(whKv.name, this.rePvD);
        this.rePvD[whKv.name] = whKv;
        whKv.rhPrF(this);
        this.riJyF(whKv.name);
    };
    sciu.prototype.rhPxF = function(whKv) {
        if (this.rePvD[whKv.name]) {
            whKv.rgNtB(this);
            delete this.rePvD[whKv.name];
        }
    };
    sciu.prototype.zfLy = function(name) {
        if (this.rePvD[name]) {
            return this.rePvD[name];
        }
        console.warn(this.name + ' doesn\'t have a component with name ' + name);
        return null;
    };
    sciu.prototype.zfHx = function(name) {
        return this.rePvD[name];
    };
    sciu.prototype.riJyF = function(vbNv) {
        var rjKtF = sciu.XJPR.indexOf(vbNv);
        if (rjKtF > -1 && !this.hasOwnProperty(vbNv)) {
            var sdNs = '_' + vbNv;
            Object.defineProperty(this, vbNv, {
                get: function() {
                    if (!this[sdNs]) {
                        this[sdNs] = this.zfLy(vbNv);
                    }
                    return this[sdNs];
                }
            });
        }
    };
    sciu.prototype.tbPr = function() {
        this.ujKq = false;
        this.riJzG(this);
        this.rjJxE.thMz(this);
        if (this.rePvD) {
            for (var key in this.rePvD) {
                this.rePvD[key].tbPr();
            }
        }
        this.rePvD = null;
        this.wbHq = null;
        this.zdIy = null;
        this.rjJxE = null;
    };
    sciu.prototype.yaIw = function() {
        if (!this.ujKq) {
            return;
        }
        this.wbHq.ugNr.apply(this.wbHq, arguments);
    };
    sciu.prototype.xjJr = function(message, uaGu, tcLv) {
        if (!this.ujKq) {
            return;
        }
        this.wbHq.xjJr(message, uaGu, tcLv);
    };
    sciu.prototype.rjKwC = function(message, uaGu, tcLv) {
        if (!this.ujKq) {
            return;
        }
        this.wbHq.rjKwC(message, uaGu, tcLv);
    };
    sciu.prototype.ziOt = function(message, uaGu, tcLv) {
        this.wbHq.ziOt(message, uaGu, tcLv);
    };
    sciu.prototype.riJzG = function(tcLv) {
        this.wbHq.riJzG(tcLv);
    };
    return sciu;
});
scNt('dqiJq', ['dqjPs', 'dqjJz', 'dqiKz'], function() {
    var rjozj = function(vgJt) {
        console.log('EntityFactory.ctor');
        this.wjJt = vgJt;
        this.rgIzE = new tcHy.dqjJz(this.wjJt, tcHy.dqiKz);
    };
    rjozj.prototype.construct = function(riMwF) {
        var xeJw = riMwF.name;
        var rePvD = [];
        riMwF.rePvD._.rjGu(function(qfGt) {
            var xiMy = typeof qfGt;
            console.assert(xiMy === 'string' || xiMy === 'object', 'Invalid component definition \'' + qfGt.toString() + '\' on scIu \'' + xeJw + '\'. It must be defined in json as a string or an object.');
            var tcOx = xiMy === 'string' ? qfGt : qfGt.name;
            if (this.wjJt.xdGt(tcOx)) {
                var rePuH = [tcOx];
                if (xiMy === 'object' && qfGt.rePuH) {
                    rePuH = rePuH.concat(qfGt.rePuH);
                }
                var vgJy = this.wjJt.vgPu.apply(this.wjJt, rePuH);
                console.assert(vgJy, 'Failed to instantiate component with name ' + tcOx + ' for scIu \'' + xeJw + '\'');
                rePvD.push(vgJy);
            } else {
                console.warn('Unable to inject component with name ' + tcOx + ' for entity \'' + xeJw + '\'. The component doesn\'t rfHtE a DI mapping.');
            }
        }, this);
        var scIu = this.rgIzE.construct(xeJw);
        rePvD._.rjGu(function(whKv) {
            scIu.zhLr(whKv);
        }, this);
        return scIu;
    };
    return rjozj;
});
scNt('dqiJr', ['dqiKy'], function() {
    var rjozh = function() {
        console.log('EntityManager.ctor');
        this.wjKr = {};
    };
    rjozh.prototype.add = function(scIu) {
        this.wjKr[scIu.name] = scIu;
    };
    rjozh.prototype.rhJxF = function(type) {
        return tcHy.dqiKy.rgHuE(type, this.wjKr);
    };
    rjozh.prototype.thMz = function(scIu) {
        if (this.wjKr[scIu.name]) {
            delete this.wjKr[scIu.name];
        }
    };
    rjozh.prototype.find = function(name) {
        if (this.wjKr[name]) {
            return this.wjKr[name];
        }
        return null;
    };
    return rjozh;
});
scNt('dqiJs', ['dqjPs'], function() {
    var rihta = function(zdIy) {
        console.log('CollisionSystem.ctor');
        this.zaGr = zdIy;
        this.zaGr.ziOx.add(this.veHr, this);
        this.reset();
    };
    rihta.prototype.reset = function() {
        this.ubKv = [];
        this.xhMu = [];
    };
    rihta.prototype.rhLvE = function(vjLr) {
        this.xhMu.push(vjLr);
    };
    rihta.prototype.rhGrA = function(vjLr) {
        var index = this.xhMu.indexOf(vjLr);
        if (index > -1) {
            this.xhMu.splice(index, 1);
        }
    };
    rihta.prototype.rhPxJ = function(reOsH) {
        this.ubKv.push(reOsH);
    };
    rihta.prototype.rhJuK = function(reOsH) {
        var index = this.ubKv.indexOf(reOsH);
        if (index > -1) {
            this.ubKv.splice(index, 1);
        }
    };
    rihta.prototype.veHr = function() {
        this.ubKv._.rjGu(function(reOsH) {
            reOsH.riJzD();
        });
        this.ubKv._.rjGu(function(reOsH) {
            this.xhMu._.rjGu(function(vjLr) {
                if (reOsH.scIu == vjLr.scIu) {
                    return;
                }
                this.riHsH(reOsH, vjLr);
            }, this);
        }, this);
    };
    rihta.prototype.riHsH = function(reOsH, vjLr) {
        var rhPtB = reOsH.scIu.vjLr;
        if (!rhPtB.weGs() || !vjLr.weGs()) {
            return;
        }
        if (rhPtB.xcLy && rhPtB.xcLy(vjLr)) {
            rhPtB.yaIw('collision', vjLr);
            vjLr.yaIw('collision', rhPtB);
            if (!vjLr.riGuC && !rhPtB.riGuC && rhPtB.resolve) {
                rhPtB.resolve(vjLr);
            }
        }
    };
    rihta.prototype.tcPx = function() {
        this.zaGr.ziOx.thMz(this.veHr, this);
        this.zaGr = null;
        this.ubKv = null;
        this.xhMu = null;
    };
    return rihta;
});
scNt('dqiJt', ['dqjPs', 'dqiMq', 'dqiLu', 'dqiLw'], function() {
    var Transform = function(position, rfIqD, scale) {
        Transform._super.constructor.call(this, 'transform');
        this.position = position ? tcHy.dqiLw.tcLz(position) : new tcHy.dqiMq.udor(0, 0, 0);
        this.rfIqD = rfIqD ? new tcHy.dqiMq.rbhs(rfIqD.x, rfIqD.y, rfIqD.z, 'ZYX') : new tcHy.dqiMq.rbhs(0, 0, 0, 'ZYX');
        this.scale = scale ? tcHy.dqiLw.tcLz(scale) : new tcHy.dqiMq.udor(1, 1, 1);
    };
    tcHy.dqjPs.ujNz(Transform, tcHy.dqiLu);
    return Transform;
});
scNt('dqiJu', ['dqjPs', 'dqiLu', 'dqiMq', 'dqiLw'], function() {
    var reose = function(color, tiOt, rfIqD, scale, zjGv, zbKs) {
        reose._super.constructor.call(this, 'reOsE');
        if (color && typeof color === 'string') {
            color = parseInt(color);
        } else if (color && typeof color === 'number') {
            color = Math.round(color);
        } else {
            color = reose.RJOVJ;
        }
        this.color = color;
        this.rgOs = null;
        this.rfIqD = rfIqD ? new tcHy.dqiMq.rbhs(rfIqD.x, rfIqD.y, rfIqD.z, 'ZYX') : new tcHy.dqiMq.rbhs(0, 0, 0);
        this.scale = scale ? new tcHy.dqiMq.udor(scale.x, scale.y, scale.z) : new tcHy.dqiMq.udor(1, 1, 1);
        var tiOt = tiOt ? tcHy.dqiLw.tcLz(tiOt) : new tcHy.dqiMq.udor(0, 0, 0);
        this.rhKwJ = new tcHy.dqiMq.udor(0, 0, 0);
        this.rhKwJ.rjLt(tiOt);
        this.rhKwJ.normalize();
        this.zaJz = tiOt.length();
        this.zhNt = (zjGv !== undefined) ? zjGv : true;
        this.rjPrD = zbKs;
        this.sfIw = true;
    };
    tcHy.dqjPs.ujNz(reose, tcHy.dqiLu);
    reose.RJOVJ = 0xff0000;
    reose.prototype.uhMy = function() {
        if (!this.rgOs) {
            this.xfHs();
        }
    };
    reose.prototype.veIy = function() {
        this.yhOz();
    };
    reose.prototype.wcIt = function() {
        if (this.rjPrD) {
            this.rgOs.vhHr.tbOw();
            this.rgOs.vfIz.tbOw();
            this.rjPrD.thMz(this.rgOs);
        }
        this.rjPrD = null;
    };
    reose.prototype.xbKr = function() {
        this.yjKv(true);
        this.rjPrD.add(this.rgOs);
        this.sfIw = true;
    };
    reose.prototype.zdKr = function() {
        this.yhOz();
        this.rjPrD.thMz(this.rgOs);
        this.yjKv(false);
    };
    reose.prototype.xfHs = function() {
        var vhHr = new tcHy.dqiMq.rgnug(1, 1);
        var vfIz = new tcHy.dqiMq.rhira({
            color: this.color,
            ufLt: tcHy.dqiMq.yegz
        });
        this.rgOs = new tcHy.dqiMq.rgos(vhHr, vfIz);
        this.yhOz();
    };
    reose.prototype.yhOz = function() {
        var transform = this.scIu.transform;
        if (!this.rgOs.position.scIw(transform.position)) {
            this.rgOs.position.rjLt(transform.position);
            this.sfIw = true;
        }
        if (!this.rgOs.rfIqD.scIw(transform.rfIqD)) {
            var rjKzF = new tcHy.dqiMq.rbhs(transform.rfIqD.x + this.rfIqD.x, transform.rfIqD.y + this.rfIqD.y, transform.rfIqD.z + this.rfIqD.z, 'ZYX');
            this.rgOs.rfIqD.rjLt(rjKzF);
        }
        if (!this.rgOs.scale.scIw(transform.scale)) {
            var yiIq = new tcHy.dqiMq.udor(transform.scale.x * this.scale.x, transform.scale.y * this.scale.y, transform.scale.z * this.scale.z);
            this.rgOs.scale.rjLt(yiIq);
        }
        if (this.sfIw) {
            this.rgOs.rhOsB(this.rhKwJ, this.zaJz);
            this.sfIw = false;
        }
    };
    reose.prototype.yjKv = function(weGz) {
        this.rgOs.rfIxE = weGz;
    };
    reose.prototype.waHs = function(tiOt) {
        this.rhKwJ.rjLt(tiOt);
        this.rhKwJ.normalize();
        this.zaJz = tiOt.length();
        this.sfIw = true;
    };
    return reose;
});
scNt('dqiJv', ['dqjPs', 'dqiLu', 'dqiMq'], function() {
    var reosh = function(wfKw, riHtA) {
        reosh._super.constructor.call(this, 'reOsH');
        this.xhKt = wfKw;
        this.rhOyH = riHtA;
        this.riItK = true;
        this.vaGv = new tcHy.dqiMq.udor(0, 0, 0);
    };
    tcHy.dqjPs.ujNz(reosh, tcHy.dqiLu);
    reosh.TAJW = 0.45 / 0.01666666;
    reosh.WDHW = 1 / 0.01666666;
    reosh.prototype.uhMy = function() {
        this.rhOyH.rhPxJ(this);
    };
    reosh.prototype.riMvH = function() {
        this.riItK = false;
    };
    reosh.prototype.rjOyB = function() {
        this.riItK = true;
    };
    reosh.prototype.wcIt = function() {
        if (this.rhOyH) {
            this.rhOyH.rhJuK(this);
        }
        this.rhOyH = null;
    };
    reosh.prototype.riJzD = function() {
        if (this.riItK) this.vaGv.y -= reosh.TAJW * this.xhKt.wgPu;
        if (this.vaGv.length() > reosh.WDHW) {
            this.vaGv.waHq(reosh.WDHW);
        }
        this.rhLuF = this.scIu.transform.position.rbPq();
        var rjOwH = this.vaGv.rbPq();
        rjOwH.riKsH(this.xhKt.wgPu);
        this.scIu.transform.position.add(rjOwH);
    };
    return reosh;
});
scNt('dqiJw', ['dqjPs', 'dqiLu', 'dqjPw', 'dqiMq'], function() {
    var repvk = function(rhMqG, riMyJ, rgMxE, zfNy, rhGtE, rjKyJ, rjOzH, rfOyC, zfLq, rhJwG, wfKw) {
        repvk._super.constructor.call(this, 'rePvK');
        this.riMyJ = tcHy.dqjPw.vdKs ? rgMxE : riMyJ;
        this.zfNy = tcHy.dqjPw.vdKs ? rhGtE : zfNy;
        this.rdKx = rfOyC;
        this.rhKvJ = rhMqG;
        this.rjIrF = rjKyJ;
        this.rjJxE = rjOzH;
        this.zaLw = null;
        this.ziHs = new tcHy.dqiMq.udor(0, 0, 0);
        this.yhHy = null;
        this.rjJxH = new tcHy.dqiMq.udor(0, 0, 0);
        this.rjJxG = true;
        this.zaLx = zfLq;
        this.zcGy = true;
        this.rhHvJ = rhJwG;
        this.xhKt = wfKw;
    };
    tcHy.dqjPs.ujNz(repvk, tcHy.dqiLu);
    repvk.RGKWH = 0.1;
    repvk.RHHYD = 0.5;
    repvk.YEJT = 0.6;
    repvk.RGIXD = -2;
    repvk.prototype.uhMy = function() {
        this.rhPzK(this.rhKvJ);
        this.rjJxH.rjLt(this.zaLw.transform.position);
        this.rjJxH.add(this.rgJwK(this.riMyJ));
        this.rjJxH.rfIv(this.zfNy + repvk.RHHYD);
        this.rjIrF.position.rjLt(this.rjJxH);
        this.ziHs.rjLt(this.zaLw.transform.position);
        this.zaLx.rhPrC.add(this.rhPrC, this);
        this.rhHvJ.xjJr('playerRespawned', this.xhIx, this);
    };
    repvk.prototype.veHr = function() {
        if (this.zaLw.transform.position.y > repvk.RGKWH && this.zcGy) {
            var cameraPosition = new tcHy.dqiMq.udor(0, 0, 0);
            cameraPosition.add(this.zaLw.transform.position);
            cameraPosition.add(this.rgJwK(this.riMyJ));
            cameraPosition.rfIv(this.zfNy + repvk.RHHYD);
            this.yhHy = cameraPosition;
        }
        if (this.rjJxG) {
            var scGz = Math.pow(repvk.YEJT, this.xhKt.wgPu * 60);
            this.rjJxH.set((this.rjJxH.x - this.yhHy.x) * scGz + this.yhHy.x, (this.rjJxH.y - this.yhHy.y) * scGz + this.yhHy.y, (this.rjJxH.z - this.yhHy.z) * scGz + this.yhHy.z);
        }
        this.rjIrF.position.rjLt(this.rjJxH);
        if (this.zaLw.transform.position.y >= repvk.RGKWH) {
            this.ziHs.rjLt(this.zaLw.transform.position);
            this.ziHs.rfIv(repvk.RHHYD);
        }
        var zeJy = new tcHy.dqiMq.udor();
        zeJy.rjLt(this.ziHs);
        zeJy.add(this.rgJwK(repvk.RGIXD));
        this.rjIrF.tjNr(zeJy);
    };
    repvk.prototype.rgJwK = function(seMy) {
        var zgPr = new tcHy.dqiMq.udor(0, 0, -1);
        zgPr.xgLu(this.zaLw.transform.rfIqD);
        zgPr.normalize();
        zgPr.tjHz();
        zgPr.riKsH(seMy);
        return zgPr;
    };
    repvk.prototype.zfPx = function() {
        this.rjJxG = true;
    };
    repvk.prototype.rjOxG = function() {
        this.rjJxG = false;
    };
    repvk.prototype.rhMrD = function() {
        return this.rjJxH;
    };
    repvk.prototype.riLrK = function() {
        return this.ziHs;
    };
    repvk.prototype.rhPzK = function(xeJw) {
        this.zaLw = this.rjJxE.find(xeJw);
    };
    repvk.prototype.rhPrC = function() {
        this.zcGy = false;
    };
    repvk.prototype.xhIx = function() {
        var cameraPosition = new tcHy.dqiMq.udor(0, 0, 0);
        cameraPosition.add(this.zaLw.transform.position);
        cameraPosition.add(this.rgJwK(this.riMyJ));
        cameraPosition.rfIv(this.zfNy + repvk.RHHYD);
        this.rjIrF.position.rjLt(cameraPosition);
    };
    return repvk;
});
scNt('dqiJx', [], function() {
    var zgnu = {};
    zgnu.RFJZA = 'rfJzA';
    zgnu.TGLQ = 'sphere';
    zgnu.RFPXD = 'box';
    return zgnu;
});
scNt('dqiJy', ['dqjPs', 'dqiLu', 'dqiJx'], function() {
    var vjlr = function(type, riGuC, riHtA) {
        vjlr._super.constructor.call(this, 'vjLr');
        this.type = type;
        this.riGuC = riGuC;
        this.rhOyH = riHtA;
        this.ubMu = true;
    };
    tcHy.dqjPs.ujNz(vjlr, tcHy.dqiLu);
    vjlr.RIJYG = true;
    vjlr.RHGYB = false;
    vjlr.prototype.yjLs = function(tbMy) {
        this.rgHyJ(tbMy);
        this.ubMu = tbMy;
    };
    vjlr.prototype.weGs = function() {
        return this.ubMu
    };
    vjlr.prototype.xbKr = function() {
        this.rgHyJ(true);
    };
    vjlr.prototype.zdKr = function() {
        this.rgHyJ(false);
    };
    vjlr.prototype.wcIt = function() {
        this.rgHyJ(false);
    };
    vjlr.prototype.rgHyJ = function(tbMy) {
        if (tbMy) {
            this.rhOyH.rhLvE(this);
        } else {
            this.rhOyH.rhGrA(this);
        }
    };
    return vjlr;
});
scNt('dqiJz', ['dqiLx', 'dqiMq'], function() {
    var rjoqf = {};
    rjoqf.rgIsE = function(tgLq, rfJzA) {
        var rgPvA = tcHy.dqiLx.rgNzE(tgLq.scIu.transform.position);
        if (rfJzA.zeNw(rgPvA)) {
            var ziJq = Math.abs(tgLq.scIu.transform.position.y - rfJzA.scIu.transform.position.y);
            if (ziJq < tgLq.thOs) {
                return true;
            }
        }
        return false;
    };
    rjoqf.rgGuG = function(tgLq, rfJzA) {
        var rjKuB = tgLq.scIu.reOsH;
        if (rjKuB.rhLuF.y >= rfJzA.scIu.transform.position.y + (tgLq.thOs * 0.75)) {
            tgLq.scIu.transform.position.y = rfJzA.scIu.transform.position.y + tgLq.thOs;
            rjKuB.vaGv.y = 0;
        } else {
            tgLq.scIu.transform.position.x = rjKuB.rhLuF.x;
            tgLq.scIu.transform.position.z = rjKuB.rhLuF.z;
        }
    };
    rjoqf.rgHwC = function(tgLq, siLz) {
        var riHxH = tgLq.scIu.transform.position.rhJuC(siLz.scIu.transform.position);
        var rhLzH = Math.pow(tgLq.thOs + siLz.thOs, 2);
        return riHxH < rhLzH;
    };
    rjoqf.rgGyD = function(tgLq, siLz) {
        throw 'sphere on sphere collision resolving is rfKxG implemented';
    };
    rjoqf.rfPuH = function(tgLq, rfPxD) {
        var rhOsJ = new tcHy.dqiMq.udor(0, 0, 0);
        var zbMw = new tcHy.dqiMq.udor(0, 0, 0);
        var rfHxJ = new tcHy.dqiMq.udor(0, 0, 0);
        var riKuB = new tcHy.dqiMq.udor(0, 0, 0);
        rhOsJ.rjLt(rfPxD.scIu.transform.position);
        zbMw.rjLt(rfPxD.shLv);
        rfHxJ.rjLt(rhOsJ.sub(zbMw.zgGv(2)));
        zbMw.rjLt(rfPxD.shLv);
        rhOsJ.rjLt(rfPxD.scIu.transform.position);
        riKuB.rjLt(rhOsJ.add(zbMw.zgGv(2)));
        var riHxH = tgLq.thOs * tgLq.thOs;
        if (tgLq.scIu.transform.position.x < rfHxJ.x) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.x - rfHxJ.x, 2);
        } else if (tgLq.scIu.transform.position.x > riKuB.x) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.x - riKuB.x, 2);
        }
        if (tgLq.scIu.transform.position.y < rfHxJ.y + rfPxD.ubPz) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.y - (rfHxJ.y + rfPxD.ubPz), 2);
        } else if (tgLq.scIu.transform.position.y > riKuB.y + rfPxD.ubPz) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.y - (riKuB.y + rfPxD.ubPz), 2);
        }
        if (tgLq.scIu.transform.position.z < rfHxJ.z) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.z - rfHxJ.z, 2);
        } else if (tgLq.scIu.transform.position.z > riKuB.z) {
            riHxH -= Math.pow(tgLq.scIu.transform.position.z - riKuB.z, 2);
        }
        return riHxH > 0;
    };
    return rjoqf;
});
scNt('dqiIq', ['dqjPs', 'dqiJy', 'dqiJx', 'dqiJz'], function() {
    var reoxj = function(thOs, riGuC, riHtA) {
        reoxj._super.constructor.call(this, tcHy.dqiJx.TGLQ, riGuC, riHtA);
        this.thOs = thOs;
    };
    tcHy.dqjPs.ujNz(reoxj, tcHy.dqiJy);
    reoxj.prototype.xcLy = function(rjLrK) {
        switch (rjLrK.type) {
            case tcHy.dqiJx.RFJZA:
                return tcHy.dqiJz.rgIsE(this, rjLrK);
            case tcHy.dqiJx.TGLQ:
                return tcHy.dqiJz.rgHwC(this, rjLrK);
            case tcHy.dqiJx.RFPXD:
                return tcHy.dqiJz.rfPuH(this, rjLrK);
        }
        return false;
    };
    reoxj.prototype.resolve = function(rjLrK) {
        switch (rjLrK.type) {
            case tcHy.dqiJx.RFJZA:
                tcHy.dqiJz.rgGuG(this, rjLrK);
                break;
            case tcHy.dqiJx.TGLQ:
                tcHy.dqiJz.rgGyD(this, rjLrK);
                break;
        }
    };
    return reoxj;
});
scNt('dqiIr', ['dqjPs', 'dqiLu', 'dqiMy'], function() {
    var reova = function() {
        reova._super.constructor.call(this, 'reOvA');
        this.rjJvF = [];
        this.zfNu = [];
        this.rjMyC = [];
        this.ziLs = [];
        this.ygHt = [];
        this.rgJzA = {};
    };
    tcHy.dqjPs.ujNz(reova, tcHy.dqiLu);
    reova.prototype.zeNw = function(zfHu) {
        return tcHy.dqiMy.get(this.rjJvF, zfHu) ? true : false;
    };
    reova.prototype.rjKsJ = function(zfHu, vgHv) {
        tcHy.dqiMy.set(this.rjJvF, zfHu, vgHv);
    };
    reova.prototype.rgJxB = function(type) {
        var thLx = [];
        tcHy.dqiMy.ujJx(this.rjMyC, function(scIu) {
            if (scIu.type == type) {
                thLx.push(scIu);
            }
        }, this);
        return thLx;
    };
    return reova;
});
scNt('dqiIs', ['dqjPs', 'dqjOr', 'dqiMs', 'dqiKw', 'dqiLx', 'dqiLu', 'dqiLy'], function() {
    var reovb = function(rjKyJ, zfLq) {
        reovb._super.constructor.call(this, 'reOvB');
        console.log('RoadController.ctor');
        this.rjIrF = rjKyJ;
        this.zaLx = zfLq;
        this.rhNrA = [];
        this.rdIz = null;
        this.rgGxA = [];
    };
    tcHy.dqjPs.ujNz(reovb, tcHy.dqiLu);
    reovb.prototype.uhMy = function() {
        this.rdIz = this.scIu.zfLy('reOwJ');
        this.xjJr('playerRespawned', this.wcHs, this);
    };
    reovb.prototype.wcIt = function() {
        this.rjIrF = null;
        this.rjPrD = null;
        this.zaLx = null;
        this.rdIz = null;
    };
    reovb.prototype.veHr = function() {
        var yePs = this.zaLx.yePs;
        var veMs = this.zaLx.veMs;
        var rhHyC = tcHy.dqiLx.rgNzE(this.rjIrF.position);
        var rjLzK = this.zaLx.direction;
        var rhIxE = tcHy.dqiKw.rjNsK(rjLzK);
        var riJsK = [];
        riJsK = riJsK.concat(yePs.vcGy.slice(yePs.vcGy.length - 3));
        riJsK = riJsK.concat(this.rhGtF(rhIxE, veMs, rhHyC));
        if (this.rgGxA.length == 0) {
            this.rgGxA = riJsK;
        }
        riJsK._.rjGu(function(ufNw) {
            if (this.rhNrA.indexOf(ufNw) !== -1) {
                return;
            }
            var yjJs = this.rgGxA.indexOf(ufNw) === -1;
            this.rdIz.yaGz(ufNw, yjJs);
        }, this);
        this.rhNrA._.rjGu(function(ufNw) {
            if (riJsK.indexOf(ufNw) === -1) {
                this.rdIz.ydJy(ufNw);
            }
        }, this);
        this.rhNrA = riJsK.slice(0);
    };
    reovb.prototype.wcHs = function() {
        this.rgGxA = [];
    };
    reovb.prototype.rhGtF = function(rhIxE, rgLw, rhHyC) {
        var xcJq = rhIxE === tcHy.dqiKw.VAGZ;
        var index;
        var rjKtE = Infinity;
        for (index = 0; index < rgLw.vcGy.length; ++index) {
            var rgNwH = rgLw.vcGy[index].reNrG[0].zfHu;
            var rbMt = Math.abs(xcJq ? rhHyC.y - rgNwH.y : rhHyC.x - rgNwH.x);
            if (rbMt < rjKtE) {
                rjKtE = rbMt;
            } else {
                --index;
                break;
            }
        }
        return this.xeOt(index, tcHy.dqiLy.RGLRB, rgLw);
    };
    reovb.prototype.xeOt = function(rjKvE, x, rgLw) {
        if (rgLw.vcGy.length - rjKvE < x) {
            var vcGy = rgLw.vcGy.slice(rjKvE);
            var rgHqF = x - vcGy.length;
            rgLw.children._.rjGu(function(whNz) {
                var rjPzC = this.xeOt(0, rgHqF, whNz);
                vcGy = vcGy.concat(rjPzC);
            }, this);
            return vcGy;
        }
        return rgLw.vcGy.slice(rjKvE, x + rjKvE);
    };
    return reovb;
});
scNt('dqiIt', ['dqjPs', 'dqiJy', 'dqiJx'], function() {
    var reovc = function(riHtA) {
        reovc._super.constructor.call(this, tcHy.dqiJx.RFJZA, tcHy.dqiJy.RHGYB, riHtA);
        this.sfHu = null;
    };
    tcHy.dqjPs.ujNz(reovc, tcHy.dqiJy);
    reovc.prototype.xbKr = function() {
        reovc._super.xbKr.call(this);
        this.sfHu = this.scIu.zfLy('reOvA');
    };
    reovc.prototype.zdKr = function() {
        reovc._super.zdKr.call(this);
        this.sfHu = null;
    };
    reovc.prototype.zeNw = function(zfHu) {
        return this.sfHu && this.sfHu.zeNw(zfHu);
    };
    return reovc;
});
scNt('dqiIu', ['dqjPs', 'dqiLu'], function() {
    var repvf = function(type) {
        repvf._super.constructor.call(this, 'rePvF');
        this.type = type;
    };
    tcHy.dqjPs.ujNz(repvf, tcHy.dqiLu);
    repvf.prototype.rfOuD = function(rePvE) {
        this.yaIw('rePvG');
        this.yaIw('destroyOrPool', this.scIu);
    };
    return repvf;
});
scNt('dqiIv', ['dqjPs', 'dqiLu'], function() {
    var repve = function(rhHzD, rhHzC) {
        repve._super.constructor.call(this, 'rePvE');
        this.rgOrK = rhHzD;
        this.rgOrJ = rhHzC;
    };
    tcHy.dqjPs.ujNz(repve, tcHy.dqiLu);
    repve.prototype.uhMy = function() {
        this.xjJr('collision', this.ybNs, this);
    };
    repve.prototype.wcIt = function() {
        this.ziOt('collision', this.ybNs, this);
    };
    repve.prototype.ybNs = function(vjLr) {
        if (vjLr.scIu.zfHx('rePvF')) {
            var rePvF = vjLr.scIu.zfLy('rePvF');
            if (rePvF) {
                this.rgOrK.rfOuD(rePvF.type);
                this.rgOrJ.add(vjLr.scIu);
                rePvF.rfOuD(this);
                this.yaIw('rfOuD');
            }
        }
    };
    return repve;
});
scNt('dqiIw', ['dqjPs', 'dqiLu', 'dqiMq', 'dqiLw'], function() {
    var repud = function(qaHs, rjKyJ) {
        this.rdLu = qaHs ? tcHy.dqiLw.tcLz(qaHs) : new tcHy.dqiMq.udor(1, 1, 1);
        repud._super.constructor.call(this, 'rePuD');
        this.rjIrF = rjKyJ;
    };
    tcHy.dqjPs.ujNz(repud, tcHy.dqiLu);
    repud.prototype.veIy = function() {
        var qdJv = new tcHy.dqiMq.uilr();
        var cameraPosition = this.rhNqF(this.rjIrF.position);
        var riKtH = this.rhNqF(this.scIu.transform.position);
        qdJv.tjNr(cameraPosition, riKtH, tcHy.dqiMq.veju.wgpr);
        this.scIu.transform.rfIqD.rgJrK(qdJv, 'ZYX');
    };
    repud.prototype.rhNqF = function(position) {
        var wbIs = new tcHy.dqiMq.udor();
        wbIs.rjLt(position);
        wbIs.veOs(this.rdLu);
        return wbIs;
    };
    return repud;
});
scNt('dqiIx', [], function() {
    var zdhy = {};
    zdhy.UFPV = 'running';
    zdhy.UJIU = 'jumping';
    zdhy.UFJW = 'sliding';
    zdhy.RJLUF = 'power_sliding';
    zdhy.YGJV = 'air_dashing';
    return zdhy;
});
scNt('dqiIy', ['dqiLx', 'dqiLv'], function() {
    var vels = {};
    vels.rgIyE = function(zfLq, rjJuG) {
        var uiGy = tcHy.dqiLx.rgOzJ(zfLq.veMs.zfHu, 0.5);
        var sfLw = Math.abs(rjJuG.x - uiGy.x);
        var sfKz = Math.abs(rjJuG.z - uiGy.z);
        return sfLw < (1.5 * tcHy.dqiLv.ZIKS) && sfKz < (1.5 * tcHy.dqiLv.ZAOU);
    };
    return vels;
});
scNt('dqiIz', ['dqjPs', 'dqiMq', 'dqjOr', 'dqiLu', 'dqiMs', 'dqiKw', 'dqiLx', 'dqiLv', 'dqiLr', 'dqiLy', 'dqiIy', 'dqiMy', 'dqiMt', 'dqiIx'], function() {
    var reouk = function(zfLq, rfOyC, wdNu, rfJzA) {
        reouk._super.constructor.call(this, 'reOuK');
        this.zaLx = zfLq;
        this.rdKx = rfOyC;
        this.xhJv = wdNu;
        this.xhHu = rfJzA.zfLy('reOvA');
        this.rgMsD = true;
        this.rgGzJ = true;
    };
    tcHy.dqjPs.ujNz(reouk, tcHy.dqiLu);
    reouk.RGMUJ = 100;
    reouk.RJKZA = 300;
    reouk.RGNSJ = tcHy.dqiLy.YAKU + 0.28;
    reouk.prototype.uhMy = function() {
        this.scIu.transform.position = tcHy.dqiLx.rgOzJ(this.xhJv.veLq.rfLv.zfHu, 0.5);
        this.scIu.xjJr('enterPlayerState', this.rgOsC, this);
        this.xjJr('inputEvent', this.zdKu, this);
    };
    reouk.prototype.wcIt = function() {
        this.ziOt('inputEvent', this.zdKu, this);
        this.scIu.ziOt('enterPlayerState', this.rgOsC, this);
    };
    reouk.prototype.rgOsC = function(event, from, to) {
        switch (to) {
            case tcHy.dqiIx.YGJV:
            case tcHy.dqiIx.RJLUF:
                this.rgMsD = false;
                break;
            case tcHy.dqiIx.UJIU:
                this.rgGzJ = false;
                this.rgMsD = true;
                break;
            default:
                this.rgGzJ = true;
                this.rgMsD = true;
        }
    };
    reouk.prototype.zdKu = function(wgHq) {
        if (wgHq === tcHy.dqiLr.INPUT.WCNQ) {
            this.vePv();
        } else if (wgHq === tcHy.dqiLr.INPUT.XBNU) {
            this.wcNu();
        }
    };
    reouk.prototype.tdIx = function(rhIwC) {
        if (!this.rgMsD) {
            return false;
        }
        var xiIv = true;
        if (this.rgGzJ) {
            var position = this.rhHvH(rhIwC, true);
            var zfHu = tcHy.dqiLx.rgNzE(position);
            var vaNr = tcHy.dqiMy.get(this.xhHu.zfNu, zfHu);
            xiIv = vaNr && vaNr.vaNt !== tcHy.dqiMt.RBIV;
            if (!xiIv) {
                position = this.rhHvH(rhIwC, false);
                zfHu = tcHy.dqiLx.rgNzE(position);
                vaNr = tcHy.dqiMy.get(this.xhHu.zfNu, zfHu);
                xiIv = vaNr && vaNr.vaNt !== tcHy.dqiMt.RBIV;
            }
        }
        return xiIv && this.scIu.transform.position.y > reouk.RGNSJ;
    };
    reouk.prototype.vePv = function() {
        if (this.tdIx(tcHy.dqiMs.RJLXK)) {
            this.rdJw(tcHy.dqiMs.RJLXK);
        }
    };
    reouk.prototype.wcNu = function() {
        if (this.tdIx(tcHy.dqiMs.RIKZB)) {
            this.rdJw(tcHy.dqiMs.RIKZB);
        }
    };
    reouk.prototype.rdJw = function(rhIwC) {
        if (tcHy.dqiIy.rgIyE(this.zaLx, this.scIu.transform.position)) {
            var direction = tcHy.dqiMs.ydLt(this.zaLx.direction, rhIwC);
            var rhNuG = this.rhOyK(direction);
            if (rhNuG) {
                return;
            }
        }
        this.yhIt(rhIwC);
    };
    reouk.prototype.rhOyK = function(direction) {
        if (this.zaLx.veMs.children[direction]) {
            this.zaLx.riHrA(direction);
            this.scIu.transform.position.rfIu(Math.round(this.scIu.transform.position.x));
            this.scIu.transform.position.rfIw(Math.round(this.scIu.transform.position.z));
            var riJwA = tcHy.dqiMs.riLqC(direction);
            var zdLy = tcHy.dqiMs.riGqF(this.scIu.transform.rfIqD);
            this.scIu.transform.rfIqD.y %= 2 * Math.PI;
            var riHvB = this.scIu.transform.rfIqD.y;
            var viLy = Math.abs(riJwA - riHvB);
            if (viLy > Math.PI) {
                if (riJwA > riHvB) {
                    riJwA -= Math.PI * 2;
                } else {
                    riJwA += Math.PI * 2;
                }
            }
            this.rdKx.add.sgIs(this.scIu.transform.rfIqD).to({
                y: riJwA
            }, reouk.RJKZA, tcHy.dqjOr.sckv.wbhv.ragv, true);
            var rhIwC = tcHy.dqiMs.rjNuJ(zdLy, direction);
            this.yaIw('reOuC', rhIwC);
            return true;
        }
        return false;
    };
    reouk.prototype.rhHvH = function(rhIwC, viMu) {
        var riMvJ = rhIwC === tcHy.dqiMs.RJLXK ? -1 : 1;
        var riHwB = tcHy.dqiMs.uaNx(this.zaLx.direction);
        var riJwB = new tcHy.dqiMq.udor();
        riJwB.rjLt(this.scIu.transform.position);
        if (viMu) {
            riJwB.x += -riHwB.y * riMvJ + riHwB.x;
            riJwB.z += riHwB.x * riMvJ + riHwB.y;
        } else {
            riJwB.x += -riHwB.y * riMvJ;
            riJwB.z += riHwB.x * riMvJ;
        }
        riJwB.x = Math.round(riJwB.x);
        riJwB.z = Math.round(riJwB.z);
        return riJwB;
    };
    reouk.prototype.yhIt = function(rhIwC) {
        var riJwB = this.rhHvH(rhIwC, true);
        var rgOxK = this.zaLx.rgHzG() === tcHy.dqiKw.VAGZ;
        var rhOtD = rgOxK ? {
            x: riJwB.x
        } : {
            z: riJwB.z
        };
        this.rdKx.add.sgIs(this.scIu.transform.position).to(rhOtD, reouk.RGMUJ, tcHy.dqjOr.sckv.wbhv.ragv, true);
        this.yaIw('reOsA');
    };
    return reouk;
});
scNt('dqiHq', ['dqjPs', 'dqiLu', 'dqiMs', 'dqiIx', 'dqiIz'], function() {
    var reoue = function(rfOyC, zfLq, wfKw, rhJwG, rjLuD) {
        reoue._super.constructor.call(this, 'reOuE');
        this.rdKx = rfOyC;
        this.zaLx = zfLq;
        this.xhKt = wfKw;
        this.rhHvJ = rhJwG;
        this.rjIqK = rjLuD;
        this.sfGt = 0;
        this.rjIrK = 1;
        this.zaMy = null;
        this.rgOsF = 0;
        this.ygMw = null;
    };
    tcHy.dqjPs.ujNz(reoue, tcHy.dqiLu);
    reoue.VCPX = 'recovery';
    reoue.NORMAL = 'normal';
    reoue.TDKW = 'boosted';
    reoue.UEPR = 'rePwG';
    reoue.VALUES = {};
    reoue.VALUES[reoue.VCPX] = 0.05 / 0.01666666;
    reoue.VALUES[reoue.NORMAL] = 0.15 / 0.01666666;
    reoue.VALUES[reoue.TDKW] = 0.225 / 0.01666666;
    reoue.VALUES[reoue.UEPR] = 0.0 / 0.01666666;
    reoue.RGGWE = 500;
    reoue.RGGXH = 1500;
    reoue.RFPVD = 500;
    reoue.RFPWJ = 1000;
    reoue.RFPVE = 2000;
    reoue.RGLVA = 0.8;
    reoue.prototype.uhMy = function() {
        this.set(reoue.NORMAL);
        this.xjJr('reOuC', this.riIwC, this);
        this.xjJr('enterPlayerState', this.rgOsC, this);
        this.xjJr('leavePlayerState', this.rgOsA, this);
        this.xjJr('rePvA', this.xhIu, this);
        this.xjJr('collision', this.ziGy, this);
        this.xjJr('rePwG', this.teMq, this);
        this.xjJr('reOuC', this.riKuD, this);
        this.rhHvJ.xjJr('levelEnded', this.wjLz, this);
    };
    reoue.prototype.veHr = function() {
        this.riIwC();
        if (this.ygPy) {
            return;
        }
        if (this.zaMy === reoue.VCPX && this.xhKt.now > this.rgOsF + reoue.RFPWJ) {
            this.set(reoue.NORMAL);
        } else if (this.zaMy === reoue.TDKW && this.xhKt.now > this.rgOsF + this.rjIqK.xdIy('rfGsH')) {
            this.set(reoue.NORMAL);
        }
    };
    reoue.prototype.wcIt = function() {
        this.ziOt('reOuC', this.riIwC, this);
        this.ziOt('enterPlayerState', this.rgOsC, this);
        this.ziOt('leavePlayerState', this.rgOsA, this);
        this.ziOt('rePvA', this.xhIu, this);
        this.ziOt('collision', this.ziGy, this);
        this.ziOt('rePwG', this.teMq, this);
    };
    reoue.prototype.ziGy = function(vjLr) {
        if (vjLr.scIu.type === 'rfGvH') {
            this.yaIw('reOwB');
            this.rgOsF = this.xhKt.now;
            this.set(reoue.TDKW);
        }
    };
    reoue.prototype.set = function(rfKqC) {
        if (rfKqC === this.zaMy || this.zaMy === reoue.UEPR) {
            return;
        }
        if (this.ygMw) {
            this.ygMw.stop();
        }
        if (rfKqC === reoue.VCPX) {
            this.rgOtB(rfKqC);
        } else if (rfKqC === reoue.TDKW) {
            this.rgOtB(rfKqC);
        } else if (rfKqC === reoue.NORMAL) {
            var duration = this.zaMy === reoue.TDKW ? reoue.RFPVD : reoue.RGGWE;
            this.zhMs(rfKqC, duration);
        } else if (rfKqC === reoue.UEPR) {
            this.zhMs(reoue.UEPR, reoue.RGGXH);
        } else {
            throw 'invalid shHz rfKqC';
        }
        this.zaMy = rfKqC;
        this.yaIw('playerSpeedChanged', this.zaMy);
        this.rgOsF = this.xhKt.now;
    };
    reoue.prototype.rgOtB = function(rfKqC) {
        this.sfGt = reoue.VALUES[rfKqC];
    };
    reoue.prototype.zhMs = function(rfKqC, duration) {
        var shHz = reoue.VALUES[rfKqC];
        this.ygMw = this.rdKx.add.sgIs(this).to({
            sfGt: shHz
        }, duration, rfjwh.sckv.tjoq.rglx, true);
    };
    reoue.prototype.riIwC = function() {
        var riHwB = tcHy.dqiMs.uaNx(this.zaLx.direction);
        this.scIu.reOsH.vaGv.x = riHwB.x * this.sfGt * this.rjIrK;
        this.scIu.reOsH.vaGv.z = riHwB.y * this.sfGt * this.rjIrK;
    };
    reoue.prototype.rgOsC = function(event, from, to) {
        if (to === tcHy.dqiIx.UFJW) {
            this.rjIrK = reoue.RGLVA;
        } else if (to === tcHy.dqiIx.YGJV) {
            this.set(reoue.TDKW);
        } else if (from === tcHy.dqiIx.YGJV) {
            this.set(reoue.NORMAL);
        }
    };
    reoue.prototype.rgOsA = function(event, from, to) {
        if (from === tcHy.dqiIx.UFJW) {
            this.rjIrK = 1.0;
        }
    };
    reoue.prototype.xhIu = function(seMy, zbPz) {
        this.set(reoue.VCPX);
    };
    reoue.prototype.teMq = function() {
        this.set(reoue.UEPR);
    };
    reoue.prototype.riGrF = function() {
        return this.zaMy
    };
    reoue.prototype.wjLz = function() {
        if (this.ygMw) {
            this.ygMw.stop();
        }
        this.ygPy = true;
        this.rgOtB(reoue.UEPR);
    };
    reoue.prototype.riKuD = function() {
        this.rjIrK = 0;
        this.rdKx.add.sgIs(this).to({
            rjIrK: 1
        }, tcHy.dqiIz.RJKZA, rfjwh.sckv.wbhv.ragv, true);
    };
    return reoue;
});
scNt('dqiHr', ['dqjPs', 'dqiLu', 'dqiIx'], function() {
    var reotb = function(wfKw) {
        reotb._super.constructor.call(this, 'reOtB');
        this.xhKt = wfKw;
        this.xhKz = false;
        this.rjJwA = 0;
        this.xhJt = false;
        this.rgLzA = null;
    };
    tcHy.dqjPs.ujNz(reotb, tcHy.dqiLu);
    reotb.XCJU = 0.12 / 0.01666666;
    reotb.RJOUE = 200;
    reotb.prototype.uhMy = function() {
        this.rgLzA = this.scIu.zfLy('reOwK');
        this.xhJt = false;
    };
    reotb.prototype.wcIt = function() {};
    reotb.prototype.tdIw = function() {
        return this.rgLzA.riLxF();
    };
    reotb.prototype.rfHwF = function() {
        if (this.tdIw()) {
            this.yaIw('reOtB');
            this.scIu.reOsH.vaGv.y = reotb.XCJU;
            this.xhJt = true;
        }
    };
    reotb.prototype.xfPu = function() {
        return !this.xhKz;
    };
    reotb.prototype.teGr = function() {
        this.yaIw('reOsC');
        this.xhKz = true;
        this.rjJwA = this.xhKt.now;
        this.scIu.reOsH.vaGv.y = 0;
        this.scIu.reOsH.riMvH();
    };
    reotb.prototype.vbIs = function() {
        this.xhKz = false;
        this.scIu.reOsH.rjOyB();
    };
    reotb.prototype.veHr = function() {
        if (this.xhKz && this.xhKt.now > this.rjJwA + reotb.RJOUE) {
            this.vbIs();
        }
        if (this.xhJt && this.scIu.reOsH.vaGv.y <= 0) {
            this.xhJt = false;
            this.yaIw('playerJumpPeakReached');
        }
    };
    return reotb;
});
scNt('dqiHs', [], function() {
    var rgpyd = function(uePz, rgPwE, rhLzE, duration, riHyJ) {
        this.uePz = uePz;
        this.rgPwE = rgPwE;
        this.rhLzE = rhLzE;
        this.duration = duration;
        this.riHyJ = riHyJ;
    };
    return rgpyd;
});
scNt('dqiHt', ['dqjPs', 'dqjOr', 'dqiLu', 'dqiHs', 'dqiLy'], function() {
    var reoxc = function(rfOyC) {
        reoxc._super.constructor.call(this, 'reOxC');
        this.sePt = null;
        this.rdKx = rfOyC;
    };
    tcHy.dqjPs.ujNz(reoxc, tcHy.dqiLu);
    reoxc.ANIMATIONS = {};
    reoxc.ANIMATIONS['roadEaseIn'] = new tcHy.dqiHs('transform.position', {
        y: tcHy.dqiLy.RGIXF
    }, {
        y: tcHy.dqiLy.YAKU
    }, tcHy.dqiLy.RHHXE, tcHy.dqjOr.sckv.wbhv.qcnz);
    reoxc.prototype.play = function(name) {
        console.assert(reoxc.ANIMATIONS[name], 'reoxc.play expects an existing animation name. Don\'t forget to add your animationData to the animationManager raPz.');
        var animation = reoxc.ANIMATIONS[name];
        var rhNsC = this.rfPqH(animation);
        var rhLzE = {};
        for (var wbOw in animation.rhLzE) {
            if (rhNsC[wbOw] != null) {
                rhLzE[wbOw] = rhNsC[wbOw] + animation.rhLzE[wbOw];
            }
        }
        for (var wbOw in animation.rgPwE) {
            if (rhNsC[wbOw] != null) {
                rhNsC[wbOw] += animation.rgPwE[wbOw];
            }
        }
        this.sePt = this.rdKx.add.sgIs(rhNsC).to(rhLzE, animation.duration, animation.riHyJ, true);
    };
    reoxc.prototype.stop = function() {
        if (this.sePt != null) {
            this.sePt.stop(true);
        }
    };
    reoxc.prototype.rfPqH = function(rjPvC) {
        if (rjPvC.uePz == 'transform.position') {
            return this.scIu.transform.position;
        }
    };
    reoxc.prototype.uhMy = function() {
        this.xjJr('stopAnimation', this.stop, this);
    };
    reoxc.prototype.wcIt = function() {
        this.ziOt('stopAnimation', this.stop, this);
    };
    return reoxc;
});
scNt('dqiHu', ['dqjPs', 'dqiMq', 'dqiJu'], function() {
    var yjgz = function(zjJu, tiOt, rfIqD, scale, rgKyH, zbKs) {
        yjgz._super.constructor.call(this, tcHy.dqiJu.RJOVJ, tiOt, rfIqD, scale, zbKs);
        this.rgJuF = rgKyH;
        this.zhNq = zjJu;
    };
    tcHy.dqjPs.ujNz(yjgz, tcHy.dqiJu);
    yjgz.prototype.xfHs = function() {
        var map = this.rgJuF.riGsD(this.zhNq);
        var vfIz = new tcHy.dqiMq.rijve({
            map: map,
            color: 0xffffff
        });
        this.rgOs = new tcHy.dqiMq.rfisb(vfIz);
        this.yhOz();
        this.rjPrD.add(this.rgOs);
    };
    return yjgz;
});
scNt('dqiHv', ['dqiMq'], function() {
    var rinvf = function(vfIz) {
        tcHy.dqiMq.rfisb.call(this, vfIz);
        this.rhNwG = null;
        this.zgKz = 0;
        this.currentTime = 0;
        this.loop = false;
        this.animations = {};
        this.zgJu = 0;
    };
    rinvf.prototype = Object.create(tcHy.dqiMq.rfisb.prototype);
    rinvf.prototype.zhMy = function(name, vaOy, qeIv, sjOx) {
        this.animations[name] = {};
        this.animations[name].vaOy = vaOy;
        this.animations[name].qeIv = qeIv || 30;
        this.animations[name].sjOx = sjOx;
        vaOy.forEach(function(ueMt) {
            ueMt.sfMy = ueMt.sfMz = tcHy.dqiMq.rijqe;
        }, this);
        this.rgKqD(this.animations[name]);
    };
    rinvf.prototype.play = function(name, loop) {
        this.zgKz = 0;
        this.currentTime = 0;
        this.rhNwG = this.animations[name];
        this.vfIz.map = this.rhNwG.vaOy[0];
        this.loop = loop || false;
        this.zgJu = 0;
    };
    rinvf.prototype.stop = function() {
        this.rhNwG = null;
    };
    rinvf.prototype.ziOy = function() {
        var frames = this.rhNwG.sjOx[this.zgJu].frames;
        var xiOz = frames.length / this.rhNwG.qeIv;
        var zbKy = this.currentTime / xiOz;
        this.zgKz = Math.floor(zbKy * frames.length);
        if (this.zgKz >= frames.length - 1) {
            if (this.zgJu + 1 <= this.rhNwG.sjOx.length - 1) {
                this.zgJu++;
            } else {
                if (this.loop) {
                    this.zgJu = 0;
                } else {
                    var wdOt = this.rhNwG.sjOx[this.zgJu].frames.length - 1;
                    this.zgKz = Math.min(wdOt, this.zgKz);
                    return;
                }
            }
            this.zgKz = 0;
            this.currentTime = 0;
            this.vfIz.map = this.rhNwG.vaOy[this.zgJu];
        }
    };
    rinvf.prototype.rgHxJ = function() {
        var ueMt = this.vfIz.map;
        var yePr = this.rhNwG.sjOx[this.zgJu];
        var frame = yePr.frames[this.zgKz].frame;
        var zjJy = yePr.meta.size;
        ueMt.tiOt.x = frame.x / zjJy.w;
        ueMt.tiOt.y = (1 - frame.y / zjJy.h) - (frame.h / zjJy.h);
    };
    rinvf.prototype.weGv = function() {
        return !!this.rhNwG;
    };
    rinvf.prototype.update = function(zgHq) {
        if (!this.rhNwG) {
            return;
        }
        this.currentTime += zgHq;
        this.ziOy();
        this.rgHxJ();
    };
    rinvf.prototype.rgKqD = function(animation) {
        for (var i = 0; i < animation.sjOx.length; i++) {
            var yePr = animation.sjOx[i];
            var frame = yePr.frames[0].frame;
            var zjJy = yePr.meta.size;
            animation.vaOy[i].repeat.set(frame.w / zjJy.w, frame.h / zjJy.h);
        }
    };
    return rinvf;
});
scNt('dqiHw', ['dqjPs', 'dqiMq', 'dqiHv', 'dqiJu'], function() {
    var rhhxf = function(animations, tiOt, rfIqD, scale, rgKyH, zbKs, wfKw, rfOyC) {
        this.yhJz = animations;
        this.rgJuF = rgKyH;
        this.xhKt = wfKw;
        this.rdKx = rfOyC;
        rhhxf._super.constructor.call(this, tcHy.dqiJu.RJOVJ, tiOt, rfIqD, scale, zbKs);
    };
    tcHy.dqjPs.ujNz(rhhxf, tcHy.dqiJu);
    rhhxf.prototype.xfHs = function() {
        var vfIz = new tcHy.dqiMq.rijve({
            color: 0xffffff
        });
        this.rgOs = new tcHy.dqiHv(vfIz);
        for (var key in this.yhJz) {
            var animation = this.yhJz[key];
            var vaOy = [];
            var sjOx = [];
            var rhHqJ = 1;
            vaOy[rhHqJ - 1] = this.rgJuF.riGsD(animation.rfGvB + '.png');
            sjOx[rhHqJ - 1] = this.rdKx.rcIy.taLy(animation.rfGvB);
            this.rgOs.zhMy(animation.name, vaOy, animation.qeIv || 30, sjOx);
        }
        this.yhOz();
        this.rjPrD.add(this.rgOs);
    };
    rhhxf.prototype.uhMy = function() {
        this.xjJr('playAnimation', this.play, this);
        this.xjJr('stopAnimation', this.stop, this);
        rhhxf._super.uhMy.call(this);
    };
    rhhxf.prototype.veHr = function() {
        this.rgOs.update(this.xhKt.wgPu);
    };
    rhhxf.prototype.wcIt = function() {
        rhhxf._super.wcIt.call(this);
        this.ziOt('playAnimation', this.play, this);
        this.ziOt('stopAnimation', this.stop, this);
    };
    rhhxf.prototype.play = function(name, loop) {
        this.rgOs.play(name, loop);
    };
    rhhxf.prototype.stop = function() {
        this.rgOs.stop();
    };
    return rhhxf;
});
scNt('dqiHx', ['dqiMq'], function() {
    tcHy.dqiMq.wcny = function(rjKyH, tdLq, uhLw, crossOrigin) {
        this.rjKyH = rjKyH;
        this.tdLq = tdLq;
        this.uhLw = uhLw;
        this.crossOrigin = crossOrigin;
    };
    tcHy.dqiMq.wcny.prototype = {
        constructor: tcHy.dqiMq.wcny,
        load: function(url, onLoad, onProgress, onError) {
            var shMr = this;
            var rfKsE = new tcHy.dqiMq.xhow();
            rfKsE.riJsD(this.crossOrigin);
            rfKsE.load(url, function(text) {
                onLoad(shMr.parse(text));
            }, onProgress, onError);
        },
        parse: function(text) {
            var sjLz = text.match(/[^\r\n]+/g);
            var info = {};
            var rhJtB = /\s+/;
            var rjMuA = {};
            for (var i = 0; i < sjLz.length; i++) {
                var rhJz = sjLz[i];
                rhJz = rhJz.trim();
                if (rhJz.length === 0 || rhJz.charAt(0) === '#') {
                    continue;
                }
                var qcLw = rhJz.indexOf(' ');
                var key = (qcLw >= 0) ? rhJz.substring(0, qcLw) : rhJz;
                key = key.toLowerCase();
                var value = (qcLw >= 0) ? rhJz.substring(qcLw + 1) : "";
                value = value.trim();
                if (key === "newmtl") {
                    info = {
                        name: value
                    };
                    rjMuA[value] = info;
                } else if (info) {
                    if (key === "ka" || key === "kd" || key === "ks") {
                        var qhJx = value.split(rhJtB, 3);
                        info[key] = [parseFloat(qhJx[0]), parseFloat(qhJx[1]), parseFloat(qhJx[2])];
                    } else {
                        info[key] = value;
                    }
                }
            }
            var riGxJ = new tcHy.dqiMq.wcny.rigxj(this.rjKyH, this.tdLq, this.uhLw);
            riGxJ.crossOrigin = this.crossOrigin;
            riGxJ.zcHt(rjMuA);
            return riGxJ;
        }
    };
    tcHy.dqiMq.wcny.rigxj = function(rjKyH, tdLq, uhLw) {
        this.rjKyH = rjKyH;
        this.tdLq = tdLq;
        this.uhLw = uhLw;
        this.rjMuA = {};
        this.wdIz = {};
        this.riKqH = [];
        this.xbMr = {};
        this.rfHr = (this.uhLw && this.uhLw.rfHr) ? this.uhLw.rfHr : tcHy.dqiMq.wflt;
        this.rdNv = (this.uhLw && this.uhLw.rdNv) ? this.uhLw.rdNv : tcHy.dqiMq.rijqe;
    };
    tcHy.dqiMq.wcny.rigxj.prototype = {
        constructor: tcHy.dqiMq.wcny.rigxj,
        zcHt: function(rjMuA) {
            this.rjMuA = this.tcLz(rjMuA);
            this.wdIz = {};
            this.riKqH = [];
            this.xbMr = {};
        },
        tcLz: function(rjMuA) {
            if (!this.uhLw) return rjMuA;
            var whJz = {};
            for (var qiIv in rjMuA) {
                var qdJv = rjMuA[qiIv];
                var scPq = {};
                whJz[qiIv] = scPq;
                for (var rfOw in qdJv) {
                    var save = true;
                    var value = qdJv[rfOw];
                    var sjJu = rfOw.toLowerCase();
                    switch (sjJu) {
                        case 'kd':
                        case 'ka':
                        case 'ks':
                            if (this.uhLw && this.uhLw.zdMr) {
                                value = [value[0] / 255, value[1] / 255, value[2] / 255];
                            }
                            if (this.uhLw && this.uhLw.riLuD) {
                                if (value[0] === 0 && value[1] === 0 && value[1] === 0) {
                                    save = false;
                                }
                            }
                            break;
                        case 'd':
                            if (this.uhLw && this.uhLw.rhGwK) {
                                value = 1 - value;
                            }
                            break;
                        default:
                            break;
                    }
                    if (save) {
                        scPq[sjJu] = value;
                    }
                }
            }
            return whJz;
        },
        preload: function() {
            for (var qiIv in this.rjMuA) {
                this.create(qiIv);
            }
        },
        vhGt: function(zeIy) {
            return this.xbMr[zeIy];
        },
        xdJq: function() {
            var index = 0;
            for (var qiIv in this.rjMuA) {
                this.riKqH[index] = this.create(qiIv);
                this.xbMr[qiIv] = index;
                index++;
            }
            return this.riKqH;
        },
        create: function(zeIy) {
            if (this.wdIz[zeIy] === undefined) {
                this.riHuA(zeIy);
            }
            return this.wdIz[zeIy];
        },
        riHuA: function(zeIy) {
            var qdJv = this.rjMuA[zeIy];
            var tiLv = {
                name: zeIy,
                rfHr: this.rfHr
            };
            for (var rfOw in qdJv) {
                var value = qdJv[rfOw];
                switch (rfOw.toLowerCase()) {
                    case 'kd':
                        tiLv['tbPy'] = new tcHy.dqiMq.Color().wfMy(value);
                        break;
                    case 'ka':
                        break;
                    case 'ks':
                        tiLv['vbKw'] = new tcHy.dqiMq.Color().wfMy(value);
                        break;
                    case 'map_kd':
                        tiLv['map'] = this.ycKr(this.tdLq + value);
                        tiLv['map'].sfMy = this.rdNv;
                        tiLv['map'].sfMz = this.rdNv;
                        break;
                    case 'ns':
                        tiLv['xjPq'] = value;
                        break;
                    case 'd':
                        tiLv['zjGv'] = true;
                        tiLv['opacity'] = value;
                        break;
                    case 'map_bump':
                    case 'rjNs':
                        if (tiLv['tdJv']) break;
                        tiLv['tdJv'] = this.ycKr(this.tdLq + value);
                        tiLv['tdJv'].sfMy = this.rdNv;
                        tiLv['tdJv'].sfMz = this.rdNv;
                        break;
                    default:
                        break;
                }
            }
            if (tiLv['tbPy']) {
                tiLv['color'] = tiLv['tbPy'];
            }
            this.wdIz[zeIy] = new tcHy.dqiMq.rhisj(tiLv);
            return this.wdIz[zeIy];
        },
        ycKr: function(url, uiMs, onLoad, onError) {
            var ueMt;
            var rfKsE = tcHy.dqiMq.rfkse.vgox.get(url);
            if (rfKsE !== null) {
                ueMt = rfKsE.load(url, onLoad);
            } else {
                ueMt = new tcHy.dqiMq.uemt();
                var rfGsE = this.rjKyH;
                rfKsE = new tcHy.dqiMq.ydiw();
                rfKsE.crossOrigin = this.crossOrigin;
                rfKsE.load(url, function(image) {
                    ueMt.image = tcHy.dqiMq.wcny.rhJvK(image);
                    ueMt.ycGw = true;
                    rfGsE.rjJrJ(ueMt, 0);
                    if (onLoad) onLoad(ueMt);
                });
            }
            if (uiMs !== undefined) ueMt.uiMs = uiMs;
            return ueMt;
        }
    };
    tcHy.dqiMq.wcny.rhJvK = function(image) {
        if (!tcHy.dqiMq.Math.zeNt(image.width) || !tcHy.dqiMq.Math.zeNt(image.height)) {
            var canvas = document.createElement("canvas");
            canvas.width = tcHy.dqiMq.wcny.rgJzB(image.width);
            canvas.height = tcHy.dqiMq.wcny.rgJzB(image.height);
            var qePx = canvas.getContext("2d");
            qePx.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);
            return canvas;
        }
        return image;
    };
    tcHy.dqiMq.wcny.rgJzB = function(x) {
        --x;
        for (var i = 1; i < 32; i <<= 1) {
            x = x | x >> i;
        }
        return x + 1;
    };
    tcHy.dqiMq.rihya.prototype.apply(tcHy.dqiMq.wcny.prototype);
    return tcHy.dqiMq.wcny;
});
scNt('dqiHy', ['dqiMq', 'dqiHx'], function() {
    tcHy.dqiMq.zdlq = function(rjKyH, uiNy) {
        this.rjKyH = rjKyH;
        this.uiNy = (uiNy !== undefined) ? uiNy : tcHy.dqiMq.rgksb;
    };
    tcHy.dqiMq.zdlq.prototype = {
        constructor: tcHy.dqiMq.zdlq,
        load: function(url, tjHq, onLoad, onProgress, onError) {
            var shMr = this;
            var wcNy = new tcHy.dqiMq.wcny(this.rjKyH, url.substr(0, url.lastIndexOf("/") + 1), {
                rfHr: tcHy.dqiMq.xels
            });
            wcNy.crossOrigin = shMr.crossOrigin;
            wcNy.load(tjHq, function(wdIz) {
                var rhMxB = wdIz;
                rhMxB.preload();
                var rfKsE = new tcHy.dqiMq.xhow(shMr.uiNy);
                rfKsE.riJsD(shMr.crossOrigin);
                rfKsE.load(url, function(text) {
                    var object = shMr.parse(text);
                    object.vaLx(function(object) {
                        if (object instanceof tcHy.dqiMq.rgos) {
                            if (object.vfIz.name) {
                                var vfIz = rhMxB.create(object.vfIz.name);
                                if (vfIz) object.vfIz = vfIz;
                            }
                        }
                    });
                    onLoad(object);
                }, onProgress, onError);
            }, onProgress, onError);
        },
        parse: function(data, riKsK) {
            function tfKy(x, y, z) {
                return new tcHy.dqiMq.udor(x, y, z);
            }

            function uv(u, v) {
                return new tcHy.dqiMq.udoq(u, v);
            }

            function rbGq(a, b, c, uhPu) {
                return new tcHy.dqiMq.rbgq(a, b, c, uhPu);
            }
            var yeHy = 0;

            function sjHu(vfGq, zeIy) {
                if (wjPq.length > 0) {
                    vhHr.wjPq = wjPq;
                    vhHr.rjMvC();
                    vhHr.rhGqH();
                    vhHr.rgKsJ();
                    object.add(rgOs);
                    vhHr = new tcHy.dqiMq.vhhr();
                    vhHr.tbNv = false;
                    rgOs = new tcHy.dqiMq.rgos(vhHr, vfIz);
                }
                if (vfGq !== undefined) rgOs.name = vfGq;
                if (zeIy !== undefined) {
                    vfIz = new tcHy.dqiMq.rgnrb();
                    vfIz.name = zeIy;
                    rgOs.vfIz = vfIz;
                }
            }
            var group = new tcHy.dqiMq.Group();
            var object = group;
            var vhHr = new tcHy.dqiMq.vhhr();
            vhHr.tbNv = false;
            var vfIz = new tcHy.dqiMq.rgnrb();
            var rgOs = new tcHy.dqiMq.rgos(vhHr, vfIz);
            var wjPq = [];
            var uhPu = [];
            var qbJv = [];

            function ubHs(a, b, c, zdMt) {
                if (zdMt === undefined) {
                    vhHr.rbGu.push(rbGq(parseInt(a) - (yeHy + 1), parseInt(b) - (yeHy + 1), parseInt(c) - (yeHy + 1)));
                } else {
                    vhHr.rbGu.push(rbGq(parseInt(a) - (yeHy + 1), parseInt(b) - (yeHy + 1), parseInt(c) - (yeHy + 1), [uhPu[parseInt(zdMt[0]) - 1].rbPq(), uhPu[parseInt(zdMt[1]) - 1].rbPq(), uhPu[parseInt(zdMt[2]) - 1].rbPq()]));
                }
            }

            function teIs(a, b, c) {
                vhHr.rjNqG[0].push([qbJv[parseInt(a) - 1].rbPq(), qbJv[parseInt(b) - 1].rbPq(), qbJv[parseInt(c) - 1].rbPq()]);
            }

            function rhMtC(rbGu, qbJv, zdMt) {
                if (rbGu[3] === undefined) {
                    ubHs(rbGu[0], rbGu[1], rbGu[2], zdMt);
                    if (!(qbJv === undefined) && qbJv.length > 0) {
                        teIs(qbJv[0], qbJv[1], qbJv[2]);
                    }
                } else {
                    if (!(zdMt === undefined) && zdMt.length > 0) {
                        ubHs(rbGu[0], rbGu[1], rbGu[3], [zdMt[0], zdMt[1], zdMt[3]]);
                        ubHs(rbGu[1], rbGu[2], rbGu[3], [zdMt[1], zdMt[2], zdMt[3]]);
                    } else {
                        ubHs(rbGu[0], rbGu[1], rbGu[3]);
                        ubHs(rbGu[1], rbGu[2], rbGu[3]);
                    }
                    if (!(qbJv === undefined) && qbJv.length > 0) {
                        teIs(qbJv[0], qbJv[1], qbJv[3]);
                        teIs(qbJv[1], qbJv[2], qbJv[3]);
                    }
                }
            }
            var riJzA = /v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;
            var riKsD = /vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;
            var yhNv = /vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;
            var rjOzA = /f( +\d+)( +\d+)( +\d+)( +\d+)?/;
            var rjNqK = /f( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))?/;
            var rjNqJ = /f( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))?/;
            var rjNqH = /f( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))?/;
            var sjLz = data.match(/[^\r\n]+/g);
            for (var i = 0; i < sjLz.length; i++) {
                var rhJz = sjLz[i];
                rhJz = rhJz.trim();
                var thLx;
                if (rhJz.length === 0 || rhJz.charAt(0) === '#') {
                    continue;
                } else if ((thLx = riJzA.exec(rhJz)) !== null) {
                    wjPq.push(tfKy(parseFloat(thLx[1]), parseFloat(thLx[2]), parseFloat(thLx[3])));
                } else if ((thLx = riKsD.exec(rhJz)) !== null) {
                    uhPu.push(tfKy(parseFloat(thLx[1]), parseFloat(thLx[2]), parseFloat(thLx[3])));
                } else if ((thLx = yhNv.exec(rhJz)) !== null) {
                    qbJv.push(uv(parseFloat(thLx[1]), parseFloat(thLx[2])));
                } else if ((thLx = rjOzA.exec(rhJz)) !== null) {
                    rhMtC([thLx[1], thLx[2], thLx[3], thLx[4]]);
                } else if ((thLx = rjNqK.exec(rhJz)) !== null) {
                    rhMtC([thLx[2], thLx[5], thLx[8], thLx[11]], [thLx[3], thLx[6], thLx[9], thLx[12]]);
                } else if ((thLx = rjNqJ.exec(rhJz)) !== null) {
                    rhMtC([thLx[2], thLx[6], thLx[10], thLx[14]], [thLx[3], thLx[7], thLx[11], thLx[15]], [thLx[4], thLx[8], thLx[12], thLx[16]]);
                } else if ((thLx = rjNqH.exec(rhJz)) !== null) {
                    rhMtC([thLx[2], thLx[5], thLx[8], thLx[11]], [], [thLx[3], thLx[6], thLx[9], thLx[12]]);
                } else if (/^o /.test(rhJz)) {
                    sjHu();
                    yeHy = yeHy + wjPq.length;
                    wjPq = [];
                    object = new tcHy.dqiMq.veju();
                    object.name = rhJz.substring(2).trim();
                    group.add(object);
                } else if (/^g /.test(rhJz)) {
                    sjHu(rhJz.substring(2).trim(), undefined);
                } else if (/^usemtl /.test(rhJz)) {
                    sjHu(undefined, rhJz.substring(7).trim());
                } else if (/^mtllib /.test(rhJz)) {
                    if (riKsK) {
                        var uiIu = rhJz.substring(7);
                        uiIu = uiIu.trim();
                        riKsK(uiIu);
                    }
                } else if (/^s /.test(rhJz)) {} else {
                    console.log("THREE.OBJMTLLoader: Unhandled line " + rhJz);
                }
            }
            sjHu(undefined, undefined);
            return group;
        }
    };
    tcHy.dqiMq.rihya.prototype.apply(tcHy.dqiMq.zdlq.prototype);
    return tcHy.dqiMq.zdlq;
});
scNt('dqiHz', ['dqjPs', 'dqiMq', 'dqiHy'], function() {
    var rgkyh = function(rhOsH) {
        this.xhIt = new tcHy.dqiHy(rhOsH);
        this.zaJs = {};
        this.riItD = {};
        this.rhNrG = rhOsH;
    };
    rgkyh.prototype.rhHyG = function(ueMt) {
        ueMt.sfMy = ueMt.sfMz = tcHy.dqiMq.rgovj;
        ueMt.wcPw = tcHy.dqiMq.rjmxg;
        ueMt.wdJt = tcHy.dqiMq.zely;
        ueMt.ycGw = true;
        this.rhNrG.yjKq(ueMt, 0);
    };
    rgkyh.prototype.rhMxK = function(uaGu, tcLv, name, a) {
        if (this.riItD[name]) {
            uaGu.call(tcLv);
        }
        var uaGu = uaGu;
        var tcLv = tcLv;
        this.riItD[name] = tcHy.dqiMq.xcox.ycKr("im/" + (a ? a : "t") + "/" + name, tcHy.dqiMq.xijz, function(ueMt) {
            this.rhHyG(ueMt);
            uaGu.call(tcLv);
        }.bind(this));
    };
    rgkyh.prototype.zeKt = function(uaGu, tcLv, name, image) {
        if (this.riItD[name]) {
            uaGu.call(tcLv);
        }
        console.log("load3Texture 1", name);
        var uaGu = uaGu;
        var tcLv = tcLv;
        this.riItD[name] = tcHy.dqiMq.xcox.ycKr("im/p/" + image, tcHy.dqiMq.xijz, function(ueMt) {
            this.rhHyG(ueMt);
            console.log("load3Texture 2", ueMt);
            uaGu.call(tcLv);
        }.bind(this));
    };
    rgkyh.prototype.riGsD = function(key) {
        return this.riItD[key];
    };
    rgkyh.prototype.rhIqB = function(uaGu, tcLv, name) {
        if (this.zaJs[name]) {
            uaGu.call(tcLv);
        }
        this.xhIt.load('im/m/' + name + 'obj', 'im/m/' + name + 'mtl', function(rgOs) {
            this.zaJs[name] = rgOs;
            uaGu.call(tcLv);
        }.bind(this));
    };
    rgkyh.prototype.zfJz = function(name) {
        console.log("getThreeMesh", name);
        return this.zaJs[name].rbPq();
    };
    return rgkyh;
});
scNt('dqiGq', ['dqjPs', 'dqiLu'], function() {
    var reoua = function(vdLz, vgJt) {
        reoua._super.constructor.call(this, 'reOuA');
        this.wjJt = vgJt;
        this.rdIq = null;
        this.wjIw = vdLz;
    };
    tcHy.dqjPs.ujNz(reoua, tcHy.dqiLu);
    reoua.prototype.uhMy = function() {
        this.rdIq = this.wjJt.vgPu(this.wjIw);
        this.scIu.ziOt('destroyOrPool', this.scIu.tbPr, this.scIu);
        this.scIu.xjJr('destroyOrPool', this.onDestroyOrrfpu, this);
    };
    reoua.prototype.onDestroyOrrfpu = function() {
        this.scIu.yaIw('stopAnimation');
        this.scIu.waIu(false);
        this.rdIq.riJr(this.scIu);
    };
    reoua.prototype.veHr = function() {};
    reoua.prototype.veIy = function() {};
    reoua.prototype.wcIt = function() {};
    return reoua;
});
(function() {
    var zbnr = {
        RENRE: "2.3.5",
        thlx: {
            XJJV: 1,
            ZDMU: 2,
            WHNR: 3,
            UHJY: 4
        },
        Error: {
            RHGVB: 100,
            RGPRK: 200,
            RHMVG: 300
        },
        WJNR: '*',
        ASYNC: 'async',
        create: function(qfHu, target) {
            var ujMq = (typeof qfHu.ujMq == 'string') ? {
                shGz: qfHu.ujMq
            } : qfHu.ujMq;
            var vaPy = qfHu.vaPy || qfHu['final'];
            var qeIx = target || qfHu.target || {};
            var scHr = qfHu.scHr || [];
            var whOy = qfHu.whOy || {};
            var map = {};
            var zjGr = {};
            var add = function(e) {
                var from = (e.from instanceof Array) ? e.from : (e.from ? [e.from] : [zbnr.WJNR]);
                map[e.name] = map[e.name] || {};
                for (var n = 0; n < from.length; n++) {
                    zjGr[from[n]] = zjGr[from[n]] || [];
                    zjGr[from[n]].push(e.name);
                    map[e.name][from[n]] = e.to || from[n];
                }
            };
            if (ujMq) {
                ujMq.event = ujMq.event || 'startup';
                add({
                    name: ujMq.event,
                    from: 'none',
                    to: ujMq.shGz
                });
            }
            for (var n = 0; n < scHr.length; n++) add(scHr[n]);
            for (var name in map) {
                if (map.hasOwnProperty(name)) qeIx[name] = zbnr.xgGt(name, map[name]);
            }
            for (var name in whOy) {
                if (whOy.hasOwnProperty(name)) qeIx[name] = whOy[name]
            }
            qeIx.tcIq = 'none';
            qeIx.is = function(shGz) {
                return (shGz instanceof Array) ? (shGz.indexOf(this.tcIq) >= 0) : (this.tcIq === shGz);
            };
            qeIx.qfIx = function(event) {
                return !this.transition && (map[event].hasOwnProperty(this.tcIq) || map[event].hasOwnProperty(zbnr.WJNR));
            };
            qeIx.sdNz = function(event) {
                return !this.qfIx(event);
            };
            qeIx.zjGr = function() {
                return zjGr[this.tcIq];
            };
            qeIx.xcKw = function() {
                return this.is(vaPy);
            };
            qeIx.error = qfHu.error || function(name, from, to, rePuH, error, qdHv, e) {
                throw e || qdHv;
            };
            if (ujMq && !ujMq.defer) qeIx[ujMq.event]();
            return qeIx;
        },
        xeMx: function(qeIx, riKs, name, from, to, rePuH) {
            if (riKs) {
                try {
                    return riKs.apply(qeIx, [name, from, to].concat(rePuH));
                } catch (e) {
                    return qeIx.error(name, from, to, rePuH, zbnr.Error.RHMVG, "an exception occurred in a caller-provided callback function", e);
                }
            }
        },
        riNxH: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onbeforeevent'], name, from, to, rePuH);
        },
        rjPuA: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onafterevent'] || qeIx['onevent'], name, from, to, rePuH);
        },
        rjMrC: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onleavestate'], name, from, to, rePuH);
        },
        rjOyA: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onenterstate'] || qeIx['onstate'], name, from, to, rePuH);
        },
        yfLs: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onchangestate'], name, from, to, rePuH);
        },
        riIzB: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onbefore' + name], name, from, to, rePuH);
        },
        riNuC: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onafter' + name] || qeIx['on' + name], name, from, to, rePuH);
        },
        riLyK: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onleave' + from], name, from, to, rePuH);
        },
        riMwG: function(qeIx, name, from, to, rePuH) {
            return zbnr.xeMx(qeIx, qeIx['onenter' + to] || qeIx['on' + to], name, from, to, rePuH);
        },
        yfPy: function(qeIx, name, from, to, rePuH) {
            if ((false === zbnr.riIzB(qeIx, name, from, to, rePuH)) || (false === zbnr.riNxH(qeIx, name, from, to, rePuH))) return false;
        },
        xgMt: function(qeIx, name, from, to, rePuH) {
            zbnr.riNuC(qeIx, name, from, to, rePuH);
            zbnr.rjPuA(qeIx, name, from, to, rePuH);
        },
        xcIr: function(qeIx, name, from, to, rePuH) {
            var vbKv = zbnr.riLyK(qeIx, name, from, to, rePuH),
                taLs = zbnr.rjMrC(qeIx, name, from, to, rePuH);
            if ((false === vbKv) || (false === taLs)) return false;
            else if ((zbnr.ASYNC === vbKv) || (zbnr.ASYNC === taLs)) return zbnr.ASYNC;
        },
        xeJv: function(qeIx, name, from, to, rePuH) {
            zbnr.riMwG(qeIx, name, from, to, rePuH);
            zbnr.rjOyA(qeIx, name, from, to, rePuH);
        },
        xgGt: function(name, map) {
            return function() {
                var from = this.tcIq;
                var to = map[from] || map[zbnr.WJNR] || from;
                var rePuH = Array.prototype.slice.call(arguments);
                if (this.transition) return this.error(name, from, to, rePuH, zbnr.Error.RGPRK, "event " + name + " inappropriate because previous transition did rfKxG complete");
                if (this.sdNz(name)) return this.error(name, from, to, rePuH, zbnr.Error.RHGVB, "event " + name + " inappropriate in current state " + this.tcIq);
                if (false === zbnr.yfPy(this, name, from, to, rePuH)) return zbnr.thlx.WHNR;
                if (from === to) {
                    zbnr.xgMt(this, name, from, to, rePuH);
                    return zbnr.thlx.ZDMU;
                }
                var qeIx = this;
                this.transition = function() {
                    qeIx.transition = null;
                    qeIx.tcIq = to;
                    zbnr.xeJv(qeIx, name, from, to, rePuH);
                    zbnr.yfLs(qeIx, name, from, to, rePuH);
                    zbnr.xgMt(qeIx, name, from, to, rePuH);
                    return zbnr.thlx.XJJV;
                };
                this.transition.sdNy = function() {
                    qeIx.transition = null;
                    zbnr.xgMt(qeIx, name, from, to, rePuH);
                };
                var sjLr = zbnr.xcIr(this, name, from, to, rePuH);
                if (false === sjLr) {
                    this.transition = null;
                    return zbnr.thlx.WHNR;
                } else if (zbnr.ASYNC === sjLr) {
                    return zbnr.thlx.UHJY;
                } else {
                    if (this.transition) return this.transition();
                }
            };
        }
    };
    if (typeof tbIq !== 'undefined') {
        if (typeof tjJw !== 'undefined' && tjJw.tbIq) {
            tbIq = tjJw.tbIq = zbnr;
        }
        tbIq.zbnr = zbnr;
        scNt('dqiGr', ['rfJzE'], function() {
            return zbnr;
        });
    } else if (typeof scNt === 'function' && scNt.qfOv) {
        scNt('dqiGr', ['rfJzE'], function() {
            return zbnr;
        });
    } else if (typeof window !== 'undefined') {
        window.zbnr = zbnr;
    } else if (typeof self !== 'undefined') {
        self.zbnr = zbnr;
    }
}());
scNt('dqiGt', ['dqjPs', 'dqiGr', 'dqiLu', 'dqiIx', 'dqiLr'], function() {
    var reoud = function(ydOy) {
        reoud._super.constructor.call(this, 'reoud');
        this.ziHt = ydOy;
        this.rjPrK = null;
        this.rjJyK = null;
        this.riIvB = null;
    };
    tcHy.dqjPs.ujNz(reoud, tcHy.dqiLu);
    reoud.prototype.uhMy = function() {
        this.rjJyK = this.scIu.zfLy('reOtB');
        this.riIvB = this.scIu.zfLy('reOuF');
        var scHr = [{
            name: tcHy.dqiLr.INPUT.RFHWF,
            from: [tcHy.dqiIx.UFPV, tcHy.dqiIx.UFJW],
            to: tcHy.dqiIx.UJIU
        }, {
            name: tcHy.dqiLr.INPUT.RFHWB,
            from: tcHy.dqiIx.UFPV,
            to: tcHy.dqiIx.UFJW
        }, {
            name: tcHy.dqiLr.INPUT.AIR_DASH,
            from: tcHy.dqiIx.UJIU,
            to: tcHy.dqiIx.YGJV
        }, {
            name: tcHy.dqiLr.INPUT.REOVJ,
            from: tcHy.dqiIx.UFJW,
            to: tcHy.dqiIx.RJLUF
        }, {
            name: tcHy.dqiLr.SHNU.RHJRF,
            from: [tcHy.dqiIx.UJIU, tcHy.dqiIx.YGJV],
            to: tcHy.dqiIx.UFPV
        }, {
            name: tcHy.dqiLr.SHNU.ZJPX,
            from: [tcHy.dqiIx.UFJW, tcHy.dqiIx.RJLUF],
            to: tcHy.dqiIx.UFPV
        }];
        var whOy = {};
        var veIt = 'onbefore';
        var uhNv = 'onafter';
        whOy[veIt + tcHy.dqiLr.INPUT.RFHWF] = this.rjJyK.tdIw.bind(this.rjJyK);
        whOy[veIt + tcHy.dqiLr.INPUT.AIR_DASH] = this.rjJyK.xfPu.bind(this.rjJyK);
        whOy[veIt + tcHy.dqiLr.INPUT.RFHWB] = this.riIvB.vjPt.bind(this.riIvB);
        whOy[veIt + tcHy.dqiLr.INPUT.REOVJ] = this.riIvB.rjPyA.bind(this.riIvB);
        whOy[uhNv + tcHy.dqiLr.INPUT.RFHWF] = this.rjJyK.rfHwF.bind(this.rjJyK);
        whOy[uhNv + tcHy.dqiLr.INPUT.AIR_DASH] = this.rjJyK.teGr.bind(this.rjJyK);
        whOy[uhNv + tcHy.dqiLr.INPUT.RFHWB] = this.riIvB.rfHwB.bind(this.riIvB);
        whOy[uhNv + tcHy.dqiLr.INPUT.REOVJ] = this.riIvB.rfHxB.bind(this.riIvB);
        whOy['onenterstate'] = this.zaIs.bind(this);
        whOy['onleavestate'] = this.zaIv.bind(this);
        var rgPwD = {};
        rgPwD.ujMq = tcHy.dqiIx.UFPV;
        rgPwD.scHr = scHr;
        rgPwD.whOy = whOy;
        this.rjPrK = tcHy.dqiGr.create(rgPwD);
        this.xjJr('inputEvent', this.zaIu, this);
        this.xjJr('rulesEvent', this.zaHq, this);
    };
    reoud.prototype.wcIt = function() {
        this.rjPrK = null;
        this.ziOt('inputEvent', this.zaIu, this);
        this.ziOt('rulesEvent', this.zaHq, this);
    };
    reoud.prototype.zaIs = function(event, from, to) {
        this.yaIw('enterPlayerState', event, from, to);
    };
    reoud.prototype.zaIv = function(event, from, to) {
        this.yaIw('leavePlayerState', event, from, to);
    };
    reoud.prototype.zaIu = function() {
        console.assert(arguments.length > 0, 'InputEvent requires at least one parameter');
        var wgHq = arguments[0];
        if (wgHq === tcHy.dqiLr.INPUT.RFHWF && this.rjPrK.tcIq === tcHy.dqiIx.UJIU) {
            wgHq = tcHy.dqiLr.INPUT.AIR_DASH;
        } else if (wgHq === tcHy.dqiLr.INPUT.RFHWB && this.rjPrK.tcIq === tcHy.dqiIx.UFJW) {
            wgHq = tcHy.dqiLr.INPUT.REOVJ;
        }
        arguments[0] = wgHq;
        this.xhLw.apply(this, arguments);
    };
    reoud.prototype.zaHq = function() {
        console.assert(arguments.length > 0, 'RulesEvent requires at least one parameter');
        this.xhLw.apply(this, arguments);
    };
    reoud.prototype.xhLw = function(wgHq) {
        if (this.rjPrK[wgHq] && this.rjPrK.qfIx(wgHq)) {
            var rePuH = arguments.length > 1 ? arguments.slice(1) : [];
            this.rjPrK[wgHq].apply(this.rjPrK, rePuH);
        }
    };
    return reoud;
});
scNt('dqiGu', [], function() {
    var rhpuj = {};
    rhpuj.RIHTC = 0.42;
    return rhpuj;
});
scNt('dqiGv', ['dqjPs', 'dqiLu', 'dqiLr', 'dqiIx', 'dqiGu', 'dqiMq'], function() {
    var reouf = function(wfKw) {
        reouf._super.constructor.call(this, 'reOuF');
        this.xhKt = wfKw;
        this.xhJr = false;
        this.rjIqA = 0;
        this.rhKxB = 0;
        this.riItH = false;
        this.rgLzA = null;
    };
    tcHy.dqjPs.ujNz(reouf, tcHy.dqiLu);
    reouf.RIJUD = 700;
    reouf.RGLTF = 500;
    reouf.RFPRG = 0.7;
    reouf.prototype.uhMy = function() {
        this.rgLzA = this.scIu.zfLy('reOwK');
        this.xjJr('leavePlayerState', this.rhGzC, this);
    };
    reouf.prototype.veHr = function() {
        this.rhKxB += this.xhKt.wgPu * 1000;
        if (this.xhJr && this.rhKxB >= this.rjIqA) {
            this.xjKr();
        }
    };
    reouf.prototype.wcIt = function() {
        this.ziOt('leavePlayerState', this.rhGzC, this);
    };
    reouf.prototype.vjPt = function() {
        return this.rgLzA.riLxF();
    };
    reouf.prototype.rfHwB = function() {
        this.yaIw('reOuF');
        this.riItH = false;
        this.xhJr = true;
        this.rjIqA = reouf.RIJUD;
        this.rhKxB = 0;
        if (this.scIu.vjLr) {
            this.scIu.vjLr.thOs = tcHy.dqiGu.RIHTC * reouf.RFPRG;
            this.scIu.reOsE.waHs(new tcHy.dqiMq.udor(0, (tcHy.dqiGu.RIHTC - tcHy.dqiGu.RIHTC * reouf.RFPRG) / 2, 0));
        }
    };
    reouf.prototype.xjKr = function() {
        if (this.xhJr) {
            if (this.scIu.vjLr) {
                this.scIu.transform.position.y += (tcHy.dqiGu.RIHTC - tcHy.dqiGu.RIHTC * reouf.RFPRG);
                this.scIu.vjLr.thOs = tcHy.dqiGu.RIHTC;
                this.scIu.reOsE.waHs(new tcHy.dqiMq.udor(0, 0, 0));
            }
            this.scIu.yaIw('rulesEvent', tcHy.dqiLr.SHNU.ZJPX);
            this.xhJr = false;
        }
    };
    reouf.prototype.rjPyA = function() {
        return this.xhJr && !this.riItH;
    };
    reouf.prototype.rfHxB = function() {
        this.yaIw('rfHxB');
        this.riItH = true;
        this.rhKxB = 0;
        this.rjIqA = reouf.RGLTF;
    };
    reouf.prototype.rhGzC = function(event, from, to) {
        if ((from === tcHy.dqiIx.UFJW && to !== tcHy.dqiIx.RJLUF) || from === tcHy.dqiIx.RJLUF) {
            this.xjKr();
        }
    };
    return reouf;
});
scNt('dqiGw', ['dqjPs', 'dqiLu', 'dqiLr', 'dqiJy', 'dqiJx', 'dqiLx', 'dqiMt'], function() {
    var reowk = function() {
        reowk._super.constructor.call(this, 'reOwK');
        this.riItG = false;
    };
    tcHy.dqjPs.ujNz(reowk, tcHy.dqiLu);
    reowk.prototype.uhMy = function() {
        this.xjJr('collision', this.ybNs, this);
    };
    reowk.prototype.veHr = function() {
        if (this.scIu.reOsH.vaGv.y < 0) {
            this.riItG = false;
        }
    };
    reowk.prototype.wcIt = function() {
        this.ziOt('collision', this.ybNs, this);
    };
    reowk.prototype.ybNs = function(vjLr) {
        if (vjLr.type === tcHy.dqiJx.RFJZA) {
            this.riItG = true;
            this.scIu.yaIw('rulesEvent', tcHy.dqiLr.SHNU.RHJRF);
        }
    };
    reowk.prototype.riLxF = function() {
        return this.riItG;
    };
    return reowk;
});
scNt('dqiGx', ['dqjPs', 'dqiLu', 'dqiIy', 'dqiLy'], function() {
    var repvb = function(zfLq) {
        repvb._super.constructor.call(this, 'rePvB');
        this.zaLx = zfLq;
        this.ygPu = false;
        this.riIuK = false;
    };
    tcHy.dqjPs.ujNz(repvb, tcHy.dqiLu);
    repvb.prototype.uhMy = function() {
        this.xjJr('reOuC', this.riKuD, this);
    };
    repvb.prototype.wcIt = function() {
        this.ziOt('reOuC', this.riKuD, this);
    };
    repvb.prototype.veHr = function() {
        if (tcHy.dqiIy.rgIyE(this.zaLx, this.scIu.transform.position) && !this.ygPu && this.scIu.transform.position.y > tcHy.dqiLy.YAKU) {
            this.riIuK = false;
            this.ygPu = true;
        }
        if (!tcHy.dqiIy.rgIyE(this.zaLx, this.scIu.transform.position) && this.ygPu) {
            this.ygPu = false;
            if (!this.riIuK && this.scIu.transform.position.y > tcHy.dqiLy.YAKU) {
                this.zaLx.ygJu(this.zaLx.direction);
                this.riIuK = true;
            }
        }
    };
    repvb.prototype.riKuD = function() {
        this.riIuK = true;
    };
    return repvb;
});
scNt('dqiGy', ['dqjPs', 'dqiJu', 'dqiMq'], function() {
    var reoxg = function(zjJu, tiOt, rfIqD, scale, zjGv, rgKyH, zbKs) {
        reoxg._super.constructor.call(this, tcHy.dqiJu.RJOVJ, tiOt, rfIqD, scale, zjGv, zbKs);
        this.zhNq = zjJu;
        this.rgJuF = rgKyH;
    };
    tcHy.dqjPs.ujNz(reoxg, tcHy.dqiJu);
    reoxg.prototype.xfHs = function() {
        var vhHr = new tcHy.dqiMq.rgnug(1, 1);
        var ueMt = this.rgJuF.riGsD(this.zhNq);
        var vfIz = new tcHy.dqiMq.rhira({
            map: ueMt,
            zjGv: this.zhNt,
            ufLt: tcHy.dqiMq.yegz
        });
        this.rgOs = new tcHy.dqiMq.rgos(vhHr, vfIz);
        this.yhOz();
    };
    return reoxg;
});
scNt('dqiGz', ['dqjPs', 'dqiLu'], function() {
    var reoqc = function(rgNqB) {
        reoqc._super.constructor.call(this, 'reOqC');
        this.rgMrE = rgNqB;
    };
    tcHy.dqjPs.ujNz(reoqc, tcHy.dqiLu);
    reoqc.RJMRG = [-0.4, 0.15, 0.8];
    reoqc.ZEMU = 1;
    reoqc.prototype.uhMy = function() {
        this.xjJr('collision', this.ybNs, this);
        this.rgMrE.yjLu(this);
    };
    reoqc.prototype.xbKr = function() {
        this.rgMrE.whJr(this);
    };
    reoqc.prototype.ybNs = function(vjLr) {
        vjLr.scIu.yaIw('damage', reoqc.ZEMU, this.scIu);
    };
    reoqc.prototype.wcIt = function() {
        this.ziOt('collision', this.ybNs, this);
    };
    return reoqc;
});
scNt('dqhPq', ['dqjPs', 'dqiJy', 'dqiJx', 'dqiJz', 'dqiLw'], function() {
    var repua = function(shLv, riGuC, ubPz, riHtA) {
        repua._super.constructor.call(this, tcHy.dqiJx.RFPXD, riGuC, riHtA);
        this.shLv = tcHy.dqiLw.tcLz(shLv);
        this.ubPz = ubPz || 0;
    };
    tcHy.dqjPs.ujNz(repua, tcHy.dqiJy);
    repua.prototype.xcLy = function(rjLrK) {
        switch (rjLrK.type) {
            case tcHy.dqiJx.TGLQ:
                return tcHy.dqiJz.rfPuH(rjLrK, this);
        }
        return false;
    };
    return repua;
});
scNt('dqhPr', ['dqjPs', 'dqiLu', 'dqiLx'], function() {
    var reouh = function(zfLq, ydOy, wfKw, rjKyJ, rjOzH, rhJwG, rfOyC) {
        reouh._super.constructor.call(this, 'reOuH');
        this.zaLx = zfLq;
        this.ziHt = ydOy;
        this.xhKt = wfKw;
        this.zhOy = 0;
        this.zaKv = false;
        this.rjIrF = rjKyJ;
        this.rdIr = null;
        this.rjJxE = rjOzH;
        this.rhHvJ = rhJwG;
        this.rdKx = rfOyC;
    };
    tcHy.dqjPs.ujNz(reouh, tcHy.dqiLu);
    reouh.RFPTG = 2000;
    reouh.RFPTH = 2500;
    reouh.RJNWF = 300;
    reouh.prototype.uhMy = function() {
        this.zhOy = this.scIu.transform.position.y;
        this.rdIr = this.rjJxE.find('rfJzA');
        this.xjJr('rePwG', this.teMq, this);
        this.xjJr('rePxE', this.teMr, this);
    };
    reouh.prototype.wcIt = function() {
        this.ziOt('rePwG', this.teMq, this);
        this.ziOt('rePxE', this.teMr, this);
    };
    reouh.prototype.ugIz = function() {
        if (!this.scIu) {
            return;
        }
        this.scIu.transform.position = tcHy.dqiLx.rgOzJ(this.zaLx.yePs.zfHu, this.zhOy);
        this.scIu.reOsH.vaGv.set(0, 0, 0);
        this.scIu.reOsH.riMvH();
        this.xhKt.add(reouh.RJNWF, this.scIu.reOsH.rjOyB, this.scIu.reOsH);
        this.rdIr.yaIw('playerRespawned');
        this.zaKv = false;
        this.rhHvJ.ugNr('playerRespawned');
        if (this.ziHt.yhGz.rhJzB()) this.yaIw('playAnimation', 'reOwG', true);
    };
    reouh.prototype.tbLs = function() {
        this.rhHvJ.ugNr('playerLostByDeath');
        this.zaKv = false;
    };
    reouh.prototype.teMq = function() {
        this.riIsH();
        this.rhHvJ.ugNr('playerDied');
    };
    reouh.prototype.teMr = function() {
        this.riIsG();
        this.zaLx.rgKsC();
    };
    reouh.prototype.riIsG = function() {
        if (this.zaKv) {
            return;
        }
        this.zaKv = true;
        this.xhKt.add(reouh.RFPTG, this.ugIz, this);
    };
    reouh.prototype.riIsH = function() {
        if (this.zaKv) {
            return;
        }
        this.zaKv = true;
        this.xhKt.add(reouh.RFPTH, this.tbLs, this);
    };
    return reouh;
});
scNt('dqhPs', ['dqjPs', 'dqiLu'], function() {
    var repwj = function(rgOxF) {
        repwj._super.constructor.call(this, 'rePwJ');
        this.rgMqA = rgOxF;
    };
    tcHy.dqjPs.ujNz(repwj, tcHy.dqiLu);
    repwj.DURATION = 2000;
    repwj.prototype.uhMy = function() {
        this.xjJr('rePvA', this.xhIu, this);
    };
    repwj.prototype.wcIt = function() {
        this.ziOt('rePvA', this.xhIu, this);
    };
    repwj.prototype.xhIu = function(zbPz) {
        this.yaIw('ignoreDamageFrom', this.rgMqA, repwj.DURATION);
    };
    return repwj;
});
scNt('dqhPt', ['dqjPs', 'dqiLu', 'dqiLy'], function() {
    var reotf = function(rhJwG) {
        reotf._super.constructor.call(this, 'reOtF');
        this.xhJq = false;
        this.rhHvJ = rhJwG;
    };
    tcHy.dqjPs.ujNz(reotf, tcHy.dqiLu);
    reotf.YCNX = tcHy.dqiLy.YAKU;
    reotf.YEGR = 1;
    reotf.prototype.veHr = function() {
        var tbPw = this.ubMs();
        if (!this.xhJq && tbPw) {
            this.xhJq = true;
            var rhOwA = {
                type: 'world'
            };
            this.yaIw('damage', reotf.YEGR, rhOwA);
            this.yaIw('rePxE');
            this.rhHvJ.ugNr('playerFell');
        } else if (this.xhJq && !tbPw) {
            this.xhJq = false;
        }
    };
    reotf.prototype.ubMs = function() {
        return this.scIu.transform.position.y < reotf.YCNX;
    };
    return reotf;
});
scNt('dqhPu', ['dqiKy', 'dqiLx', 'dqiMq', 'dqiMy', 'dqiMs', 'dqiKw'], function() {
    var rgnqb = function() {
        this.xhJv = null;
    };
    rgnqb.RJMRG = [-0.4, 0.15, 0.8];
    rgnqb.RGGQJ = 0.44;
    rgnqb.prototype.reset = function(wdNu) {
        this.xhJv = wdNu;
    };
    rgnqb.prototype.whJr = function(reOqC) {
        var rjJuG = reOqC.scIu.transform.position;
        var zfHu = tcHy.dqiLx.rgNzE(rjJuG);
        var vaNr = tcHy.dqiMy.get(this.xhJv.ueLs, zfHu);
        var riLxB = tcHy.dqiMs.riGqF(reOqC.scIu.transform.rfIqD);
        this.rhOtG(riLxB, reOqC);
        var rhIqJ = tcHy.dqiMs.ydLt(riLxB, tcHy.dqiMs.RJLXK);
        var rgJyE = tcHy.dqiMs.uaNx(rhIqJ);
        var rhMvA = new tcHy.dqiMq.udoq(zfHu.x + rgJyE.x, zfHu.y + rgJyE.y);
        var rhIxF = new tcHy.dqiMq.udoq(zfHu.x - rgJyE.x, zfHu.y - rgJyE.y);
        var rgLwH = parseInt(vaNr.xbLw.slice(-1), 10);
        var vfMs = tcHy.dqiMy.get(this.xhJv.ueLs, rhMvA);
        var rgLqD;
        if (vfMs != null && vfMs.xbLw.slice(0, 5) == 'rfGtG') {
            rgLqD = parseInt(vfMs.xbLw.slice(-1), 10);
        }
        var waLr = tcHy.dqiMy.get(this.xhJv.ueLs, rhIxF);
        var rgJqE;
        if (waLr != null && waLr.xbLw.slice(0, 5) == 'rfGtG') {
            rgJqE = parseInt(waLr.xbLw.slice(-1), 10);
        }
        for (var xcJy = rgnqb.RJMRG.length - 1; xcJy >= 0; xcJy--) {
            var rjOtH = Math.pow(2, xcJy);
            var vjLr = this.rgIvK('vjLr', xcJy, reOqC.scIu);
            if (rgLqD - rjOtH >= 0) {
                rgLqD -= rjOtH;
                this.rgIvK('reOrC', xcJy, reOqC.scIu).yjKv(false);
            } else {
                this.rgIvK('reOrC', xcJy, reOqC.scIu).yjKv(true);
            }
            if (rgJqE - rjOtH >= 0) {
                rgJqE -= rjOtH;
                this.rgIvK('reOrC', xcJy + 3, reOqC.scIu).yjKv(false);
            } else {
                this.rgIvK('reOrC', xcJy + 3, reOqC.scIu).yjKv(true);
            }
            if (rgLwH - rjOtH >= 0) {
                this.rgIvK('reOsE', xcJy, reOqC.scIu).yjKv(true);
                if (vjLr) {
                    vjLr.yjLs(true);
                }
                rgLwH -= rjOtH;
            } else {
                this.rgIvK('reOsE', xcJy, reOqC.scIu).yjKv(false);
                if (vjLr) {
                    vjLr.yjLs(false);
                }
                this.rgIvK('reOrC', xcJy, reOqC.scIu).yjKv(false);
                this.rgIvK('reOrC', xcJy + 3, reOqC.scIu).yjKv(false);
            }
        }
    };
    rgnqb.prototype.yjLu = function(reOqC) {
        for (var ydJw = 0; ydJw < rgnqb.RJMRG.length; ydJw++) {
            var view = this.rgIvK('reOsE', ydJw, reOqC.scIu);
            view.waHs(new tcHy.dqiMq.udor(0, rgnqb.RJMRG[ydJw], 0));
            var vjLr = this.rgIvK('vjLr', ydJw, reOqC.scIu);
            vjLr.ubPz = rgnqb.RJMRG[ydJw];
        }
    };
    rgnqb.prototype.rgIvK = function(name, number, scIu) {
        var rjOrF = tcHy.dqiKy.rhJxH(name, number);
        return scIu.zfLy(rjOrF);
    };
    rgnqb.prototype.rhOtG = function(direction, reOqC) {
        if (tcHy.dqiKw.rjNsK(direction) === tcHy.dqiKw.XCOR) {
            var vjLr = reOqC.scIu.vjLr;
            var sgMq = vjLr.shLv.x;
            vjLr.shLv.x = vjLr.shLv.z;
            vjLr.shLv.z = sgMq;
        }
    };
    return rgnqb;
});
scNt('dqhPv', ['dqjPs', 'dqiLu', 'dqiMq'], function() {
    var repue = function(viLy, zjGv, rjKyJ, rePsK, rgKyH) {
        repue._super.constructor.call(this, 'rePuE');
        this.rjIrF = rjKyJ;
        this.zhMq = rePsK;
        this.rgJuF = rgKyH;
        this.wjLx = viLy;
        this.zhNt = zjGv;
    };
    tcHy.dqjPs.ujNz(repue, tcHy.dqiLu);
    repue.prototype.xbKr = function() {
        this.yaIz(this.wjLx);
        this.scIu.reOsE.rgOs.vfIz.zjGv = this.zhNt;
        var image = this.zaLy();
        this.vbOr(image);
    };
    repue.prototype.yaIz = function(viLy) {
        this.wjLx = viLy;
        var rcOr = tcHy.dqiMq.Math.viOx(this.rjIrF.qeIu);
        var ubGx = this.wjLx;
        var veHv = Math.abs(ubGx * Math.tan(rcOr / 2));
        var riIzD = veHv * 2;
        this.scIu.transform.scale.y = riIzD;
        this.scIu.transform.scale.x = riIzD * this.rjIrF.seKv;
    };
    repue.prototype.vbOr = function(weNx) {
        this.scIu.reOsE.rgOs.vfIz.map = this.rgJuF.riGsD(weNx);
    };
    repue.prototype.zaLy = function() {
        return this.zhMq.rhGuF();
    };
    repue.prototype.veHr = function() {
        var direction = this.rjIrF.rhJyH();
        direction = direction.riKsH(this.wjLx);
        this.scIu.transform.position.set(this.rjIrF.position.x + direction.x, this.rjIrF.position.y + direction.y, this.rjIrF.position.z + direction.z);
    };
    return repue;
});
scNt('dqhPw', ['dqjPs'], function() {
    var rjmyb = function(ydOy) {
        console.log('ObjectCounter.ctor');
        this.ziHt = ydOy;
        this.ziHt.rhMrG.add(this.reset, this);
        this.tcKu = {};
        this.zbJr = 0;
    };
    rjmyb.prototype.rhMsG = function(type) {
        return this.tcKu[type];
    };
    rjmyb.prototype.count = function(type) {
        if (!this.tcKu[type]) {
            this.tcKu[type] = 0;
        }
        this.tcKu[type]++;
        this.zbJr++;
    };
    rjmyb.prototype.reset = function() {
        this.tcKu = {};
        this.zbJr = 0;
    };
    return rjmyb;
});
scNt('dqhPx', ['dqjPs', 'dqjOr', 'dqhPw'], function() {
    var rhhzd = function(ydOy, rhJwG) {
        rhhzd._super.constructor.call(this, ydOy);
        this.rhHvJ = rhJwG;
        console.log('CollectibleCounter.ctor');
    };
    tcHy.dqjPs.ujNz(rhhzd, tcHy.dqhPw);
    rhhzd.prototype.rgMyA = function(type) {
        return this.rhMsG(type);
    };
    rhhzd.prototype.rfOuD = function(type) {
        this.count(type);
        this.rhHvJ.ugNr('collectibleCollected', type);
    };
    return rhhzd;
});
scNt('dqhPy', ['dqjPs'], function() {
    var rgnzg = function(vgJt) {
        this.yhHt = [];
        this.wjJt = vgJt;
    };
    rgnzg.prototype.rgJvG = function() {
        var rfIyG = true;
        this.yhHt.forEach(function(whKy) {
            rfIyG = rfIyG && whKy.xcKu();
        });
        return rfIyG;
    };
    rgnzg.prototype.reset = function(wdNu) {
        this.yhHt = [];
        var reNqF = this.wjJt.vgPu(wdNu.reNqF);
        this.yhHt.push(reNqF);
    };
    return rgnzg;
});
scNt('dqhPz', ['dqjPs'], function() {
    var renqf = function(wdNu, ydOy, zfLq) {
        this.xhJv = wdNu;
        this.ziHt = ydOy;
        this.ziHt.rhMrG.teIx(this.ybNy, this);
        this.ziHt.riMyA.teIx(this.wcIv, this);
        this.zaLx = zfLq;
        this.zaLx.rhPrC.teIx(this.rhPrC, this);
        this.rjJxD = false;
    };
    renqf.prototype.xcKu = function() {
        return false;
    };
    renqf.prototype.ybNy = function() {};
    renqf.prototype.wcIv = function() {
        this.zaLx.rhPrC.thMz(this.rhPrC, this);
    };
    renqf.prototype.rhPrC = function() {
        this.rjJxD = true;
    };
    return renqf;
});
scNt('dqhOq', ['dqjPs', 'dqhPz'], function() {
    var rimqe = function(wdNu, ydOy, zfLq, rgOvK) {
        rimqe._super.constructor.call(this, wdNu, ydOy, zfLq);
        this.sePr = rgOvK;
    };
    tcHy.dqjPs.ujNz(rimqe, tcHy.dqhPz);
    rimqe.prototype.xcKu = function() {
        return !this.sePr.ycOy() && this.rjJxD;
    };
    rimqe.prototype.ybNy = function() {
        this.sePr.ydNr();
    };
    rimqe.prototype.wcIv = function() {
        rimqe._super.wcIv.call(this);
        this.sePr.wfKt();
    };
    return rimqe;
});
scNt('dqhOr', ['dqjPs', 'dqhPz'], function() {
    var rhnvk = function(riHtE, rhHzD, wdNu, ydOy, zfLq) {
        rhnvk._super.constructor.call(this, wdNu, ydOy, zfLq);
        this.rhOyJ = riHtE;
        this.rgOrK = rhHzD;
        this.teKu = this.xhJv.rfIyH;
    };
    tcHy.dqjPs.ujNz(rhnvk, tcHy.dqhPz);
    rhnvk.prototype.xcKu = function() {
        var rePvG = this.rgOrK.rgMyA(this.rhOyJ);
        return rePvG >= this.teKu && this.rjJxD;
    };
    return rhnvk;
});
scNt('dqhOs', ['dqjPs', 'dqhOr', 'dqjGq'], function() {
    var rihtg = function(rhHzD, wdNu, ydOy, zfLq) {
        rihtg._super.constructor.call(this, tcHy.dqjGq.RFOSF, rhHzD, wdNu, ydOy, zfLq);
    };
    tcHy.dqjPs.ujNz(rihtg, tcHy.dqhOr);
    return rihtg;
});
scNt('dqhOt', ['dqjPs', 'dqhOr', 'dqjGq'], function() {
    var renqe = function(rhHzD, wdNu, ydOy, zfLq) {
        renqe._super.constructor.call(this, tcHy.dqjGq.RFJRB, rhHzD, wdNu, ydOy, zfLq);
    };
    tcHy.dqjPs.ujNz(renqe, tcHy.dqhOr);
    return renqe;
});
scNt('dqhOu', ['dqjPs', 'dqhPz'], function() {
    var xcjx = function(wdNu, ydOy, rhNzJ, zfLq) {
        xcjx._super.constructor.call(this, wdNu, ydOy, zfLq);
        this.teKu = this.xhJv.rfIyH;
        this.rhKvK = rhNzJ;
    };
    tcHy.dqjPs.ujNz(xcjx, tcHy.dqhPz);
    xcjx.prototype.xcKu = function() {
        return this.rhKvK.zbJr >= this.teKu && this.rjJxD;
    };
    return xcjx;
});
scNt('dqhOv', ['dqjPs', 'dqiLu', 'dqiMq', 'dqjPw', 'dqiLy'], function() {
    var reosf = function(zbKs, rePsK, rjKyJ) {
        reosf._super.constructor.call(this, 'reOsF');
        this.rjPrD = zbKs;
        this.zhMq = rePsK;
        this.rjIrF = rjKyJ;
    };
    tcHy.dqjPs.ujNz(reosf, tcHy.dqiLu);
    reosf.XFMW = 2000;
    reosf.ZGNR = 400;
    reosf.COUNT = 6000;
    reosf.ZEGV = 1000;
    reosf.TCGU = 10;
    reosf.YFKX = [1, 1, 1];
    reosf.RHPTA = 1;
    reosf.RHPUK = 3;
    reosf.RHGSD = 3;
    reosf.prototype.uhMy = function() {
        this.create();
    };
    reosf.prototype.create = function() {
        var vhHr = new tcHy.dqiMq.vhhr();
        vhHr.tbNv = false;
        var count = tcHy.dqjPw.vdKs ? reosf.ZEGV : reosf.COUNT;
        for (var i = 0; i < count; i++) {
            var tfJs = new tcHy.dqiMq.udor(0, tcHy.dqiLy.YAKU, 0);
            var wbLq = this.rjIrF.position;
            while (tfJs.y >= tcHy.dqiLy.YAKU && tfJs.y <= tcHy.dqiLy.YAKU + reosf.RHGSD) {
                tfJs.x = wbLq.x + Math.random() * reosf.XFMW - reosf.XFMW / 2;
                tfJs.y = Math.random() * reosf.ZGNR - reosf.ZGNR / 2;
                tfJs.z = wbLq.z + Math.random() * reosf.XFMW - reosf.XFMW / 2;
            }
            vhHr.wjPq.push(tfJs);
        }
        var size = Math.random() * reosf.RHPUK + reosf.RHPTA;
        var vfIz = new tcHy.dqiMq.rgprf({
            size: size,
            color: this.zhMq.rjNuA()
        });
        vfIz.qeIr = false;
        var wbNs = new tcHy.dqiMq.xaot(vhHr, vfIz);
        this.rjPrD.add(wbNs);
    };
    return reosf;
});
scNt('dqhOw', ['dqjPs', 'dqjHw'], function() {
    var rgovk = function(ydOy, zfLq, rfOyC, zdIy, wdNu, rhJwG, wfKw) {
        this.rdKx = rfOyC;
        this.xhKt = wfKw;
        this.zaGr = zdIy;
        this.xhJv = wdNu;
        this.ziHt = ydOy;
        this.zaLx = zfLq;
        this.zaLx.rgNtH.add(this.rhJrK, this);
        this.zaLx.riKuC.add(this.riIuC, this);
        this.zaLx.rhPrC.add(this.rhOzC, this);
        this.zaGr.ziOx.add(this.update, this);
        this.ydOw = 0;
        this.riIvE = 0;
        this.xhGu = 0;
        this.ubKz = false;
        this.rhHvJ = rhJwG;
        this.rhHvJ.xjJr('levelDataChanged', this.rgOtK, this);
        this.rjJxD = false;
        this.rjPqA = false;
        rfOyC.onPause.add(this.sfHx, this);
        rfOyC.veHq.add(this.teLw, this);
    };
    rgovk.RIHSB = 10;
    rgovk.prototype.update = function() {
        if (!this.ubKz) {
            return;
        }
        this.ydOw = this.xhKt.riMwK - this.xhGu;
        if ((this.ydOw - this.riIvE) >= 1) {
            this.riIvE++;
            this.rhHvJ.ugNr('timeLeftChanged', this.vaNv());
        }
        if (this.ycOy() && !this.ziJw) {
            if (this.ziHt.yhGz.rhJzB()) {
                this.teHr(rgovk.RIHSB);
                return;
            }
            this.ziJw = true;
            console.log("Lost: Out of time.");
            this.rhHvJ.ugNr('playerIsOutOfTime');
            this.ubKz = false;
            this.xhGu = this.xhKt.riMwK;
        }
    };
    rgovk.prototype.rhJrK = function() {
        this.teHr(rgovk.RIHSB);
    };
    rgovk.prototype.vaNv = function() {
        var yaIu = (this.zjIx - this.ydOw);
        return Math.max(0, yaIu);
    };
    rgovk.prototype.ycOy = function() {
        return this.vaNv() <= 0;
    };
    rgovk.prototype.ydNr = function() {
        this.rhHvJ.xjJr('playerFell', this.sfHx, this);
        this.rhHvJ.xjJr('playerDied', this.sfHx, this);
        this.rhHvJ.xjJr('gamePaused', this.sfHx, this);
        this.rhHvJ.xjJr('playerRespawned', this.teLw, this);
        this.rhHvJ.xjJr('gameResumed', this.teLw, this);
        this.rjJxD = false;
        this.rjPqA = false;
        this.ziJw = false;
    };
    rgovk.prototype.teHr = function(time) {
        if (this.rfPsC()) {
            console.log("Time added: " + time);
            this.zjIx += time;
            this.rhHvJ.ugNr('timeLeftChanged', this.vaNv());
        }
    };
    rgovk.prototype.wfKt = function() {
        this.ubKz = false;
        this.rhHvJ.ziOt('playerFell', this.sfHx, this);
        this.rhHvJ.ziOt('playerDied', this.sfHx, this);
        this.rhHvJ.ziOt('gamePaused', this.sfHx, this);
        this.rhHvJ.ziOt('playerRespawned', this.teLw, this);
        this.rhHvJ.ziOt('gameResumed', this.teLw, this);
    };
    rgovk.prototype.rgMzF = function() {
        return Math.floor((this.zjIx - this.ydOw));
    };
    rgovk.prototype.sfHx = function() {
        this.ubKz = false;
    };
    rgovk.prototype.teLw = function() {
        if (this.rfPsC() && this.rjPqA && !this.rjJxD) {
            this.xhGu = this.xhKt.riMwK - this.ydOw;
            this.ubKz = true;
        }
    };
    rgovk.prototype.riIuC = function() {
        if (this.rfPsC()) {
            this.zjIx = this.xhJv.rfIyH;
            this.xhGu = this.xhKt.riMwK;
            this.ubKz = true;
            this.riIvE = 0;
            this.rjPqA = true;
        }
    };
    rgovk.prototype.rhOzC = function() {
        this.rjJxD = true;
        this.ubKz = false;
    };
    rgovk.prototype.rgOtK = function(zdNv) {
        this.xhJv = zdNv;
        this.ubKz = false;
    };
    rgovk.prototype.rfPsC = function() {
        return this.xhJv.reNqF == tcHy.dqjHw.RIHSC;
    };
    return rgovk;
});
scNt('dqhOx', ['dqjPs', 'dqiIu'], function() {
    var reoxf = function(type, seMy, rgOvK) {
        reoxf._super.constructor.call(this, type);
        this.rgMqE = rgOvK;
        this.xhGy = seMy;
    };
    tcHy.dqjPs.ujNz(reoxf, tcHy.dqiIu);
    reoxf.prototype.rfOuD = function(rePvE) {
        this.rgMqE.teHr(this.xhGy);
        reoxf._super.rfOuD.call(this, rePvE);
    };
    return reoxf;
});
scNt('dqhOy', [], function() {
    return {
        get reHu() {
            var reHu = {};
            window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
                reHu[key] = value;
            });
            return reHu;
        }
    }
});
scNt('dqhOz', ['dqjPs', 'dqjOr', 'dqhOy'], function() {
    var xdly = function() {
        console.log('GameCheats.ctor');
    };
    xdly.prototype.ydLy = function(wbOx) {
        var ueGv = tcHy.dqhOy.reHu;
        var yaKr = null;
        var string = wbOx;
        if (ueGv[string]) {
            yaKr = ueGv[string]._.seHr('/');
            console.log('Key found in URL, will load ' + wbOx + ': ' + yaKr);
        }
        return yaKr;
    };
    xdly.prototype.xdJx = function() {
        return this.ydLy('rfKqC');
    };
    xdly.prototype.xdIz = function() {
        return _.int.random(2, 5);
        return this.ydLy('world');
    };
    xdly.prototype.rhJzB = function() {
        return this.ydLy('mauro') === "true";
    };
    xdly.prototype.zfIu = function() {
        return this.ydLy('xiPu');
    };
    return xdly;
});
scNt('dqhNq', [], function() {
    var vfhq = {};
    vfhq.rcGt = function(value, min, max) {
        console.assert(min < max, 'Min can\'t be less than max.');
        return Math.min(Math.max(value, min), max);
    };
    return vfhq;
});
scNt('dqhNr', ['dqjPs', 'dqiLu', 'dqhNq'], function() {
    var repzf = function(rgLwJ, riGxD, xdLy, wfKw) {
        repzf._super.constructor.call(this, 'rePzF');
        this.rgHuC = new rfjwh.tgot();
        this.rgKqG = rgLwJ;
        this.rhOzH = riGxD;
        this.yhGz = xdLy;
        this.teNt = false;
        this.zaLz = -999;
        this.zfGs = rgLwJ;
        this.xhKt = wfKw;
    };
    tcHy.dqjPs.ujNz(repzf, tcHy.dqiLu);
    Object.defineProperty(repzf.prototype, 'zfGs', {
        get: function() {
            return this.zaLz;
        },
        set: function(value) {
            if (value !== this.zaLz) {
                this.zaLz = value;
                this.rgHuC.viLt(this.zaLz);
            }
        }
    });
    repzf.prototype.uhMy = function() {
        this.xjJr('heal', this.teMs, this);
        this.xjJr('damage', this.wjIq, this);
        this.xjJr('kill', this.teMt, this);
    };
    repzf.prototype.wcIt = function() {
        this.ziOt('heal', this.teMs, this);
        this.ziOt('damage', this.wjIq, this);
        this.ziOt('kill', this.teMt, this);
    };
    repzf.prototype.saLx = function() {
        return this.teNt;
    };
    repzf.prototype.xbKr = function() {
        this.zfGs = this.rgKqG;
        this.teNt = false;
    };
    repzf.prototype.teMs = function(seMy, zbPz) {
        this.rgOqD(this.zfGs + seMy, zbPz);
    };
    repzf.prototype.wjIq = function(seMy, zbPz) {
        if (!this.yhGz.rhJzB() && !this.xhKt.paused) {
            this.rgOqD(this.zfGs - seMy, zbPz);
        }
        if (_.ydOy.zaLx.rhIvA && (void 0 === zbPz || zbPz.type === 'rfGtC' || zbPz.type === 'rfGtB' || zbPz.type === 'rfGtA' || zbPz.type === 'rfGuK') && this.yhGz.rhJzB()) {
            this.rgOqD(this.zfGs - seMy, zbPz);
        }
    };
    repzf.prototype.teMt = function(zbPz) {
        this.rgOqD(0, zbPz);
    };
    repzf.prototype.rgOqD = function(veNy, zbPz) {
        if (veNy == this.zfGs || this.saLx()) {
            return;
        }
        var riGzB = veNy < this.zfGs;
        this.zfGs = tcHy.dqhNq.rcGt(veNy, 0, this.rhOzH);
        if (riGzB) {
            this.yaIw('rePvA', zbPz);
        } else {
            this.yaIw('rePzG', zbPz);
        }
        if (this.zfGs <= 0 && !this.saLx()) {
            this.teNt = true;
            this.yaIw('rePwG', zbPz);
        }
    };
    return repzf;
});
scNt('dqhNs', ['dqjPs', 'dqiIu'], function() {
    var reore = function(type) {
        reore._super.constructor.call(this, type);
    };
    tcHy.dqjPs.ujNz(reore, tcHy.dqiIu);
    reore.prototype.rfOuD = function(rePvE) {
        var rgKyC = rePvE.scIu.zfLy('reOtA');
        rgKyC.scJs();
        reore._super.rfOuD.call(this, rePvE);
    };
    return reore;
});
scNt('dqhNt', ['dqjPs', 'dqiMq', 'dqjOr', 'dqiLu'], function() {
    var reota = function(rjOzH, wfKw, rjLuD) {
        reota._super.constructor.call(this, 'reOtA');
        this.rjJxE = rjOzH;
        this.xhKt = wfKw;
        this.rjIqK = rjLuD;
        this.xhHu = null;
        this.ubMu = false;
        this.ygLu = 0;
        this.rhHvE = [];
    };
    tcHy.dqjPs.ujNz(reota, tcHy.dqiLu);
    reota.RJMRB = 0.45;
    reota.RIGWH = 5;
    reota.RGIYB = reota.RIGWH * reota.RIGWH;
    reota.prototype.uhMy = function() {
        var rfJzA = this.rjJxE.find('rfJzA');
        this.xhHu = rfJzA.zfLy('reOvA');
        this.xjJr('collision', this.ybNs, this);
        this.xjJr('rePxE', this.teMr, this)
    };
    reota.prototype.veHr = function() {
        if (this.ubMu) {
            this.ygLu += this.xhKt.wgPu * 1000;
            if (this.ygLu >= this.rjIqK.xdIy('rfGrA')) {
                this.tbOs();
            } else {
                this.yeGv();
                this.riNwG();
            }
        }
    };
    reota.prototype.yeGv = function() {
        if (!this.ubMu) {
            return;
        }
        var rfJsA = this.xhHu.rgJxB('rfJrB');
        rfJsA.forEach(function(rfJrB) {
            var rfPrF = this.scIu.transform.position.rhJuC(rfJrB.transform.position);
            if (rfPrF < reota.RGIYB) {
                var ybJq = this.rhHvE.indexOf(rfJrB);
                if (ybJq < 0) {
                    this.rhHvE.push(rfJrB);
                }
            }
        }, this);
    };
    reota.prototype.riNwG = function() {
        this.rhHvE.forEach(function(rfJrB) {
            rfJrB.transform.position = rfJrB.transform.position.rhJs(this.scIu.transform.position, reota.RJMRB);
        }, this);
    };
    reota.prototype.scJs = function() {
        if (this.ubMu) {
            return;
        }
        console.log('player magnet enabled!');
        this.ubMu = true;
        this.yaIw('reOrF');
        this.ygLu = 0;
    };
    reota.prototype.tbOs = function() {
        console.log('player magnet disabled...');
        this.yaIw('reOrD');
        this.ubMu = false;
    };
    reota.prototype.ybNs = function(rjLrK) {
        var index = this.rhHvE.indexOf(rjLrK.scIu);
        if (index >= 0) {
            this.rhHvE.splice(index);
        }
    };
    reota.prototype.wcIt = function() {
        this.rjJxE = null;
        this.xhHu = null;
        this.rhHvE = null;
    };
    reota.prototype.teMr = function() {
        this.tbOs();
    };
    return reota;
});
scNt('dqhNu', ['dqjPs', 'dqiIu'], function() {
    var reoqa = function(type, rjLuD) {
        reoqa._super.constructor.call(this, type);
        this.rjIqK = rjLuD;
    };
    tcHy.dqjPs.ujNz(reoqa, tcHy.dqiIu);
    reoqa.prototype.rfOuD = function(rePvE) {
        rePvE.scIu.yaIw('heal', this.rjIqK.xdIy('rfGsK'));
        reoqa._super.rfOuD.call(this, rePvE);
    };
    return reoqa;
});
scNt('dqhNv', ['dqjPs', 'dqiLu'], function() {
    var repwk = function(type) {
        repwk._super.constructor.call(this, 'rePwK');
        this.type = type;
    };
    tcHy.dqjPs.ujNz(repwk, tcHy.dqiLu);
    repwk.prototype.uhMy = function() {
        this.xjJr('collision', this.ybNs, this);
    };
    repwk.prototype.wcIt = function() {
        this.ziOt('collision', this.ybNs, this);
    };
    repwk.prototype.ybNs = function(vjLr) {
        vjLr.scIu.yaIw('damage', 1, this.scIu);
    };
    return repwk;
});
scNt('dqhNw', ['dqjPs', 'dqiLu'], function() {
    var reoqd = function(rhNzJ, rhHzC) {
        reoqd._super.constructor.call(this, 'reOqD');
        this.rhKvK = rhNzJ;
        this.rgOrJ = rhHzC;
    };
    tcHy.dqjPs.ujNz(reoqd, tcHy.dqiLu);
    reoqd.prototype.uhMy = function() {
        this.xjJr("rePwG", this.teMq, this);
    };
    reoqd.prototype.wcIt = function() {
        this.ziOt("rePwG", this.teMq, this);
    };
    reoqd.prototype.teMq = function() {
        this.rgOrJ.add(this.scIu);
        this.scIu.waIu(false);
        this.rhKvK.yeIw(this.scIu.type);
    };
    return reoqd;
});
scNt('dqhNx', ['dqjPs', 'dqhPw'], function() {
    var rhnzj = function(ydOy, rhJwG) {
        rhnzj._super.constructor.call(this, ydOy);
        console.log('EnemyKillCounter.ctor');
        this.rhHvJ = rhJwG;
    };
    tcHy.dqjPs.ujNz(rhnzj, tcHy.dqhPw);
    rhnzj.prototype.rhMsF = function(type) {
        return this.rhMsG(type);
    };
    rhnzj.prototype.yeIw = function(type) {
        this.count(type);
        this.rhHvJ.ugNr('numberOfEnemiesKilledChanged', this.zbJr);
    };
    return rhnzj;
});
scNt('dqhNy', ['dqjPs', 'dqiIu'], function() {
    var repzb = function(type, rgOxF, zfLq, rjLuD) {
        repzb._super.constructor.call(this, type);
        this.rgMqA = rgOxF;
        this.rjIqK = rjLuD;
        this.zaLx = zfLq;
    };
    tcHy.dqjPs.ujNz(repzb, tcHy.dqiIu);
    repzb.prototype.rfOuD = function(rePvE) {
        repzb._super.rfOuD.call(this, rePvE);
        var yiJv = this.rjIqK.xdIy('rfGsJ');
        this.zaLx.rgOuK(yiJv);
        rePvE.yaIw('ignoreDamageFrom', this.rgMqA, yiJv);
    };
    return repzb;
});
scNt('dqhNz', ['dqjPs', 'dqiLu', 'dqhNq', 'dqhNr'], function() {
    var repxd = function(rgLwJ, riGxD, rfOyC, xdLy, wfKw) {
        repxd._super.constructor.call(this, rgLwJ, riGxD, xdLy, wfKw);
        this.rgGsF = [];
        this.rdKx = rfOyC;
    };
    tcHy.dqjPs.ujNz(repxd, tcHy.dqhNr);
    repxd.prototype.uhMy = function() {
        repxd._super.uhMy.call(this);
        this.xjJr('ignoreDamageFrom', this.riIuH, this);
    };
    repxd.prototype.wcIt = function() {
        repxd._super.wcIt.call(this);
        this.ziOt('ignoreDamageFrom', this.riIuH, this);
        this.rgGsF = [];
    };
    repxd.prototype.riIuH = function(rhIzF, duration) {
        var filter = 0;
        for (filter; filter < this.rgGsF.length; filter++) {
            if (this.rgGsF[filter].length == 0) {
                break;
            }
        }
        this.rgGsF[filter] = [];
        rhIzF.forEach(function(xeJy) {
            var rgHrK = this.rgGsF[filter].indexOf(xeJy);
            if (rgHrK < 0) {
                this.rgGsF[filter].push(xeJy);
            }
        }, this);
        this.xhKt.add(duration, this.rjLwF, this, filter);
    };
    repxd.prototype.rjLwF = function(filter) {
        this.rgGsF[filter] = [];
    };
    repxd.prototype.wjIq = function(seMy, zbPz) {
        for (var i = 0; i < this.rgGsF.length; i++) {
            var rgHrK = this.rgGsF[i].indexOf(zbPz.type);
            if (rgHrK >= 0) {
                return;
            }
        }
        repxd._super.wjIq.call(this, seMy, zbPz);
    };
    return repxd;
});
scNt('dqhMq', ['dqjPs', 'dqiLu'], function() {
    var repxj = function(rhLzF, rjOzH) {
        repxj._super.constructor.call(this, 'rePxJ');
        this.rhKxC = rhLzF;
        this.rjPrF = null;
        this.rjJxE = rjOzH;
    };
    tcHy.dqjPs.ujNz(repxj, tcHy.dqiLu);
    repxj.prototype.uhMy = function() {
        this.rjPrF = this.rjJxE.find(this.rhKxC);
    };
    repxj.prototype.veHr = function() {
        this.scIu.transform.position.rjLt(this.rjPrF.transform.position);
    };
    return repxj;
});
scNt('dqhMr', ['dqjPs', 'dqhMq', 'dqiLy', 'dqiLx', 'dqiMq'], function() {
    var reowe = function(rhLzF, rjOzH) {
        reowe._super.constructor.call(this, rhLzF, rjOzH);
        this.xhHu = null;
        this.rdIz = null;
    };
    tcHy.dqjPs.ujNz(reowe, tcHy.dqhMq);
    reowe.prototype.uhMy = function() {
        reowe._super.uhMy.call(this);
        var rfJzA = this.rjJxE.find('rfJzA');
        this.xhHu = rfJzA.zfLy('reOvA');
        this.rdIz = this.scIu.zfLy('reOsE');
        this.rdIz.rgOs.vfIz.uaJq = tcHy.dqiMq.rimvb;
        this.rdIz.rgOs.vfIz.uaKx = tcHy.dqiMq.rgiqe;
    };
    reowe.prototype.veHr = function() {
        reowe._super.veHr.call(this);
        this.scIu.transform.position.y = tcHy.dqiLy.YAKU + 0.001;
        this.scIu.transform.rfIqD.y = this.rjPrF.transform.rfIqD.y;
        var rgPxF = tcHy.dqiLx.rgNzE(this.rjPrF.transform.position);
        if (this.xhHu.zeNw(rgPxF) && this.rjPrF.transform.position.y > tcHy.dqiLy.YAKU) {
            this.rdIz.yjKv(true);
        } else {
            this.rdIz.yjKv(false);
        }
    };
    return reowe;
});
scNt('dqhMs', ['dqjPs', 'dqiMq', 'dqiLu'], function() {
    var reoxd = function() {
        reoxd._super.constructor.call(this, 'resetable');
        this.rjKvC = new tcHy.dqiMq.udor(0, 0, 0);
        this.yiPy = new tcHy.dqiMq.udor(1, 1, 1);
        this.rjKvB = new tcHy.dqiMq.rbhs(0, 0, 0);
    };
    tcHy.dqjPs.ujNz(reoxd, tcHy.dqiLu);
    reoxd.prototype.uhMy = function() {
        this.xjJr('resetTransform', this.rhKwG, this);
        this.rjKvC.rjLt(this.scIu.transform.position);
        this.yiPy.rjLt(this.scIu.transform.scale);
        this.rjKvB.rjLt(this.scIu.transform.rfIqD);
    };
    reoxd.prototype.wcIt = function() {
        this.ziOt('resetTransform', this.rhKwG, this);
    };
    reoxd.prototype.rhKwG = function() {
        this.scIu.transform.position.rjLt(this.rjKvC);
        this.scIu.transform.scale.rjLt(this.yiPy);
        this.scIu.transform.rfIqD.rjLt(this.rjKvB);
    };
    reoxd.prototype.zdKr = function() {
        this.scIu.transform.position.set(-999, -999, -999);
    };
    return reoxd;
});
scNt('dqhMt', ['dqjPs', 'dqiLu', 'dqiMq', 'dqiMt', 'dqiMv', 'dqiLv', 'dqiLx', 'dqiMy'], function() {
    var reowd = function(rfOyC, rjOzH, wfKw) {
        reowd._super.constructor.call(this, 'reOwD');
        this.rdKx = rfOyC;
        this.sePr = 0;
        this.rhKuC = 1;
        this.tePu = false;
        this.rjJxE = rjOzH;
        this.xhKt = wfKw;
    };
    tcHy.dqjPs.ujNz(reowd, tcHy.dqiLu);
    reowd.RHISD = 450;
    reowd.RJMWC = 450;
    reowd.prototype.uhMy = function() {};
    reowd.prototype.xbKr = function() {
        this.sePr = 0;
        this.tePu = true;
        var rfJzA = this.rjJxE.find('rfJzA');
        this.xhHu = rfJzA.zfLy('reOvA');
    };
    reowd.prototype.zdKr = function() {
        this.tePu = false;
    };
    reowd.prototype.veHr = function() {
        this.sePr += this.xhKt.wgPu * 1000;
        if (this.sePr > reowd.RJMWC) {
            this.sePr -= reowd.RJMWC;
            if (!this.ubNs(this.rhKuC)) {
                this.rhKuC *= -1;
            }
            this.rdIu(reowd.RHISD);
        }
    };
    reowd.prototype.rdIu = function(time) {
        var riJwB = this.rhOyC(this.rhKuC);
        var rhOtD = {
            x: riJwB.x,
            z: riJwB.z
        };
        this.rdKx.add.sgIs(this.scIu.transform.position).to(rhOtD, time, rfjwh.sckv.tjoq.rglx, true);
    };
    reowd.prototype.ubNs = function(direction) {
        var position = this.rhOyC(direction);
        var zfHu = tcHy.dqiLx.rgNzE(position);
        var vaNr = tcHy.dqiMy.get(this.xhHu.zfNu, zfHu);
        var xbLv = tcHy.dqiMy.get(this.xhHu.rjMyC, zfHu);
        var rhJqF = xbLv && this.rgOsJ(xbLv.type) || !xbLv;
        return rhJqF && vaNr && vaNr.type !== tcHy.dqiMt.RBIV;
    };
    reowd.prototype.rgOsJ = function(type) {
        return type === tcHy.dqiMv.RBIV || type === tcHy.dqiMv.SAHT || type === this.scIu.type;
    };
    reowd.prototype.rhOyC = function(direction) {
        var position = new tcHy.dqiMq.udor(direction * tcHy.dqiLv.ZIKS, 0, 0);
        position.xgLu(this.scIu.transform.rfIqD);
        position.add(this.scIu.transform.position);
        return position;
    };
    return reowd;
});
scNt('dqhMu', ['dqjPs', 'dqiLu', 'dqiMq', 'dqhMt'], function() {
    var reote = function(rfOyC, rjOzH, vgJt, wfKw) {
        reote._super.constructor.call(this, rfOyC, rjOzH, wfKw, 'reOtE');
        this.wjJt = vgJt;
    };
    tcHy.dqjPs.ujNz(reote, tcHy.dqhMt);
    reote.RHISD = 300;
    reote.YIOS = 525;
    reote.WDNR = 1;
    reote.ZGKW = 0;
    reote.YJPV = -1;
    reote.prototype.veHr = function() {
        if (!this.tePu) return;
        this.sePr += this.xhKt.wgPu * 1000;
        if (this.sePr > reote.YIOS) {
            this.sePr -= reote.YIOS;
            this.rhKuC = this.riIsB();
            if (this.ubNs(this.rhKuC)) {
                this.rdIu(reote.RHISD);
            }
        }
    };
    reote.prototype.riIsB = function() {
        var zdHu = this.wjJt.vgPu('zdHu');
        var zeLq = this.rhOyC(reote.WDNR);
        var rjLyA = this.rhOyC(reote.YJPV);
        var riKxK = zdHu.transform.position;
        var riHvC = this.scIu.transform.position;
        var zeMz = zeLq.rhJuC(riKxK);
        var rjLyB = rjLyA.rhJuC(riKxK);
        var riHvF = riHvC.rhJuC(riKxK);
        if (zeMz < rjLyB && riHvF > zeMz) {
            return reote.WDNR;
        } else if (rjLyB < zeMz && riHvF > rjLyB) {
            return reote.YJPV;
        } else {
            return reote.ZGKW;
        }
    };
    return reote;
});
scNt('dqhMv', ['dqjPs'], function() {
    var rhhzc = function(vgJt, riJwE) {
        console.log('CollectibleManager.ctor');
        this.wjJt = vgJt;
        this.riIwH = riJwE;
        this.rgOrK = null;
        this.xhJv = null;
        this.rhKuF = [];
        this.rdJt = [];
    };
    rhhzc.prototype.rhNr = function() {
        this.rgOrK = this.wjJt.vgPu('rhHzD');
        this.xhJv = this.wjJt.vgPu('wdNu');
    };
    rhhzc.prototype.add = function(scIu) {
        if (!scIu.rjKuD) {
            return;
        }
        var position = tcHy.dqjPs.rbPq(scIu.rjKuD);
        var riHtF = {
            type: scIu.type,
            x: position.x,
            y: position.y,
            z: position.z
        };
        this.rhKuF.push(riHtF);
        scIu.rePvG = true;
        if (scIu.type._.has('key')) {
            this.tePv(scIu);
        }
    };
    rhhzc.prototype.rgJyG = function(xeJy, position) {
        var rgOvE = false;
        var rjKtD = this.rjIqD(xeJy);
        if (rjKtD) {
            for (var i = 0; i < this.rhKuF.length; i++) {
                var riHtF = this.rhKuF[i];
                if (riHtF.type === xeJy && riHtF.x === position.x && riHtF.y === position.y && riHtF.z === position.z) {
                    rgOvE = true;
                    break;
                }
            }
        }
        return rgOvE;
    };
    rhhzc.prototype.tcPx = function() {
        this.rhKuF = [];
        this.rdJt = [];
    };
    rhhzc.prototype.rjIqD = function(xeJy) {
        var rjKtD = true;
        switch (xeJy) {
            case 'rfLtE':
            case 'rfGvH':
            case 'floor':
                rjKtD = false;
                break;
        }
        return rjKtD;
    };
    rhhzc.prototype.rgNxE = function() {
        this.rhNrH(this.rdJt, 'key');
    };
    rhhzc.prototype.rhNrH = function(array, yhPq) {
        for (var i = 0; i < array.length; i++) {
            var scIu = array[i];
            var index = scIu.type._.rdGw(yhPq);
            var yiOu = this.rjJxC(yhPq, index);
            this.riIwH.set(yiOu, scIu.rePvG);
        }
    };
    rhhzc.prototype.tePv = function(scIu) {
        this.rdJt.push(scIu);
    };
    rhhzc.prototype.rjJxC = function(yhPq, index) {
        return this.xhJv.name + '_' + yhPq + '_' + index;
    };
    rhhzc.prototype.rgMzG = function(yhPq, index) {
        var yiOu = this.rjJxC(yhPq, index);
        return this.riIwH.get(yiOu);
    };
    rhhzc.prototype.rgOvF = function(scIu, xdPt) {
        var rgMuF = false;
        if (scIu.type._.has(xdPt)) {
            var index = scIu.type._.rdGw(xdPt);
            if (this.rgMzG(xdPt, index)) {
                rgMuF = true;
            }
        }
        return rgMuF;
    };
    Object.defineProperty(rhhzc.prototype, 'vfOt', {
        get: function() {
            return this.rdJt;
        }
    });
    return rhhzc;
});
scNt('dqhMw', ['dqiMq', 'dqjPs', 'dqjOr'], function() {
    var zhkw = function(vhHr, vfIz) {
        tcHy.dqiMq.rgos.call(this, vhHr, vfIz);
        this.rhNwG = null;
        this.zgKz = 0;
        this.currentTime = 0;
        this.loop = false;
        this.animations = {};
        this.rgJvE = new tcHy.dqjOr.tgot();
        this.zgJu = 0;
    };
    zhkw.prototype = Object.create(tcHy.dqiMq.rgos.prototype);
    zhkw.prototype.zhMy = function(name, vaOy, qeIv, sjOx) {
        this.animations[name] = {};
        this.animations[name].name = name;
        this.animations[name].vaOy = vaOy;
        this.animations[name].qeIv = qeIv || 30;
        this.animations[name].sjOx = sjOx;
        this.rgKqD(this.animations[name]);
    };
    zhkw.prototype.play = function(name, loop, vdNu) {
        if (name == "reOwF" || name == "reOrK") return;
        this.zgKz = 0;
        this.currentTime = 0;
        this.rhNwG = this.animations[name];
        if (vdNu) {
            if (!this.animations[name + '_pingpong']) {
                this.ziJu(this.rhNwG);
            }
            this.rhNwG = this.animations[name + '_pingpong'];
        }
        this.vfIz.map = this.rhNwG.vaOy[0];
        this.loop = loop || false;
        this.zgJu = 0;
    };
    zhkw.prototype.ziJu = function(animation) {
        var rgNuH = tcHy.dqjPs.rbPq(animation);
        var rjLyC = tcHy.dqjPs.whLr(rgNuH.sjOx);
        rjLyC.reverse();
        rjLyC.forEach(function(json) {
            json.frames.reverse();
        });
        rgNuH.sjOx = rgNuH.sjOx.concat(rjLyC);
        var rhLwH = tcHy.dqjPs.rbPq(rgNuH.vaOy);
        rhLwH.reverse();
        rgNuH.vaOy = rgNuH.vaOy.concat(rhLwH);
        this.animations[animation.name + '_pingpong'] = rgNuH;
    };
    zhkw.prototype.stop = function() {
        this.rhNwG = null;
    };
    zhkw.prototype.ziOy = function() {
        var frames = this.rhNwG.sjOx[this.zgJu].frames;
        var xiOz = frames.length / this.rhNwG.qeIv;
        var zbKy = this.currentTime / xiOz;
        this.zgKz = Math.floor(zbKy * frames.length);
        if (this.zgKz >= frames.length) {
            if (this.zgJu + 1 <= this.rhNwG.sjOx.length - 1) {
                this.zgJu++;
            } else {
                if (this.loop) {
                    this.zgJu = 0;
                } else {
                    var wdOt = this.rhNwG.sjOx[this.zgJu].frames.length - 1;
                    this.zgKz = Math.min(wdOt, this.zgKz);
                    this.rgJvE.viLt(this.rhNwG.name);
                    return;
                }
            }
            this.zgKz = 0;
            this.currentTime = 0;
            this.vfIz.map = this.rhNwG.vaOy[this.zgJu];
        }
    };
    zhkw.prototype.rgHxJ = function() {
        var ueMt = this.vfIz.map;
        var yePr = this.rhNwG.sjOx[this.zgJu];
        var frame = yePr.frames[this.zgKz].frame;
        var zjJy = yePr.meta.size;
        ueMt.tiOt.x = frame.x / zjJy.w;
        ueMt.tiOt.y = (1 - frame.y / zjJy.h) - (frame.h / zjJy.h);
    };
    zhkw.prototype.weGv = function() {
        return !!this.rhNwG;
    };
    zhkw.prototype.update = function(zgHq) {
        if (!this.rhNwG) {
            return;
        }
        this.currentTime += zgHq;
        this.ziOy();
        this.rgHxJ();
    };
    zhkw.prototype.rgKqD = function(animation) {
        for (var i = 0; i < animation.sjOx.length; i++) {
            var yePr = animation.sjOx[i];
            var frame = yePr.frames[0].frame;
            var zjJy = yePr.meta.size;
            animation.vaOy[i].repeat.set(frame.w / zjJy.w, frame.h / zjJy.h);
        }
    };
    return zhkw;
});
scNt('dqhMx', ['dqjPs', 'dqiMq', 'dqhMw', 'dqiJu', 'dqjPw'], function() {
    var repta = function(animations, zhIw, tiOt, rfIqD, scale, zjGv, rgKyH, zbKs, wfKw, rfOyC) {
        this.yhJz = animations;
        this.rgJuF = rgKyH;
        this.xhKt = wfKw;
        this.rdKx = rfOyC;
        this.riIrC = [];
        repta._super.constructor.call(this, tcHy.dqiJu.RJOVJ, tiOt, rfIqD, scale, zjGv, zbKs);
    };
    tcHy.dqjPs.ujNz(repta, tcHy.dqiJu);
    repta.prototype.xfHs = function() {
        var vhHr = new tcHy.dqiMq.rgnug(1, 1);
        var vfIz = new tcHy.dqiMq.rhira({
            color: 0xffffff,
            zjGv: this.zhNt,
            ufLt: tcHy.dqiMq.yegz
        });
        this.rgOs = new tcHy.dqhMw(vhHr, vfIz);
        this.rgOs.rgJvE.add(this.rgMrA, this);
        for (var key in this.yhJz) {
            var animation = this.yhJz[key];
            var vaOy = [];
            var sjOx = [];
            var rhHqJ = 1;
            var ueMt = this.rgJuF.riGsD(animation.rfGvB + '.png');
            if (!tcHy.dqjPw.vdKs) {
                vaOy[rhHqJ - 1] = ueMt.rbPq();
                vaOy[rhHqJ - 1].ycGw = true;
                this.rgJuF.rhHyG(vaOy[rhHqJ - 1]);
            } else {
                vaOy[rhHqJ - 1] = ueMt;
            }
            sjOx[rhHqJ - 1] = this.rdKx.rcIy.taLy(animation.rfGvB);
            sjOx = tcHy.dqjPs.whLr(sjOx);
            this.rgOs.zhMy(animation.name, vaOy, animation.qeIv || 30, sjOx);
        }
        this.yhOz();
    };
    repta.prototype.uhMy = function() {
        this.xjJr('playAnimation', this.play, this);
        this.xjJr('chainAnimation', this.rcHw, this);
        this.xjJr('stopAnimation', this.stop, this);
        repta._super.uhMy.call(this);
    };
    repta.prototype.veHr = function() {
        this.rgOs.update(this.xhKt.wgPu);
    };
    repta.prototype.wcIt = function() {
        repta._super.wcIt.call(this);
        this.ziOt('playAnimation', this.play, this);
        this.ziOt('chainAnimation', this.rcHw, this);
        this.ziOt('stopAnimation', this.stop, this);
    };
    repta.prototype.play = function(name, loop, vdNu) {
        this.riIrC = [];
        this.rgOs.play(name, loop, vdNu);
    };
    repta.prototype.rcHw = function(name, loop, vdNu) {
        var rjMxB = {};
        rjMxB.name = name;
        rjMxB.loop = loop;
        rjMxB.vdNu = vdNu;
        this.riIrC.push(rjMxB);
    };
    repta.prototype.rgMrA = function() {
        if (!this.riIrC.length) {
            return;
        }
        var rjMxB = this.riIrC.shift();
        this.rgOs.play(rjMxB.name, rjMxB.loop, rjMxB.vdNu);
    };
    repta.prototype.stop = function() {
        this.rgOs.stop();
    };
    return repta;
});
scNt('dqhMy', ['dqjPs', 'dqiLu', 'dqiIx', 'dqiHq', 'dqiMs'], function() {
    var reosb = function(zfLq, rgNzG) {
        reosb._super.constructor.call(this, 'reosb');
        this.rdLy = false;
        this.zaLx = zfLq;
        this.rgMsB = rgNzG;
        this.zhPw = null;
    };
    tcHy.dqjPs.ujNz(reosb, tcHy.dqiLu);
    reosb.prototype.uhMy = function() {
        this.yaIw('playAnimation', 'reOwC', true);
        this.xjJr('enterPlayerState', this.rgOsC, this);
        this.xjJr('playerSpeedChanged', this.rgLzJ, this);
        this.xjJr('playerJumpPeakReached', this.rgHsD, this);
        this.xjJr('rePzC', this.xhIu, this);
        this.xjJr('rePzD', this.xhIu, this);
        this.xjJr('rePwG', this.teMq, this);
        this.xjJr('rePxE', this.teMr, this);
        this.xjJr('reOuC', this.zaIz, this);
        this.zaLx.rhPrC.add(this.rhOzC, this);
        this.zaLx.riKuC.add(this.riIuC, this);
        this.rdLy = false;
        this.zhPw = this.scIu.zfLy('reOuE');
    };
    reosb.prototype.wcIt = function() {
        this.ziOt('enterPlayerState', this.rgOsC, this);
        this.ziOt('playerSpeedChanged', this.rgLzJ, this);
        this.ziOt('playerJumpPeakReached', this.rgHsD, this);
        this.ziOt('rePzC', this.xhIu, this);
        this.ziOt('rePzD', this.xhIu, this);
        this.ziOt('rePwG', this.teMq, this);
        this.ziOt('rePxE', this.teMr, this);
    };
    reosb.prototype.rgKqK = function(name, loop) {
        if (this.rdLy || !name || this.rjJxD) {
            return;
        }
        this.yaIw('playAnimation', name, loop);
    };
    reosb.prototype.rgOsC = function(event, from, to) {
        switch (to) {
            case tcHy.dqiIx.UJIU:
                this.rgKqK('reOqH', false);
                break;
            case tcHy.dqiIx.YGJV:
                this.rgKqK('rfHxD', true);
                break;
            case tcHy.dqiIx.UFJW:
                this.rgKqK('rfHwB', false);
                break;
            case tcHy.dqiIx.RJLUF:
                this.rgKqK('reOvJ', false);
                break;
            case tcHy.dqiIx.UFPV:
                var zgJv = this.zhPw.riGrF();
                var rhNwA = this.rgHyF(zgJv);
                this.yaIw('chainAnimation', rhNwA, true);
                break;
        }
    };
    reosb.prototype.rgHyF = function(rfKqC) {
        switch (rfKqC) {
            case tcHy.dqiHq.TDKW:
                return 'reOwH';
            case tcHy.dqiHq.NORMAL:
                return 'reOwG';
            case tcHy.dqiHq.VCPX:
                return 'reOwF';
            default:
                return null;
        }
    };
    reosb.prototype.rgLzJ = function(rfKqC) {
        var reOuF = this.scIu.zfLy('reOuF');
        if (!reOuF.xhJr) {
            var uaOr = this.rgHyF(rfKqC);
            this.rgKqK(uaOr, true);
        }
    };
    reosb.prototype.rgHsD = function() {
        this.rgKqK('reOqJ', false);
    };
    reosb.prototype.xhIu = function() {
        this.rgKqK('rePvC', false);
        this.yaIw('chainAnimation', 'reOwF', true);
    };
    reosb.prototype.teMq = function() {
        this.rgKqK('rePvC', false);
        this.yaIw('chainAnimation', 'reOrK', false);
        this.yaIw('chainAnimation', 'reOrJ', true);
        this.rdLy = true;
    };
    reosb.prototype.teMr = function() {
        this.rgKqK('rePxF', false);
        this.yaIw('chainAnimation', 'rePxG', true);
    };
    reosb.prototype.rhOzC = function() {
        if (this.rgMsB.rgJvG()) {
            this.rgKqK('reOxA', false);
            this.yaIw('chainAnimation', 'reOxB', true);
        } else {
            this.rgKqK('reOwC', true);
        }
        this.rjJxD = true;
    };
    reosb.prototype.riIuC = function() {
        this.rgKqK('reOwG', true)
    };
    reosb.prototype.zaIz = function(rhIwC) {
        if (rhIwC === tcHy.dqiMs.RJLXK) {
            this.rgKqK('rePwD');
        } else if (rhIwC === tcHy.dqiMs.RIKZB) {
            this.rgKqK('rePwC');
        }
        var zgJv = this.zhPw.riGrF();
        var yaJr = this.rgHyF(zgJv);
        this.yaIw('chainAnimation', yaJr, true);
    };
    return reosb;
});
scNt('dqhMz', ['dqjPs', 'dqiLu', 'dqiIx', 'dqiHq'], function() {
    var reowa = function(zdHu) {
        reowa._super.constructor.call(this, 'reOwA');
        this.zaGs = zdHu;
    };
    tcHy.dqjPs.ujNz(reowa, tcHy.dqiLu);
    reowa.prototype.uhMy = function() {
        this.scIu.reOsE.rgOs.rfIxE = false;
        this.zaGs.xjJr('enterPlayerState', this.rgOsC, this);
        this.zaGs.xjJr('playerSpeedChanged', this.rgLzJ, this);
    };
    reowa.prototype.wcIt = function() {
        if (this.zaGs && this.zaGs.ujKq) {
            this.zaGs.ziOt('enterPlayerState', this.rgOsC, this);
            this.zaGs.ziOt('playerSpeedChanged', this.rgLzJ, this);
        }
        this.zaGs = null;
    };
    reowa.prototype.xbKr = function() {
        this.scIu.reOsE.rgOs.rfIxE = false;
    };
    reowa.prototype.rgOsC = function(event, from, to) {
        switch (to) {
            case tcHy.dqiIx.YGJV:
            case tcHy.dqiIx.RJLUF:
                this.scIu.reOsE.rgOs.rfIxE = true;
                this.yaIw('playAnimation', 'reOxK', false);
                break;
            case tcHy.dqiIx.UFPV:
                this.rgGzH(from);
                break;
        }
    };
    reowa.prototype.rgGzH = function(from) {
        var reOuE = this.zaGs.zfLy('reOuE');
        if (from === tcHy.dqiIx.RJLUF && reOuE.riGrF() !== tcHy.dqiHq.TDKW) {
            this.scIu.reOsE.rgOs.rfIxE = false;
            this.yaIw('stopAnimation');
        }
    };
    reowa.prototype.rgLzJ = function(rfKqC) {
        switch (rfKqC) {
            case tcHy.dqiHq.VCPX:
            case tcHy.dqiHq.NORMAL:
                this.scIu.reOsE.rgOs.rfIxE = false;
                this.yaIw('stopAnimation');
                break;
            case tcHy.dqiHq.TDKW:
                this.scIu.reOsE.rgOs.rfIxE = true;
                this.yaIw('playAnimation', 'reOxK', false);
                break;
        }
    };
    return reowa;
});
scNt('dqhLq', ['dqjPs', 'dqiLu'], function() {
    var repwe = function() {
        repwe._super.constructor.call(this, 'rePwE');
    };
    tcHy.dqjPs.ujNz(repwe, tcHy.dqiLu);
    repwe.prototype.uhMy = function() {
        this.scIu.reOsE.rgOs.vfIz.xeOu = false;
        this.scIu.reOsE.rgOs.vfIz.wgOs = false;
    };
    return repwe;
});
scNt('dqhLr', ['dqjPs', 'dqiMq', 'dqiLw'], function() {
    var repsk = function(rfOyC, xdLy) {
        console.log('WorldConfig.ctor');
        this.rdKx = rfOyC;
        this.xgPx = null;
        this.ygMq = null;
        this.ygLy = null;
        this.zaLq = null;
        this.yhGz = xdLy;
    };
    repsk.RGOWC = '0xffffff';
    repsk.RHMWJ = 20;
    repsk.RJOVF = 'world1';
    repsk.prototype.wjKz = function(name) {
        var vjLu = parseInt(this.zaLq[name]);
        return new tcHy.dqiMq.Color(vjLu);
    };
    repsk.prototype.whJr = function(rfKqA) {
        this.ygMq = [];
        this.ygLy = [];
        this.ygNr = repsk.RGOWC;
        this.xgPx = this.rdKx.rcIy.taLy('rePsK');
        this.zaLq = this.xgPx[this.rhGuB(rfKqA)];
        this.ygNr = this.wjKz('rePsH');
        this.wjKu = this.wjKz('rePsG');
        this.xhIr = this.wjKz('rePsF');
        this.zaLq['rePsJ'].forEach(function(color) {
            var waLs = new tcHy.dqiMq.Color(parseInt(color));
            this.ygMq.push(waLs);
        }, this);
        this.zaLq['rePsD'].forEach(function(color) {
            var xiHx = new tcHy.dqiMq.Color(parseInt(color));
            this.ygLy.push(xiHx);
        }, this);
        this.sfIu = [];
        this.zaLq['rePtH'].forEach(function(rePtH) {
            var object = {};
            object.rePtG = rePtH.rePtG;
            object.position = rePtH.position ? tcHy.dqiLw.tcLz(rePtH.position) : new tcHy.dqiMq.udor(0, 0, 0);
            var riJrE = rePtH.rfIqD ? tcHy.dqiLw.tcLz(rePtH.rfIqD) : new tcHy.dqiMq.udor(0, 0, 0);
            object.rfIqD = new tcHy.dqiMq.rbhs().riJtK(riJrE);
            object.scale = rePtH.scale ? tcHy.dqiLw.tcLz(rePtH.scale) : new tcHy.dqiMq.udor(1, 1, 1);
            this.sfIu.push(object);
        }, this);
    };
    repsk.prototype.rhGuB = function(rfKqC) {
        var rcHy = this.yhGz.xdIz();
        if (rcHy) {
            return "world" + rcHy;
        }
        var vfMz = parseInt(rfKqC);
        if (!vfMz) return repsk.RJOVF;
        vfMz -= 1;
        var udLu = Math.floor(vfMz / repsk.RHMWJ) + 1;
        return 'world' + udLu;
    };
    repsk.prototype.rjNvJ = function() {
        return this.ygMq;
    };
    repsk.prototype.rjNvF = function() {
        return this.ygLy;
    };
    repsk.prototype.zfJq = function() {
        return this.xhIr;
    };
    repsk.prototype.ydMr = function() {
        return this.wjKu;
    };
    repsk.prototype.rjNuA = function() {
        return this.ygNr;
    };
    repsk.prototype.rhGuF = function() {
        return this.zaLq['backgroundImage'];
    };
    repsk.prototype.zfLz = function() {
        return this.zaLq['rePsA'];
    };
    repsk.prototype.riLqF = function(index) {
        return this.sfIu[index];
    };
    repsk.prototype.riLqK = function() {
        return this.zaLq['rePtK'];
    };
    repsk.prototype.vhGq = function() {
        return this.zaLq['rePsC'];
    };
    repsk.prototype.riLqA = function() {
        return this.zaLq['fogTextures'];
    };
    return repsk;
});
scNt('dqhLs', ['dqjPs', 'dqiLu'], function() {
    var repuk = function(name, loop, vdNu) {
        repuk._super.constructor.call(this, 'repuk');
        this.rdJx = name;
        this.rdJu = loop;
        this.wjIv = vdNu;
    };
    tcHy.dqjPs.ujNz(repuk, tcHy.dqiLu);
    repuk.prototype.xbKr = function() {
        this.yaIw('playAnimation', this.rdJx, this.rdJu, this.wjIv);
    };
    return repuk;
});
scNt('dqhLt', ['dqjPs', 'dqiLu', 'dqiMq'], function() {
    var xfmx = function(zbKs, rgKyH, rjKyJ, rfOyC) {
        xfmx._super.constructor.call(this, 'xfMx');
        this.rjPrD = zbKs;
        this.rgJuF = rgKyH;
        this.rjIrF = rjKyJ;
        this.rdKx = rfOyC;
        this.rgOs = null;
    };
    tcHy.dqjPs.ujNz(xfmx, tcHy.dqiLu);
    xfmx.XFMW = 1500;
    xfmx.TCOW = -20;
    xfmx.RIKRB = 0.004;
    xfmx.RIKRC = 5;
    xfmx.prototype.uhMy = function() {
        this.create();
    };
    xfmx.prototype.create = function() {
        var map = this.rgJuF.riGsD('sdIq.png');
        var whNq = this.rjIrF.position;
        var vhHr = new tcHy.dqiMq.rgnug(xfmx.XFMW, xfmx.XFMW, 10, 10);
        var vfIz = new tcHy.dqiMq.rhira({
            map: map,
            zjGv: true,
            qeIr: false
        });
        this.rgOs = new tcHy.dqiMq.rgos(vhHr, vfIz);
        this.rgOs.position.set(whNq.x, xfmx.TCOW, whNq.z);
        this.rgOs.ugGy(-Math.PI / 2);
        this.rgOs.reNqD = -1;
        this.rjPrD.add(this.rgOs);
    };
    xfmx.prototype.wcIt = function() {
        this.rjPrD.thMz(this.rgOs);
    };
    return xfmx;
});
scNt('dqhLu', ['dqjPs', 'dqiLu'], function() {
    var repwf = function() {
        repwf._super.constructor.call(this, 'repwf');
    };
    tcHy.dqjPs.ujNz(repwf, tcHy.dqiLu);
    repwf.prototype.uhMy = function() {
        this.scIu.reOsE.rgOs.vfIz.qeIr = false;
    };
    return repwf;
});
scNt('dqhLv', ['dqjPs', 'dqiMq', 'dqiLu'], function() {
    var reorc = function(wcOs, rgKyH, zbKs) {
        reorc._super.constructor.call(this, 'reOrC');
        this.xhJz = wcOs;
        this.rgJuF = rgKyH;
        this.rjPrD = zbKs;
    };
    tcHy.dqjPs.ujNz(reorc, tcHy.dqiLu);
    reorc.prototype.uhMy = function() {
        this.vbOt(this.xhJz);
    };
    reorc.prototype.vbOt = function(name) {
        this.xhJz = name;
        this.rgOs = this.rgJuF.zfJz(this.xhJz);
    };
    reorc.prototype.wcIt = function() {
        if (this.rjPrD) {
            this.rjPrD.thMz(this.rgOs);
        }
        this.rjPrD = null;
    };
    reorc.prototype.xbKr = function() {
        this.yjKv(true);
        this.rjPrD.add(this.rgOs);
    };
    reorc.prototype.zdKr = function() {
        this.rjPrD.thMz(this.rgOs);
        this.yjKv(false);
    };
    reorc.prototype.yjKv = function(weGz) {
        this.rgOs.rfIxE = weGz;
    };
    reorc.prototype.veIy = function() {
        this.rgOs.position.rjLt(this.scIu.transform.position);
        this.rgOs.rfIqD.rjLt(this.scIu.transform.rfIqD);
        this.rgOs.scale.rjLt(this.scIu.transform.scale);
    };
    return reorc;
});
scNt('dqhLw', ['dqjPs', 'dqiMq', 'dqhMs'], function() {
    var repwh = function(xePs, rePsK) {
        repwh._super.constructor.call(this, 'rePwH');
        this.yhHw = xePs;
        this.zhMq = rePsK;
    };
    tcHy.dqjPs.ujNz(repwh, tcHy.dqhMs);
    repwh.prototype.uhMy = function() {
        repwh._super.uhMy.call(this);
        var yeOv = this.zhMq.riLqF(this.yhHw);
        this.rjKvC.rjLt(yeOv.position);
        this.yiPy.rjLt(yeOv.scale);
        this.rjKvB.rjLt(yeOv.rfIqD);
        var reOrC = this.scIu.zfLy('reOrC');
        reOrC.vbOt(yeOv.rePtG);
    };
    return repwh;
});
scNt('dqhLx', ['dqjPs', 'dqiLu'], function() {
    var repvj = function(xaOs, rjOzH, rjKyJ, wfKw) {
        repvj._super.constructor.call(this, 'rePvJ');
        this.ygNu = xaOs;
        this.rjJxE = rjOzH;
        this.rjIrF = rjKyJ;
        this.teMz = null;
        this.riIvC = 0;
        this.xhKt = wfKw;
    };
    tcHy.dqjPs.ujNz(repvj, tcHy.dqiLu);
    repvj.WDJV = 0.3;
    repvj.VIOS = 2;
    repvj.prototype.uhMy = function() {
        this.teMz = this.rjJxE.find(this.ygNu);
        this.teMz.xjJr('rePvA', this.zdKx, this);
    };
    repvj.prototype.zdKr = function() {
        this.riIvC = 0;
    };
    repvj.prototype.wcIt = function() {
        this.ziOt('rePvA', this.zdKx, this);
    };
    repvj.prototype.veIy = function() {
        if (this.riIvC) {
            if (this.riIvC < 0) {
                this.riIvC = 0;
                return;
            }
            this.riIvC -= repvj.VIOS * this.xhKt.wgPu;
            var rePvJ = repvj.WDJV * this.riIvC;
            var yaOt = this.rgMyG(-rePvJ, rePvJ);
            this.rjIrF.position.x += yaOt;
            this.rjIrF.position.y += yaOt;
        }
    };
    repvj.prototype.rgMyG = function(min, max) {
        var shPr = max - min;
        return (Math.random() * shPr) - (shPr * 0.5);
    };
    repvj.prototype.zdKx = function() {
        if (!this.riIvC) {
            this.riIvC = 1;
        }
    };
    return repvj;
});
scNt('dqhLy', ['dqjPs', 'dqiLu'], function() {
    var reoqk = function(zePu) {
        reoqk._super.constructor.call(this, 'reOqK');
        this.zaKt = zePu;
    };
    tcHy.dqjPs.ujNz(reoqk, tcHy.dqiLu);
    reoqk.prototype.uhMy = function() {
        this.xjJr('rePwG', this.teMq, this);
    };
    reoqk.prototype.teMq = function() {
        this.zaKt.rjKwF();
    };
    return reoqk;
});
scNt('dqhLz', ['dqjPs', 'dqiLu', 'dqhNv'], function() {
    var reotk = function(zfLq) {
        reotk._super.constructor.call(this, 'ghostDamageOnCollision');
        this.zaLx = zfLq
    };
    tcHy.dqjPs.ujNz(reotk, tcHy.dqhNv);
    reotk.prototype.ybNs = function(vjLr) {
        if (this.zaLx.rhIvA) {
            reotk._super.ybNs(vjLr);
        }
    };
    return reotk;
});
scNt('dqhKq', ['dqjPs', 'dqiMq', 'dqiLu'], function() {
    var repug = function(xaNs, ycJu, zbPy, rjKyJ) {
        repug._super.constructor.call(this, 'rePuG');
        this.ygNv = (xaNs === undefined) ? true : xaNs;
        this.ziGt = (ycJu === undefined) ? repug.ZEHR : ycJu;
        this.rjPqB = zbPy;
        this.rjIrF = rjKyJ;
        this.teOx = null;
        this.rdJu = false;
        this.teJr = 0;
        this.riIuB = 0;
        tcHy.dqjPs.ydOy.rePuG = this;
    };
    tcHy.dqjPs.ujNz(repug, tcHy.dqiLu);
    repug.ZEHR = 25;
    repug.ZBKX = 0;
    repug.prototype.uhMy = function() {};
    repug.prototype.xbKr = function() {
        this.xjJr('playAudio', this.ygNs, this);
        this.xjJr('adjustVolume', this.zaMq, this);
        this.xjJr('stopSound', this.xhGw, this);
    };
    repug.prototype.zdKr = function() {
        this.ziOt('playAudio', this.ygNs, this);
        this.ziOt('adjustVolume', this.zaMq, this);
        this.ziOt('stopSound', this.xhGw, this);
        if (this.teOx && this.teOx.loop) {
            this.teOx.stop();
        }
    };
    repug.prototype.wcIt = function() {
        if (this.teOx) {
            this.teOx.tbPr();
        }
        this.teOx = null;
    };
    repug.prototype.ygNs = function(xeKw, loop, volume, override, uhPt) {
        if (this.rjPqB.rgMr || (this.teOx && !override)) {
            return;
        }
        if (this.teOx && override) {
            if (uhPt) {} else {
                this.teOx.stop();
            }
        }
        this.teOx = this.rjPqB.rhMsB(xeKw);
        console.log("_effect", xeKw, this.teOx);
        this.yhGq = xeKw;
        this.rdJu = (loop === undefined) ? false : loop;
        this.teJr = this.riIuB = (volume === undefined) ? 1 : volume;
        var riHrE = this.rhKvF();
        this.teOx.rhLrA.teIx(this.zaLt, this);
        this.teOx.play(this.yhGq, 0, riHrE, this.rdJu, false);
        return false;
    };
    repug.prototype.zaLt = function() {
        if (!this.rdJu) {
            this.teOx = null;
            if (this.scIu) this.scIu.yaIw('audioEffectDone', this.yhGq);
        }
    };
    repug.prototype.zaMq = function(xaPs) {
        if (this.teOx) {
            this.teJr = (this.riIuB * xaPs);
            this.teOx.volume = this.teJr;
        }
    };
    repug.prototype.rhKvF = function() {
        if (!this.ygNv) {
            return this.teJr;
        } else {
            var xbMq = this.scIu.transform.position;
            var rhMwF = this.rjIrF.position;
            var viLy = xbMq.xeMv(rhMwF);
            var volume = 1 - viLy / this.ziGt;
            volume = Math.max(0, volume);
            return volume * this.teJr;
        }
    };
    repug.prototype.veHr = function() {
        if (this.ygNv && this.teOx) {
            this.teOx.volume = this.rhKvF();
        }
    };
    repug.prototype.xhGw = function(zjOt) {
        if (this.teOx) {
            if (zjOt === undefined) {
                this.teOx.stop();
            } else if (zjOt === this.teOx.rjOtG) {
                this.teOx.stop();
            }
        }
    };
    return repug;
});
scNt('dqhKr', ['dqjPs', 'dqiLu'], function() {
    var repuf = function(scHr, zfLq) {
        repuf._super.constructor.call(this, 'rePuF');
        this.zaLx = zfLq;
        this.teOy = {};
        this.teOy['stopAllSounds'] = {
            event: 'stopAllSounds',
            stop: true
        };
        scHr.forEach(function(event) {
            var rjIs = {};
            rjIs.volume = event.volume;
            rjIs.rePxK = event.rePxK;
            rjIs.loop = event.loop;
            rjIs.stop = event.stop;
            rjIs.override = event.override;
            this.teOy[event.event] = rjIs;
        }, this);
    };
    tcHy.dqjPs.ujNz(repuf, tcHy.dqiLu);
    repuf.prototype.uhMy = function() {
        this.teOy._.rjGu(this.rgMsC, this);
    };
    repuf.prototype.rgMsC = function(event, viHz) {
        this.xjJr(viHz, function() {
            this.rhKxF(viHz);
        }, this);
    };
    repuf.prototype.xbKr = function() {
        this.rhKxF('rePtB');
    };
    repuf.prototype.zdKr = function() {
        this.rhKxF('deactivate');
    };
    repuf.prototype.wcIt = function() {
        this.riJzG(this);
    };
    repuf.prototype.rhKxF = function(event) {
        var wgIz = this.teOy[event];
        if (this.teOy[event]) {
            if (wgIz.stop) {
                this.yaIw('stopSound', wgIz.rePxK)
            } else {
                this.yaIw('playAudio', wgIz.rePxK, wgIz.loop, wgIz.volume, wgIz.override);
            }
        }
    };
    return repuf;
});
scNt('dqhKs', ['dqjPs', 'dqiLu', 'dqiMt'], function() {
    var repuj = function(rePsK, rgKyH, rfGsF) {
        repuj._super.constructor.call(this, 'rePuJ');
        this.zhMq = rePsK;
        this.rgJuF = rgKyH;
        this.ygPq = rfGsF;
    };
    tcHy.dqjPs.ujNz(repuj, tcHy.dqiLu);
    repuj.prototype.xbKr = function() {
        this.xjJr('configure', this.xhMw, this);
    };
    repuj.prototype.zdKr = function() {
        this.ziOt('configure', this.xhMw, this);
    };
    repuj.prototype.xhMw = function(vaNt) {
        var ueMt = this.zhMq.riLqK();
        var reOrC = this.scIu.zfLy('reOrC');
        var uaNq = reOrC.rgOs.children[3];
        uaNq.vfIz.map = this.rgJuF.riGsD(ueMt);
        var vaOu = reOrC.rgOs.children[4];
        var language = this.ygPq.lang;
        switch (vaNt) {
            case tcHy.dqiMt.RFGVF:
                vaOu.vfIz.map = this.rgJuF.riGsD(language + '/riIyC.png');
                break;
            case tcHy.dqiMt.RFOYK:
                vaOu.vfIz.map = this.rgJuF.riGsD(language + '/ygHu.png');
                break;
            case tcHy.dqiMt.RFISA:
                vaOu.vfIz.map = this.rgJuF.riGsD(language + '/xgLw.png');
                break;
            default:
                var random = Math.floor(Math.random() * 3);
                vaOu.vfIz.map = this.rgJuF.riGsD(language + '/archText_0' + random + '.png');
        }
    };
    return repuj;
});
scNt('dqhKt', ['dqjPs', 'dqiLu', 'dqiKy', 'dqiMq', 'dqhPu', 'dqiMs'], function() {
    var reoqb = function() {
        reoqb._super.constructor.call(this, 'reOqB');
    };
    reoqb.RIGVJ = new tcHy.dqiMq.udor(0.015, 0.015, 0.015);
    tcHy.dqjPs.ujNz(reoqb, tcHy.dqiLu);
    reoqb.prototype.veIy = function() {
        for (var i = 0; i < tcHy.dqhPu.RJMRG.length * 2; i++) {
            var wcOs = tcHy.dqiKy.rhJxH('reOrC', i);
            var reOrC = this.scIu.zfLy(wcOs);
            reOrC.rgOs.scale.rjLt(reoqb.RIGVJ);
            var rfHr = i < tcHy.dqhPu.RJMRG.length ? -1 : 1;
            var direction = tcHy.dqiMs.riGqF(this.scIu.transform.rfIqD);
            var xcOr = 0,
                vaGz = 0;
            switch (direction) {
                case tcHy.dqiMs.NORTH:
                    vaGz = 1;
                    break;
                case tcHy.dqiMs.SOUTH:
                    vaGz = -1;
                    break;
                case tcHy.dqiMs.EAST:
                    xcOr = 1;
                    break;
                case tcHy.dqiMs.WEST:
                    xcOr = -1;
                    break;
            }
            var zdLx = new tcHy.dqiMq.udor(rfHr * vaGz * tcHy.dqhPu.RGGQJ, tcHy.dqhPu.RJMRG[i % tcHy.dqhPu.RJMRG.length], rfHr * xcOr * tcHy.dqhPu.RGGQJ);
            reOrC.rgOs.position.add(zdLx);
        }
    };
    return reoqb;
});
scNt('dqhKu', ['dqjPs', 'dqjOr'], function() {
    'use strict';

    function rjmue(rfOyC, worldProgress, rhOwK, rhJvD, rjMuJ) {
        this.rdKx = rfOyC;
        this.rjIsF = worldProgress;
        this.rhNrB = rhOwK;
        this.rhHuB = rhJvD;
        this.rjJyF = rjMuJ;
        this.rdIz = null;
        this.xhJs = null;
        this.ygPv = null;
        this.ubKq = null;
        this.zhOv = null;
        this.rhKvB = null;
        this.ubLx = null;
        this.rgJtB = false;
    }
    rjmue.RGNWJ = 30;
    rjmue.RHMYH = 100;
    rjmue.RHPYG = 1.06;
    rjmue.RILVB = 0.25;
    rjmue.prototype.rhNr = function(view) {
        this.rjIsF.rhNr();
        this.rdIz = view;
        this.rhKvB = view.view;
        this.rjJyF.rhNr(view.sbGt.rfPwD);
        rjmue.RGNWJ *= this.rdKx.wjPs.scale;
        rjmue.RHMYH *= this.rdKx.wjPs.scale;
        this.ubLx = {
            bottom: 0,
            top: this.rhKvB.height - this.rdKx.wjPs.height
        };
    };
    rjmue.prototype.rePtB = function() {
        this.rhHuC();
        this.riIvF();
        this.rgJtE();
        this.rjJyF.rePtB();
    };
    rjmue.prototype.xfGx = function() {
        this.rgOrD();
        this.rgIuB();
        this.rjJyF.xfGx();
    };
    rjmue.prototype.update = function() {
        this.xhHx();
        this.rgOqC();
    };
    rjmue.prototype.xhHx = function() {
        var zdOv = 0;
        if (this.ygPv && scLr.desktop) {
            this.ygPv = false;
            this.zhOv += rjmue.RGNWJ * this.rdKx.input.sjGy.yhLy;
            if (this.zhOv > rjmue.RHMYH) {
                this.zhOv = rjmue.RHMYH;
            }
            if (this.zhOv < -rjmue.RHMYH) {
                this.zhOv = -rjmue.RHMYH;
            }
        }
        if (this.xhJs) {
            this.ubKq.qcNv.x = this.ubKq.new.x;
            this.ubKq.qcNv.y = this.ubKq.new.y;
            this.ubKq.new.x = this.rdKx.input.x;
            this.ubKq.new.y = this.rdKx.input.y;
            var rgGyF = this.rhKvB.y;
            this.rhKvB.y = this.rdKx.input.y - this.riMvE;
            this.zhOv = this.ubKq.new.y - this.ubKq.qcNv.y;
            zdOv = this.rhKvB.y - rgGyF;
        } else {
            this.zhOv /= rjmue.RHPYG;
            zdOv = this.zhOv * this.rdKx.time.scHr.tbMq * 0.07;
            this.rhKvB.y += zdOv;
        }
        var rgJzD = 0;
        if (this.rhKvB.y <= this.ubLx.bottom) {
            rgJzD = this.rhKvB.y - this.ubLx.bottom;
            this.rhKvB.y = this.ubLx.bottom;
            this.zhOv = 0;
        } else if (this.rhKvB.y > this.ubLx.top) {
            rgJzD = this.rhKvB.y - this.ubLx.top;
            this.rhKvB.y = this.ubLx.top;
            this.zhOv = 0;
        }
        this.rjJvC(zdOv, rgJzD);
    };
    rjmue.prototype.rgOqC = function() {
        if (this.zhOv > rjmue.RILVB || this.zhOv < -rjmue.RILVB) {
            this.rgJtB = true;
        } else {
            this.rgJtB = false;
        }
    };
    rjmue.prototype.ygMz = function() {
        this.xhJs = true;
        this.riMvE = this.rdKx.input.y - this.rhKvB.y;
        this.ubKq.qcNv.x = this.ubKq.new.x;
        this.ubKq.qcNv.y = this.ubKq.new.y;
        this.ubKq.new.x = this.rdKx.input.x;
        this.ubKq.new.y = this.rdKx.input.y;
    }, rjmue.prototype.wjKq = function() {
        this.xhJs = false;
    }, rjmue.prototype.rhHuC = function() {
        this.rdKx.input.tiOx.add(this.ygMz, this);
        this.rdKx.input.rgJt.add(this.wjKq, this);
        this.rdKx.input.sjGy.rhGyK = function(event) {
            this.ygPv = true;
        }.bind(this);
    };
    rjmue.prototype.rgOrD = function() {
        this.rdKx.input.tiOx.thMz(this.ygMz, this);
        this.rdKx.input.rgJt.thMz(this.wjKq, this);
        this.rdKx.input.sjGy.rhGyK = null;
    };
    rjmue.prototype.riIvF = function() {
        this.xhJs = false;
        this.ygPv = false;
        this.ubKq = {
            qcNv: {
                x: 0,
                y: 0
            },
            new: {
                x: 0,
                y: 0
            }
        };
        this.zhOv = 0;
    };
    rjmue.prototype.rjJvC = function(zdOv, rgJzD) {
        var rgKsH = zdOv - rgJzD;
        this.rgLyJ(this.rdIz.sbGt.rfPxK, rgKsH, 0.9);
        this.rgLyJ(this.rdIz.sbGt.rfOxG, rgKsH, 0.95);
        this.rgLyJ(this.rdIz.sbGt.rfPwD, rgKsH, 0.95);
    };
    rjmue.prototype.rgLyJ = function(group, zdOv, rgPqE) {
        var vdOq = zdOv * rgPqE;
        group.y -= (zdOv - vdOq);
    };
    rjmue.prototype.rgJtE = function() {
        this.rdIz.sbGt.rfOxG.children.forEach(function(rhNxG) {
            this.rhHuB.rgKrJ(rhNxG);
        }, this);
    };
    rjmue.prototype.rgIuB = function() {
        this.rhHuB.rhOrD();
    };
    Object.defineProperty(rjmue.prototype, 'rgKvC', {
        get: function() {
            return this.rgJtB;
        }
    });
    return rjmue;
});
scNt('dqhKv', ['dqjPs', 'dqjOr', 'dqjHw'], function() {
    function rgnrk(zeLu, worldProgress, zcJq, rjMrJ, riJwE, rhJwG, rfOyC) {
        this.zaKz = zeLu;
        this.rjIsF = worldProgress;
        this.rjPqH = zcJq;
        this.rjJyJ = rjMrJ;
        this.riIwH = riJwE;
        this.rhHvJ = rhJwG;
        this.rdKx = rfOyC;
        this.rdIz = null;
        this.ubLs = null;
        this.rhOzK = null;
        this.wjJy = null;
        this.rhKyJ = false;
        this.rjJvB = false;
    }
    rgnrk.RGMTF = 0.01;
    rgnrk.prototype.rhNr = function(view, qhOy) {
        this.rdIz = view;
        this.ubLs = parseInt(qhOy.name._.rdGw('siNr'));
        var tjOz = qhOy.name._.has('uiOy');
        if (tjOz) {
            this.rhOzK = parseInt(qhOy.name._.rdGw('uiOy')._.seHr('rfPwH'));
        } else {
            this.rhOzK = 0;
        }
        this.rjJyG();
        this.rhHvJ.xjJr('unlockGate', this.zaHu, this);
        this.rhHvJ.xjJr('worldProgressIncremented', this.rgGvC, this);
        this.rhHvJ.xjJr('glowFadedOut', this.riIuJ, this);
        this.rhHvJ.xjJr('glowFadedIn', this.rjJzJ, this);
        this.rhHvJ.xjJr('autoNextLevel', this.rhOzE, this);
        this.rjIqE();
        this.rgHyG();
    };
    rgnrk.prototype.rePtB = function() {
        this.xhGq();
    };
    rgnrk.prototype.xfGx = function() {};
    rgnrk.prototype.zgGs = function() {
        if (this.wjJy) {
            this.rdIz.buttons[this.wjJy].waIu(false);
        }
    };
    rgnrk.prototype.yeIq = function() {
        if (this.wjJy) {
            this.rdIz.buttons[this.wjJy].waIu(true);
        }
    };
    rgnrk.prototype.update = function() {
        var xgJt = this.rdIz.images.rfPxG;
        if (xgJt.rfIxE) {
            xgJt.rfIqD += rgnrk.RGMTF;
        }
    };
    rgnrk.prototype.rjJyG = function() {
        this.zaKz.rhMrB(this.ubLs, this.rhHvC, this);
    };
    rgnrk.prototype.rhHvC = function(wdNu) {
        this.xhJv = wdNu;
    };
    rgnrk.prototype.xhGq = function() {
        if (this.vgGx) {
            this.wjGr();
            this.rhPwJ();
        } else {
            this.rjIqB();
            this.rhHwD();
            this.wjHz();
            this.wjGq();
        }
        if (this.rhKyJ) {
            this.rgHsA();
        }
        this.xhGr();
        this.zhOx();
    };
    rgnrk.prototype.wjGr = function() {
        this.rdIz.sbGt._.rjGu(function(group) {
            group.rfIxE = false;
        }, this);
        this.rdIz.sbGt.rfKtH.rfIxE = true;
        this.rdIz.saIy.rfKtH.text = this.rhOzK;
    };
    rgnrk.prototype.rjIqE = function() {
        var reNqF = this.xhJv.reNqF;
        this.rdIz.saIy.rfKqA.style.rhOrB = 3;
        switch (reNqF) {
            case tcHy.dqjHw.RHNUA:
                this.wjJy = "rfOsF";
                this.rdIz.saIy.rfKqA.style.stroke = '#fe2e6e';
                break;
            case tcHy.dqjHw.RIHTH:
                this.wjJy = "rfJrB";
                this.rdIz.saIy.rfKqA.style.stroke = '#d08019';
                break;
            case tcHy.dqjHw.YCNW:
                this.wjJy = "rfOzG";
                this.rdIz.saIy.rfKqA.style.stroke = '#fc85d0';
                break;
            case tcHy.dqjHw.RIHSC:
                this.wjJy = "rfItA";
                this.rdIz.saIy.rfKqA.style.stroke = '#a35fbc';
                break;
            default:
        }
    };
    rgnrk.prototype.rjIqB = function() {
        this.rdIz.sbGt._.rjGu(function(group) {
            group.rfIxE = false;
        }, this);
        this.rdIz.sbGt[this.wjJy].rfIxE = true;
    };
    rgnrk.prototype.rhHwD = function() {
        var riGtK = this.wjJy + 'rdKz';
        var ydKw = this.rdIz.images[riGtK];
        var ycMy = this.rdIz.buttons[this.wjJy];
        ydKw.rfIxE = this.rjMqJ;
        ycMy.yjKv(!this.rjMqJ);
    };
    rgnrk.prototype.wjHz = function() {
        var rjNvA = this.wjJy + 'rdKy';
        var wfHs = this.rdIz.images[rjNvA];
        wfHs.rfIxE = this.riLwB;
    };
    rgnrk.prototype.wjGq = function() {
        for (var i = 1; i <= 3; i++) {
            var zeMr = this.rjJyJ.rgKvD(this.ubLs, i);
            var zeMs = this.wjJy + 'rdJs' + i;
            var vfOy = this.rdIz.images[zeMs];
            vfOy.rfIxE = zeMr;
        }
    };
    rgnrk.prototype.rgHyG = function() {
        var ycMy = this.rdIz.buttons[this.wjJy];
        ycMy.rePxK = 'rePrG';
        ycMy.yaIy(this.rdIz.wcHx, this.rdIz);
    };
    rgnrk.prototype.xhGr = function() {
        this.rdIz.images.rfPxG.rfIxE = this.riLxH;
    };
    rgnrk.prototype.zhOx = function() {
        var zeLt = this.rdIz.saIy.rfKqA;
        zeLt.text = this.ubLs;
        var riLyJ = !this.vgGx && !this.rjMqJ;
        zeLt.rfIxE = riLyJ;
    };
    rgnrk.prototype.zaHu = function(rfKqA) {
        if (rfKqA === this.ubLs) {
            this.riIwH.set(this.riIsA(), true);
            this.xhGq();
        }
    };
    rgnrk.prototype.rhPwJ = function() {
        if (this.riLwB) {
            if (this.rhMvE) {
                this.rjPqH.xjPu('zfLtqhnr', this.ubLs, this.rhOzK);
            } else {
                this.rjPqH.xjPu('xdKsqhnr', this.rhOzK, this.rjMrH);
            }
        } else {}
    };
    rgnrk.prototype.riIsA = function() {
        return this.ubLs + '_unlocked';
    };
    rgnrk.prototype.rgGvC = function() {
        this.rhKyJ = true;
    };
    rgnrk.prototype.rgHsA = function() {
        this.rdKx.input.viMz = true;
        this.rdKx.time.scHr.add(1000, function() {
            this.zaLu();
        }, this);
    };
    rgnrk.prototype.zaLu = function() {
        if (this.riLxH) {
            var sgIs = this.rdKx.add.sgIs(this.rdIz.images.rfPxG);
            sgIs.to({
                alpha: 0
            }, 1000, tcHy.dqjOr.sckv.tjoq.rglx, true);
            sgIs.xbKu.teIx(function() {
                this.rhHvJ.ugNr('glowFadedOut');
                sgIs.teNy.alpha = 1;
            }, this);
        }
    };
    rgnrk.prototype.riIuJ = function() {
        this.rhKyJ = false;
        this.xhGr();
        this.ziHq();
    };
    rgnrk.prototype.ziHq = function() {
        if (this.riLxH) {
            var sgIs = this.rdKx.add.sgIs(this.rdIz.images.rfPxG);
            sgIs.teNy.alpha = 0;
            sgIs.to({
                alpha: 1
            }, 1000, tcHy.dqjOr.sckv.tjoq.rglx, true);
            sgIs.xbKu.teIx(function() {
                this.rhHvJ.ugNr('glowFadedIn');
                this.rdKx.input.viMz = false;
            }, this);
        }
    };
    rgnrk.prototype.rhOzE = function() {
        this.rjJvB = this.riLwB;
    };
    rgnrk.prototype.rjJzJ = function() {
        if (this.rjJvB && !this.vgGx) {
            this.rjJvB = false;
            this.rdIz.wcHx();
        }
    };
    Object.defineProperty(rgnrk.prototype, 'id', {
        get: function() {
            return this.ubLs;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'vgGx', {
        get: function() {
            var taIy = !!(this.rhOzK > 0);
            var ziLv = this.riIwH.get(this.riIsA());
            var vgGx = (ziLv !== undefined) ? !ziLv : taIy;
            return vgGx;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'rhMvE', {
        get: function() {
            var rhMvE = this.rjMrH <= 0;
            return rhMvE;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'rjMrH', {
        get: function() {
            var rjMrH = this.rhOzK - this.rjJyJ.keyCount;
            if (rjMrH < 0) {
                rjMrH = 0;
            }
            return rjMrH;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'riLwB', {
        get: function() {
            var riLwB = !!(this.rjIsF.rfJyB === this.ubLs);
            return riLwB;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'rjMqJ', {
        get: function() {
            var riLwB = !!(this.rjIsF.rfJyB < this.ubLs);
            return riLwB;
        }
    });
    Object.defineProperty(rgnrk.prototype, 'riLxH', {
        get: function() {
            var riLwB = !!(this.rjIsF.rfJyB === this.ubLs);
            if (this.rhKyJ) {
                riLwB = !!((this.rjIsF.rfJyB - 1) === this.ubLs);
            }
            var riLxH = riLwB && !this.tjOz;
            return riLxH;
        }
    });
    return rgnrk;
});
scNt('dqhKw', ['dqjPs'], function() {
    function rglqb() {
        this.rdIz = null;
        this.ygPz = [];
    }
    rglqb.prototype.rhNr = function(view) {
        this.rdIz = view;
        this.rhNqC();
    };
    rglqb.prototype.rePtB = function() {
        this.rhOyE();
    };
    rglqb.prototype.xfGx = function() {
        this.rhOzJ();
    };
    rglqb.prototype.update = function() {
        this.ygPz.forEach(function(wdNy) {
            wdNy.update();
        }, this);
    };
    rglqb.prototype.zgGs = function() {
        this.ygPz.forEach(function(wdNy) {
            wdNy.zgGs();
        }, this);
    };
    rglqb.prototype.yeIq = function() {
        this.ygPz.forEach(function(wdNy) {
            wdNy.yeIq();
        }, this);
    };
    rglqb.prototype.rhNqC = function() {
        this.rdIz.sbGt.rfKqB.children.forEach(function(qhOy) {
            var wdNy = this.rdIz.zhLr('wdNyqjkv', [qhOy]);
            qhOy.parent.add(wdNy.view);
            wdNy.x = qhOy.x;
            wdNy.y = qhOy.y;
            this.ygPz.push(wdNy);
        }, this);
    };
    rglqb.prototype.rhOyE = function() {
        this.ygPz.forEach(function(wdNy) {
            wdNy.rbIy();
        }, this);
    };
    rglqb.prototype.rhOzJ = function() {
        this.ygPz.forEach(function(wdNy) {
            wdNy.sjLr();
        }, this);
    };
    Object.defineProperty(rglqb.prototype, 'ycMx', {
        get: function() {
            return this.ygPz.length;
        }
    });
    return rglqb;
});
scNt('dqhKx', [], function() {
    var WorldProgress = function(rfOyC, riJwE, rhJwG) {
        console.log('WorldProgress.ctor');
        this.rdKx = rfOyC;
        this.riIwH = riJwE;
        this.rhHvJ = rhJwG;
        this.rjIsF = null;
        this.rhKyH = "worldProgress";
    };
    WorldProgress.RHNXF = 1;
    WorldProgress.prototype.rhNr = function() {
        this.rhHvF();
        this.rhHvJ.xjJr('levelEnded', this.rgJyH, this);
    };
    WorldProgress.prototype.rhHvF = function() {
        this.rjIsF = this.riIwH.get(this.rhKyH) || WorldProgress.RHNXF;
    };
    WorldProgress.prototype.rhHwH = function() {
        this.riIwH.set(this.rhKyH, this.rjIsF);
    };
    WorldProgress.prototype.rgJyH = function(rjJuK) {
        if (rjJuK.wbLr) {
            if (rjJuK.rfKqA === this.rjIsF) {
                if (this.rjIsF < 2) {
                    this.rjIsF++;
                    this.rhHwH();
                    this.rhHvJ.ugNr('worldProgressIncremented');
                } else if (this.rjIsF === 100) {
                    this.rhHvJ.ugNr('lastLevelWon');
                }
            }
        }
    };
    Object.defineProperty(WorldProgress.prototype, 'rfJyB', {
        get: function() {
            return this.rjIsF;
        }
    });
    return WorldProgress;
});
scNt('dqhKy', ['dqjPs', 'dqiLu', 'dqiMq', 'dqjOr'], function() {
    var repxb = function(zdHu, wfKw, zbKs, zfLq, rfOyC) {
        repxb._super.constructor.call(this, 'repxb');
        this.zaGs = zdHu;
        this.xhKt = wfKw;
        this.sfHu = null;
        this.zaLx = zfLq;
        this.rdKx = rfOyC;
        this.rjJyD = new tcHy.dqiMq.rbhs();
        this.yhGt = null;
        this.yhGr = 0;
    };
    tcHy.dqjPs.ujNz(repxb, tcHy.dqiLu);
    repxb.RJLZE = 200;
    repxb.XDOQ = 800;
    repxb.YEGX = 6;
    repxb.RHKTE = 0.5;
    repxb.RHKTD = 1.3;
    repxb.YCIY = 0.014;
    repxb.YCIZ = 0.05;
    repxb.YDIU = 1.2;
    repxb.prototype.uhMy = function() {
        this.sfHu = this.scIu.zfLy('reOrC');
        this.rjJyD.rjLt(this.scIu.transform.rfIqD);
    };
    repxb.prototype.xbKr = function() {
        this.rgIvD();
        this.zaLx.rgKyB.add(this.rgLzD, this);
        this.zaLx.rgIzB.add(this.rgIvD, this);
    };
    repxb.prototype.zdKr = function() {
        this.rjPrJ();
        this.zaLx.rgKyB.thMz(this.rgLzD, this);
        this.zaLx.rgIzB.thMz(this.rgIvD, this);
    };
    repxb.prototype.wcIt = function() {
        this.zdKr();
    };
    repxb.prototype.rjPrJ = function() {
        if (this.yhGt) {
            this.xhKt.thMz(this.yhGt);
            this.yhGt = null;
        }
    };
    repxb.prototype.rgLzD = function(duration) {
        if (this.yhGt) {
            this.rjPrJ();
            this.yhGt = this.xhKt.add(duration - repxb.XDOQ, this.rjIrJ, this);
            return;
        }
        this.yhGr = 0;
        this.rjPrJ();
        this.sfHu.rgOs.rfIxE = true;
        this.scIu.reOsE.rgOs.rfIxE = true;
        this.rdKx.add.sgIs(this).to({
            yhGr: 1
        }, repxb.RJLZE, tcHy.dqjOr.sckv.wbhv.ragv, true);
        this.yhGt = this.xhKt.add(duration - repxb.XDOQ, this.rjIrJ, this);
    };
    repxb.prototype.rjIrJ = function() {
        this.zhNs();
        this.yhGt = this.xhKt.repeat(repxb.XDOQ / repxb.YEGX, repxb.YEGX, this.zhNs, this);
    };
    repxb.prototype.zhNs = function() {
        if (!this.yhGt) {
            return;
        }
        this.sfHu.rgOs.rfIxE = !this.sfHu.rgOs.rfIxE;
        this.scIu.reOsE.rgOs.rfIxE = !this.scIu.reOsE.rgOs.rfIxE;
    };
    repxb.prototype.rgIvD = function() {
        this.rjPrJ();
        this.sfHu.rgOs.rfIxE = false;
        this.scIu.reOsE.rgOs.rfIxE = false;
    };
    repxb.prototype.veIy = function() {
        this.sfHu.rgOs.position.rjLt(this.scIu.reOsE.rgOs.position);
        this.sfHu.rgOs.position.y += repxb.YCIZ;
        this.rjJyD.x += repxb.RHKTE * this.xhKt.wgPu;
        this.rjJyD.y += repxb.RHKTE * this.xhKt.wgPu;
        this.sfHu.rgOs.rfIqD.rjLt(this.rjJyD);
        var wcOu = this.yhGr * repxb.YCIY;
        this.sfHu.rgOs.scale.set(wcOu, wcOu, wcOu);
        var xcOw = this.yhGr * repxb.YDIU;
        this.scIu.reOsE.rgOs.scale.set(xcOw, xcOw, xcOw);
        this.scIu.reOsE.rgOs.rfIqD.y = this.zaGs.transform.rfIqD.y;
    };
    return repxb;
});
scNt('dqhKz', ['dqjPs', 'dqiLu'], function() {
    var repzh = function(zfLq) {
        repzh._super.constructor.call(this, 'rePzH');
        this.zaLx = zfLq;
    };
    tcHy.dqjPs.ujNz(repzh, tcHy.dqiLu);
    repzh.prototype.uhMy = function() {
        this.zaLx.rgKyB.add(this.rgIzF, this);
        this.zaLx.rgIzB.add(this.rgGqB, this);
    };
    repzh.prototype.rgIzF = function() {
        this.scIu.reOsE.play(this.scIu.type + '_scared', true, true);
    };
    repzh.prototype.rgGqB = function() {
        this.scIu.reOsE.play(this.scIu.type, true, true);
    };
    repzh.prototype.xbKr = function() {
        if (this.zaLx.rhIvA) {
            this.scIu.reOsE.play(this.scIu.type + '_scared', true, true);
        }
    };
    repzh.prototype.wcIt = function() {
        this.zaLx.rgKyB.thMz(this.rgIzF, this);
        this.zaLx.rgIzB.thMz(this.rgGqB, this);
    };
    return repzh;
});
scNt('dqhJq', [], function() {
    function rjmrj(rgLqB, riJwE, ydOy, rhHzC) {
        this.rgLyB = rgLqB;
        this.riIwH = riJwE;
        this.ziHt = ydOy;
        this.rgOrJ = rhHzC;
    }
    rjmrj.prototype.rgGyH = function(vfOz) {
        var rfKqA = this.ziHt.rfKqA;
        var yiOu = rfKqA + '_ke' + 'y_' + vfOz;
        var ycOu = this.riIwH.get(yiOu) || false;
        return ycOu;
    };
    rjmrj.prototype.rgKvD = function(rfKqA, vfOz) {
        var yiOu = rfKqA + '_ke' + 'y_' + vfOz;
        var ycOu = this.riIwH.get(yiOu) || false;
        return ycOu;
    };
    rjmrj.prototype.rgGrE = function() {
        var keyCount = this.rgOrJ.vfOt.length;
        this.riIxE(keyCount);
    };
    rjmrj.prototype.rgGwC = function() {
        return this.rgOrJ.vfOt.length;
    };
    rjmrj.prototype.riIxE = function(seMy) {
        var rjKzG = this.keyCount;
        rjKzG += seMy;
        this.riIwH.set('keyCount', rjKzG);
    };
    rjmrj.prototype.zgPu = function(seMy) {
        var rjKzG = this.keyCount;
        if (rjKzG >= seMy) {
            return true;
        } else {
            return false;
        }
    };
    Object.defineProperty(rjmrj.prototype, 'keyCount', {
        get: function() {
            return this.riIwH.get('keyCount') || 0;
        }
    });
    return rjmrj;
});
scNt('dqhJr', ['dqjPs', 'dqiLu'], function() {
    var reotd = function(rhJwG) {
        reotd._super.constructor.call(this, 'reOtD');
        this.rhHvJ = rhJwG;
        this.rgIuG = [];
        this.rgMrH = false;
    };
    tcHy.dqjPs.ujNz(reotd, tcHy.dqiLu);
    reotd.prototype.uhMy = function() {
        this.xjJr('collision', this.ziGy, this);
    };
    reotd.prototype.veHr = function() {
        if (this.rgIuG.length > 0 && !this.rgMrH) {
            this.rgIuG = [];
        }
        this.rgMrH = false;
    };
    reotd.prototype.wcIt = function() {
        this.ziOt('collision', this.ziGy, this);
    };
    reotd.prototype.ziGy = function(vjLr) {
        if (vjLr.scIu.type === 'rfGvH') {
            if (!this.rgIuG._.contains(vjLr.scIu.name)) {
                this.rhHvJ.ugNr('playerCollidedWithBoosterPad');
                this.rgIuG.push(vjLr.scIu.name);
            }
            this.rgMrH = true;
        }
    };
    return reotd;
});
scNt('dqhJs', ['dqjPs', 'dqiLu'], function() {
    var reoth = function(rhJwG, zfLq) {
        reoth._super.constructor.call(this, 'reOtH');
        this.rhHvJ = rhJwG;
        this.zaLx = zfLq;
        this.zaLx.riKuC.add(this.riIuC, this);
        this.zaLx.rhPrC.add(this.rhOzC, this);
        this.zaLx.rgNtH.add(this.rgMsK, this);
        this.zaKy = null;
        this.ziIw = 0;
        this.rgMqB = 0;
        this.riIrA = false;
        this.rgHsG = 0;
        this.rfPtE = 0;
    };
    tcHy.dqjPs.ujNz(reoth, tcHy.dqiLu);
    reoth.prototype.uhMy = function() {
        this.sfHy();
        this.xjJr('rePxE', this.teMr, this);
        this.rhHvJ.xjJr('playerRespawned', this.xhIx, this);
    };
    reoth.prototype.riIuC = function() {
        this.riIrA = true;
        this.sfHy();
    };
    reoth.prototype.rhOzC = function() {
        this.riIrA = false;
    };
    reoth.prototype.veHr = function() {
        if (this.riIrA) {
            var yeKq = tcHy.dqjPs.rbPq(this.scIu.transform.position).sub(this.zaKy).length();
            this.ziIw += yeKq;
            this.zaKy = tcHy.dqjPs.rbPq(this.scIu.transform.position);
            this.rgIuE();
        }
    };
    reoth.prototype.rgIuE = function() {
        if (this.ziIw - this.rgMqB > 1) {
            this.rgMqB++;
            this.rhHvJ.ugNr('playerRanAMeter');
        }
    };
    reoth.prototype.sfHy = function() {
        this.zaKy = tcHy.dqjPs.rbPq(this.scIu.transform.position);
        this.rgMqB = 0;
        this.ziIw = 0;
    };
    reoth.prototype.rgMsK = function() {
        this.rgHsG = this.ziIw;
        this.rfPtE = this.rgMqB;
    };
    reoth.prototype.teMr = function() {
        this.riIrA = false;
    };
    reoth.prototype.xhIx = function() {
        this.riIrA = true;
        this.ziIw = this.rgHsG;
        this.rgMqB = this.rfPtE;
    };
    reoth.prototype.wcIt = function() {
        this.zaLx.rgNtH.thMz(this.rgMsK, this);
        this.zaLx.riKuC.thMz(this.riIuC, this);
        this.zaLx.rhPrC.thMz(this.rhOzC, this);
        this.xjJr('rePxE', this.teMr, this);
    };
    return reoth;
});
scNt('dqhJt', ['dqjPs', 'dqiLu'], function() {
    var reoub = function() {
        reoub._super.constructor.call(this, 'reOuB');
        this.rgOtC = null;
        this.rhKwB = [];
    };
    tcHy.dqjPs.ujNz(reoub, tcHy.dqiLu);
    reoub.prototype.uhMy = function() {
        this.xjJr('inputEvent', this.zaIu, this);
    };
    reoub.prototype.zaIu = function(wgHq) {
        this.rhKwB.forEach(function(rcGq) {
            if (rcGq == wgHq) {
                this.rjPrH();
            }
        }, this);
    };
    reoub.prototype.wcIt = function() {
        this.ziOt('inputEvent', this.zaIu, this);
        this.rgOtC = null;
    };
    reoub.prototype.rjKvA = function(rhLtA, rgPyE) {
        this.rhKwB = rhLtA;
        this.rgOtC = rgPyE;
    };
    reoub.prototype.rjPrH = function() {
        this.rhKwB.splice(0, this.rhKwB.length);
        this.rgOtC.zbNw();
        this.rgOtC = null;
    };
    return reoub;
});
scNt('dqhJu', ['dqjOr', 'dqiOs', 'dqiOy', 'dqiOt', 'dqiLr'], function() {
    var rjjqk = function(ydGz, wfKw, wfKu) {
        console.log('TutorialInput.ctor');
        this.ziHv = ydGz;
        this.xhKt = wfKw;
        this.zaGs = null;
        this.xhKr = wfKu;
    };
    rjjqk.prototype.tdKq = function(zdHu, xcMv) {
        this.zaGs = zdHu;
        this.xhKr.xiLs();
        xcMv.forEach(function(rcGq) {
            switch (rcGq) {
                case tcHy.dqiLr.INPUT.WCNQ:
                    this.rhKuJ();
                    break;
                case tcHy.dqiLr.INPUT.XBNU:
                    this.rhHuH();
                    break;
                case tcHy.dqiLr.INPUT.RFHWF:
                case tcHy.dqiLr.INPUT.AIR_DASH:
                    this.ziJy();
                    break;
                case tcHy.dqiLr.INPUT.RFHWB:
                case tcHy.dqiLr.INPUT.REOVJ:
                    this.ziJz();
                    break;
            }
        }, this);
    };
    rjjqk.prototype.rgOwG = function(zePv) {
        return function() {
            if (this.xhKt.paused) return;
            this.zaGs.yaIw('inputEvent', zePv);
        }
    };
    rjjqk.prototype.xiLs = function(zdHu) {
        this.ziHv.xiLs();
        this.xhKr.tdKq(zdHu);
    };
    rjjqk.prototype.rhKuJ = function() {
        var vePv = this.rgOwG(tcHy.dqiLr.INPUT.WCNQ);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.LEFT, vePv, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.LEFT, vePv, this);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.LEFT, vePv, this);
    };
    rjjqk.prototype.rhHuH = function() {
        var wcNu = this.rgOwG(tcHy.dqiLr.INPUT.XBNU);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.RIGHT, wcNu, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RIGHT, wcNu, this);
        this.ziHv.bind(tcHy.dqiOt.XCIS, tcHy.dqiOt.RIGHT, wcNu, this);
    };
    rjjqk.prototype.ziJy = function() {
        var rfHwF = this.rgOwG(tcHy.dqiLr.INPUT.RFHWF);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.UP, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.UP, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.VBKT, rfHwF, this);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.A, rfHwF, this);
    };
    rjjqk.prototype.ziJz = function() {
        var rfHwB = this.rgOwG(tcHy.dqiLr.INPUT.RFHWB);
        this.ziHv.bind(tcHy.dqiOy.RFHVA, tcHy.dqiOy.RFHWC, rfHwB, this);
        this.ziHv.bind(tcHy.dqiOs.ZENZ, tcHy.dqjOr.vfou.RFHWC, rfHwB, this);
        this.ziHv.bind(tcHy.dqiOt.ZENZ, tcHy.dqiOt.B, rfHwB, this);
    };
    return rjjqk;
});
scNt('dqhJv', ['dqjPs', 'dqiLu'], function() {
    var repyg = function(scHr, zfLq, rgNzG, rhJwG, rjOzH) {
        repyg._super.constructor.call(this, 'repyg');
        this.zaLx = zfLq;
        this.rgMsB = rgNzG;
        this.rhHvJ = rhJwG;
        this.rjJxE = rjOzH;
        this.teOy = {};
        scHr.forEach(function(event) {
            var rjIs = {};
            rjIs.volume = event.volume;
            rjIs.rePxK = event.rePxK;
            rjIs.loop = event.loop;
            rjIs.override = event.override;
            this.teOy[event.event] = rjIs;
        }, this);
    };
    tcHy.dqjPs.ujNz(repyg, tcHy.dqiLu);
    repyg.prototype.xbKr = function() {
        this.xjJr('audioEffectDone', this.yhHz, this);
        this.zaLx.rhPrC.add(this.wjIr, this);
        this.rhHvJ.xjJr('playerLostByDeath', this.ygNt, this);
        this.rhHvJ.xjJr('playerLostByTime', this.ygNt, this);
        this.rhHvJ.xjJr('audioMuted', this.xhGv, this);
        this.rhHvJ.xjJr('audioUnMuted', this.rjJzB, this);
        this.rhHvJ.xjJr('startAudioStinger', this.zhPx, this);
    };
    repyg.prototype.zdKr = function() {
        this.rjOqK();
    };
    repyg.prototype.wcIt = function() {
        this.rjOqK();
    };
    repyg.prototype.rjOqK = function() {
        this.zaLx.rhPrC.thMz(this.wjIr, this);
        this.ziOt('audioEffectDone', this.yhHz, this);
        this.rhHvJ.ziOt('playerLostByDeath', this.ygNt, this);
        this.rhHvJ.ziOt('playerLostByTime', this.ygNt, this);
        this.rhHvJ.ziOt('audioMuted', this.xhGv, this);
        this.rhHvJ.ziOt('audioUnMuted', this.rjJzB, this);
        this.rhHvJ.ziOt('startAudioStinger', this.zhPx, this);
    };
    repyg.prototype.yhHz = function(xeKw) {
        if (xeKw === this.teOy['rePtB'].rePxK) {
            this.rhNqD('normal');
        }
    };
    repyg.prototype.wjIr = function() {
        var saPs = this.rgMsB.rgJvG();
        if (saPs) {
            this.rhNqD('rfIyG');
        } else {
            this.rhNqD('rfKtF');
        }
    };
    repyg.prototype.ygNt = function() {
        this.rhNqD('rfKtF');
    };
    repyg.prototype.rhNqD = function(event) {
        var wgIz = this.teOy[event];
        this.yaIw('playAudio', wgIz.rePxK, wgIz.loop, wgIz.volume, wgIz.override);
    };
    repyg.prototype.xhGv = function() {
        this.yaIw('stopSound');
    };
    repyg.prototype.rjJzB = function() {
        this.rhNqD('normal');
    };
    repyg.prototype.zhPx = function() {
        this.rhNqD('rePtB');
    };
    return repyg;
});
scNt('dqhJw', ['dqjPs', 'dqiLu'], function() {
    var repyh = function(rgMyH, rhLtG, rhJwG, rjOzH) {
        repyh._super.constructor.call(this, 'rePyH');
        this.rgLyG = rgMyH;
        this.rhKwD = rhLtG;
        this.rhHvJ = rhJwG;
        this.rjJxE = rjOzH;
    };
    tcHy.dqjPs.ujNz(repyh, tcHy.dqiLu);
    repyh.prototype.uhMy = function() {
        this.rhHvJ.xjJr('gamePaused', this.zaIt, this);
        this.rhHvJ.xjJr('gameResumed', this.rjJyA, this);
        this.rhHvJ.xjJr('audioMuted', this.riIwJ, this);
        this.rhHvJ.xjJr('audioUnMuted', this.rhHwB, this);
    };
    repyh.prototype.wcIt = function() {
        this.rhHvJ.ziOt('gamePaused', this.zaIt, this);
        this.rhHvJ.ziOt('gameResumed', this.rjJyA, this);
        this.rhHvJ.ziOt('audioMuted', this.riIwJ, this);
        this.rhHvJ.ziOt('audioUnMuted', this.rhHwB, this);
    };
    repyh.prototype.zaIt = function() {
        var rePxA = this.rjJxE.find(this.rgLyG);
        rePxA.yaIw('adjustVolume', 0.1);
        this.riIvH();
    };
    repyh.prototype.rjJyA = function() {
        var rePxA = this.rjJxE.find(this.rgLyG);
        rePxA.yaIw('adjustVolume', 1);
        this.yaIw('stopSound');
    };
    repyh.prototype.riIvH = function() {
        this.yaIw('playAudio', this.rhKwD.rePxK, this.rhKwD.loop, this.rhKwD.volume, true);
    };
    repyh.prototype.riIwJ = function() {
        this.yaIw('stopSound');
    };
    repyh.prototype.rhHwB = function() {
        this.zaIt();
        this.riIvH();
    };
    return repyh;
});
scNt('dqhJx', ['dqjPs', 'dqiLu', 'dqiMv'], function() {
    var reotj = function() {
        reotj._super.constructor.call(this, 'reOtJ');
    };
    tcHy.dqjPs.ujNz(reotj, tcHy.dqiLu);
    reotj.prototype.uhMy = function() {
        this.xjJr('rePvA', this.xhIu, this);
    };
    reotj.prototype.wcIt = function() {
        this.ziOt('rePvA', this.xhIu, this);
    };
    reotj.prototype.xhIu = function(zbPz) {
        if (typeof zbPz !== "undefined") {
            if (tcHy.dqiMv.ujKz(zbPz.type)) {
                this.yaIw("damagedByGhost", zbPz);
                this.yaIw('rePzD');
            } else if (tcHy.dqiMv.ujJr(zbPz.type)) {
                this.yaIw("damagedByLaser", zbPz);
                this.yaIw("rePzC");
            }
        }
    };
    return reotj;
});
scNt('dqhJy', ['dqjPs', 'dqiLu'], function() {
    var reotc = function(zfLq) {
        reotc._super.constructor.call(this, 'reOtC');
        this.zaLx = zfLq;
    };
    tcHy.dqjPs.ujNz(reotc, tcHy.dqiLu);
    reotc.prototype.uhMy = function() {
        this.zaLx.rgNtH.add(this.zaIr, this);
    };
    reotc.prototype.wcIt = function() {
        this.zaLx.rgNtH.thMz(this.zaIr, this);
    };
    reotc.prototype.zaIr = function() {
        this.yaIw('rfGvF');
    };
    return reotc;
});
scNt('dqhJz', ['dqjPs', 'dqiLu'], function() {
    var reovg = function(zfLq) {
        reovg._super.constructor.call(this, 'reOvG');
        this.zaLx = zfLq;
    };
    tcHy.dqjPs.ujNz(reovg, tcHy.dqiLu);
    reovg.prototype.uhMy = function() {
        this.zaLx.rgKyB.add(this.rgLzD, this);
        this.zaLx.rgIzB.add(this.rgIvD, this);
    };
    reovg.prototype.wcIt = function() {
        this.zaLx.rgKyB.thMz(this.rgLzD, this);
        this.zaLx.rgIzB.thMz(this.rgIvD, this);
    };
    reovg.prototype.rgLzD = function() {
        this.yaIw('reOvH');
    };
    reovg.prototype.rgIvD = function() {
        this.yaIw('reOvF');
    };
    return reovg;
});
scNt('dqhIq', ['dqjGq'], function() {
    function rhlte(riJwE, zfLq, vgJt, rhHzD) {
        this.riIwH = riJwE;
        this.wjJt = vgJt;
        this.rgOrK = rhHzD;
        zfLq.rhPrC.add(this.rhOzC, this);
    }
    rhlte.ZJMV = 'pellet_count';
    rhlte.prototype.zbOt = function(riKwC) {
        if (this.rhMtB(riKwC)) {
            this.rjPrG(this.ybKz - riKwC);
        }
    };
    rhlte.prototype.rjLwB = function(rhPtE) {
        console.log('PelletCollection.refundPellets(' + rhPtE + ')');
        this.rjPrG(this.ybKz + rhPtE);
    };
    rhlte.prototype.rhMtB = function(riKwC) {
        return riKwC <= this.rfPrJ();
    };
    rhlte.prototype.rhOzC = function() {
        var rgLwG = this.rfPrJ();
        var riGqB = this.rgOrK.rgMyA(tcHy.dqjGq.RFJRB);
        rgLwG += riGqB;
        this.rjPrG(rgLwG);
    };
    rhlte.prototype.rjPrG = function(seMy) {
        this.riIwH.set(rhlte.ZJMV, seMy);
    };
    rhlte.prototype.rfPrJ = function() {
        var rjKwD = this.riIwH.get(rhlte.ZJMV, true) || 0;
        return rjKwD;
    };
    Object.defineProperty(rhlte.prototype, 'ybKz', {
        get: function() {
            return this.rfPrJ();
        }
    });
    return rhlte;
});
scNt('dqhIr', [], function() {
    var riixa = function(rhJwG, whKs) {
        console.log('AnalyticsEvents.ctor');
        this.rhHvJ = rhJwG;
        this.xhMv = whKs;
        this.rhHvJ.xjJr('levelEnded', this.ygPy, this);
        this.rhHvJ.xjJr('levelStarted', this.zaJq, this);
        this.rhHvJ.xjJr('firstScoreSetForLevel', this.rhHvG, this);
        this.rhHvJ.xjJr('freePowerupActivated', this.rgLyH, this);
        this.rhHvJ.xjJr('paidPowerupActivated', this.rgLzG, this);
    };
    riixa.prototype.ygPy = function(rjJuK) {
        var wgHq = "Level_" + rjJuK.rfKqA + "_";
        if (rjJuK.wbLr && rjJuK.rgPrH) {
            wgHq += "won_" + rjJuK.keys;
        } else {
            wgHq += "rfKtF";
        }
        this.xhMv.wiMs(wgHq);
    };
    riixa.prototype.zaJq = function(rfKqA) {
        var wgHq = "Level_" + rfKqA + "_start";
        this.xhMv.wiMs(wgHq);
    };
    riixa.prototype.rhHvG = function(rfKqA) {
        var wgHq = "Level_" + rfKqA + "_completeonce";
        this.xhMv.wiMs(wgHq);
    };
    riixa.prototype.rgLyH = function(rfJxK) {
        var wgHq = "Freepurchase_" + rfJxK;
        this.xhMv.wiMs(wgHq);
    };
    riixa.prototype.rgLzG = function(rfJxK) {
        var wgHq = "Booster_activate_" + rfJxK;
        this.xhMv.wiMs(wgHq);
    };
    return riixa;
});
scNt('dqhIs', ['dqjPs'], function() {
    function rjlud(riMzH, rhJwG) {
        this.riIsD = riMzH;
        this.rhHvJ = rhJwG;
        this.rhHvJ.xjJr('levelEnded', this.zhOt, this);
        this.rhHvJ.xjJr('restartGame', this.zhOt, this);
        this.rhHvJ.xjJr('levelEndedFromPaused', this.zhOt, this);
        this.rhHvJ.xjJr('freePowerupActivated', this.rgLyH, this);
        this.ygLx = ['rfGsH', 'rfGrA', 'rfGsJ', 'rfGsK'];
        this.zhOt();
    }
    rjlud.prototype.xdIy = function(name) {
        var yaKr = 0;
        this.ygLx.forEach(function(xiIw) {
            if (xiIw._.has(name)) {
                yaKr = this.wjJq(xiIw);
            }
        }, this);
        return yaKr;
    };
    rjlud.prototype.ziJv = function(xiIw, veNy) {
        this['_' + xiIw] = veNy;
    };
    rjlud.prototype.wjJq = function(xiIw) {
        return this['_' + xiIw];
    };
    rjlud.prototype.rgLyH = function(ybGs) {
        this.ygLx.forEach(function(xiIw) {
            if (xiIw._.has(ybGs)) {
                this.ziJv(xiIw, this.riIsD.rfGrB[xiIw]);
            }
        }, this);
    };
    rjlud.prototype.zhOt = function() {
        this.ygLx.forEach(function(xiIw) {
            this.ziJv(xiIw, this.riIsD.rfGrC[xiIw]);
        }, this);
    };
    return rjlud;
});
scNt('dqhIt', ['dqjPs', 'dqjOr'], function() {
    function rglqa(zeLu, rhLtE, riMzH, rhJwG, rfOyC, rjMuE, rgLqB, ydOy) {
        this.zaKz = zeLu;
        this.rhKwC = rhLtE;
        this.rhKvH = riMzH.rfGrD;
        this.rhHvJ = rhJwG;
        this.rdKx = rfOyC;
        this.rjJyE = rjMuE;
        this.rgLyB = rgLqB;
        this.rdIz = null;
        this.xhJv = null;
        this.ziHy = 0;
        this.rgIuH = [];
        ydOy.rhMrG.add(this.rhKyG, this);
    }
    rglqa.YIGV = 400;
    rglqa.RIJYC = 0.5;
    rglqa.RHOTE = 0;
    rglqa.prototype.rhNr = function(view) {
        this.rdIz = view;
        this.rdIz.rgJsF(this.rhKvH);
        this.rdIz.buttons.rfIsA.yaIy(this.rdIz.wcHx, this.rdIz);
    };
    rglqa.prototype.rePtB = function(rfKrH) {
        this.ziHy = rfKrH;
        this.zaKz.rhMrB(rfKrH, this.rgJuG, this);
        this.rgIuH = [];
        this.rgMsF();
        this.rjJyE.xfGx();
        this.rgLyB.zgGs();
    };
    rglqa.prototype.xfGx = function() {};
    rglqa.prototype.rgLsF = function() {
        this.rjJyE.rePtB();
        this.rgLyB.yeIq();
        this.rgJtF();
    };
    rglqa.prototype.rgLtE = function(xgGx) {
        var name = xgGx._.rdGw('rfPyJ');
        var button = this.rdIz.buttons[name];
        var rjKvC = this.rdIz.zdHt[name + 'rjkvc'];
        var riNtB = this.rdIz.zdHt[name + 'rintb'];
        var vgHv = button.y == riNtB.y;
        var rjLw = this.rhKvH[name];
        if (vgHv) {
            this.rhKwC.rjLwB(rjLw);
            this.zaJv(button, rjKvC);
            var index = this.rgIuH.indexOf(name);
            if (index >= 0) {
                this.rgIuH.splice(index, 1);
            }
        } else {
            if (this.rhKwC.rhMtB(rjLw)) {
                this.rhKwC.zbOt(rjLw);
                this.zaJv(button, riNtB);
                this.rgIuH.push(name);
            } else {
                this.rgGsG();
            }
        }
    };
    rglqa.prototype.rhKyG = function() {
        this.rgIuH.forEach(function(ybGs) {
            this.rhHvJ.ugNr('freePowerupActivated', ybGs);
        }, this);
    };
    rglqa.prototype.rgHzC = function() {
        var yeIt = this.rdIz.zdHt.rfKyJ;
        this.rgGwK(rglqa.RIJYC, rglqa.RHOTE, yeIt);
        this.rgKqC();
    };
    rglqa.prototype.rgJtF = function() {
        var rjKzE = 0;
        this.rgIuH.forEach(function(name) {
            rjKzE += this.rhKvH[name];
        }, this);
        this.rhKwC.rjLwB(rjKzE);
    };
    rglqa.prototype.rgGsG = function() {
        var yeIt = this.rdIz.zdHt.rfLuH;
        this.rgGwK(rglqa.RHOTE, rglqa.RIJYC, yeIt);
        this.rgKqC(false);
    };
    rglqa.prototype.rgKqC = function(seOx) {
        var wcMz = seOx !== false;
        for (var xgGx in this.rdIz.buttons) {
            this.rdIz.buttons[xgGx].waIu(wcMz);
        }
    };
    rglqa.prototype.rgGwK = function(rgMtC, rgGrJ, rhLuH) {
        var rhLqAqjkv = this.rdIz.rePvD.rhLqAqjkv;
        var riHrK = this.rdIz.yfNt;
        var rgLuG = this.rdIz.rgLuG;
        this.rdKx.add.sgIs(riHrK).to({
            alpha: rgMtC
        }, rglqa.YIGV, tcHy.dqjOr.sckv.tjoq.rglx, true).rfIsA();
        this.rdKx.add.sgIs(rgLuG).to({
            alpha: rgGrJ
        }, rglqa.YIGV, tcHy.dqjOr.sckv.tjoq.rglx, true).rfIsA();
        this.rdKx.add.sgIs(rhLqAqjkv).to({
            x: rhLuH.x,
            y: rhLuH.y
        }, rglqa.YIGV, tcHy.dqjOr.sckv.wbhv.ragv, true).rfIsA();
    };
    rglqa.prototype.rgJuG = function(rjMrA) {
        this.rdIz.zcGq(rjMrA.reNqF, rjMrA.rfIyH, rjMrA.rjLuE);
    };
    rglqa.prototype.rgMsF = function() {
        var a = "rjkvc";
        this.zaJv(this.rdIz.buttons.rfLtE, this.rdIz.zdHt["rfLtE" + a]);
        this.zaJv(this.rdIz.buttons.rfIrC, this.rdIz.zdHt["rfIrC" + a]);
        this.zaJv(this.rdIz.buttons.rfKtE, this.rdIz.zdHt["rfKtE" + a]);
        this.zaJv(this.rdIz.buttons.rfKrC, this.rdIz.zdHt["rfKrC" + a]);
    };
    rglqa.prototype.zaJv = function(button, rfJwF) {
        button.x = rfJwF.x;
        button.y = rfJwF.y;
    };
    Object.defineProperty(rglqa.prototype, 'rfKrH', {
        get: function() {
            return this.ziHy;
        }
    });
    return rglqa;
});
scNt('dqhIu', ['dqjPs', 'dqiLu'], function() {
    var reosj = function(rgOxF, rhJwG) {
        reosj._super.constructor.call(this, 'reOsJ');
        this.rgMqA = rgOxF;
        this.rhHvJ = rhJwG;
    };
    tcHy.dqjPs.ujNz(reosj, tcHy.dqiLu);
    reosj.DURATION = 500;
    reosj.prototype.uhMy = function() {
        this.rhHvJ.xjJr('gameResumed', this.wjIs, this);
    };
    reosj.prototype.wcIt = function() {
        this.rhHvJ.ziOt('gameResumed', this.wjIs, this);
    };
    reosj.prototype.wjIs = function() {
        this.yaIw('ignoreDamageFrom', this.rgMqA, reosj.DURATION);
    };
    return reosj;
});
scNt('dqhIv', ['dqjPs', 'dqjOr'], function() {
    function rhjvd(rfOyC, rhOwK) {
        this.rdKx = rfOyC;
        this.rhNrB = rhOwK;
        this.riIsE = [];
    }
    rhjvd.prototype.rgKrJ = function(object) {
        if (scLr.vdKs) {
            return;
        }
        if (!object.riKvE) {
            object.riKvE = {
                x: object.x,
                y: object.y
            };
        }
        var rgNrC = {
            x: 10 * this.rhNrB.scale,
            y: 40 * this.rhNrB.scale
        };
        var rgItJ = {
            x: object.riKvE.x + tcHy.dqjPs.int.random(-rgNrC.x, rgNrC.x),
            y: object.riKvE.y + tcHy.dqjPs.int.random(-rgNrC.y, rgNrC.y)
        };
        var xdOw = tcHy.dqjPs.int.random(5000, 10000);
        var xdOx = this.rdKx.add.sgIs(object);
        xdOx.to({
            x: rgItJ.x,
            y: rgItJ.y
        }, xdOw, tcHy.dqjOr.sckv.wbhv.ragv, true);
        this.riIsE.push(xdOx);
        xdOx.xbKu.teIx(function() {
            var index = this.riIsE.indexOf(xdOx);
            this.riIsE.splice(index, 1);
            this.rgKrJ(object);
        }, this);
    };
    rhjvd.prototype.rhOrD = function() {
        if (scLr.vdKs) {
            return;
        }
        this.riIsE.forEach(function(xdOx) {
            xdOx.stop();
        }, this);
    };
    return rhjvd;
});
scNt('dqhIw', ['dqjPs', 'dqjOr'], function() {
    function rjmuj(rfOyC, rhOwK) {
        this.rdKx = rfOyC;
        this.rhNrB = rhOwK;
        this.rhKxD = [];
    }
    rjmuj.prototype.rhNr = function(ybKs) {
        if (scLr.vdKs) {
            return;
        }
        this.rhKuE(ybKs);
    };
    rjmuj.prototype.rePtB = function() {
        if (scLr.vdKs) {
            return;
        }
        this.riIvK();
    };
    rjmuj.prototype.xfGx = function() {
        if (scLr.vdKs) {
            return;
        }
        this.riIwK();
    };
    rjmuj.prototype.rhKuE = function(ybKs) {
        ybKs.children.forEach(function(qhOy) {
            var animationName = qhOy.id._.rdGw('rfJtG')._.seHr('-');
            var rfIsB = this.rdKx.rhHy.rfIsB(qhOy.x, qhOy.y, 'animations_' + animationName + '_desktop');
            rfIsB.anchor.x = qhOy.anchor.x;
            rfIsB.anchor.y = qhOy.anchor.y;
            var animation = rfIsB.animations.add(animationName + '_mapAnim');
            rfIsB.zeIt = animation;
            this.rhKxD.push(rfIsB);
        }, this);
        this.rhKxD.forEach(function(rfIsB) {
            ybKs.add(rfIsB);
        }, this);
    };
    rjmuj.prototype.riIvK = function() {
        this.rhKxD.forEach(function(rfIsB) {
            rfIsB.zeIt.play(30, true);
        }, this);
    };
    rjmuj.prototype.riIwK = function() {
        this.rhKxD.forEach(function(rfIsB) {
            rfIsB.zeIt.stop();
        }, this);
    };
    return rjmuj;
});
scNt('dqhIx', ['dqjPs', 'dqjIz'], function() {
    function rhmxe(rhJwG, rgNrF, rhLtE, rjMrJ, riJwE, rhOwK, zbPy) {
        console.log('MapHudController.ctor');
        this.rhHvJ = rhJwG;
        this.rgMrC = rgNrF;
        this.rhKwC = rhLtE;
        this.rjJyJ = rjMrJ;
        this.riIwH = riJwE;
        this.rhNrB = rhOwK;
        this.rjPqB = zbPy;
        this.rdIz = null;
    }
    tcHy.dqjPs.extend(rhmxe.prototype, {
        rhNr: function(view) {
            console.log('MapHudController.init');
            this.rdIz = view;
            if (scLr.desktop) {
                this.rdIz.buttons.rfOyE.yaIy(this.rhKqJ, view);
                this.rdIz.buttons.rfOyF.yaIy(this.rhKqJ, view);
            }
            this.rdIz.buttons.rfHzB.yaIy(this.zjHq, view);
            this.rdIz.buttons.rfHzC.yaIy(this.zjHq, view);
        },
        rePtB: function() {
            console.log('MapHudController.enter');
            this.rdIz.saIy.rfIrJ.text = this.rgMrC.get('Score Value:');
            this.rdIz.saIy.rfHzG.text = this.rjNvG();
            this.rdIz.saIy.rfJsA.text = this.rhKwC.ybKz;
            this.rdIz.saIy.keys.text = this.rjJyJ.keyCount;
            this.rgHtK();
            this.rgOtD();
        },
        xfGx: function() {
            console.log('MapHudController.leave');
        },
        rjNvG: function() {
            var yiIr = 0;
            for (var i = 1; i <= 100; i++) {
                var xcIy = this.riIwH.get(i + '_highscore') || 0;
                yiIr += xcIy;
            }
            return yiIr;
        },
        rhKqJ: function() {
            this.rhKvC.rhNrB.rhKqJ();
            this.rhKvC.rgHtK();
        },
        rgHtK: function() {
            if (scLr.vdKs) {
                return;
            }
            var zeNs = this.rhNrB.zeNs();
            this.rdIz.buttons.rfOyE.yjKv(!zeNs);
            this.rdIz.buttons.rfOyF.yjKv(zeNs);
        },
        zjHq: function() {
            this.rhKvC.rjPqB.rgMr = !this.rhKvC.rjPqB.rgMr;
            this.rhKvC.rgOtD();
            this.rhKvC.riIwE();
        },
        rgOtD: function() {
            this.rdIz.buttons.rfHzB.yjKv(!this.rjPqB.rgMr);
            this.rdIz.buttons.rfHzC.yjKv(this.rjPqB.rgMr);
        },
        riIwE: function() {
            if (this.rjPqB.rgMr) {
                this.rhHvJ.ugNr('stopMapMusic');
            } else {
                this.rhHvJ.ugNr('playMapMusic');
            }
        }
    });
    return rhmxe;
});
scNt('dqhIy', ['dqjPs', 'dqjOr', 'dqjIz', 'dqjGr', 'dqjGq', 'dqjHw', 'dqjKs'], function() {
    function rhjwh(zcJq, whKs, ydOy, rhHzD, rhJwG, wfKw, rhOwK) {
        console.log('Game.ctor');
        this.rjPqH = zcJq;
        this.ziHt = ydOy;
        this.rgOrK = rhHzD;
        this.rjPsJ = null;
        this.rgJuA = null;
        this.rgOsG = false;
        this.rhHvJ = rhJwG;
        this.xhKt = wfKw;
        this.rhNrB = rhOwK;
        this.rdIz = null;
        this.zaKs = false;
    }
    tcHy.dqjPs.extend(rhjwh.prototype, {
        enumerable: false
    }, {
        rhNr: function(view) {
            console.log('Game.init');
            this.rdIz = view;
            this.rdIz.buttons.pause.yaIy(this.pause, view);
            if (scLr.desktop) {
                this.rdIz.buttons.rfOyE.yaIy(this.rhKqJ, view);
                this.rdIz.buttons.rfOyF.yaIy(this.rhKqJ, view);
            }
            this.rjJvE();
            this.ziHt.rhMrG.add(this.rjJzK, this);
        },
        rePtB: function(rfKqA) {
            console.log('Game.enter');
            this.rhHvJ.xjJr('collectibleCollected', this.rgIvF, this);
            this.rhHvJ.xjJr('numberOfEnemiesKilledChanged', this.rfPsB, this);
            this.rhHvJ.xjJr('timeLeftChanged', this.rjJzF, this);
            this.rhHvJ.xjJr('gameResumed', this.ydNq, this);
            this.rhHvJ.xjJr('levelEnded', this.zaIw, this);
            this.rhHvJ.xjJr('scoreChanged', this.riIuD, this);
            this.rhHvJ.xjJr('updateHud', this.rgPvC, this);
            this.rhHvJ.xjJr('startTutorial', this.zaMs, this);
            this.rhHvJ.xjJr('endTutorial', this.rjIrB, this);
            this.ziHt.xjLr(rfKqA);
            this.rdIz.saIy.rfJsA.text = 0;
            this.rdIz.saIy.rfKrH.text = this.ziHt.rfKqA;
            for (var whKv in this.rdIz.rePvD) {
                this.rdIz.rePvD[whKv].rbIy();
            }
            this.rdIz.saIy.rfIrJ.text = 0;
            this.rgHtK();
            this.zaKs = false;
        },
        xfGx: function() {
            console.log('Game.leave');
            this.rhHvJ.ziOt('collectibleCollected', this.rgIvF, this);
            this.rhHvJ.ziOt('numberOfEnemiesKilledChanged', this.rfPsB, this);
            this.rhHvJ.ziOt('timeLeftChanged', this.rjJzF, this);
            this.rhHvJ.ziOt('gameResumed', this.ydNq, this);
            this.rhHvJ.ziOt('levelEnded', this.zaIw, this);
            this.rhHvJ.ziOt('scoreChanged', this.riIuD, this);
            this.rhHvJ.ziOt('updateHud', this.rgPvC, this);
            this.rhHvJ.ziOt('startTutorial', this.zaMs, this);
            this.rhHvJ.ziOt('endTutorial', this.rjIrB, this);
        },
        rjJvE: function() {
            var rgOvA = ['riLyHqjkv', 'ujPvqjkv', 'weOwqjkv', 'vaKxqjkv'];
            for (var i = 0; i < rgOvA.length; i++) {
                var id = rgOvA[i];
                this.rdIz.zhLr(id);
                this.rdIz.zdHt[id].add(this.rdIz.rePvD[id].view);
            }
        },
        ydNq: function() {
            this.ziHt.yiPw();
            console.log('Game.gameResumed');
            this.xhKt.paused = false;
        },
        pause: function() {
            if (this.rhHvK.zaKs) {
                return;
            }
            if (this.rhHvK.ziHt.vjPs()) {
                this.rhHvK.ziHt.xjKq();
                this.rhHvK.rjPqH.xjPu('pauseqhnr');
                this.rhHvK.xhKt.paused = true;
            }
        },
        rgPvC: function(wcKz, value) {
            this.rjPsJ = wcKz;
            var rjMzK = tcHy.dqjGr.rhMqD(wcKz);
            this.rdIz.rePvD['riLyHqjkv'].zcHu(rjMzK);
            this.rgJuA = value;
            this.rgOsG = rjMzK == tcHy.dqjGr.TIME;
            this.rgMsE(this.rgOsG ? value : 0);
        },
        rgMsE: function(zgJy) {
            var rfLwD = this.rdIz.saIy.rfNrJ;
            if (this.rgOsG) {
                rfLwD.text = tcHy.dqjKs.tfOw(zgJy);
            } else {
                rfLwD.text = zgJy + '/' + this.rgJuA;
            }
        },
        rfPsB: function(rgGvH) {
            if (this.rjPsJ === tcHy.dqjHw.YCNW) {
                this.rgMsE(rgGvH);
            }
        },
        rjJzF: function(yaIu) {
            this.rgMsE(yaIu);
        },
        rgIvF: function(riHtE) {
            if (!riHtE) {
                return;
            }
            if (riHtE._.has(tcHy.dqjGq.KEY)) {
                this.rdIz.rePvD.ujPvqjkv.rhLyJ(riHtE);
            }
            var rgGxD = tcHy.dqjGq.rhMqD(this.rjPsJ);
            if (rgGxD && (riHtE == rgGxD)) {
                var rhPqH = this.rgOrK.rgMyA(riHtE);
                this.rgMsE(rhPqH);
            }
            if (riHtE == tcHy.dqjGq.RFJRB) {
                var rhPqH = this.rgOrK.rgMyA(riHtE);
                this.rdIz.saIy.rfJsA.text = rhPqH;
            }
        },
        rjJzK: function() {
            this.rdIz.rePvD.ujPvqjkv.rgPtA();
        },
        zaIw: function(rjJtA) {
            if (rjJtA.wbLr && rjJtA.rgPrH) {
                this.rjPqH.xjPu('vfLqqhnr', rjJtA);
            } else {
                this.rjPqH.xjPu('wdNwqhnr', rjJtA);
            }
        },
        riIuD: function(veNw) {
            this.rdIz.saIy.rfIrJ.text = veNw;
        },
        rhKqJ: function() {
            this.rhHvK.rhNrB.rhKqJ();
            this.rhHvK.rgHtK();
        },
        rgHtK: function() {
            if (scLr.vdKs) {
                return;
            }
            var zeNs = this.rhNrB.zeNs();
            this.rdIz.buttons.rfOyE.yjKv(!zeNs);
            this.rdIz.buttons.rfOyF.yjKv(zeNs);
        },
        zaMs: function() {
            this.zaKs = true;
        },
        rjIrB: function() {
            this.zaKs = false;
        }
    });
    return rhjwh;
});
scNt('dqhIz', ['dqjPs', 'dqiLu'], function() {
    var reoye = function(rhJwG) {
        reoye._super.constructor.call(this, 'reOyE');
        this.rhHvJ = rhJwG;
    };
    tcHy.dqjPs.ujNz(reoye, tcHy.dqiLu);
    reoye.prototype.uhMy = function() {
        this.rhHvJ.xjJr('playMapMusic', this.xhHq, this);
        this.rhHvJ.xjJr('stopMapMusic', this.xhGv, this);
    };
    reoye.prototype.wcIt = function() {
        this.rhHvJ.ziOt('playMapMusic', this.xhHq, this);
        this.rhHvJ.ziOt('stopMapMusic', this.xhGv, this);
    };
    reoye.prototype.xhHq = function() {
        this.yaIw('playAudio', 'rfGxH', true, 0.5, true);
    };
    reoye.prototype.xhGv = function() {
        this.yaIw('stopSound');
    };
    return reoye;
});
scNt('dqhHq', ['dqjPs', 'dqiLu'], function() {
    var repuc = function(wiGt, xgIx, wfKw) {
        repuc._super.constructor.call(this, 'rePuC');
        this.xhKt = wfKw;
        this.xhMq = wiGt;
        this.yhIr = xgIx;
    };
    tcHy.dqjPs.ujNz(repuc, tcHy.dqiLu);
    repuc.prototype.uhMy = function() {
        this.xjJr('rePvA', this.xhIu, this);
    };
    repuc.prototype.wcIt = function() {
        this.ziOt('rePvA', this.xhIu, this);
    };
    repuc.prototype.rjKvF = function(wiGt, xgIx) {
        var zbJs = wiGt / xgIx;
        this.xhKt.repeat(zbJs, xgIx, this.rhKxA, this);
        this.xhKt.add(wiGt, this.ziIy, this);
    };
    repuc.prototype.rhKxA = function() {
        if (this.scIu) {
            this.scIu.reOsE.rgOs.rfIxE = !this.scIu.reOsE.rgOs.rfIxE;
        }
    };
    repuc.prototype.ziIy = function() {
        if (this.scIu) {
            this.scIu.reOsE.rgOs.rfIxE = true;
        }
    };
    repuc.prototype.xhIu = function() {
        var rePzF = this.scIu.zfLy('rePzF');
        if (rePzF && rePzF.zfGs >= 1) {
            /*this.rjKvF(this.xhMq, this.yhIr);*/ }
    };
    return repuc;
});
scNt('dqhHr', ['dqjLx', 'dqiMq', 'dqjKw', 'dqiMz', 'dqiLq', 'dqiLs', 'dqiLz', 'dqiKv', 'dqjHu', 'dqiKx', 'dqiJq', 'dqiJr', 'dqiNy', 'dqiJs', 'dqiJt', 'dqiJu', 'dqiJv', 'dqiJw', 'dqiIq', 'dqiIr', 'dqiLy', 'dqiIs', 'dqiIt', 'dqiIu', 'dqiIv', 'dqiIw', 'dqiHq', 'dqiHr', 'dqiHt', 'dqiHu', 'dqiHw', 'dqiHz', 'dqiGq', 'dqiGt', 'dqiIz', 'dqiGv', 'dqiGw', 'dqiGx', 'dqiGy', 'dqiGz', 'dqhPq', 'dqhPr', 'dqhPs', 'dqhPt', 'dqhPu', 'dqhPv', 'dqhPx', 'dqjHw', 'dqhPy', 'dqhOq', 'dqhOs', 'dqhOt', 'dqhOu', 'dqhOv', 'dqhOw', 'dqhOx', 'dqhOz', 'dqhNr', 'dqhNs', 'dqhNt', 'dqhNu', 'dqhNv', 'dqhNw', 'dqhNx', 'dqhNy', 'dqhNz', 'dqhMr', 'dqhMs', 'dqhMt', 'dqhMu', 'dqhMv', 'dqhMx', 'dqhMy', 'dqhMq', 'dqhMz', 'dqhLq', 'dqhLr', 'dqhLs', 'dqhLt', 'dqhLu', 'dqhLv', 'dqhLw', 'dqhLx', 'dqhLy', 'dqhLz', 'dqhKq', 'dqhKr', 'dqhKs', 'dqhKt', 'dqhKu', 'dqhKv', 'dqhKw', 'dqhKx', 'dqhKy', 'dqhKz', 'dqhJq', 'dqhJr', 'dqhJs', 'dqhJt', 'dqhJu', 'dqhJv', 'dqhJw', 'dqhJx', 'dqhJy', 'dqhJz', 'dqhIq', 'dqhIr', 'dqhIs', 'dqhIt', 'dqhIu', 'dqhIv', 'dqhIw', 'dqhIx', 'dqhIy', 'dqhIz', 'dqhHq'], function() {
    var xbhy = function(vgJt, zcJq, rfOyC) {
        this.wjJt = vgJt;
        this.rjPqH = zcJq;
        this.rdKx = rfOyC;
    };
    xbhy.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c diehardGame ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.wjJt.vfIr('ycMz', tcHy.dqiMz, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zeLu', tcHy.dqiLq, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('wfKu', tcHy.dqiLs, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('vhIx', tcHy.dqiLz, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('zfLq', tcHy.dqiKx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('ydOy', tcHy.dqiKv, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjOzJ', tcHy.dqiJq, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjOzH', tcHy.dqiJr, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('riHtA', tcHy.dqiJs, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgKyH', tcHy.dqiHz, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rhHzD', tcHy.dqhPx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgNzG', tcHy.dqhPy, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgOvK', tcHy.dqhOw, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('xdLy', tcHy.dqhOz, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgNqB', tcHy.dqhPu, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rhNzJ', tcHy.dqhNx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rhHzC', tcHy.dqhMv, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rePsK', tcHy.dqhLr, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjMuE', tcHy.dqhKu, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgLqB', tcHy.dqhKw, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('worldProgress', tcHy.dqhKx, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjMrJ', tcHy.dqhJq, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rhLtE', tcHy.dqhIq, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('riIxA', tcHy.dqhIr, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rgLqA', tcHy.dqhIt, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('rjLuD', tcHy.dqhIs, tcHy.dqjLx.XJOQ);
        this.wjJt.vfIr('wbHq', tcHy.dqiNy);
        this.wjJt.vfIr('riMqE', tcHy.dqhOq);
        this.wjJt.vfIr('riHtG', tcHy.dqhOs);
        this.wjJt.vfIr('reNqE', tcHy.dqhOt);
        this.wjJt.vfIr('xcJx', tcHy.dqhOu);
        this.wjJt.vfIr('rjJqK', tcHy.dqhJu);
        this.wjJt.vfIr('transform', tcHy.dqiJt);
        this.wjJt.vfIr('reOsE', tcHy.dqiJu);
        this.wjJt.vfIr('reOsH', tcHy.dqiJv);
        this.wjJt.vfIr('rePvK', tcHy.dqiJw);
        this.wjJt.vfIr('reOxJ', tcHy.dqiIq);
        this.wjJt.vfIr('reOvA', tcHy.dqiIr);
        this.wjJt.vfIr('reOwJ', tcHy.dqiLy);
        this.wjJt.vfIr('reOvB', tcHy.dqiIs);
        this.wjJt.vfIr('reOvC', tcHy.dqiIt);
        this.wjJt.vfIr('rePvF', tcHy.dqiIu);
        this.wjJt.vfIr('rePvE', tcHy.dqiIv);
        this.wjJt.vfIr('rePuD', tcHy.dqiIw);
        this.wjJt.vfIr('reOuE', tcHy.dqiHq);
        this.wjJt.vfIr('reOtB', tcHy.dqiHr);
        this.wjJt.vfIr('yjGz', tcHy.dqiHu);
        this.wjJt.vfIr('reOxC', tcHy.dqiHt);
        this.wjJt.vfIr('rhHxF', tcHy.dqiHw);
        this.wjJt.vfIr('reOuA', tcHy.dqiGq);
        this.wjJt.vfIr('reOuD', tcHy.dqiGt);
        this.wjJt.vfIr('reOuK', tcHy.dqiIz);
        this.wjJt.vfIr('reOuF', tcHy.dqiGv);
        this.wjJt.vfIr('reOwK', tcHy.dqiGw);
        this.wjJt.vfIr('rePvB', tcHy.dqiGx);
        this.wjJt.vfIr('reOxG', tcHy.dqiGy);
        this.wjJt.vfIr('reOqC', tcHy.dqiGz);
        this.wjJt.vfIr('rePuA', tcHy.dqhPq);
        this.wjJt.vfIr('reOuH', tcHy.dqhPr);
        this.wjJt.vfIr('rePuE', tcHy.dqhPv);
        this.wjJt.vfIr('rePwJ', tcHy.dqhPs);
        this.wjJt.vfIr('reOtF', tcHy.dqhPt);
        this.wjJt.vfIr('reOsF', tcHy.dqhOv);
        this.wjJt.vfIr('reOxF', tcHy.dqhOx);
        this.wjJt.vfIr('rePzF', tcHy.dqhNr);
        this.wjJt.vfIr('reOrE', tcHy.dqhNs);
        this.wjJt.vfIr('reOtA', tcHy.dqhNt);
        this.wjJt.vfIr('reOqA', tcHy.dqhNu);
        this.wjJt.vfIr('rePwK', tcHy.dqhNv);
        this.wjJt.vfIr('reOqD', tcHy.dqhNw);
        this.wjJt.vfIr('rePzB', tcHy.dqhNy);
        this.wjJt.vfIr('rePxD', tcHy.dqhNz);
        this.wjJt.vfIr('reOwE', tcHy.dqhMr);
        this.wjJt.vfIr('reOxD', tcHy.dqhMs);
        this.wjJt.vfIr('reOwD', tcHy.dqhMt);
        this.wjJt.vfIr('reOtE', tcHy.dqhMu);
        this.wjJt.vfIr('rePtA', tcHy.dqhMx);
        this.wjJt.vfIr('reOsB', tcHy.dqhMy);
        this.wjJt.vfIr('rePxJ', tcHy.dqhMq);
        this.wjJt.vfIr('reOwA', tcHy.dqhMz);
        this.wjJt.vfIr('rePwE', tcHy.dqhLq);
        this.wjJt.vfIr('rePuK', tcHy.dqhLs);
        this.wjJt.vfIr('xfMx', tcHy.dqhLt);
        this.wjJt.vfIr('rePwF', tcHy.dqhLu);
        this.wjJt.vfIr('reOrC', tcHy.dqhLv);
        this.wjJt.vfIr('rePwH', tcHy.dqhLw);
        this.wjJt.vfIr('rePvJ', tcHy.dqhLx);
        this.wjJt.vfIr('reOqK', tcHy.dqhLy);
        this.wjJt.vfIr('reOtK', tcHy.dqhLz);
        this.wjJt.vfIr('rePuG', tcHy.dqhKq);
        this.wjJt.vfIr('rePuF', tcHy.dqhKr);
        this.wjJt.vfIr('rePuJ', tcHy.dqhKs);
        this.wjJt.vfIr('reOqB', tcHy.dqhKt);
        this.wjJt.vfIr('rgNrK', tcHy.dqhKv);
        this.wjJt.vfIr('rePxB', tcHy.dqhKy);
        this.wjJt.vfIr('rePzH', tcHy.dqhKz);
        this.wjJt.vfIr('reOtD', tcHy.dqhJr);
        this.wjJt.vfIr('reOtH', tcHy.dqhJs);
        this.wjJt.vfIr('reOuB', tcHy.dqhJt);
        this.wjJt.vfIr('rePyG', tcHy.dqhJv);
        this.wjJt.vfIr('rePyH', tcHy.dqhJw);
        this.wjJt.vfIr('reOtJ', tcHy.dqhJx);
        this.wjJt.vfIr('reOtC', tcHy.dqhJy);
        this.wjJt.vfIr('reOvG', tcHy.dqhJz);
        this.wjJt.vfIr('reOsJ', tcHy.dqhIu);
        this.wjJt.vfIr('rhJvD', tcHy.dqhIv);
        this.wjJt.vfIr('rjMuJ', tcHy.dqhIw);
        this.wjJt.vfIr('rhMxE', tcHy.dqhIx);
        this.wjJt.vfIr('rhJwH', tcHy.dqhIy);
        this.wjJt.vfIr('reOyE', tcHy.dqhIz);
        this.wjJt.vfIr('rePuC', tcHy.dqhHq);
        tcHy.dqjHu.YEIX = 'rePrJ';
        tcHy.dqjHu.XEHQ = 'rePrH';
        this.wjJt.rhJyK(tcHy.dqhIr);
        console.log('%c Let\'s play diehard! ', 'background: #ffdd00; color: #440000; font-weight: bold');
        uaGu.call(tcLv);
    };
    return xbhy;
});
scNt('dqhHs', ['dqjLx', 'dqjKr', 'dqjPw', 'dqiNu', 'dqjKw'], function() {
    var rglsa = function(vgJt, rfOyC, whKs, rfGsA, rfGsF, zbPy, rgKyH, zcJq, rhJwG) {
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.xhMv = whKs;
        this.wjLr = rfGsA;
        this.ygPq = rfGsF;
        this.rjPqB = zbPy;
        this.rgJuF = rgKyH;
        this.rjPqH = zcJq;
        this.rhHvJ = rhJwG;
        _.riJrJ = this;
    };
    rglsa.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c diehardResourceLoader ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.ziGs = 3;
        this.wjLt = uaGu;
        this.ubNv = tcLv;
        this.ygOq();
        this.riItE();
        this.ziGr();
        new tcHy.dqjKr(this.zaJt, this).then(this.rhHwC, this).tbJu();
        new tcHy.dqjKr(this.rjJzC, this).then(this.rhHwC, this).tbJu();
        new tcHy.dqjKr(this.zaJr, this).then(this.rhHwC, this).tbJu();
    };
    rglsa.prototype.rhHwC = function() {
        this.ziGs--;
        console.log("Something loaded");
        if (this.ziGs === 0) {
            this.wjLt.call(this.ubNv);
        }
    };
    rglsa.prototype.ziGr = function() {
        this.rdKx.load.json('rePsK', 'rePsK.json');
        this.rdKx.load.json('rePyK', 'rePyK.json');
    };
    rglsa.prototype.zaJt = function(uaGu, tcLv) {
        console.log('Loading game textures');
        var vaOy = ['reNsF.png', 'rfJrB.png', 'sdIq.png', 'reNsE.png', 'wdOs.png', 'ycNy.png', 'reNsD.png', 'reNsC.png', 'reNsB.png', 'xiGw.png', 'reNsA.png', 'reNtK.png', 'reNtJ.png', 'xiGx.png', 'reNtH.png', 'reNtG.png', 'reNtF.png', 'xiGy.png', 'reNtE.png', 'reNtD.png', 'reNtC.png', 'xiGz.png', 'reNtB.png', 'reNtA.png', 'reNuK.png', 'xhPq.png', 'reNuJ.png', 'reNuH.png', 'reNuG.png', 'reNuF.png', 'reNuE.png', 'reNuD.png', 'reNuC.png', 'reNuB.png', 'reNuA.png', 'reNvK.png', 'reNvJ.png', 'reNvH.png', 'reNvG.png', 'reNvF.png', 'reNvE.png', 'reNvD.png', 'reNvC.png', 'reNvB.png'];
        var wdKt = {
            en: [],
            cn: []
        };
        wdKt.en = ['en/archCheckpoint.png', 'en/rfGuB.png', 'en/archStart.png', 'en/ygHv.png', 'en/ygHw.png', 'en/ygHx.png'];
        wdKt.cn = ['cn/riIyC.png', 'cn/ygHu.png', 'cn/xgLw.png', 'cn/ygHv.png', 'cn/ygHw.png', 'cn/ygHx.png'];
        var rhIqA = wdKt[this.ygPq.lang];
        vaOy = vaOy.concat(rhIqA);
        this.sfIs(vaOy, this.rgJuF.rhMxK, this.rgJuF, uaGu, tcLv);
    };
    rglsa.prototype.zaJr = function(uaGu, tcLv) {
        console.log('Loading game models');
        var yeOw = ['treeGreenOne/treeGreenOne', 'treeGreenTwo/treeGreenTwo', 'treeBlue/treeBlue', 'treeBrown/treeBrown', "bushBrown/bushBrown", 'baseGreen/baseGreen', 'baseBlue/baseBlue', 'baseBrown/baseBrown', 'rockOne/rockOne', 'rockTwo/rockTwo', 'rockThree/rockThree', 'cube/cube', 'iceBlue/iceBlue'];
        var tjJu = ['1/rfGuC.', '2/rfgtg.', '3/rfGsG.', '4/rfGuB.'];
        if (!tcHy.dqjPw.vdKs) {
            tjJu = tjJu.concat(yeOw);
        }
        this.sfIs(tjJu, this.rgJuF.rhIqB, this.rgJuF, uaGu, tcLv);
    };
    rglsa.prototype.sfIs = function(sjOr, rhPvC, riKyH, rhMqK, riHzC) {
        var whNu = new tcHy.dqjKr(rhPvC, riKyH, sjOr[0]);
        for (var i = 1; i < sjOr.length; i++) {
            whNu = whNu.then(rhPvC, riKyH, sjOr[i]);
        }
        whNu.then(rhMqK, riHzC).tbJu();
    };
    rglsa.prototype.rjJyH = function(name, yjJr) {
        var rfJwF = function() {};
        name = name._.seHr(".png");
        for (var i = 1; i <= yjJr; i++) {
            this.rdKx.load.json(name, 'im/a/' + name + '.json');
            this.rgJuF.rhMxK(rfJwF, this, name + '.png', 'a');
        }
    };
    rglsa.prototype.riItF = function(name, yjJr, image) {
        var rfJwF = function() {};
        for (var i = 1; i <= yjJr; i++) {
            this.rdKx.load.json(name, 'im/p/' + image + '.json');
            this.rgJuF.zeKt(rfJwF, this, name + '.png', image + '.png');
        }
    };
    rglsa.prototype.zaLv = function() {
        this.rhHvJ.ugNr('loadProgressed', this.rdKx.load.rfJyB);
    };
    rglsa.prototype.rjJzC = function(uaGu, tcLv) {
        this.rdKx.load.riKuK.add(this.zaLv, this);
        this.rdKx.load.riKuG.teIx(function() {
            this.rdKx.load.riKuK.thMz(this.zaLv, this);
            uaGu.call(tcLv);
        }, this);
        this.rdKx.load.rfIsA();
    };
    rglsa.prototype.riItE = function() {
        console.log('Loading game animations');
        this.rjJyH('REOWF.png', 1);
        this.rjJyH('REOWG.png', 1);
        this.rjJyH('REOWH.png', 1);
        this.rjJyH('REOWC.png', 1);
        this.rjJyH('REOVK.png', 1);
        this.rjJyH('reoqf.png', 1);
        this.rjJyH('reoqg.png', 1);
        this.rjJyH('RFHWB.png', 1);
        this.rjJyH('REOVJ.png', 1);
        this.rjJyH('REPVC.png', 1);
        this.rjJyH('REORK.png', 1);
        this.rjJyH('REOXK.png', 1);
        this.rjJyH('rfOsF.png', 1);
        this.rjJyH('rfGtF.png', 1);
        this.rjJyH('rfLtE.png', 1);
        this.rjJyH('reOqE.png', 1);
        this.rjJyH('rfKtE.png', 1);
        this.rjJyH('rfItA.png', 1);
        this.rjJyH('rePyF.png', 1);
        this.rjJyH('rePyD.png', 1);
        this.rjJyH('rePyB.png', 1);
        this.rjJyH('rePzK.png', 1);
        this.rjJyH('reovd.png', 1);
        this.rjJyH('reove.png', 1);
        this.rjJyH('rePyE.png', 1);
        this.rjJyH('rePyC.png', 1);
        this.rjJyH('rePyA.png', 1);
        this.rjJyH('rePzJ.png', 1);
        this.rjJyH('reoyj.png', 1);
        this.rjJyH('reoyk.png', 1);
        this.rjJyH('reOrH.png', 1);
        this.rjJyH('rePwB.png', 1);
        this.rjJyH('rePwA.png', 1);
    };
    rglsa.prototype.ygOq = function() {
        for (var i = 1; i <= 2; i++) {
            var zeNy = 'im/j/' + i + '.json';
            this.rdKx.load.json(i, zeNy);
        }
    };
    return rglsa;
});
scNt('dqhHt', ['dqjPs', 'dqjLx', 'dqiMq'], function() {
    var zjis = function(rfOyC, vgJt, rhOwK) {
        this.wjJt = vgJt;
        this.rdKx = rfOyC;
        this.rhNrB = rhOwK;
        this.zhNr = null;
    };
    zjis.prototype.rfIqC = function(uaGu, tcLv) {
        this.zhNr = canvas;
        var rhOsH = new tcHy.dqiMq.rjjtf({
            canvas: this.zhNr
        });
        rhOsH.wiJq = false;
        tcHy.dqjPs._3gl.renderer = rhOsH;
        tcHy.dqjPs._3gl.three = tcHy.dqiMq;
        tcHy.dqjPs._3gl.scene = _._3gl.camera = null;
        this.wjJt.vfIu('rhOsH', rhOsH);
        uaGu.call(tcLv);
    };
    zjis.prototype.rjIqG = function() {
        tcHy.dqjPs.rbMr(800, function() {
            this.zaGz();
        }, this);
    };
    zjis.prototype.zaGz = function() {
        return;
        var style = this.rdKx.canvas.style;
        this.zhNr.style.marginLeft = style.marginLeft;
        this.zhNr.style.marginTop = style.marginTop;
        this.zhNr.style.width = style.width;
        this.zhNr.style.height = style.height;
        this.zhNr.width = this.rdKx.canvas.width;
        this.zhNr.height = this.rdKx.canvas.height;
    };
    return zjis;
});
scNt('dqhHu', ['dqjLx', 'dqjKr', 'dqjPw', 'dqiNu', 'dqjKw'], function() {
    var rhiub = function(zcJq) {
        this.rjPqH = zcJq;
    };
    rhiub.prototype.rfIqC = function(uaGu, tcLv) {
        this.rjPqH.zgLy();
        uaGu.call(tcLv);
    };
    return rhiub;
});
scNt('dqhHv', ['dqjKw'], function() {
    var rhkzf = function(rfOyC) {
        this.rdKx = rfOyC;
    };
    rhkzf.prototype.rfIqC = function(uaGu, tcLv) {
        console.log('%c [DI module] %c Block Browser Input ', tcHy.dqjKw.XBNQ, tcHy.dqjKw.YCHR);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.VBKT);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.UP);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.RFHWC);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.RFHWC);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.LEFT);
        this.rdKx.input.vfOu.rjPuE(rfjwh.vfou.RIGHT);
        uaGu.call(tcLv);
    };
    return rhkzf;
});
var Fp2 = function(e) {
    this.options = this.extend(e, {
        excludeJsFonts: !0,
        excludeFlashFonts: !0,
        swfContainerId: "fingerprintjs2",
        swfPath: "flash/compiled/FontList.swf",
        detectScreenOrientation: !0,
        sortPluginsFor: [/palemoon/i]
    }), this.nativeForEach = Array.prototype.forEach, this.nativeMap = Array.prototype.map
};

function fp(e) {
    return new Fp2({
        phone: e + "1234567890"
    }).get(function(t, i) {
        console.log(t.substr(16 * e, 16))
    })
}
Fp2.prototype = {
    extend: function(e, t) {
        if (null == e) return t;
        for (var i in e) null != e[i] && t[i] !== e[i] && (t[i] = e[i]);
        return t
    },
    log: function(e) {
        window.console && console.log(e)
    },
    get: function(e) {
        var t = "";
        !this.options.smallprint && this.options.phone && new Fp2({
            phone: this.options.phone,
            smallprint: !0
        }).get(function(e) {
            t = e
        });
        var i = [];
        i = this.phoneKey(i), i = this.userAgentKey(i), i = this.languageKey(i), i = this.colorDepthKey(i), i = this.screenResolutionKey(i), i = this.availableScreenResolutionKey(i), i = this.timezoneOffsetKey(i), i = this.sessionStorageKey(i), i = this.localStorageKey(i), i = this.indexedDbKey(i), i = this.addBehaviorKey(i), i = this.openDatabaseKey(i), i = this.cpuClassKey(i), i = this.platformKey(i), i = this.doNotTrackKey(i), i = this.canvasKey(i), i = this.webglKey(i), i = this.adBlockKey(i), i = this.hasLiedLanguagesKey(i), i = this.hasLiedResolutionKey(i), i = this.hasLiedOsKey(i), i = this.touchSupportKey(i);
        var a, n = this,
            r = this.options.phone[0];
        return this.fontsKey(i, function(i) {
            var r = [];
            n.each(i, function(e) {
                var t = e.value;
                void 0 !== t && void 0 !== e.value.join && (t = e.value.join(";")), r.push(t)
            });
            var o = n.x64hash128(r.join("~~~"), 31);
            return e(a = o + t, i)
        }), a.substr(16 * r, 16) == F[4 * r] + F[4 * r + 1] + F[4 * r + 2] + F[4 * r + 3] || "undefined" == typeof wx || "1.8.0" == wx.version.version
    },
    phoneKey: function(e) {
        if (this.options.phone) {
            var t = "",
                i = this.getUserAgent().match(/\(([^)]+)\)/)[1];
            null != i && (t = i.split(";").length >= 3 ? i.split(";")[2].split("/")[0] : i.split(";")[0]), e.push({
                key: "phone",
                value: this.options.phone.substr(1) + t
            })
        }
        return e
    },
    userAgentKey: function(e) {
        return this.options.excludeUserAgent || e.push({
            key: "user_agent",
            value: this.options.smallprint ? "" : this.getUserAgent()
        }), e
    },
    getUserAgent: function() {
        return navigator.userAgent.replace(/\bNetType\S+/g, "")
    },
    languageKey: function(e) {
        return this.options.excludeLanguage || e.push({
            key: "language",
            value: navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || ""
        }), e
    },
    colorDepthKey: function(e) {
        return this.options.excludeColorDepth || e.push({
            key: "color_depth",
            value: screen.colorDepth
        }), e
    },
    screenResolutionKey: function(e) {
        return this.options.excludeScreenResolution ? e : this.getScreenResolution(e)
    },
    getScreenResolution: function(e) {
        var t;
        return void 0 !== (t = this.options.detectScreenOrientation && screen.height > screen.width ? [screen.height, screen.width] : [screen.width, screen.height]) && e.push({
            key: "resolution",
            value: t
        }), e
    },
    availableScreenResolutionKey: function(e) {
        return this.options.excludeAvailableScreenResolution ? e : this.getAvailableScreenResolution(e)
    },
    getAvailableScreenResolution: function(e) {
        var t;
        return screen.availWidth && screen.availHeight && (t = this.options.detectScreenOrientation ? screen.availHeight > screen.availWidth ? [screen.availHeight, screen.availWidth] : [screen.availWidth, screen.availHeight] : [screen.availHeight, screen.availWidth]), void 0 !== t && e.push({
            key: "available_resolution",
            value: t
        }), e
    },
    timezoneOffsetKey: function(e) {
        return this.options.excludeTimezoneOffset || e.push({
            key: "timezone_offset",
            value: (new Date).getTimezoneOffset()
        }), e
    },
    sessionStorageKey: function(e) {
        return !this.options.excludeSessionStorage && this.hasSessionStorage() && e.push({
            key: "session_storage",
            value: 1
        }), e
    },
    localStorageKey: function(e) {
        return !this.options.excludeSessionStorage && this.hasLocalStorage() && e.push({
            key: "local_storage",
            value: 1
        }), e
    },
    indexedDbKey: function(e) {
        return !this.options.excludeIndexedDB && this.hasIndexedDB() && e.push({
            key: "indexed_db",
            value: 1
        }), e
    },
    addBehaviorKey: function(e) {
        return document.body && !this.options.excludeAddBehavior && document.body.addBehavior && e.push({
            key: "add_behavior",
            value: 1
        }), e
    },
    openDatabaseKey: function(e) {
        return !this.options.excludeOpenDatabase && window.openDatabase && e.push({
            key: "open_database",
            value: 1
        }), e
    },
    cpuClassKey: function(e) {
        return this.options.excludeCpuClass || e.push({
            key: "cpu_class",
            value: this.getNavigatorCpuClass()
        }), e
    },
    platformKey: function(e) {
        return this.options.excludePlatform || e.push({
            key: "navigator_platform",
            value: this.getNavigatorPlatform()
        }), e
    },
    doNotTrackKey: function(e) {
        return this.options.excludeDoNotTrack || e.push({
            key: "do_not_track",
            value: this.getDoNotTrack()
        }), e
    },
    canvasKey: function(e) {
        return !this.options.excludeCanvas && this.isCanvasSupported() && e.push({
            key: "canvas",
            value: this.getCanvasFp()
        }), e
    },
    webglKey: function(e) {
        return this.options.excludeWebGL ? ("undefined" == typeof NODEBUG && this.log("Skipping WebGL fingerprinting per excludeWebGL configuration option"), e) : this.isWebGlSupported() ? (e.push({
            key: "webgl",
            value: this.getWebglFp()
        }), e) : ("undefined" == typeof NODEBUG && this.log("Skipping WebGL fingerprinting because it is not supported in this browser"), e)
    },
    adBlockKey: function(e) {
        return this.options.excludeAdBlock || e.push({
            key: "adblock",
            value: this.getAdBlock()
        }), e
    },
    hasLiedLanguagesKey: function(e) {
        return this.options.excludeHasLiedLanguages || e.push({
            key: "has_lied_languages",
            value: this.getHasLiedLanguages()
        }), e
    },
    hasLiedResolutionKey: function(e) {
        return this.options.excludeHasLiedResolution || e.push({
            key: "has_lied_resolution",
            value: this.getHasLiedResolution()
        }), e
    },
    hasLiedOsKey: function(e) {
        return this.options.excludeHasLiedOs || e.push({
            key: "has_lied_os",
            value: this.getHasLiedOs()
        }), e
    },
    hasLiedBrowserKey: function(e) {
        return this.options.excludeHasLiedBrowser || e.push({
            key: "has_lied_browser",
            value: this.getHasLiedBrowser()
        }), e
    },
    fontsKey: function(e, t) {
        return this.options.excludeJsFonts ? this.flashFontsKey(e, t) : this.jsFontsKey(e, t)
    },
    flashFontsKey: function(e, t) {
        return this.options.excludeFlashFonts ? ("undefined" == typeof NODEBUG && this.log("Skipping flash fonts detection per excludeFlashFonts configuration option"), t(e)) : this.hasSwfObjectLoaded() ? this.hasMinFlashInstalled() ? void 0 === this.options.swfPath ? ("undefined" == typeof NODEBUG && this.log("To use Flash fonts detection, you must pass a valid swfPath option, skipping Flash fonts enumeration"), t(e)) : void this.loadSwfAndDetectFonts(function(i) {
            e.push({
                key: "swf_fonts",
                value: i.join(";")
            }), t(e)
        }) : ("undefined" == typeof NODEBUG && this.log("Flash is not installed, skipping Flash fonts enumeration"), t(e)) : ("undefined" == typeof NODEBUG && this.log("Swfobject is not detected, Flash fonts enumeration is skipped"), t(e))
    },
    jsFontsKey: function(e, t) {
        var i = this;
        return setTimeout(function() {
            var a = ["monospace", "sans-serif", "serif"],
                n = document.getElementsByTagName("body")[0],
                r = document.createElement("span");
            r.style.position = "absolute", r.style.left = "-9999px", r.style.fontSize = "72px", r.innerHTML = "mmmmmmmmmmlli";
            for (var o = {}, s = {}, l = 0, h = a.length; l < h; l++) r.style.fontFamily = a[l], n.appendChild(r), o[a[l]] = r.offsetWidth, s[a[l]] = r.offsetHeight, n.removeChild(r);
            var u = function(e) {
                    for (var t = !1, i = 0, l = a.length; i < l; i++) {
                        r.style.fontFamily = e + "," + a[i], n.appendChild(r);
                        var h = r.offsetWidth !== o[a[i]] || r.offsetHeight !== s[a[i]];
                        n.removeChild(r), t = t || h
                    }
                    return t
                },
                d = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Garamond", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
            i.options.extendedJsFonts && (d = d.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"]));
            for (var c = [], g = 0, p = d.length; g < p; g++) u(d[g]) && c.push(d[g]);
            e.push({
                key: "js_fonts",
                value: c
            }), t(e)
        }, 1)
    },
    pluginsKey: function(e) {
        return this.options.excludePlugins || (this.isIE() ? this.options.excludeIEPlugins || e.push({
            key: "ie_plugins",
            value: this.getIEPlugins()
        }) : e.push({
            key: "regular_plugins",
            value: this.getRegularPlugins()
        })), e
    },
    getRegularPlugins: function() {
        for (var e = [], t = 0, i = navigator.plugins.length; t < i; t++) e.push(navigator.plugins[t]);
        return this.pluginsShouldBeSorted() && (e = e.sort(function(e, t) {
            return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
        })), this.map(e, function(e) {
            var t = this.map(e, function(e) {
                return [e.type, e.suffixes].join("~")
            }).join(",");
            return [e.name, e.description, t].join("::")
        }, this)
    },
    getIEPlugins: function() {
        var e = [];
        if (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject" in window) {
            e = this.map(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"], function(e) {
                try {
                    return new ActiveXObject(e), e
                } catch (e) {
                    return null
                }
            })
        }
        return navigator.plugins && (e = e.concat(this.getRegularPlugins())), e
    },
    pluginsShouldBeSorted: function() {
        for (var e = !1, t = 0, i = this.options.sortPluginsFor.length; t < i; t++) {
            var a = this.options.sortPluginsFor[t];
            if (navigator.userAgent.match(a)) {
                e = !0;
                break
            }
        }
        return e
    },
    touchSupportKey: function(e) {
        return this.options.excludeTouchSupport || e.push({
            key: "touch_support",
            value: this.getTouchSupport()
        }), e
    },
    hasSessionStorage: function() {
        try {
            return !!window.sessionStorage
        } catch (e) {
            return !0
        }
    },
    hasLocalStorage: function() {
        try {
            return !!window.localStorage
        } catch (e) {
            return !0
        }
    },
    hasIndexedDB: function() {
        return !!window.indexedDB
    },
    getNavigatorCpuClass: function() {
        return navigator.cpuClass ? navigator.cpuClass : "unknown"
    },
    getNavigatorPlatform: function() {
        return navigator.platform ? navigator.platform : "unknown"
    },
    getDoNotTrack: function() {
        return navigator.doNotTrack ? navigator.doNotTrack : "unknown"
    },
    getTouchSupport: function() {
        var e = 0,
            t = !1;
        void 0 !== navigator.maxTouchPoints ? e = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (e = navigator.msMaxTouchPoints);
        try {
            document.createEvent("TouchEvent"), t = !0
        } catch (e) {}
        return [e, t, "ontouchstart" in window]
    },
    getCanvasFp: function() {
        var e = [],
            t = document.createElement("canvas");
        t.width = 2e3, t.height = 200, t.style.display = "inline";
        var i = t.getContext("2d");
        return i.rect(0, 0, 10, 10), i.rect(2, 2, 6, 6), e.push("canvas winding:" + (!1 === i.isPointInPath(5, 5, "evenodd") ? "yes" : "no")), i.textBaseline = "alphabetic", i.fillStyle = "#f60", i.fillRect(125, 1, 62, 20), i.fillStyle = "#069", this.options.dontUseFakeFontInCanvas ? i.font = "11pt Arial" : i.font = "11pt no-real-font-123", i.fillText("Cwm fjordbank glyphs vext quiz, 😃", 2, 15), i.fillStyle = "rgba(102, 204, 0, 0.7)", i.font = "18pt Arial", i.fillText("Cwm fjordbank glyphs vext quiz, 😃", 4, 45), i.globalCompositeOperation = "multiply", i.fillStyle = "rgb(255,0,255)", i.beginPath(), i.arc(50, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(0,255,255)", i.beginPath(), i.arc(100, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,255,0)", i.beginPath(), i.arc(75, 100, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,0,255)", i.arc(75, 75, 75, 0, 2 * Math.PI, !0), i.arc(75, 75, 25, 0, 2 * Math.PI, !0), i.fill("evenodd"), e.push("canvas fp:" + t.toDataURL()), e.join("~")
    },
    getWebglFp: function() {
        var e, t = function(t) {
            return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + t[0] + ", " + t[1] + "]"
        };
        if (!(e = this.getWebglCanvas())) return null;
        var i = [],
            a = e.createBuffer();
        e.bindBuffer(e.ARRAY_BUFFER, a);
        var n = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
        e.bufferData(e.ARRAY_BUFFER, n, e.STATIC_DRAW), a.itemSize = 3, a.numItems = 3;
        var r = e.createProgram(),
            o = e.createShader(e.VERTEX_SHADER);
        e.shaderSource(o, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"), e.compileShader(o);
        var s, l, h, u = e.createShader(e.FRAGMENT_SHADER);
        return e.shaderSource(u, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"), e.compileShader(u), e.attachShader(r, o), e.attachShader(r, u), e.linkProgram(r), e.useProgram(r), r.vertexPosAttrib = e.getAttribLocation(r, "attrVertex"), r.offsetUniform = e.getUniformLocation(r, "uniformOffset"), e.enableVertexAttribArray(r.vertexPosAttrib), e.vertexAttribPointer(r.vertexPosAttrib, a.itemSize, e.FLOAT, !1, 0, 0), e.uniform2f(r.offsetUniform, 1, 1), e.drawArrays(e.TRIANGLE_STRIP, 0, a.numItems), null != e.canvas && i.push(e.canvas.toDataURL()), i.push("extensions:" + e.getSupportedExtensions().join(";")), i.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))), i.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))), i.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)), i.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")), i.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)), i.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)), i.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)), i.push("webgl max anisotropy:" + ((h = (s = e).getExtension("EXT_texture_filter_anisotropic") || s.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || s.getExtension("MOZ_EXT_texture_filter_anisotropic")) ? (0 === (l = s.getParameter(h.MAX_TEXTURE_MAX_ANISOTROPY_EXT)) && (l = 2), l) : null)), i.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)), i.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)), i.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)), i.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)), i.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), i.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)), i.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)), i.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)), i.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)), i.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)), i.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))), i.push("webgl red bits:" + e.getParameter(e.RED_BITS)), i.push("webgl renderer:" + e.getParameter(e.RENDERER)), i.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)), i.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)), i.push("webgl vendor:" + e.getParameter(e.VENDOR)), i.push("webgl version:" + e.getParameter(e.VERSION)), e.getShaderPrecisionFormat ? (i.push("webgl vertex shader high float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision), i.push("webgl vertex shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl vertex shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl vertex shader medium float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl vertex shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl vertex shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl vertex shader low float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).precision), i.push("webgl vertex shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl vertex shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl fragment shader high float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision), i.push("webgl fragment shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl fragment shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl fragment shader medium float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl fragment shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl fragment shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl fragment shader low float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).precision), i.push("webgl fragment shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl fragment shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl vertex shader high int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).precision), i.push("webgl vertex shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMin), i.push("webgl vertex shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMax), i.push("webgl vertex shader medium int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).precision), i.push("webgl vertex shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl vertex shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl vertex shader low int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).precision), i.push("webgl vertex shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMin), i.push("webgl vertex shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMax), i.push("webgl fragment shader high int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).precision), i.push("webgl fragment shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMin), i.push("webgl fragment shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMax), i.push("webgl fragment shader medium int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).precision), i.push("webgl fragment shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl fragment shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl fragment shader low int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).precision), i.push("webgl fragment shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMin), i.push("webgl fragment shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMax), i.join("~")) : ("undefined" == typeof NODEBUG && this.log("WebGL fingerprinting is incomplete, because your browser does not support getShaderPrecisionFormat"), i.join("~"))
    },
    getAdBlock: function() {
        var e = document.createElement("div");
        e.setAttribute("id", "ads");
        try {
            return document.body.appendChild(e), !document.getElementById("ads")
        } catch (e) {
            return !1
        }
    },
    getHasLiedLanguages: function() {
        if (void 0 !== navigator.languages) try {
            if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2)) return !0
        } catch (e) {
            return !0
        }
        return !1
    },
    getHasLiedResolution: function() {
        return screen.width < screen.availWidth || screen.height < screen.availHeight
    },
    getHasLiedOs: function() {
        var e, t = navigator.userAgent.toLowerCase(),
            i = navigator.oscpu,
            a = navigator.platform.toLowerCase();
        if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other", ("ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e) return !0;
        if (void 0 !== i) {
            if ((i = i.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e) return !0;
            if (i.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e) return !0;
            if (i.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e) return !0;
            if (0 === i.indexOf("win") && 0 === i.indexOf("linux") && i.indexOf("mac") >= 0 && "other" !== e) return !0
        }
        return a.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || ((a.indexOf("linux") >= 0 || a.indexOf("android") >= 0 || a.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || ((a.indexOf("mac") >= 0 || a.indexOf("ipad") >= 0 || a.indexOf("ipod") >= 0 || a.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e || (0 === a.indexOf("win") && 0 === a.indexOf("linux") && a.indexOf("mac") >= 0 && "other" !== e || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e)))
    },
    getHasLiedBrowser: function() {
        var e, t = navigator.userAgent.toLowerCase(),
            i = navigator.productSub;
        if (("Chrome" === (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== i) return !0;
        var a, n = eval.toString().length;
        if (37 === n && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0;
        if (39 === n && "Internet Explorer" !== e && "Other" !== e) return !0;
        if (33 === n && "Chrome" !== e && "Opera" !== e && "Other" !== e) return !0;
        try {
            throw "a"
        } catch (e) {
            try {
                e.toSource(), a = !0
            } catch (e) {
                a = !1
            }
        }
        return !(!a || "Firefox" === e || "Other" === e)
    },
    isCanvasSupported: function() {
        return !0
    },
    isWebGlSupported: function() {
        return !0
    },
    isIE: function() {
        return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent))
    },
    hasSwfObjectLoaded: function() {
        return void 0 !== window.swfobject
    },
    hasMinFlashInstalled: function() {
        return swfobject.hasFlashPlayerVersion("9.0.0")
    },
    addFlashDivNode: function() {
        var e = document.createElement("div");
        e.setAttribute("id", this.options.swfContainerId), document.body.appendChild(e)
    },
    loadSwfAndDetectFonts: function(e) {
        var t = "___fp_swf_loaded";
        window[t] = function(t) {
            e(t)
        };
        var i = this.options.swfContainerId;
        this.addFlashDivNode();
        var a = {
            onReady: t
        };
        swfobject.embedSWF(this.options.swfPath, i, "1", "1", "9.0.0", !1, a, {
            allowScriptAccess: "always",
            menu: "false"
        }, {})
    },
    getWebglCanvas: function() {
        var e = null;
        try {
            e = canvas.getContext("webgl") || canvas.getContext("experimental-webgl")
        } catch (e) {}
        return e || (e = null), e
    },
    each: function(e, t, i) {
        if (null !== e)
            if (this.nativeForEach && e.forEach === this.nativeForEach) e.forEach(t, i);
            else if (e.length === +e.length) {
            for (var a = 0, n = e.length; a < n; a++)
                if (t.call(i, e[a], a, e) === {}) return
        } else
            for (var r in e)
                if (e.hasOwnProperty(r) && t.call(i, e[r], r, e) === {}) return
    },
    map: function(e, t, i) {
        var a = [];
        return null == e ? a : this.nativeMap && e.map === this.nativeMap ? e.map(t, i) : (this.each(e, function(e, n, r) {
            a[a.length] = t.call(i, e, n, r)
        }), a)
    },
    x64Add: function(e, t) {
        e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
        var i = [0, 0, 0, 0];
        return i[3] += e[3] + t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] + t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] + t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] + t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
    },
    x64Multiply: function(e, t) {
        e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
        var i = [0, 0, 0, 0];
        return i[3] += e[3] * t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] * t[3], i[1] += i[2] >>> 16, i[2] &= 65535, i[2] += e[3] * t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] * t[3], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[2] * t[2], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[3] * t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
    },
    x64Rotl: function(e, t) {
        return 32 === (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
    },
    x64LeftShift: function(e, t) {
        return 0 === (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
    },
    x64Xor: function(e, t) {
        return [e[0] ^ t[0], e[1] ^ t[1]]
    },
    x64Fmix: function(e) {
        return e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [4283543511, 3981806797]), e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [3301882366, 444984403]), e = this.x64Xor(e, [0, e[0] >>> 1])
    },
    x64hash128: function(e, t) {
        t = t || 0;
        for (var i = (e = e || "").length % 16, a = e.length - i, n = [0, t], r = [0, t], o = [0, 0], s = [0, 0], l = [2277735313, 289559509], h = [1291169091, 658871167], u = 0; u < a; u += 16) o = [255 & e.charCodeAt(u + 4) | (255 & e.charCodeAt(u + 5)) << 8 | (255 & e.charCodeAt(u + 6)) << 16 | (255 & e.charCodeAt(u + 7)) << 24, 255 & e.charCodeAt(u) | (255 & e.charCodeAt(u + 1)) << 8 | (255 & e.charCodeAt(u + 2)) << 16 | (255 & e.charCodeAt(u + 3)) << 24], s = [255 & e.charCodeAt(u + 12) | (255 & e.charCodeAt(u + 13)) << 8 | (255 & e.charCodeAt(u + 14)) << 16 | (255 & e.charCodeAt(u + 15)) << 24, 255 & e.charCodeAt(u + 8) | (255 & e.charCodeAt(u + 9)) << 8 | (255 & e.charCodeAt(u + 10)) << 16 | (255 & e.charCodeAt(u + 11)) << 24], o = this.x64Multiply(o, l), o = this.x64Rotl(o, 31), o = this.x64Multiply(o, h), n = this.x64Xor(n, o), n = this.x64Rotl(n, 27), n = this.x64Add(n, r), n = this.x64Add(this.x64Multiply(n, [0, 5]), [0, 1390208809]), s = this.x64Multiply(s, h), s = this.x64Rotl(s, 33), s = this.x64Multiply(s, l), r = this.x64Xor(r, s), r = this.x64Rotl(r, 31), r = this.x64Add(r, n), r = this.x64Add(this.x64Multiply(r, [0, 5]), [0, 944331445]);
        switch (o = [0, 0], s = [0, 0], i) {
            case 15:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 14)], 48));
            case 14:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 13)], 40));
            case 13:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 12)], 32));
            case 12:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 11)], 24));
            case 11:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 10)], 16));
            case 10:
                s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(u + 9)], 8));
            case 9:
                s = this.x64Xor(s, [0, e.charCodeAt(u + 8)]), s = this.x64Multiply(s, h), s = this.x64Rotl(s, 33), s = this.x64Multiply(s, l), r = this.x64Xor(r, s);
            case 8:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 7)], 56));
            case 7:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 6)], 48));
            case 6:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 5)], 40));
            case 5:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 4)], 32));
            case 4:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 3)], 24));
            case 3:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 2)], 16));
            case 2:
                o = this.x64Xor(o, this.x64LeftShift([0, e.charCodeAt(u + 1)], 8));
            case 1:
                o = this.x64Xor(o, [0, e.charCodeAt(u)]), o = this.x64Multiply(o, l), o = this.x64Rotl(o, 31), o = this.x64Multiply(o, h), n = this.x64Xor(n, o)
        }
        return n = this.x64Xor(n, [0, e.length]), r = this.x64Xor(r, [0, e.length]), n = this.x64Add(n, r), r = this.x64Add(r, n), n = this.x64Fmix(n), r = this.x64Fmix(r), n = this.x64Add(n, r), r = this.x64Add(r, n), ("00000000" + (n[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (n[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (r[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (r[1] >>> 0).toString(16)).slice(-8)
    }
};
(function() {
    rfJzE(['dqjPs', 'dqjPu', 'dqjPv', 'dqjPw', 'dqjPx', 'dqjPy', 0], function() {
        window._ = tcHy.dqjPs;
        console.log(_);
        tcHy.dqjPs.escape = function(qfHz) {
            var ydIr = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#39;',
                '`': '&#96;'
            };
            return ydIr[qfHz];
        };
        rfJzE(['dqjPz', 'dqjOs', 'dqjOt', 'dqjOu', 1], function() {
            rfJzE(['dqjNs', 'dqjNu', 'dqjNv', 'dqjNw', 'dqjNx', 'dqjNy', 'dqjNz', 'dqjMq', 'dqjMr'], function() {
                rfJzE(['dqjLq'], function() {
                    rfJzE(['dqjLt', 'dqjLu'], function() {
                        rfJzE(['dqjLx', 'dqjJs', 'dqjJx', 'dqjIv', 'dqjIw', 'dqiOw', 'dqiNq', 'dqiNt', 'dqiNv', 'dqiNw', 'dqiNx', 'dqiNz', 'dqhHr', 'dqhHs', 'dqhHt', 'dqhHu', 'dqhHv'], function() {
                            var xejz = tcHy.dqjLx.ygiz.extend({
                                rhNr: function() {
                                    console.log('EntryPoint.init');
                                    this.ubLz = [];
                                    this.ubLz.push(tcHy.dqjJs);
                                    this.ubLz.push(tcHy.dqiNx);
                                    this.ubLz.push(tcHy.dqhHt);
                                    this.ubLz.push(tcHy.dqjJx);
                                    this.ubLz.push(tcHy.dqjIv);
                                    this.ubLz.push(tcHy.dqjIw);
                                    this.ubLz.push(tcHy.dqiNz);
                                    this.ubLz.push(tcHy.dqiOw);
                                    this.ubLz.push(tcHy.dqiNq);
                                    this.ubLz.push(tcHy.dqiNt);
                                    this.ubLz.push(tcHy.dqiNv);
                                    this.ubLz.push(tcHy.dqhHr);
                                    this.ubLz.push(tcHy.dqhHv);
                                    this.ubLz.push(tcHy.dqhHs);
                                    this.ubLz.push(tcHy.dqhHu);
                                    this.ubLz.push(tcHy.dqiNw);
                                    this.rjLzF();
                                },
                                rjLzF: function() {
                                    var tjJw = this.ubLz.shift();
                                    var vgJy = this.vgJt.riMtJ(tjJw);
                                    vgJy.rfIqC(this.rhLsK, this);
                                },
                                rhLsK: function() {
                                    console.log(' ...completed module.');
                                    if (this.ubLz.length > 0) {
                                        this.rjLzF();
                                    }
                                }
                            });
                            new xejz();
                        });
                    });
                });
            });
        });
    });
}());
scNt("dqhHw", function() {});